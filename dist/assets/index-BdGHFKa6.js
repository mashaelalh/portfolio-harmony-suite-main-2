var mie=Object.defineProperty;var Fj=t=>{throw TypeError(t)};var gie=(t,e,n)=>e in t?mie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Bj=(t,e,n)=>gie(t,typeof e!="symbol"?e+"":e,n),nk=(t,e,n)=>e.has(t)||Fj("Cannot "+n);var U=(t,e,n)=>(nk(t,e,"read from private field"),n?n.call(t):e.get(t)),Le=(t,e,n)=>e.has(t)?Fj("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),_e=(t,e,n,r)=>(nk(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),ht=(t,e,n)=>(nk(t,e,"access private method"),n);var J0=(t,e,n,r)=>({set _(i){_e(t,e,i,n)},get _(){return U(t,e,r)}});function vie(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Pn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function At(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function yie(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var u6={exports:{}},yS={},d6={exports:{}},ut={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n0=Symbol.for("react.element"),bie=Symbol.for("react.portal"),wie=Symbol.for("react.fragment"),xie=Symbol.for("react.strict_mode"),Sie=Symbol.for("react.profiler"),_ie=Symbol.for("react.provider"),Cie=Symbol.for("react.context"),kie=Symbol.for("react.forward_ref"),Pie=Symbol.for("react.suspense"),Eie=Symbol.for("react.memo"),Oie=Symbol.for("react.lazy"),Vj=Symbol.iterator;function Tie(t){return t===null||typeof t!="object"?null:(t=Vj&&t[Vj]||t["@@iterator"],typeof t=="function"?t:null)}var f6={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h6=Object.assign,p6={};function Yp(t,e,n){this.props=t,this.context=e,this.refs=p6,this.updater=n||f6}Yp.prototype.isReactComponent={};Yp.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Yp.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function m6(){}m6.prototype=Yp.prototype;function hN(t,e,n){this.props=t,this.context=e,this.refs=p6,this.updater=n||f6}var pN=hN.prototype=new m6;pN.constructor=hN;h6(pN,Yp.prototype);pN.isPureReactComponent=!0;var zj=Array.isArray,g6=Object.prototype.hasOwnProperty,mN={current:null},v6={key:!0,ref:!0,__self:!0,__source:!0};function y6(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)g6.call(e,r)&&!v6.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:n0,type:t,key:o,ref:s,props:i,_owner:mN.current}}function Aie(t,e){return{$$typeof:n0,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function gN(t){return typeof t=="object"&&t!==null&&t.$$typeof===n0}function Mie(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Uj=/\/+/g;function rk(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Mie(""+t.key):e.toString(36)}function cw(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case n0:case bie:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+rk(s,0):r,zj(i)?(n="",t!=null&&(n=t.replace(Uj,"$&/")+"/"),cw(i,e,n,"",function(c){return c})):i!=null&&(gN(i)&&(i=Aie(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Uj,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",zj(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+rk(o,a);s+=cw(o,e,n,l,i)}else if(l=Tie(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+rk(o,a++),s+=cw(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Q0(t,e,n){if(t==null)return t;var r=[],i=0;return cw(t,r,"","",function(o){return e.call(n,o,i++)}),r}function Nie(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ii={current:null},uw={transition:null},Die={ReactCurrentDispatcher:ii,ReactCurrentBatchConfig:uw,ReactCurrentOwner:mN};function b6(){throw Error("act(...) is not supported in production builds of React.")}ut.Children={map:Q0,forEach:function(t,e,n){Q0(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Q0(t,function(){e++}),e},toArray:function(t){return Q0(t,function(e){return e})||[]},only:function(t){if(!gN(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ut.Component=Yp;ut.Fragment=wie;ut.Profiler=Sie;ut.PureComponent=hN;ut.StrictMode=xie;ut.Suspense=Pie;ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Die;ut.act=b6;ut.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=h6({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=mN.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)g6.call(e,l)&&!v6.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:n0,type:t.type,key:i,ref:o,props:r,_owner:s}};ut.createContext=function(t){return t={$$typeof:Cie,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:_ie,_context:t},t.Consumer=t};ut.createElement=y6;ut.createFactory=function(t){var e=y6.bind(null,t);return e.type=t,e};ut.createRef=function(){return{current:null}};ut.forwardRef=function(t){return{$$typeof:kie,render:t}};ut.isValidElement=gN;ut.lazy=function(t){return{$$typeof:Oie,_payload:{_status:-1,_result:t},_init:Nie}};ut.memo=function(t,e){return{$$typeof:Eie,type:t,compare:e===void 0?null:e}};ut.startTransition=function(t){var e=uw.transition;uw.transition={};try{t()}finally{uw.transition=e}};ut.unstable_act=b6;ut.useCallback=function(t,e){return ii.current.useCallback(t,e)};ut.useContext=function(t){return ii.current.useContext(t)};ut.useDebugValue=function(){};ut.useDeferredValue=function(t){return ii.current.useDeferredValue(t)};ut.useEffect=function(t,e){return ii.current.useEffect(t,e)};ut.useId=function(){return ii.current.useId()};ut.useImperativeHandle=function(t,e,n){return ii.current.useImperativeHandle(t,e,n)};ut.useInsertionEffect=function(t,e){return ii.current.useInsertionEffect(t,e)};ut.useLayoutEffect=function(t,e){return ii.current.useLayoutEffect(t,e)};ut.useMemo=function(t,e){return ii.current.useMemo(t,e)};ut.useReducer=function(t,e,n){return ii.current.useReducer(t,e,n)};ut.useRef=function(t){return ii.current.useRef(t)};ut.useState=function(t){return ii.current.useState(t)};ut.useSyncExternalStore=function(t,e,n){return ii.current.useSyncExternalStore(t,e,n)};ut.useTransition=function(){return ii.current.useTransition()};ut.version="18.3.1";d6.exports=ut;var x=d6.exports;const A=At(x),zw=vie({__proto__:null,default:A},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rie=x,$ie=Symbol.for("react.element"),Iie=Symbol.for("react.fragment"),jie=Object.prototype.hasOwnProperty,Lie=Rie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Fie={key:!0,ref:!0,__self:!0,__source:!0};function w6(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)jie.call(e,r)&&!Fie.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:$ie,type:t,key:o,ref:s,props:i,_owner:Lie.current}}yS.Fragment=Iie;yS.jsx=w6;yS.jsxs=w6;u6.exports=yS;var O=u6.exports;function Bie(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function Vie(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var zie=function(){function t(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Vie(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=Bie(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Sr="-ms-",Uw="-moz-",Ct="-webkit-",x6="comm",vN="rule",yN="decl",Uie="@import",S6="@keyframes",Hie="@layer",Wie=Math.abs,bS=String.fromCharCode,qie=Object.assign;function Gie(t,e){return dr(t,0)^45?(((e<<2^dr(t,0))<<2^dr(t,1))<<2^dr(t,2))<<2^dr(t,3):0}function _6(t){return t.trim()}function Kie(t,e){return(t=e.exec(t))?t[0]:t}function kt(t,e,n){return t.replace(e,n)}function zE(t,e){return t.indexOf(e)}function dr(t,e){return t.charCodeAt(e)|0}function ov(t,e,n){return t.slice(e,n)}function Ts(t){return t.length}function bN(t){return t.length}function eb(t,e){return e.push(t),t}function Yie(t,e){return t.map(e).join("")}var wS=1,Uh=1,C6=0,Si=0,An=0,Xp="";function xS(t,e,n,r,i,o,s){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:wS,column:Uh,length:s,return:""}}function Am(t,e){return qie(xS("",null,null,"",null,null,0),t,{length:-t.length},e)}function Xie(){return An}function Zie(){return An=Si>0?dr(Xp,--Si):0,Uh--,An===10&&(Uh=1,wS--),An}function Vi(){return An=Si<C6?dr(Xp,Si++):0,Uh++,An===10&&(Uh=1,wS++),An}function zs(){return dr(Xp,Si)}function dw(){return Si}function r0(t,e){return ov(Xp,t,e)}function sv(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function k6(t){return wS=Uh=1,C6=Ts(Xp=t),Si=0,[]}function P6(t){return Xp="",t}function fw(t){return _6(r0(Si-1,UE(t===91?t+2:t===40?t+1:t)))}function Jie(t){for(;(An=zs())&&An<33;)Vi();return sv(t)>2||sv(An)>3?"":" "}function Qie(t,e){for(;--e&&Vi()&&!(An<48||An>102||An>57&&An<65||An>70&&An<97););return r0(t,dw()+(e<6&&zs()==32&&Vi()==32))}function UE(t){for(;Vi();)switch(An){case t:return Si;case 34:case 39:t!==34&&t!==39&&UE(An);break;case 40:t===41&&UE(t);break;case 92:Vi();break}return Si}function eoe(t,e){for(;Vi()&&t+An!==57;)if(t+An===84&&zs()===47)break;return"/*"+r0(e,Si-1)+"*"+bS(t===47?t:Vi())}function toe(t){for(;!sv(zs());)Vi();return r0(t,Si)}function noe(t){return P6(hw("",null,null,null,[""],t=k6(t),0,[0],t))}function hw(t,e,n,r,i,o,s,a,l){for(var c=0,u=0,d=s,f=0,h=0,m=0,p=1,g=1,b=1,y=0,w="",_=i,S=o,C=r,k=w;g;)switch(m=y,y=Vi()){case 40:if(m!=108&&dr(k,d-1)==58){zE(k+=kt(fw(y),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:k+=fw(y);break;case 9:case 10:case 13:case 32:k+=Jie(m);break;case 92:k+=Qie(dw()-1,7);continue;case 47:switch(zs()){case 42:case 47:eb(roe(eoe(Vi(),dw()),e,n),l);break;default:k+="/"}break;case 123*p:a[c++]=Ts(k)*b;case 125*p:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+u:b==-1&&(k=kt(k,/\f/g,"")),h>0&&Ts(k)-d&&eb(h>32?Wj(k+";",r,n,d-1):Wj(kt(k," ","")+";",r,n,d-2),l);break;case 59:k+=";";default:if(eb(C=Hj(k,e,n,c,u,i,a,w,_=[],S=[],d),o),y===123)if(u===0)hw(k,e,C,C,_,o,d,a,S);else switch(f===99&&dr(k,3)===110?100:f){case 100:case 108:case 109:case 115:hw(t,C,C,r&&eb(Hj(t,C,C,0,0,i,a,w,i,_=[],d),S),i,S,d,a,r?_:S);break;default:hw(k,C,C,C,[""],S,0,a,S)}}c=u=h=0,p=b=1,w=k="",d=s;break;case 58:d=1+Ts(k),h=m;default:if(p<1){if(y==123)--p;else if(y==125&&p++==0&&Zie()==125)continue}switch(k+=bS(y),y*p){case 38:b=u>0?1:(k+="\f",-1);break;case 44:a[c++]=(Ts(k)-1)*b,b=1;break;case 64:zs()===45&&(k+=fw(Vi())),f=zs(),u=d=Ts(w=k+=toe(dw())),y++;break;case 45:m===45&&Ts(k)==2&&(p=0)}}return o}function Hj(t,e,n,r,i,o,s,a,l,c,u){for(var d=i-1,f=i===0?o:[""],h=bN(f),m=0,p=0,g=0;m<r;++m)for(var b=0,y=ov(t,d+1,d=Wie(p=s[m])),w=t;b<h;++b)(w=_6(p>0?f[b]+" "+y:kt(y,/&\f/g,f[b])))&&(l[g++]=w);return xS(t,e,n,i===0?vN:a,l,c,u)}function roe(t,e,n){return xS(t,e,n,x6,bS(Xie()),ov(t,2,-2),0)}function Wj(t,e,n,r){return xS(t,e,n,yN,ov(t,0,r),ov(t,r+1,-1),r)}function ah(t,e){for(var n="",r=bN(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function ioe(t,e,n,r){switch(t.type){case Hie:if(t.children.length)break;case Uie:case yN:return t.return=t.return||t.value;case x6:return"";case S6:return t.return=t.value+"{"+ah(t.children,r)+"}";case vN:t.value=t.props.join(",")}return Ts(n=ah(t.children,r))?t.return=t.value+"{"+n+"}":""}function ooe(t){var e=bN(t);return function(n,r,i,o){for(var s="",a=0;a<e;a++)s+=t[a](n,r,i,o)||"";return s}}function soe(t){return function(e){e.root||(e=e.return)&&t(e)}}function aoe(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var loe=function(e,n,r){for(var i=0,o=0;i=o,o=zs(),i===38&&o===12&&(n[r]=1),!sv(o);)Vi();return r0(e,Si)},coe=function(e,n){var r=-1,i=44;do switch(sv(i)){case 0:i===38&&zs()===12&&(n[r]=1),e[r]+=loe(Si-1,n,r);break;case 2:e[r]+=fw(i);break;case 4:if(i===44){e[++r]=zs()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=bS(i)}while(i=Vi());return e},uoe=function(e,n){return P6(coe(k6(e),n))},qj=new WeakMap,doe=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!qj.get(r))&&!i){qj.set(e,!0);for(var o=[],s=uoe(n,o),a=r.props,l=0,c=0;l<s.length;l++)for(var u=0;u<a.length;u++,c++)e.props[c]=o[l]?s[l].replace(/&\f/g,a[u]):a[u]+" "+s[l]}}},foe=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function E6(t,e){switch(Gie(t,e)){case 5103:return Ct+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ct+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Ct+t+Uw+t+Sr+t+t;case 6828:case 4268:return Ct+t+Sr+t+t;case 6165:return Ct+t+Sr+"flex-"+t+t;case 5187:return Ct+t+kt(t,/(\w+).+(:[^]+)/,Ct+"box-$1$2"+Sr+"flex-$1$2")+t;case 5443:return Ct+t+Sr+"flex-item-"+kt(t,/flex-|-self/,"")+t;case 4675:return Ct+t+Sr+"flex-line-pack"+kt(t,/align-content|flex-|-self/,"")+t;case 5548:return Ct+t+Sr+kt(t,"shrink","negative")+t;case 5292:return Ct+t+Sr+kt(t,"basis","preferred-size")+t;case 6060:return Ct+"box-"+kt(t,"-grow","")+Ct+t+Sr+kt(t,"grow","positive")+t;case 4554:return Ct+kt(t,/([^-])(transform)/g,"$1"+Ct+"$2")+t;case 6187:return kt(kt(kt(t,/(zoom-|grab)/,Ct+"$1"),/(image-set)/,Ct+"$1"),t,"")+t;case 5495:case 3959:return kt(t,/(image-set\([^]*)/,Ct+"$1$`$1");case 4968:return kt(kt(t,/(.+:)(flex-)?(.*)/,Ct+"box-pack:$3"+Sr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ct+t+t;case 4095:case 3583:case 4068:case 2532:return kt(t,/(.+)-inline(.+)/,Ct+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ts(t)-1-e>6)switch(dr(t,e+1)){case 109:if(dr(t,e+4)!==45)break;case 102:return kt(t,/(.+:)(.+)-([^]+)/,"$1"+Ct+"$2-$3$1"+Uw+(dr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~zE(t,"stretch")?E6(kt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(dr(t,e+1)!==115)break;case 6444:switch(dr(t,Ts(t)-3-(~zE(t,"!important")&&10))){case 107:return kt(t,":",":"+Ct)+t;case 101:return kt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ct+(dr(t,14)===45?"inline-":"")+"box$3$1"+Ct+"$2$3$1"+Sr+"$2box$3")+t}break;case 5936:switch(dr(t,e+11)){case 114:return Ct+t+Sr+kt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Ct+t+Sr+kt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Ct+t+Sr+kt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Ct+t+Sr+t+t}return t}var hoe=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case yN:e.return=E6(e.value,e.length);break;case S6:return ah([Am(e,{value:kt(e.value,"@","@"+Ct)})],i);case vN:if(e.length)return Yie(e.props,function(o){switch(Kie(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ah([Am(e,{props:[kt(o,/:(read-\w+)/,":"+Uw+"$1")]})],i);case"::placeholder":return ah([Am(e,{props:[kt(o,/:(plac\w+)/,":"+Ct+"input-$1")]}),Am(e,{props:[kt(o,/:(plac\w+)/,":"+Uw+"$1")]}),Am(e,{props:[kt(o,/:(plac\w+)/,Sr+"input-$1")]})],i)}return""})}},poe=[hoe],moe=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(p){var g=p.getAttribute("data-emotion");g.indexOf(" ")!==-1&&(document.head.appendChild(p),p.setAttribute("data-s",""))})}var i=e.stylisPlugins||poe,o={},s,a=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(p){for(var g=p.getAttribute("data-emotion").split(" "),b=1;b<g.length;b++)o[g[b]]=!0;a.push(p)});var l,c=[doe,foe];{var u,d=[ioe,soe(function(p){u.insert(p)})],f=ooe(c.concat(i,d)),h=function(g){return ah(noe(g),f)};l=function(g,b,y,w){u=y,h(g?g+"{"+b.styles+"}":b.styles),w&&(m.inserted[b.name]=!0)}}var m={key:n,sheet:new zie({key:n,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:l};return m.sheet.hydrate(a),m},O6={exports:{}},$t={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tr=typeof Symbol=="function"&&Symbol.for,wN=tr?Symbol.for("react.element"):60103,xN=tr?Symbol.for("react.portal"):60106,SS=tr?Symbol.for("react.fragment"):60107,_S=tr?Symbol.for("react.strict_mode"):60108,CS=tr?Symbol.for("react.profiler"):60114,kS=tr?Symbol.for("react.provider"):60109,PS=tr?Symbol.for("react.context"):60110,SN=tr?Symbol.for("react.async_mode"):60111,ES=tr?Symbol.for("react.concurrent_mode"):60111,OS=tr?Symbol.for("react.forward_ref"):60112,TS=tr?Symbol.for("react.suspense"):60113,goe=tr?Symbol.for("react.suspense_list"):60120,AS=tr?Symbol.for("react.memo"):60115,MS=tr?Symbol.for("react.lazy"):60116,voe=tr?Symbol.for("react.block"):60121,yoe=tr?Symbol.for("react.fundamental"):60117,boe=tr?Symbol.for("react.responder"):60118,woe=tr?Symbol.for("react.scope"):60119;function eo(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case wN:switch(t=t.type,t){case SN:case ES:case SS:case CS:case _S:case TS:return t;default:switch(t=t&&t.$$typeof,t){case PS:case OS:case MS:case AS:case kS:return t;default:return e}}case xN:return e}}}function T6(t){return eo(t)===ES}$t.AsyncMode=SN;$t.ConcurrentMode=ES;$t.ContextConsumer=PS;$t.ContextProvider=kS;$t.Element=wN;$t.ForwardRef=OS;$t.Fragment=SS;$t.Lazy=MS;$t.Memo=AS;$t.Portal=xN;$t.Profiler=CS;$t.StrictMode=_S;$t.Suspense=TS;$t.isAsyncMode=function(t){return T6(t)||eo(t)===SN};$t.isConcurrentMode=T6;$t.isContextConsumer=function(t){return eo(t)===PS};$t.isContextProvider=function(t){return eo(t)===kS};$t.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===wN};$t.isForwardRef=function(t){return eo(t)===OS};$t.isFragment=function(t){return eo(t)===SS};$t.isLazy=function(t){return eo(t)===MS};$t.isMemo=function(t){return eo(t)===AS};$t.isPortal=function(t){return eo(t)===xN};$t.isProfiler=function(t){return eo(t)===CS};$t.isStrictMode=function(t){return eo(t)===_S};$t.isSuspense=function(t){return eo(t)===TS};$t.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===SS||t===ES||t===CS||t===_S||t===TS||t===goe||typeof t=="object"&&t!==null&&(t.$$typeof===MS||t.$$typeof===AS||t.$$typeof===kS||t.$$typeof===PS||t.$$typeof===OS||t.$$typeof===yoe||t.$$typeof===boe||t.$$typeof===woe||t.$$typeof===voe)};$t.typeOf=eo;O6.exports=$t;var xoe=O6.exports,A6=xoe,Soe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},_oe={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},M6={};M6[A6.ForwardRef]=Soe;M6[A6.Memo]=_oe;var Coe=!0;function koe(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var N6=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||Coe===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},Poe=function(e,n,r){N6(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var o=n;do e.insert(n===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function Eoe(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Ooe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Toe=/[A-Z]|^ms/g,Aoe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,D6=function(e){return e.charCodeAt(1)===45},Gj=function(e){return e!=null&&typeof e!="boolean"},ik=aoe(function(t){return D6(t)?t:t.replace(Toe,"-$&").toLowerCase()}),Kj=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(Aoe,function(r,i,o){return As={name:i,styles:o,next:As},i})}return Ooe[e]!==1&&!D6(e)&&typeof n=="number"&&n!==0?n+"px":n};function av(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return As={name:i.name,styles:i.styles,next:As},i.name;var o=n;if(o.styles!==void 0){var s=o.next;if(s!==void 0)for(;s!==void 0;)As={name:s.name,styles:s.styles,next:As},s=s.next;var a=o.styles+";";return a}return Moe(t,e,n)}case"function":{if(t!==void 0){var l=As,c=n(t);return As=l,av(t,e,c)}break}}var u=n;return u}function Moe(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=av(t,e,n[i])+";";else for(var o in n){var s=n[o];if(typeof s!="object"){var a=s;Gj(a)&&(r+=ik(o)+":"+Kj(o,a)+";")}else if(Array.isArray(s)&&typeof s[0]=="string"&&e==null)for(var l=0;l<s.length;l++)Gj(s[l])&&(r+=ik(o)+":"+Kj(o,s[l])+";");else{var c=av(t,e,s);switch(o){case"animation":case"animationName":{r+=ik(o)+":"+c+";";break}default:r+=o+"{"+c+"}"}}}return r}var Yj=/label:\s*([^\s;{]+)\s*(;|$)/g,As;function Noe(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";As=void 0;var o=t[0];if(o==null||o.raw===void 0)r=!1,i+=av(n,e,o);else{var s=o;i+=s[0]}for(var a=1;a<t.length;a++)if(i+=av(n,e,t[a]),r){var l=o;i+=l[a]}Yj.lastIndex=0;for(var c="",u;(u=Yj.exec(i))!==null;)c+="-"+u[1];var d=Eoe(i)+c;return{name:d,styles:i,next:As}}var Doe=function(e){return e()},Roe=zw.useInsertionEffect?zw.useInsertionEffect:!1,$oe=Roe||Doe,R6=x.createContext(typeof HTMLElement<"u"?moe({key:"css"}):null);R6.Provider;var Ioe=function(e){return x.forwardRef(function(n,r){var i=x.useContext(R6);return e(n,i,r)})},joe=x.createContext({}),NS={}.hasOwnProperty,HE="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",$6=function(e,n){var r={};for(var i in n)NS.call(n,i)&&(r[i]=n[i]);return r[HE]=e,r},Loe=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return N6(n,r,i),$oe(function(){return Poe(n,r,i)}),null},Foe=Ioe(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[HE],o=[r],s="";typeof t.className=="string"?s=koe(e.registered,o,t.className):t.className!=null&&(s=t.className+" ");var a=Noe(o,void 0,x.useContext(joe));s+=e.key+"-"+a.name;var l={};for(var c in t)NS.call(t,c)&&c!=="css"&&c!==HE&&(l[c]=t[c]);return l.className=s,n&&(l.ref=n),x.createElement(x.Fragment,null,x.createElement(Loe,{cache:e,serialized:a,isStringTag:typeof i=="string"}),x.createElement(i,l))}),I6=Foe,ts=O.Fragment,v=function(e,n,r){return NS.call(n,"css")?O.jsx(I6,$6(e,n),r):O.jsx(e,n,r)},P=function(e,n,r){return NS.call(n,"css")?O.jsxs(I6,$6(e,n),r):O.jsxs(e,n,r)},j6={exports:{}},to={},L6={exports:{}},F6={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,$){var H=R.length;R.push($);e:for(;0<H;){var Y=H-1>>>1,F=R[Y];if(0<i(F,$))R[Y]=$,R[H]=F,H=Y;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var $=R[0],H=R.pop();if(H!==$){R[0]=H;e:for(var Y=0,F=R.length,G=F>>>1;Y<G;){var ee=2*(Y+1)-1,te=R[ee],me=ee+1,Q=R[me];if(0>i(te,H))me<F&&0>i(Q,te)?(R[Y]=Q,R[me]=H,Y=me):(R[Y]=te,R[ee]=H,Y=ee);else if(me<F&&0>i(Q,H))R[Y]=Q,R[me]=H,Y=me;else break e}}return $}function i(R,$){var H=R.sortIndex-$.sortIndex;return H!==0?H:R.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,d=null,f=3,h=!1,m=!1,p=!1,g=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(R){for(var $=n(c);$!==null;){if($.callback===null)r(c);else if($.startTime<=R)r(c),$.sortIndex=$.expirationTime,e(l,$);else break;$=n(c)}}function _(R){if(p=!1,w(R),!m)if(n(l)!==null)m=!0,V(S);else{var $=n(c);$!==null&&j(_,$.startTime-R)}}function S(R,$){m=!1,p&&(p=!1,b(E),E=-1),h=!0;var H=f;try{for(w($),d=n(l);d!==null&&(!(d.expirationTime>$)||R&&!D());){var Y=d.callback;if(typeof Y=="function"){d.callback=null,f=d.priorityLevel;var F=Y(d.expirationTime<=$);$=t.unstable_now(),typeof F=="function"?d.callback=F:d===n(l)&&r(l),w($)}else r(l);d=n(l)}if(d!==null)var G=!0;else{var ee=n(c);ee!==null&&j(_,ee.startTime-$),G=!1}return G}finally{d=null,f=H,h=!1}}var C=!1,k=null,E=-1,T=5,M=-1;function D(){return!(t.unstable_now()-M<T)}function N(){if(k!==null){var R=t.unstable_now();M=R;var $=!0;try{$=k(!0,R)}finally{$?L():(C=!1,k=null)}}else C=!1}var L;if(typeof y=="function")L=function(){y(N)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,z=I.port2;I.port1.onmessage=N,L=function(){z.postMessage(null)}}else L=function(){g(N,0)};function V(R){k=R,C||(C=!0,L())}function j(R,$){E=g(function(){R(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,V(S))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(R){switch(f){case 1:case 2:case 3:var $=3;break;default:$=f}var H=f;f=$;try{return R()}finally{f=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,$){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var H=f;f=R;try{return $()}finally{f=H}},t.unstable_scheduleCallback=function(R,$,H){var Y=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?Y+H:Y):H=Y,R){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=H+F,R={id:u++,callback:$,priorityLevel:R,startTime:H,expirationTime:F,sortIndex:-1},H>Y?(R.sortIndex=H,e(c,R),n(l)===null&&R===n(c)&&(p?(b(E),E=-1):p=!0,j(_,H-Y))):(R.sortIndex=F,e(l,R),m||h||(m=!0,V(S))),R},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(R){var $=f;return function(){var H=f;f=$;try{return R.apply(this,arguments)}finally{f=H}}}})(F6);L6.exports=F6;var Boe=L6.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Voe=x,Xi=Boe;function oe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var B6=new Set,lv={};function Kd(t,e){Hh(t,e),Hh(t+"Capture",e)}function Hh(t,e){for(lv[t]=e,t=0;t<e.length;t++)B6.add(e[t])}var Qa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),WE=Object.prototype.hasOwnProperty,zoe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xj={},Zj={};function Uoe(t){return WE.call(Zj,t)?!0:WE.call(Xj,t)?!1:zoe.test(t)?Zj[t]=!0:(Xj[t]=!0,!1)}function Hoe(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Woe(t,e,n,r){if(e===null||typeof e>"u"||Hoe(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function oi(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var gr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){gr[t]=new oi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];gr[e]=new oi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){gr[t]=new oi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){gr[t]=new oi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){gr[t]=new oi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){gr[t]=new oi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){gr[t]=new oi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){gr[t]=new oi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){gr[t]=new oi(t,5,!1,t.toLowerCase(),null,!1,!1)});var _N=/[\-:]([a-z])/g;function CN(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(_N,CN);gr[e]=new oi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(_N,CN);gr[e]=new oi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(_N,CN);gr[e]=new oi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){gr[t]=new oi(t,1,!1,t.toLowerCase(),null,!1,!1)});gr.xlinkHref=new oi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){gr[t]=new oi(t,1,!1,t.toLowerCase(),null,!0,!0)});function kN(t,e,n,r){var i=gr.hasOwnProperty(e)?gr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Woe(e,n,i,r)&&(n=null),r||i===null?Uoe(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var pl=Voe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,tb=Symbol.for("react.element"),If=Symbol.for("react.portal"),jf=Symbol.for("react.fragment"),PN=Symbol.for("react.strict_mode"),qE=Symbol.for("react.profiler"),V6=Symbol.for("react.provider"),z6=Symbol.for("react.context"),EN=Symbol.for("react.forward_ref"),GE=Symbol.for("react.suspense"),KE=Symbol.for("react.suspense_list"),ON=Symbol.for("react.memo"),Vl=Symbol.for("react.lazy"),U6=Symbol.for("react.offscreen"),Jj=Symbol.iterator;function Mm(t){return t===null||typeof t!="object"?null:(t=Jj&&t[Jj]||t["@@iterator"],typeof t=="function"?t:null)}var gn=Object.assign,ok;function ag(t){if(ok===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ok=e&&e[1]||""}return`
`+ok+t}var sk=!1;function ak(t,e){if(!t||sk)return"";sk=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{sk=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ag(t):""}function qoe(t){switch(t.tag){case 5:return ag(t.type);case 16:return ag("Lazy");case 13:return ag("Suspense");case 19:return ag("SuspenseList");case 0:case 2:case 15:return t=ak(t.type,!1),t;case 11:return t=ak(t.type.render,!1),t;case 1:return t=ak(t.type,!0),t;default:return""}}function YE(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case jf:return"Fragment";case If:return"Portal";case qE:return"Profiler";case PN:return"StrictMode";case GE:return"Suspense";case KE:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case z6:return(t.displayName||"Context")+".Consumer";case V6:return(t._context.displayName||"Context")+".Provider";case EN:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ON:return e=t.displayName||null,e!==null?e:YE(t.type)||"Memo";case Vl:e=t._payload,t=t._init;try{return YE(t(e))}catch{}}return null}function Goe(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return YE(e);case 8:return e===PN?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function $c(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function H6(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Koe(t){var e=H6(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function nb(t){t._valueTracker||(t._valueTracker=Koe(t))}function W6(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=H6(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Hw(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function XE(t,e){var n=e.checked;return gn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Qj(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=$c(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function q6(t,e){e=e.checked,e!=null&&kN(t,"checked",e,!1)}function ZE(t,e){q6(t,e);var n=$c(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?JE(t,e.type,n):e.hasOwnProperty("defaultValue")&&JE(t,e.type,$c(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function e2(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function JE(t,e,n){(e!=="number"||Hw(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var lg=Array.isArray;function lh(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+$c(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function QE(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(oe(91));return gn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function t2(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(oe(92));if(lg(n)){if(1<n.length)throw Error(oe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:$c(n)}}function G6(t,e){var n=$c(e.value),r=$c(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function n2(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function K6(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function eO(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?K6(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var rb,Y6=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(rb=rb||document.createElement("div"),rb.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=rb.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function cv(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Pg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Yoe=["Webkit","ms","Moz","O"];Object.keys(Pg).forEach(function(t){Yoe.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Pg[e]=Pg[t]})});function X6(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Pg.hasOwnProperty(t)&&Pg[t]?(""+e).trim():e+"px"}function Z6(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=X6(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Xoe=gn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tO(t,e){if(e){if(Xoe[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(oe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(oe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(oe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(oe(62))}}function nO(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rO=null;function TN(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var iO=null,ch=null,uh=null;function r2(t){if(t=s0(t)){if(typeof iO!="function")throw Error(oe(280));var e=t.stateNode;e&&(e=jS(e),iO(t.stateNode,t.type,e))}}function J6(t){ch?uh?uh.push(t):uh=[t]:ch=t}function Q6(){if(ch){var t=ch,e=uh;if(uh=ch=null,r2(t),e)for(t=0;t<e.length;t++)r2(e[t])}}function eH(t,e){return t(e)}function tH(){}var lk=!1;function nH(t,e,n){if(lk)return t(e,n);lk=!0;try{return eH(t,e,n)}finally{lk=!1,(ch!==null||uh!==null)&&(tH(),Q6())}}function uv(t,e){var n=t.stateNode;if(n===null)return null;var r=jS(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(oe(231,e,typeof n));return n}var oO=!1;if(Qa)try{var Nm={};Object.defineProperty(Nm,"passive",{get:function(){oO=!0}}),window.addEventListener("test",Nm,Nm),window.removeEventListener("test",Nm,Nm)}catch{oO=!1}function Zoe(t,e,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Eg=!1,Ww=null,qw=!1,sO=null,Joe={onError:function(t){Eg=!0,Ww=t}};function Qoe(t,e,n,r,i,o,s,a,l){Eg=!1,Ww=null,Zoe.apply(Joe,arguments)}function ese(t,e,n,r,i,o,s,a,l){if(Qoe.apply(this,arguments),Eg){if(Eg){var c=Ww;Eg=!1,Ww=null}else throw Error(oe(198));qw||(qw=!0,sO=c)}}function Yd(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function rH(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function i2(t){if(Yd(t)!==t)throw Error(oe(188))}function tse(t){var e=t.alternate;if(!e){if(e=Yd(t),e===null)throw Error(oe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return i2(i),t;if(o===r)return i2(i),e;o=o.sibling}throw Error(oe(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(oe(189))}}if(n.alternate!==r)throw Error(oe(190))}if(n.tag!==3)throw Error(oe(188));return n.stateNode.current===n?t:e}function iH(t){return t=tse(t),t!==null?oH(t):null}function oH(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=oH(t);if(e!==null)return e;t=t.sibling}return null}var sH=Xi.unstable_scheduleCallback,o2=Xi.unstable_cancelCallback,nse=Xi.unstable_shouldYield,rse=Xi.unstable_requestPaint,Cn=Xi.unstable_now,ise=Xi.unstable_getCurrentPriorityLevel,AN=Xi.unstable_ImmediatePriority,aH=Xi.unstable_UserBlockingPriority,Gw=Xi.unstable_NormalPriority,ose=Xi.unstable_LowPriority,lH=Xi.unstable_IdlePriority,DS=null,Us=null;function sse(t){if(Us&&typeof Us.onCommitFiberRoot=="function")try{Us.onCommitFiberRoot(DS,t,void 0,(t.current.flags&128)===128)}catch{}}var rs=Math.clz32?Math.clz32:cse,ase=Math.log,lse=Math.LN2;function cse(t){return t>>>=0,t===0?32:31-(ase(t)/lse|0)|0}var ib=64,ob=4194304;function cg(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Kw(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=cg(a):(o&=s,o!==0&&(r=cg(o)))}else s=n&~i,s!==0?r=cg(s):o!==0&&(r=cg(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-rs(e),i=1<<n,r|=t[n],e&=~i;return r}function use(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dse(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-rs(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=use(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function aO(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function cH(){var t=ib;return ib<<=1,!(ib&4194240)&&(ib=64),t}function ck(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function i0(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-rs(e),t[e]=n}function fse(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-rs(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function MN(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-rs(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Rt=0;function uH(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var dH,NN,fH,hH,pH,lO=!1,sb=[],vc=null,yc=null,bc=null,dv=new Map,fv=new Map,Gl=[],hse="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function s2(t,e){switch(t){case"focusin":case"focusout":vc=null;break;case"dragenter":case"dragleave":yc=null;break;case"mouseover":case"mouseout":bc=null;break;case"pointerover":case"pointerout":dv.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":fv.delete(e.pointerId)}}function Dm(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=s0(e),e!==null&&NN(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function pse(t,e,n,r,i){switch(e){case"focusin":return vc=Dm(vc,t,e,n,r,i),!0;case"dragenter":return yc=Dm(yc,t,e,n,r,i),!0;case"mouseover":return bc=Dm(bc,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return dv.set(o,Dm(dv.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,fv.set(o,Dm(fv.get(o)||null,t,e,n,r,i)),!0}return!1}function mH(t){var e=Lu(t.target);if(e!==null){var n=Yd(e);if(n!==null){if(e=n.tag,e===13){if(e=rH(n),e!==null){t.blockedOn=e,pH(t.priority,function(){fH(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function pw(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=cO(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);rO=r,n.target.dispatchEvent(r),rO=null}else return e=s0(n),e!==null&&NN(e),t.blockedOn=n,!1;e.shift()}return!0}function a2(t,e,n){pw(t)&&n.delete(e)}function mse(){lO=!1,vc!==null&&pw(vc)&&(vc=null),yc!==null&&pw(yc)&&(yc=null),bc!==null&&pw(bc)&&(bc=null),dv.forEach(a2),fv.forEach(a2)}function Rm(t,e){t.blockedOn===e&&(t.blockedOn=null,lO||(lO=!0,Xi.unstable_scheduleCallback(Xi.unstable_NormalPriority,mse)))}function hv(t){function e(i){return Rm(i,t)}if(0<sb.length){Rm(sb[0],t);for(var n=1;n<sb.length;n++){var r=sb[n];r.blockedOn===t&&(r.blockedOn=null)}}for(vc!==null&&Rm(vc,t),yc!==null&&Rm(yc,t),bc!==null&&Rm(bc,t),dv.forEach(e),fv.forEach(e),n=0;n<Gl.length;n++)r=Gl[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Gl.length&&(n=Gl[0],n.blockedOn===null);)mH(n),n.blockedOn===null&&Gl.shift()}var dh=pl.ReactCurrentBatchConfig,Yw=!0;function gse(t,e,n,r){var i=Rt,o=dh.transition;dh.transition=null;try{Rt=1,DN(t,e,n,r)}finally{Rt=i,dh.transition=o}}function vse(t,e,n,r){var i=Rt,o=dh.transition;dh.transition=null;try{Rt=4,DN(t,e,n,r)}finally{Rt=i,dh.transition=o}}function DN(t,e,n,r){if(Yw){var i=cO(t,e,n,r);if(i===null)bk(t,e,r,Xw,n),s2(t,r);else if(pse(i,t,e,n,r))r.stopPropagation();else if(s2(t,r),e&4&&-1<hse.indexOf(t)){for(;i!==null;){var o=s0(i);if(o!==null&&dH(o),o=cO(t,e,n,r),o===null&&bk(t,e,r,Xw,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else bk(t,e,r,null,n)}}var Xw=null;function cO(t,e,n,r){if(Xw=null,t=TN(r),t=Lu(t),t!==null)if(e=Yd(t),e===null)t=null;else if(n=e.tag,n===13){if(t=rH(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Xw=t,null}function gH(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ise()){case AN:return 1;case aH:return 4;case Gw:case ose:return 16;case lH:return 536870912;default:return 16}default:return 16}}var ac=null,RN=null,mw=null;function vH(){if(mw)return mw;var t,e=RN,n=e.length,r,i="value"in ac?ac.value:ac.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return mw=i.slice(t,1<r?1-r:void 0)}function gw(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ab(){return!0}function l2(){return!1}function no(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ab:l2,this.isPropagationStopped=l2,this}return gn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ab)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ab)},persist:function(){},isPersistent:ab}),e}var Zp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$N=no(Zp),o0=gn({},Zp,{view:0,detail:0}),yse=no(o0),uk,dk,$m,RS=gn({},o0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:IN,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$m&&($m&&t.type==="mousemove"?(uk=t.screenX-$m.screenX,dk=t.screenY-$m.screenY):dk=uk=0,$m=t),uk)},movementY:function(t){return"movementY"in t?t.movementY:dk}}),c2=no(RS),bse=gn({},RS,{dataTransfer:0}),wse=no(bse),xse=gn({},o0,{relatedTarget:0}),fk=no(xse),Sse=gn({},Zp,{animationName:0,elapsedTime:0,pseudoElement:0}),_se=no(Sse),Cse=gn({},Zp,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),kse=no(Cse),Pse=gn({},Zp,{data:0}),u2=no(Pse),Ese={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ose={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tse={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ase(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Tse[t])?!!e[t]:!1}function IN(){return Ase}var Mse=gn({},o0,{key:function(t){if(t.key){var e=Ese[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=gw(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ose[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:IN,charCode:function(t){return t.type==="keypress"?gw(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?gw(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Nse=no(Mse),Dse=gn({},RS,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),d2=no(Dse),Rse=gn({},o0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:IN}),$se=no(Rse),Ise=gn({},Zp,{propertyName:0,elapsedTime:0,pseudoElement:0}),jse=no(Ise),Lse=gn({},RS,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Fse=no(Lse),Bse=[9,13,27,32],jN=Qa&&"CompositionEvent"in window,Og=null;Qa&&"documentMode"in document&&(Og=document.documentMode);var Vse=Qa&&"TextEvent"in window&&!Og,yH=Qa&&(!jN||Og&&8<Og&&11>=Og),f2=" ",h2=!1;function bH(t,e){switch(t){case"keyup":return Bse.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wH(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Lf=!1;function zse(t,e){switch(t){case"compositionend":return wH(e);case"keypress":return e.which!==32?null:(h2=!0,f2);case"textInput":return t=e.data,t===f2&&h2?null:t;default:return null}}function Use(t,e){if(Lf)return t==="compositionend"||!jN&&bH(t,e)?(t=vH(),mw=RN=ac=null,Lf=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return yH&&e.locale!=="ko"?null:e.data;default:return null}}var Hse={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function p2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Hse[t.type]:e==="textarea"}function xH(t,e,n,r){J6(r),e=Zw(e,"onChange"),0<e.length&&(n=new $N("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Tg=null,pv=null;function Wse(t){NH(t,0)}function $S(t){var e=Vf(t);if(W6(e))return t}function qse(t,e){if(t==="change")return e}var SH=!1;if(Qa){var hk;if(Qa){var pk="oninput"in document;if(!pk){var m2=document.createElement("div");m2.setAttribute("oninput","return;"),pk=typeof m2.oninput=="function"}hk=pk}else hk=!1;SH=hk&&(!document.documentMode||9<document.documentMode)}function g2(){Tg&&(Tg.detachEvent("onpropertychange",_H),pv=Tg=null)}function _H(t){if(t.propertyName==="value"&&$S(pv)){var e=[];xH(e,pv,t,TN(t)),nH(Wse,e)}}function Gse(t,e,n){t==="focusin"?(g2(),Tg=e,pv=n,Tg.attachEvent("onpropertychange",_H)):t==="focusout"&&g2()}function Kse(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $S(pv)}function Yse(t,e){if(t==="click")return $S(e)}function Xse(t,e){if(t==="input"||t==="change")return $S(e)}function Zse(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var cs=typeof Object.is=="function"?Object.is:Zse;function mv(t,e){if(cs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!WE.call(e,i)||!cs(t[i],e[i]))return!1}return!0}function v2(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function y2(t,e){var n=v2(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=v2(n)}}function CH(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?CH(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function kH(){for(var t=window,e=Hw();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Hw(t.document)}return e}function LN(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Jse(t){var e=kH(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&CH(n.ownerDocument.documentElement,n)){if(r!==null&&LN(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=y2(n,o);var s=y2(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Qse=Qa&&"documentMode"in document&&11>=document.documentMode,Ff=null,uO=null,Ag=null,dO=!1;function b2(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;dO||Ff==null||Ff!==Hw(r)||(r=Ff,"selectionStart"in r&&LN(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ag&&mv(Ag,r)||(Ag=r,r=Zw(uO,"onSelect"),0<r.length&&(e=new $N("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ff)))}function lb(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Bf={animationend:lb("Animation","AnimationEnd"),animationiteration:lb("Animation","AnimationIteration"),animationstart:lb("Animation","AnimationStart"),transitionend:lb("Transition","TransitionEnd")},mk={},PH={};Qa&&(PH=document.createElement("div").style,"AnimationEvent"in window||(delete Bf.animationend.animation,delete Bf.animationiteration.animation,delete Bf.animationstart.animation),"TransitionEvent"in window||delete Bf.transitionend.transition);function IS(t){if(mk[t])return mk[t];if(!Bf[t])return t;var e=Bf[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in PH)return mk[t]=e[n];return t}var EH=IS("animationend"),OH=IS("animationiteration"),TH=IS("animationstart"),AH=IS("transitionend"),MH=new Map,w2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qc(t,e){MH.set(t,e),Kd(e,[t])}for(var gk=0;gk<w2.length;gk++){var vk=w2[gk],eae=vk.toLowerCase(),tae=vk[0].toUpperCase()+vk.slice(1);Qc(eae,"on"+tae)}Qc(EH,"onAnimationEnd");Qc(OH,"onAnimationIteration");Qc(TH,"onAnimationStart");Qc("dblclick","onDoubleClick");Qc("focusin","onFocus");Qc("focusout","onBlur");Qc(AH,"onTransitionEnd");Hh("onMouseEnter",["mouseout","mouseover"]);Hh("onMouseLeave",["mouseout","mouseover"]);Hh("onPointerEnter",["pointerout","pointerover"]);Hh("onPointerLeave",["pointerout","pointerover"]);Kd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Kd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Kd("onBeforeInput",["compositionend","keypress","textInput","paste"]);Kd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Kd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Kd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ug="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nae=new Set("cancel close invalid load scroll toggle".split(" ").concat(ug));function x2(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ese(r,e,void 0,t),t.currentTarget=null}function NH(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;x2(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;x2(i,a,c),o=l}}}if(qw)throw t=sO,qw=!1,sO=null,t}function en(t,e){var n=e[gO];n===void 0&&(n=e[gO]=new Set);var r=t+"__bubble";n.has(r)||(DH(e,t,2,!1),n.add(r))}function yk(t,e,n){var r=0;e&&(r|=4),DH(n,t,r,e)}var cb="_reactListening"+Math.random().toString(36).slice(2);function gv(t){if(!t[cb]){t[cb]=!0,B6.forEach(function(n){n!=="selectionchange"&&(nae.has(n)||yk(n,!1,t),yk(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[cb]||(e[cb]=!0,yk("selectionchange",!1,e))}}function DH(t,e,n,r){switch(gH(e)){case 1:var i=gse;break;case 4:i=vse;break;default:i=DN}n=i.bind(null,e,n,t),i=void 0,!oO||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function bk(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Lu(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}nH(function(){var c=o,u=TN(n),d=[];e:{var f=MH.get(t);if(f!==void 0){var h=$N,m=t;switch(t){case"keypress":if(gw(n)===0)break e;case"keydown":case"keyup":h=Nse;break;case"focusin":m="focus",h=fk;break;case"focusout":m="blur",h=fk;break;case"beforeblur":case"afterblur":h=fk;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=c2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=wse;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=$se;break;case EH:case OH:case TH:h=_se;break;case AH:h=jse;break;case"scroll":h=yse;break;case"wheel":h=Fse;break;case"copy":case"cut":case"paste":h=kse;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=d2}var p=(e&4)!==0,g=!p&&t==="scroll",b=p?f!==null?f+"Capture":null:f;p=[];for(var y=c,w;y!==null;){w=y;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,b!==null&&(_=uv(y,b),_!=null&&p.push(vv(y,_,w)))),g)break;y=y.return}0<p.length&&(f=new h(f,m,null,n,u),d.push({event:f,listeners:p}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&n!==rO&&(m=n.relatedTarget||n.fromElement)&&(Lu(m)||m[el]))break e;if((h||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,h?(m=n.relatedTarget||n.toElement,h=c,m=m?Lu(m):null,m!==null&&(g=Yd(m),m!==g||m.tag!==5&&m.tag!==6)&&(m=null)):(h=null,m=c),h!==m)){if(p=c2,_="onMouseLeave",b="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(p=d2,_="onPointerLeave",b="onPointerEnter",y="pointer"),g=h==null?f:Vf(h),w=m==null?f:Vf(m),f=new p(_,y+"leave",h,n,u),f.target=g,f.relatedTarget=w,_=null,Lu(u)===c&&(p=new p(b,y+"enter",m,n,u),p.target=w,p.relatedTarget=g,_=p),g=_,h&&m)t:{for(p=h,b=m,y=0,w=p;w;w=df(w))y++;for(w=0,_=b;_;_=df(_))w++;for(;0<y-w;)p=df(p),y--;for(;0<w-y;)b=df(b),w--;for(;y--;){if(p===b||b!==null&&p===b.alternate)break t;p=df(p),b=df(b)}p=null}else p=null;h!==null&&S2(d,f,h,p,!1),m!==null&&g!==null&&S2(d,g,m,p,!0)}}e:{if(f=c?Vf(c):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var S=qse;else if(p2(f))if(SH)S=Xse;else{S=Kse;var C=Gse}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=Yse);if(S&&(S=S(t,c))){xH(d,S,n,u);break e}C&&C(t,f,c),t==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&JE(f,"number",f.value)}switch(C=c?Vf(c):window,t){case"focusin":(p2(C)||C.contentEditable==="true")&&(Ff=C,uO=c,Ag=null);break;case"focusout":Ag=uO=Ff=null;break;case"mousedown":dO=!0;break;case"contextmenu":case"mouseup":case"dragend":dO=!1,b2(d,n,u);break;case"selectionchange":if(Qse)break;case"keydown":case"keyup":b2(d,n,u)}var k;if(jN)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Lf?bH(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(yH&&n.locale!=="ko"&&(Lf||E!=="onCompositionStart"?E==="onCompositionEnd"&&Lf&&(k=vH()):(ac=u,RN="value"in ac?ac.value:ac.textContent,Lf=!0)),C=Zw(c,E),0<C.length&&(E=new u2(E,t,null,n,u),d.push({event:E,listeners:C}),k?E.data=k:(k=wH(n),k!==null&&(E.data=k)))),(k=Vse?zse(t,n):Use(t,n))&&(c=Zw(c,"onBeforeInput"),0<c.length&&(u=new u2("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=k))}NH(d,e)})}function vv(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Zw(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=uv(t,n),o!=null&&r.unshift(vv(t,o,i)),o=uv(t,e),o!=null&&r.push(vv(t,o,i))),t=t.return}return r}function df(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function S2(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=uv(n,o),l!=null&&s.unshift(vv(n,l,a))):i||(l=uv(n,o),l!=null&&s.push(vv(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var rae=/\r\n?/g,iae=/\u0000|\uFFFD/g;function _2(t){return(typeof t=="string"?t:""+t).replace(rae,`
`).replace(iae,"")}function ub(t,e,n){if(e=_2(e),_2(t)!==e&&n)throw Error(oe(425))}function Jw(){}var fO=null,hO=null;function pO(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var mO=typeof setTimeout=="function"?setTimeout:void 0,oae=typeof clearTimeout=="function"?clearTimeout:void 0,C2=typeof Promise=="function"?Promise:void 0,sae=typeof queueMicrotask=="function"?queueMicrotask:typeof C2<"u"?function(t){return C2.resolve(null).then(t).catch(aae)}:mO;function aae(t){setTimeout(function(){throw t})}function wk(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),hv(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);hv(e)}function wc(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function k2(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Jp=Math.random().toString(36).slice(2),Ms="__reactFiber$"+Jp,yv="__reactProps$"+Jp,el="__reactContainer$"+Jp,gO="__reactEvents$"+Jp,lae="__reactListeners$"+Jp,cae="__reactHandles$"+Jp;function Lu(t){var e=t[Ms];if(e)return e;for(var n=t.parentNode;n;){if(e=n[el]||n[Ms]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=k2(t);t!==null;){if(n=t[Ms])return n;t=k2(t)}return e}t=n,n=t.parentNode}return null}function s0(t){return t=t[Ms]||t[el],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Vf(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(oe(33))}function jS(t){return t[yv]||null}var vO=[],zf=-1;function eu(t){return{current:t}}function on(t){0>zf||(t.current=vO[zf],vO[zf]=null,zf--)}function Gt(t,e){zf++,vO[zf]=t.current,t.current=e}var Ic={},Rr=eu(Ic),gi=eu(!1),Sd=Ic;function Wh(t,e){var n=t.type.contextTypes;if(!n)return Ic;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function vi(t){return t=t.childContextTypes,t!=null}function Qw(){on(gi),on(Rr)}function P2(t,e,n){if(Rr.current!==Ic)throw Error(oe(168));Gt(Rr,e),Gt(gi,n)}function RH(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(oe(108,Goe(t)||"Unknown",i));return gn({},n,r)}function ex(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ic,Sd=Rr.current,Gt(Rr,t),Gt(gi,gi.current),!0}function E2(t,e,n){var r=t.stateNode;if(!r)throw Error(oe(169));n?(t=RH(t,e,Sd),r.__reactInternalMemoizedMergedChildContext=t,on(gi),on(Rr),Gt(Rr,t)):on(gi),Gt(gi,n)}var Ma=null,LS=!1,xk=!1;function $H(t){Ma===null?Ma=[t]:Ma.push(t)}function uae(t){LS=!0,$H(t)}function tu(){if(!xk&&Ma!==null){xk=!0;var t=0,e=Rt;try{var n=Ma;for(Rt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ma=null,LS=!1}catch(i){throw Ma!==null&&(Ma=Ma.slice(t+1)),sH(AN,tu),i}finally{Rt=e,xk=!1}}return null}var Uf=[],Hf=0,tx=null,nx=0,ho=[],po=0,_d=null,Ra=1,$a="";function ku(t,e){Uf[Hf++]=nx,Uf[Hf++]=tx,tx=t,nx=e}function IH(t,e,n){ho[po++]=Ra,ho[po++]=$a,ho[po++]=_d,_d=t;var r=Ra;t=$a;var i=32-rs(r)-1;r&=~(1<<i),n+=1;var o=32-rs(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Ra=1<<32-rs(e)+i|n<<i|r,$a=o+t}else Ra=1<<o|n<<i|r,$a=t}function FN(t){t.return!==null&&(ku(t,1),IH(t,1,0))}function BN(t){for(;t===tx;)tx=Uf[--Hf],Uf[Hf]=null,nx=Uf[--Hf],Uf[Hf]=null;for(;t===_d;)_d=ho[--po],ho[po]=null,$a=ho[--po],ho[po]=null,Ra=ho[--po],ho[po]=null}var zi=null,Bi=null,an=!1,Yo=null;function jH(t,e){var n=bo(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function O2(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,zi=t,Bi=wc(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,zi=t,Bi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=_d!==null?{id:Ra,overflow:$a}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=bo(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,zi=t,Bi=null,!0):!1;default:return!1}}function yO(t){return(t.mode&1)!==0&&(t.flags&128)===0}function bO(t){if(an){var e=Bi;if(e){var n=e;if(!O2(t,e)){if(yO(t))throw Error(oe(418));e=wc(n.nextSibling);var r=zi;e&&O2(t,e)?jH(r,n):(t.flags=t.flags&-4097|2,an=!1,zi=t)}}else{if(yO(t))throw Error(oe(418));t.flags=t.flags&-4097|2,an=!1,zi=t}}}function T2(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;zi=t}function db(t){if(t!==zi)return!1;if(!an)return T2(t),an=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!pO(t.type,t.memoizedProps)),e&&(e=Bi)){if(yO(t))throw LH(),Error(oe(418));for(;e;)jH(t,e),e=wc(e.nextSibling)}if(T2(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(oe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Bi=wc(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Bi=null}}else Bi=zi?wc(t.stateNode.nextSibling):null;return!0}function LH(){for(var t=Bi;t;)t=wc(t.nextSibling)}function qh(){Bi=zi=null,an=!1}function VN(t){Yo===null?Yo=[t]:Yo.push(t)}var dae=pl.ReactCurrentBatchConfig;function Im(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(oe(309));var r=n.stateNode}if(!r)throw Error(oe(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(oe(284));if(!n._owner)throw Error(oe(290,t))}return t}function fb(t,e){throw t=Object.prototype.toString.call(e),Error(oe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function A2(t){var e=t._init;return e(t._payload)}function FH(t){function e(b,y){if(t){var w=b.deletions;w===null?(b.deletions=[y],b.flags|=16):w.push(y)}}function n(b,y){if(!t)return null;for(;y!==null;)e(b,y),y=y.sibling;return null}function r(b,y){for(b=new Map;y!==null;)y.key!==null?b.set(y.key,y):b.set(y.index,y),y=y.sibling;return b}function i(b,y){return b=Cc(b,y),b.index=0,b.sibling=null,b}function o(b,y,w){return b.index=w,t?(w=b.alternate,w!==null?(w=w.index,w<y?(b.flags|=2,y):w):(b.flags|=2,y)):(b.flags|=1048576,y)}function s(b){return t&&b.alternate===null&&(b.flags|=2),b}function a(b,y,w,_){return y===null||y.tag!==6?(y=Ok(w,b.mode,_),y.return=b,y):(y=i(y,w),y.return=b,y)}function l(b,y,w,_){var S=w.type;return S===jf?u(b,y,w.props.children,_,w.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Vl&&A2(S)===y.type)?(_=i(y,w.props),_.ref=Im(b,y,w),_.return=b,_):(_=_w(w.type,w.key,w.props,null,b.mode,_),_.ref=Im(b,y,w),_.return=b,_)}function c(b,y,w,_){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=Tk(w,b.mode,_),y.return=b,y):(y=i(y,w.children||[]),y.return=b,y)}function u(b,y,w,_,S){return y===null||y.tag!==7?(y=ld(w,b.mode,_,S),y.return=b,y):(y=i(y,w),y.return=b,y)}function d(b,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Ok(""+y,b.mode,w),y.return=b,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case tb:return w=_w(y.type,y.key,y.props,null,b.mode,w),w.ref=Im(b,null,y),w.return=b,w;case If:return y=Tk(y,b.mode,w),y.return=b,y;case Vl:var _=y._init;return d(b,_(y._payload),w)}if(lg(y)||Mm(y))return y=ld(y,b.mode,w,null),y.return=b,y;fb(b,y)}return null}function f(b,y,w,_){var S=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:a(b,y,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case tb:return w.key===S?l(b,y,w,_):null;case If:return w.key===S?c(b,y,w,_):null;case Vl:return S=w._init,f(b,y,S(w._payload),_)}if(lg(w)||Mm(w))return S!==null?null:u(b,y,w,_,null);fb(b,w)}return null}function h(b,y,w,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return b=b.get(w)||null,a(y,b,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case tb:return b=b.get(_.key===null?w:_.key)||null,l(y,b,_,S);case If:return b=b.get(_.key===null?w:_.key)||null,c(y,b,_,S);case Vl:var C=_._init;return h(b,y,w,C(_._payload),S)}if(lg(_)||Mm(_))return b=b.get(w)||null,u(y,b,_,S,null);fb(y,_)}return null}function m(b,y,w,_){for(var S=null,C=null,k=y,E=y=0,T=null;k!==null&&E<w.length;E++){k.index>E?(T=k,k=null):T=k.sibling;var M=f(b,k,w[E],_);if(M===null){k===null&&(k=T);break}t&&k&&M.alternate===null&&e(b,k),y=o(M,y,E),C===null?S=M:C.sibling=M,C=M,k=T}if(E===w.length)return n(b,k),an&&ku(b,E),S;if(k===null){for(;E<w.length;E++)k=d(b,w[E],_),k!==null&&(y=o(k,y,E),C===null?S=k:C.sibling=k,C=k);return an&&ku(b,E),S}for(k=r(b,k);E<w.length;E++)T=h(k,b,E,w[E],_),T!==null&&(t&&T.alternate!==null&&k.delete(T.key===null?E:T.key),y=o(T,y,E),C===null?S=T:C.sibling=T,C=T);return t&&k.forEach(function(D){return e(b,D)}),an&&ku(b,E),S}function p(b,y,w,_){var S=Mm(w);if(typeof S!="function")throw Error(oe(150));if(w=S.call(w),w==null)throw Error(oe(151));for(var C=S=null,k=y,E=y=0,T=null,M=w.next();k!==null&&!M.done;E++,M=w.next()){k.index>E?(T=k,k=null):T=k.sibling;var D=f(b,k,M.value,_);if(D===null){k===null&&(k=T);break}t&&k&&D.alternate===null&&e(b,k),y=o(D,y,E),C===null?S=D:C.sibling=D,C=D,k=T}if(M.done)return n(b,k),an&&ku(b,E),S;if(k===null){for(;!M.done;E++,M=w.next())M=d(b,M.value,_),M!==null&&(y=o(M,y,E),C===null?S=M:C.sibling=M,C=M);return an&&ku(b,E),S}for(k=r(b,k);!M.done;E++,M=w.next())M=h(k,b,E,M.value,_),M!==null&&(t&&M.alternate!==null&&k.delete(M.key===null?E:M.key),y=o(M,y,E),C===null?S=M:C.sibling=M,C=M);return t&&k.forEach(function(N){return e(b,N)}),an&&ku(b,E),S}function g(b,y,w,_){if(typeof w=="object"&&w!==null&&w.type===jf&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case tb:e:{for(var S=w.key,C=y;C!==null;){if(C.key===S){if(S=w.type,S===jf){if(C.tag===7){n(b,C.sibling),y=i(C,w.props.children),y.return=b,b=y;break e}}else if(C.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Vl&&A2(S)===C.type){n(b,C.sibling),y=i(C,w.props),y.ref=Im(b,C,w),y.return=b,b=y;break e}n(b,C);break}else e(b,C);C=C.sibling}w.type===jf?(y=ld(w.props.children,b.mode,_,w.key),y.return=b,b=y):(_=_w(w.type,w.key,w.props,null,b.mode,_),_.ref=Im(b,y,w),_.return=b,b=_)}return s(b);case If:e:{for(C=w.key;y!==null;){if(y.key===C)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){n(b,y.sibling),y=i(y,w.children||[]),y.return=b,b=y;break e}else{n(b,y);break}else e(b,y);y=y.sibling}y=Tk(w,b.mode,_),y.return=b,b=y}return s(b);case Vl:return C=w._init,g(b,y,C(w._payload),_)}if(lg(w))return m(b,y,w,_);if(Mm(w))return p(b,y,w,_);fb(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(n(b,y.sibling),y=i(y,w),y.return=b,b=y):(n(b,y),y=Ok(w,b.mode,_),y.return=b,b=y),s(b)):n(b,y)}return g}var Gh=FH(!0),BH=FH(!1),rx=eu(null),ix=null,Wf=null,zN=null;function UN(){zN=Wf=ix=null}function HN(t){var e=rx.current;on(rx),t._currentValue=e}function wO(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function fh(t,e){ix=t,zN=Wf=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(hi=!0),t.firstContext=null)}function Po(t){var e=t._currentValue;if(zN!==t)if(t={context:t,memoizedValue:e,next:null},Wf===null){if(ix===null)throw Error(oe(308));Wf=t,ix.dependencies={lanes:0,firstContext:t}}else Wf=Wf.next=t;return e}var Fu=null;function WN(t){Fu===null?Fu=[t]:Fu.push(t)}function VH(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,WN(e)):(n.next=i.next,i.next=n),e.interleaved=n,tl(t,r)}function tl(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var zl=!1;function qN(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zH(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Wa(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function xc(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,yt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,tl(t,n)}return i=r.interleaved,i===null?(e.next=e,WN(r)):(e.next=i.next,i.next=e),r.interleaved=e,tl(t,n)}function vw(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,MN(t,n)}}function M2(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ox(t,e,n,r){var i=t.updateQueue;zl=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,u=c=l=null,a=o;do{var f=a.lane,h=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,p=a;switch(f=e,h=n,p.tag){case 1:if(m=p.payload,typeof m=="function"){d=m.call(h,d,f);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=p.payload,f=typeof m=="function"?m.call(h,d,f):m,f==null)break e;d=gn({},d,f);break e;case 2:zl=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=h,l=d):u=u.next=h,s|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);kd|=s,t.lanes=s,t.memoizedState=d}}function N2(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(oe(191,i));i.call(r)}}}var a0={},Hs=eu(a0),bv=eu(a0),wv=eu(a0);function Bu(t){if(t===a0)throw Error(oe(174));return t}function GN(t,e){switch(Gt(wv,e),Gt(bv,t),Gt(Hs,a0),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:eO(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=eO(e,t)}on(Hs),Gt(Hs,e)}function Kh(){on(Hs),on(bv),on(wv)}function UH(t){Bu(wv.current);var e=Bu(Hs.current),n=eO(e,t.type);e!==n&&(Gt(bv,t),Gt(Hs,n))}function KN(t){bv.current===t&&(on(Hs),on(bv))}var fn=eu(0);function sx(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Sk=[];function YN(){for(var t=0;t<Sk.length;t++)Sk[t]._workInProgressVersionPrimary=null;Sk.length=0}var yw=pl.ReactCurrentDispatcher,_k=pl.ReactCurrentBatchConfig,Cd=0,pn=null,Ln=null,Gn=null,ax=!1,Mg=!1,xv=0,fae=0;function br(){throw Error(oe(321))}function XN(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!cs(t[n],e[n]))return!1;return!0}function ZN(t,e,n,r,i,o){if(Cd=o,pn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,yw.current=t===null||t.memoizedState===null?gae:vae,t=n(r,i),Mg){o=0;do{if(Mg=!1,xv=0,25<=o)throw Error(oe(301));o+=1,Gn=Ln=null,e.updateQueue=null,yw.current=yae,t=n(r,i)}while(Mg)}if(yw.current=lx,e=Ln!==null&&Ln.next!==null,Cd=0,Gn=Ln=pn=null,ax=!1,e)throw Error(oe(300));return t}function JN(){var t=xv!==0;return xv=0,t}function ks(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gn===null?pn.memoizedState=Gn=t:Gn=Gn.next=t,Gn}function Eo(){if(Ln===null){var t=pn.alternate;t=t!==null?t.memoizedState:null}else t=Ln.next;var e=Gn===null?pn.memoizedState:Gn.next;if(e!==null)Gn=e,Ln=t;else{if(t===null)throw Error(oe(310));Ln=t,t={memoizedState:Ln.memoizedState,baseState:Ln.baseState,baseQueue:Ln.baseQueue,queue:Ln.queue,next:null},Gn===null?pn.memoizedState=Gn=t:Gn=Gn.next=t}return Gn}function Sv(t,e){return typeof e=="function"?e(t):e}function Ck(t){var e=Eo(),n=e.queue;if(n===null)throw Error(oe(311));n.lastRenderedReducer=t;var r=Ln,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((Cd&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,pn.lanes|=u,kd|=u}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,cs(r,e.memoizedState)||(hi=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,pn.lanes|=o,kd|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function kk(t){var e=Eo(),n=e.queue;if(n===null)throw Error(oe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);cs(o,e.memoizedState)||(hi=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function HH(){}function WH(t,e){var n=pn,r=Eo(),i=e(),o=!cs(r.memoizedState,i);if(o&&(r.memoizedState=i,hi=!0),r=r.queue,QN(KH.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Gn!==null&&Gn.memoizedState.tag&1){if(n.flags|=2048,_v(9,GH.bind(null,n,r,i,e),void 0,null),Xn===null)throw Error(oe(349));Cd&30||qH(n,e,i)}return i}function qH(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=pn.updateQueue,e===null?(e={lastEffect:null,stores:null},pn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function GH(t,e,n,r){e.value=n,e.getSnapshot=r,YH(e)&&XH(t)}function KH(t,e,n){return n(function(){YH(e)&&XH(t)})}function YH(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!cs(t,n)}catch{return!0}}function XH(t){var e=tl(t,1);e!==null&&is(e,t,1,-1)}function D2(t){var e=ks();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sv,lastRenderedState:t},e.queue=t,t=t.dispatch=mae.bind(null,pn,t),[e.memoizedState,t]}function _v(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=pn.updateQueue,e===null?(e={lastEffect:null,stores:null},pn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ZH(){return Eo().memoizedState}function bw(t,e,n,r){var i=ks();pn.flags|=t,i.memoizedState=_v(1|e,n,void 0,r===void 0?null:r)}function FS(t,e,n,r){var i=Eo();r=r===void 0?null:r;var o=void 0;if(Ln!==null){var s=Ln.memoizedState;if(o=s.destroy,r!==null&&XN(r,s.deps)){i.memoizedState=_v(e,n,o,r);return}}pn.flags|=t,i.memoizedState=_v(1|e,n,o,r)}function R2(t,e){return bw(8390656,8,t,e)}function QN(t,e){return FS(2048,8,t,e)}function JH(t,e){return FS(4,2,t,e)}function QH(t,e){return FS(4,4,t,e)}function eW(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function tW(t,e,n){return n=n!=null?n.concat([t]):null,FS(4,4,eW.bind(null,e,t),n)}function eD(){}function nW(t,e){var n=Eo();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&XN(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function rW(t,e){var n=Eo();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&XN(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function iW(t,e,n){return Cd&21?(cs(n,e)||(n=cH(),pn.lanes|=n,kd|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,hi=!0),t.memoizedState=n)}function hae(t,e){var n=Rt;Rt=n!==0&&4>n?n:4,t(!0);var r=_k.transition;_k.transition={};try{t(!1),e()}finally{Rt=n,_k.transition=r}}function oW(){return Eo().memoizedState}function pae(t,e,n){var r=_c(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},sW(t))aW(e,n);else if(n=VH(t,e,n,r),n!==null){var i=Zr();is(n,t,r,i),lW(n,e,r)}}function mae(t,e,n){var r=_c(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(sW(t))aW(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,cs(a,s)){var l=e.interleaved;l===null?(i.next=i,WN(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=VH(t,e,i,r),n!==null&&(i=Zr(),is(n,t,r,i),lW(n,e,r))}}function sW(t){var e=t.alternate;return t===pn||e!==null&&e===pn}function aW(t,e){Mg=ax=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function lW(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,MN(t,n)}}var lx={readContext:Po,useCallback:br,useContext:br,useEffect:br,useImperativeHandle:br,useInsertionEffect:br,useLayoutEffect:br,useMemo:br,useReducer:br,useRef:br,useState:br,useDebugValue:br,useDeferredValue:br,useTransition:br,useMutableSource:br,useSyncExternalStore:br,useId:br,unstable_isNewReconciler:!1},gae={readContext:Po,useCallback:function(t,e){return ks().memoizedState=[t,e===void 0?null:e],t},useContext:Po,useEffect:R2,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,bw(4194308,4,eW.bind(null,e,t),n)},useLayoutEffect:function(t,e){return bw(4194308,4,t,e)},useInsertionEffect:function(t,e){return bw(4,2,t,e)},useMemo:function(t,e){var n=ks();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ks();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=pae.bind(null,pn,t),[r.memoizedState,t]},useRef:function(t){var e=ks();return t={current:t},e.memoizedState=t},useState:D2,useDebugValue:eD,useDeferredValue:function(t){return ks().memoizedState=t},useTransition:function(){var t=D2(!1),e=t[0];return t=hae.bind(null,t[1]),ks().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=pn,i=ks();if(an){if(n===void 0)throw Error(oe(407));n=n()}else{if(n=e(),Xn===null)throw Error(oe(349));Cd&30||qH(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,R2(KH.bind(null,r,o,t),[t]),r.flags|=2048,_v(9,GH.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=ks(),e=Xn.identifierPrefix;if(an){var n=$a,r=Ra;n=(r&~(1<<32-rs(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=xv++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=fae++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},vae={readContext:Po,useCallback:nW,useContext:Po,useEffect:QN,useImperativeHandle:tW,useInsertionEffect:JH,useLayoutEffect:QH,useMemo:rW,useReducer:Ck,useRef:ZH,useState:function(){return Ck(Sv)},useDebugValue:eD,useDeferredValue:function(t){var e=Eo();return iW(e,Ln.memoizedState,t)},useTransition:function(){var t=Ck(Sv)[0],e=Eo().memoizedState;return[t,e]},useMutableSource:HH,useSyncExternalStore:WH,useId:oW,unstable_isNewReconciler:!1},yae={readContext:Po,useCallback:nW,useContext:Po,useEffect:QN,useImperativeHandle:tW,useInsertionEffect:JH,useLayoutEffect:QH,useMemo:rW,useReducer:kk,useRef:ZH,useState:function(){return kk(Sv)},useDebugValue:eD,useDeferredValue:function(t){var e=Eo();return Ln===null?e.memoizedState=t:iW(e,Ln.memoizedState,t)},useTransition:function(){var t=kk(Sv)[0],e=Eo().memoizedState;return[t,e]},useMutableSource:HH,useSyncExternalStore:WH,useId:oW,unstable_isNewReconciler:!1};function zo(t,e){if(t&&t.defaultProps){e=gn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function xO(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:gn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var BS={isMounted:function(t){return(t=t._reactInternals)?Yd(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Zr(),i=_c(t),o=Wa(r,i);o.payload=e,n!=null&&(o.callback=n),e=xc(t,o,i),e!==null&&(is(e,t,i,r),vw(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Zr(),i=_c(t),o=Wa(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=xc(t,o,i),e!==null&&(is(e,t,i,r),vw(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Zr(),r=_c(t),i=Wa(n,r);i.tag=2,e!=null&&(i.callback=e),e=xc(t,i,r),e!==null&&(is(e,t,r,n),vw(e,t,r))}};function $2(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!mv(n,r)||!mv(i,o):!0}function cW(t,e,n){var r=!1,i=Ic,o=e.contextType;return typeof o=="object"&&o!==null?o=Po(o):(i=vi(e)?Sd:Rr.current,r=e.contextTypes,o=(r=r!=null)?Wh(t,i):Ic),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=BS,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function I2(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&BS.enqueueReplaceState(e,e.state,null)}function SO(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},qN(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Po(o):(o=vi(e)?Sd:Rr.current,i.context=Wh(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(xO(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&BS.enqueueReplaceState(i,i.state,null),ox(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Yh(t,e){try{var n="",r=e;do n+=qoe(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Pk(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function _O(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var bae=typeof WeakMap=="function"?WeakMap:Map;function uW(t,e,n){n=Wa(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ux||(ux=!0,DO=r),_O(t,e)},n}function dW(t,e,n){n=Wa(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){_O(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){_O(t,e),typeof r!="function"&&(Sc===null?Sc=new Set([this]):Sc.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function j2(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new bae;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Dae.bind(null,t,e,n),e.then(t,t))}function L2(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function F2(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Wa(-1,1),e.tag=2,xc(n,e,1))),n.lanes|=1),t)}var wae=pl.ReactCurrentOwner,hi=!1;function zr(t,e,n,r){e.child=t===null?BH(e,null,n,r):Gh(e,t.child,n,r)}function B2(t,e,n,r,i){n=n.render;var o=e.ref;return fh(e,i),r=ZN(t,e,n,r,o,i),n=JN(),t!==null&&!hi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,nl(t,e,i)):(an&&n&&FN(e),e.flags|=1,zr(t,e,r,i),e.child)}function V2(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!lD(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,fW(t,e,o,r,i)):(t=_w(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:mv,n(s,r)&&t.ref===e.ref)return nl(t,e,i)}return e.flags|=1,t=Cc(o,r),t.ref=e.ref,t.return=e,e.child=t}function fW(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(mv(o,r)&&t.ref===e.ref)if(hi=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(hi=!0);else return e.lanes=t.lanes,nl(t,e,i)}return CO(t,e,n,r,i)}function hW(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Gt(Gf,Mi),Mi|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Gt(Gf,Mi),Mi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Gt(Gf,Mi),Mi|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Gt(Gf,Mi),Mi|=r;return zr(t,e,i,n),e.child}function pW(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function CO(t,e,n,r,i){var o=vi(n)?Sd:Rr.current;return o=Wh(e,o),fh(e,i),n=ZN(t,e,n,r,o,i),r=JN(),t!==null&&!hi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,nl(t,e,i)):(an&&r&&FN(e),e.flags|=1,zr(t,e,n,i),e.child)}function z2(t,e,n,r,i){if(vi(n)){var o=!0;ex(e)}else o=!1;if(fh(e,i),e.stateNode===null)ww(t,e),cW(e,n,r),SO(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Po(c):(c=vi(n)?Sd:Rr.current,c=Wh(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&I2(e,s,r,c),zl=!1;var f=e.memoizedState;s.state=f,ox(e,r,s,i),l=e.memoizedState,a!==r||f!==l||gi.current||zl?(typeof u=="function"&&(xO(e,n,u,r),l=e.memoizedState),(a=zl||$2(e,n,a,r,f,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,zH(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:zo(e.type,a),s.props=c,d=e.pendingProps,f=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Po(l):(l=vi(n)?Sd:Rr.current,l=Wh(e,l));var h=n.getDerivedStateFromProps;(u=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||f!==l)&&I2(e,s,r,l),zl=!1,f=e.memoizedState,s.state=f,ox(e,r,s,i);var m=e.memoizedState;a!==d||f!==m||gi.current||zl?(typeof h=="function"&&(xO(e,n,h,r),m=e.memoizedState),(c=zl||$2(e,n,c,r,f,m,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,m,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),s.props=r,s.state=m,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return kO(t,e,n,r,o,i)}function kO(t,e,n,r,i,o){pW(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&E2(e,n,!1),nl(t,e,o);r=e.stateNode,wae.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Gh(e,t.child,null,o),e.child=Gh(e,null,a,o)):zr(t,e,a,o),e.memoizedState=r.state,i&&E2(e,n,!0),e.child}function mW(t){var e=t.stateNode;e.pendingContext?P2(t,e.pendingContext,e.pendingContext!==e.context):e.context&&P2(t,e.context,!1),GN(t,e.containerInfo)}function U2(t,e,n,r,i){return qh(),VN(i),e.flags|=256,zr(t,e,n,r),e.child}var PO={dehydrated:null,treeContext:null,retryLane:0};function EO(t){return{baseLanes:t,cachePool:null,transitions:null}}function gW(t,e,n){var r=e.pendingProps,i=fn.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Gt(fn,i&1),t===null)return bO(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=US(s,r,0,null),t=ld(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=EO(n),e.memoizedState=PO,t):tD(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return xae(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Cc(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Cc(a,o):(o=ld(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?EO(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=PO,r}return o=t.child,t=o.sibling,r=Cc(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function tD(t,e){return e=US({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function hb(t,e,n,r){return r!==null&&VN(r),Gh(e,t.child,null,n),t=tD(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function xae(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Pk(Error(oe(422))),hb(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=US({mode:"visible",children:r.children},i,0,null),o=ld(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Gh(e,t.child,null,s),e.child.memoizedState=EO(s),e.memoizedState=PO,o);if(!(e.mode&1))return hb(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(oe(419)),r=Pk(o,r,void 0),hb(t,e,s,r)}if(a=(s&t.childLanes)!==0,hi||a){if(r=Xn,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,tl(t,i),is(r,t,i,-1))}return aD(),r=Pk(Error(oe(421))),hb(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Rae.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Bi=wc(i.nextSibling),zi=e,an=!0,Yo=null,t!==null&&(ho[po++]=Ra,ho[po++]=$a,ho[po++]=_d,Ra=t.id,$a=t.overflow,_d=e),e=tD(e,r.children),e.flags|=4096,e)}function H2(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),wO(t.return,e,n)}function Ek(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function vW(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(zr(t,e,r.children,n),r=fn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&H2(t,n,e);else if(t.tag===19)H2(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Gt(fn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&sx(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ek(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&sx(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ek(e,!0,n,null,o);break;case"together":Ek(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ww(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function nl(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),kd|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(oe(153));if(e.child!==null){for(t=e.child,n=Cc(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Cc(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Sae(t,e,n){switch(e.tag){case 3:mW(e),qh();break;case 5:UH(e);break;case 1:vi(e.type)&&ex(e);break;case 4:GN(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Gt(rx,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Gt(fn,fn.current&1),e.flags|=128,null):n&e.child.childLanes?gW(t,e,n):(Gt(fn,fn.current&1),t=nl(t,e,n),t!==null?t.sibling:null);Gt(fn,fn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return vW(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Gt(fn,fn.current),r)break;return null;case 22:case 23:return e.lanes=0,hW(t,e,n)}return nl(t,e,n)}var yW,OO,bW,wW;yW=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};OO=function(){};bW=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Bu(Hs.current);var o=null;switch(n){case"input":i=XE(t,i),r=XE(t,r),o=[];break;case"select":i=gn({},i,{value:void 0}),r=gn({},r,{value:void 0}),o=[];break;case"textarea":i=QE(t,i),r=QE(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Jw)}tO(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(lv.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(lv.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&en("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};wW=function(t,e,n,r){n!==r&&(e.flags|=4)};function jm(t,e){if(!an)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function wr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function _ae(t,e,n){var r=e.pendingProps;switch(BN(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wr(e),null;case 1:return vi(e.type)&&Qw(),wr(e),null;case 3:return r=e.stateNode,Kh(),on(gi),on(Rr),YN(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(db(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Yo!==null&&(IO(Yo),Yo=null))),OO(t,e),wr(e),null;case 5:KN(e);var i=Bu(wv.current);if(n=e.type,t!==null&&e.stateNode!=null)bW(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(oe(166));return wr(e),null}if(t=Bu(Hs.current),db(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Ms]=e,r[yv]=o,t=(e.mode&1)!==0,n){case"dialog":en("cancel",r),en("close",r);break;case"iframe":case"object":case"embed":en("load",r);break;case"video":case"audio":for(i=0;i<ug.length;i++)en(ug[i],r);break;case"source":en("error",r);break;case"img":case"image":case"link":en("error",r),en("load",r);break;case"details":en("toggle",r);break;case"input":Qj(r,o),en("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},en("invalid",r);break;case"textarea":t2(r,o),en("invalid",r)}tO(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&ub(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&ub(r.textContent,a,t),i=["children",""+a]):lv.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&en("scroll",r)}switch(n){case"input":nb(r),e2(r,o,!0);break;case"textarea":nb(r),n2(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Jw)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=K6(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Ms]=e,t[yv]=r,yW(t,e,!1,!1),e.stateNode=t;e:{switch(s=nO(n,r),n){case"dialog":en("cancel",t),en("close",t),i=r;break;case"iframe":case"object":case"embed":en("load",t),i=r;break;case"video":case"audio":for(i=0;i<ug.length;i++)en(ug[i],t);i=r;break;case"source":en("error",t),i=r;break;case"img":case"image":case"link":en("error",t),en("load",t),i=r;break;case"details":en("toggle",t),i=r;break;case"input":Qj(t,r),i=XE(t,r),en("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=gn({},r,{value:void 0}),en("invalid",t);break;case"textarea":t2(t,r),i=QE(t,r),en("invalid",t);break;default:i=r}tO(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?Z6(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Y6(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&cv(t,l):typeof l=="number"&&cv(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(lv.hasOwnProperty(o)?l!=null&&o==="onScroll"&&en("scroll",t):l!=null&&kN(t,o,l,s))}switch(n){case"input":nb(t),e2(t,r,!1);break;case"textarea":nb(t),n2(t);break;case"option":r.value!=null&&t.setAttribute("value",""+$c(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?lh(t,!!r.multiple,o,!1):r.defaultValue!=null&&lh(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Jw)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return wr(e),null;case 6:if(t&&e.stateNode!=null)wW(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(oe(166));if(n=Bu(wv.current),Bu(Hs.current),db(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ms]=e,(o=r.nodeValue!==n)&&(t=zi,t!==null))switch(t.tag){case 3:ub(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ub(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ms]=e,e.stateNode=r}return wr(e),null;case 13:if(on(fn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(an&&Bi!==null&&e.mode&1&&!(e.flags&128))LH(),qh(),e.flags|=98560,o=!1;else if(o=db(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(oe(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(oe(317));o[Ms]=e}else qh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;wr(e),o=!1}else Yo!==null&&(IO(Yo),Yo=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||fn.current&1?Vn===0&&(Vn=3):aD())),e.updateQueue!==null&&(e.flags|=4),wr(e),null);case 4:return Kh(),OO(t,e),t===null&&gv(e.stateNode.containerInfo),wr(e),null;case 10:return HN(e.type._context),wr(e),null;case 17:return vi(e.type)&&Qw(),wr(e),null;case 19:if(on(fn),o=e.memoizedState,o===null)return wr(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)jm(o,!1);else{if(Vn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=sx(t),s!==null){for(e.flags|=128,jm(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Gt(fn,fn.current&1|2),e.child}t=t.sibling}o.tail!==null&&Cn()>Xh&&(e.flags|=128,r=!0,jm(o,!1),e.lanes=4194304)}else{if(!r)if(t=sx(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),jm(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!an)return wr(e),null}else 2*Cn()-o.renderingStartTime>Xh&&n!==1073741824&&(e.flags|=128,r=!0,jm(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Cn(),e.sibling=null,n=fn.current,Gt(fn,r?n&1|2:n&1),e):(wr(e),null);case 22:case 23:return sD(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Mi&1073741824&&(wr(e),e.subtreeFlags&6&&(e.flags|=8192)):wr(e),null;case 24:return null;case 25:return null}throw Error(oe(156,e.tag))}function Cae(t,e){switch(BN(e),e.tag){case 1:return vi(e.type)&&Qw(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Kh(),on(gi),on(Rr),YN(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return KN(e),null;case 13:if(on(fn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(oe(340));qh()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return on(fn),null;case 4:return Kh(),null;case 10:return HN(e.type._context),null;case 22:case 23:return sD(),null;case 24:return null;default:return null}}var pb=!1,Or=!1,kae=typeof WeakSet=="function"?WeakSet:Set,ye=null;function qf(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){bn(t,e,r)}else n.current=null}function TO(t,e,n){try{n()}catch(r){bn(t,e,r)}}var W2=!1;function Pae(t,e){if(fO=Yw,t=kH(),LN(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var h;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===t)break t;if(f===n&&++c===i&&(a=s),f===o&&++u===r&&(l=s),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(hO={focusedElem:t,selectionRange:n},Yw=!1,ye=e;ye!==null;)if(e=ye,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ye=t;else for(;ye!==null;){e=ye;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var p=m.memoizedProps,g=m.memoizedState,b=e.stateNode,y=b.getSnapshotBeforeUpdate(e.elementType===e.type?p:zo(e.type,p),g);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(oe(163))}}catch(_){bn(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,ye=t;break}ye=e.return}return m=W2,W2=!1,m}function Ng(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&TO(e,n,o)}i=i.next}while(i!==r)}}function VS(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function AO(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function xW(t){var e=t.alternate;e!==null&&(t.alternate=null,xW(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ms],delete e[yv],delete e[gO],delete e[lae],delete e[cae])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function SW(t){return t.tag===5||t.tag===3||t.tag===4}function q2(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||SW(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function MO(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Jw));else if(r!==4&&(t=t.child,t!==null))for(MO(t,e,n),t=t.sibling;t!==null;)MO(t,e,n),t=t.sibling}function NO(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(NO(t,e,n),t=t.sibling;t!==null;)NO(t,e,n),t=t.sibling}var lr=null,Wo=!1;function Tl(t,e,n){for(n=n.child;n!==null;)_W(t,e,n),n=n.sibling}function _W(t,e,n){if(Us&&typeof Us.onCommitFiberUnmount=="function")try{Us.onCommitFiberUnmount(DS,n)}catch{}switch(n.tag){case 5:Or||qf(n,e);case 6:var r=lr,i=Wo;lr=null,Tl(t,e,n),lr=r,Wo=i,lr!==null&&(Wo?(t=lr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):lr.removeChild(n.stateNode));break;case 18:lr!==null&&(Wo?(t=lr,n=n.stateNode,t.nodeType===8?wk(t.parentNode,n):t.nodeType===1&&wk(t,n),hv(t)):wk(lr,n.stateNode));break;case 4:r=lr,i=Wo,lr=n.stateNode.containerInfo,Wo=!0,Tl(t,e,n),lr=r,Wo=i;break;case 0:case 11:case 14:case 15:if(!Or&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&TO(n,e,s),i=i.next}while(i!==r)}Tl(t,e,n);break;case 1:if(!Or&&(qf(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){bn(n,e,a)}Tl(t,e,n);break;case 21:Tl(t,e,n);break;case 22:n.mode&1?(Or=(r=Or)||n.memoizedState!==null,Tl(t,e,n),Or=r):Tl(t,e,n);break;default:Tl(t,e,n)}}function G2(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new kae),e.forEach(function(r){var i=$ae.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Io(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:lr=a.stateNode,Wo=!1;break e;case 3:lr=a.stateNode.containerInfo,Wo=!0;break e;case 4:lr=a.stateNode.containerInfo,Wo=!0;break e}a=a.return}if(lr===null)throw Error(oe(160));_W(o,s,i),lr=null,Wo=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){bn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)CW(e,t),e=e.sibling}function CW(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Io(e,t),_s(t),r&4){try{Ng(3,t,t.return),VS(3,t)}catch(p){bn(t,t.return,p)}try{Ng(5,t,t.return)}catch(p){bn(t,t.return,p)}}break;case 1:Io(e,t),_s(t),r&512&&n!==null&&qf(n,n.return);break;case 5:if(Io(e,t),_s(t),r&512&&n!==null&&qf(n,n.return),t.flags&32){var i=t.stateNode;try{cv(i,"")}catch(p){bn(t,t.return,p)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&q6(i,o),nO(a,s);var c=nO(a,o);for(s=0;s<l.length;s+=2){var u=l[s],d=l[s+1];u==="style"?Z6(i,d):u==="dangerouslySetInnerHTML"?Y6(i,d):u==="children"?cv(i,d):kN(i,u,d,c)}switch(a){case"input":ZE(i,o);break;case"textarea":G6(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?lh(i,!!o.multiple,h,!1):f!==!!o.multiple&&(o.defaultValue!=null?lh(i,!!o.multiple,o.defaultValue,!0):lh(i,!!o.multiple,o.multiple?[]:"",!1))}i[yv]=o}catch(p){bn(t,t.return,p)}}break;case 6:if(Io(e,t),_s(t),r&4){if(t.stateNode===null)throw Error(oe(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(p){bn(t,t.return,p)}}break;case 3:if(Io(e,t),_s(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{hv(e.containerInfo)}catch(p){bn(t,t.return,p)}break;case 4:Io(e,t),_s(t);break;case 13:Io(e,t),_s(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(iD=Cn())),r&4&&G2(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Or=(c=Or)||u,Io(e,t),Or=c):Io(e,t),_s(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(ye=t,u=t.child;u!==null;){for(d=ye=u;ye!==null;){switch(f=ye,h=f.child,f.tag){case 0:case 11:case 14:case 15:Ng(4,f,f.return);break;case 1:qf(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(p){bn(r,n,p)}}break;case 5:qf(f,f.return);break;case 22:if(f.memoizedState!==null){Y2(d);continue}}h!==null?(h.return=f,ye=h):Y2(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=X6("display",s))}catch(p){bn(t,t.return,p)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(p){bn(t,t.return,p)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Io(e,t),_s(t),r&4&&G2(t);break;case 21:break;default:Io(e,t),_s(t)}}function _s(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(SW(n)){var r=n;break e}n=n.return}throw Error(oe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(cv(i,""),r.flags&=-33);var o=q2(t);NO(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=q2(t);MO(t,a,s);break;default:throw Error(oe(161))}}catch(l){bn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Eae(t,e,n){ye=t,kW(t)}function kW(t,e,n){for(var r=(t.mode&1)!==0;ye!==null;){var i=ye,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||pb;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Or;a=pb;var c=Or;if(pb=s,(Or=l)&&!c)for(ye=i;ye!==null;)s=ye,l=s.child,s.tag===22&&s.memoizedState!==null?X2(i):l!==null?(l.return=s,ye=l):X2(i);for(;o!==null;)ye=o,kW(o),o=o.sibling;ye=i,pb=a,Or=c}K2(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ye=o):K2(t)}}function K2(t){for(;ye!==null;){var e=ye;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Or||VS(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Or)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:zo(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&N2(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}N2(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&hv(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(oe(163))}Or||e.flags&512&&AO(e)}catch(f){bn(e,e.return,f)}}if(e===t){ye=null;break}if(n=e.sibling,n!==null){n.return=e.return,ye=n;break}ye=e.return}}function Y2(t){for(;ye!==null;){var e=ye;if(e===t){ye=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ye=n;break}ye=e.return}}function X2(t){for(;ye!==null;){var e=ye;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{VS(4,e)}catch(l){bn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){bn(e,i,l)}}var o=e.return;try{AO(e)}catch(l){bn(e,o,l)}break;case 5:var s=e.return;try{AO(e)}catch(l){bn(e,s,l)}}}catch(l){bn(e,e.return,l)}if(e===t){ye=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ye=a;break}ye=e.return}}var Oae=Math.ceil,cx=pl.ReactCurrentDispatcher,nD=pl.ReactCurrentOwner,So=pl.ReactCurrentBatchConfig,yt=0,Xn=null,Mn=null,mr=0,Mi=0,Gf=eu(0),Vn=0,Cv=null,kd=0,zS=0,rD=0,Dg=null,ui=null,iD=0,Xh=1/0,Pa=null,ux=!1,DO=null,Sc=null,mb=!1,lc=null,dx=0,Rg=0,RO=null,xw=-1,Sw=0;function Zr(){return yt&6?Cn():xw!==-1?xw:xw=Cn()}function _c(t){return t.mode&1?yt&2&&mr!==0?mr&-mr:dae.transition!==null?(Sw===0&&(Sw=cH()),Sw):(t=Rt,t!==0||(t=window.event,t=t===void 0?16:gH(t.type)),t):1}function is(t,e,n,r){if(50<Rg)throw Rg=0,RO=null,Error(oe(185));i0(t,n,r),(!(yt&2)||t!==Xn)&&(t===Xn&&(!(yt&2)&&(zS|=n),Vn===4&&Kl(t,mr)),yi(t,r),n===1&&yt===0&&!(e.mode&1)&&(Xh=Cn()+500,LS&&tu()))}function yi(t,e){var n=t.callbackNode;dse(t,e);var r=Kw(t,t===Xn?mr:0);if(r===0)n!==null&&o2(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&o2(n),e===1)t.tag===0?uae(Z2.bind(null,t)):$H(Z2.bind(null,t)),sae(function(){!(yt&6)&&tu()}),n=null;else{switch(uH(r)){case 1:n=AN;break;case 4:n=aH;break;case 16:n=Gw;break;case 536870912:n=lH;break;default:n=Gw}n=DW(n,PW.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function PW(t,e){if(xw=-1,Sw=0,yt&6)throw Error(oe(327));var n=t.callbackNode;if(hh()&&t.callbackNode!==n)return null;var r=Kw(t,t===Xn?mr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=fx(t,r);else{e=r;var i=yt;yt|=2;var o=OW();(Xn!==t||mr!==e)&&(Pa=null,Xh=Cn()+500,ad(t,e));do try{Mae();break}catch(a){EW(t,a)}while(!0);UN(),cx.current=o,yt=i,Mn!==null?e=0:(Xn=null,mr=0,e=Vn)}if(e!==0){if(e===2&&(i=aO(t),i!==0&&(r=i,e=$O(t,i))),e===1)throw n=Cv,ad(t,0),Kl(t,r),yi(t,Cn()),n;if(e===6)Kl(t,r);else{if(i=t.current.alternate,!(r&30)&&!Tae(i)&&(e=fx(t,r),e===2&&(o=aO(t),o!==0&&(r=o,e=$O(t,o))),e===1))throw n=Cv,ad(t,0),Kl(t,r),yi(t,Cn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(oe(345));case 2:Pu(t,ui,Pa);break;case 3:if(Kl(t,r),(r&130023424)===r&&(e=iD+500-Cn(),10<e)){if(Kw(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Zr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=mO(Pu.bind(null,t,ui,Pa),e);break}Pu(t,ui,Pa);break;case 4:if(Kl(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-rs(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Cn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Oae(r/1960))-r,10<r){t.timeoutHandle=mO(Pu.bind(null,t,ui,Pa),r);break}Pu(t,ui,Pa);break;case 5:Pu(t,ui,Pa);break;default:throw Error(oe(329))}}}return yi(t,Cn()),t.callbackNode===n?PW.bind(null,t):null}function $O(t,e){var n=Dg;return t.current.memoizedState.isDehydrated&&(ad(t,e).flags|=256),t=fx(t,e),t!==2&&(e=ui,ui=n,e!==null&&IO(e)),t}function IO(t){ui===null?ui=t:ui.push.apply(ui,t)}function Tae(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!cs(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Kl(t,e){for(e&=~rD,e&=~zS,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-rs(e),r=1<<n;t[n]=-1,e&=~r}}function Z2(t){if(yt&6)throw Error(oe(327));hh();var e=Kw(t,0);if(!(e&1))return yi(t,Cn()),null;var n=fx(t,e);if(t.tag!==0&&n===2){var r=aO(t);r!==0&&(e=r,n=$O(t,r))}if(n===1)throw n=Cv,ad(t,0),Kl(t,e),yi(t,Cn()),n;if(n===6)throw Error(oe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Pu(t,ui,Pa),yi(t,Cn()),null}function oD(t,e){var n=yt;yt|=1;try{return t(e)}finally{yt=n,yt===0&&(Xh=Cn()+500,LS&&tu())}}function Pd(t){lc!==null&&lc.tag===0&&!(yt&6)&&hh();var e=yt;yt|=1;var n=So.transition,r=Rt;try{if(So.transition=null,Rt=1,t)return t()}finally{Rt=r,So.transition=n,yt=e,!(yt&6)&&tu()}}function sD(){Mi=Gf.current,on(Gf)}function ad(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,oae(n)),Mn!==null)for(n=Mn.return;n!==null;){var r=n;switch(BN(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Qw();break;case 3:Kh(),on(gi),on(Rr),YN();break;case 5:KN(r);break;case 4:Kh();break;case 13:on(fn);break;case 19:on(fn);break;case 10:HN(r.type._context);break;case 22:case 23:sD()}n=n.return}if(Xn=t,Mn=t=Cc(t.current,null),mr=Mi=e,Vn=0,Cv=null,rD=zS=kd=0,ui=Dg=null,Fu!==null){for(e=0;e<Fu.length;e++)if(n=Fu[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Fu=null}return t}function EW(t,e){do{var n=Mn;try{if(UN(),yw.current=lx,ax){for(var r=pn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ax=!1}if(Cd=0,Gn=Ln=pn=null,Mg=!1,xv=0,nD.current=null,n===null||n.return===null){Vn=1,Cv=e,Mn=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=mr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=L2(s);if(h!==null){h.flags&=-257,F2(h,s,a,o,e),h.mode&1&&j2(o,c,e),e=h,l=c;var m=e.updateQueue;if(m===null){var p=new Set;p.add(l),e.updateQueue=p}else m.add(l);break e}else{if(!(e&1)){j2(o,c,e),aD();break e}l=Error(oe(426))}}else if(an&&a.mode&1){var g=L2(s);if(g!==null){!(g.flags&65536)&&(g.flags|=256),F2(g,s,a,o,e),VN(Yh(l,a));break e}}o=l=Yh(l,a),Vn!==4&&(Vn=2),Dg===null?Dg=[o]:Dg.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var b=uW(o,l,e);M2(o,b);break e;case 1:a=l;var y=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Sc===null||!Sc.has(w)))){o.flags|=65536,e&=-e,o.lanes|=e;var _=dW(o,a,e);M2(o,_);break e}}o=o.return}while(o!==null)}AW(n)}catch(S){e=S,Mn===n&&n!==null&&(Mn=n=n.return);continue}break}while(!0)}function OW(){var t=cx.current;return cx.current=lx,t===null?lx:t}function aD(){(Vn===0||Vn===3||Vn===2)&&(Vn=4),Xn===null||!(kd&268435455)&&!(zS&268435455)||Kl(Xn,mr)}function fx(t,e){var n=yt;yt|=2;var r=OW();(Xn!==t||mr!==e)&&(Pa=null,ad(t,e));do try{Aae();break}catch(i){EW(t,i)}while(!0);if(UN(),yt=n,cx.current=r,Mn!==null)throw Error(oe(261));return Xn=null,mr=0,Vn}function Aae(){for(;Mn!==null;)TW(Mn)}function Mae(){for(;Mn!==null&&!nse();)TW(Mn)}function TW(t){var e=NW(t.alternate,t,Mi);t.memoizedProps=t.pendingProps,e===null?AW(t):Mn=e,nD.current=null}function AW(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Cae(n,e),n!==null){n.flags&=32767,Mn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Vn=6,Mn=null;return}}else if(n=_ae(n,e,Mi),n!==null){Mn=n;return}if(e=e.sibling,e!==null){Mn=e;return}Mn=e=t}while(e!==null);Vn===0&&(Vn=5)}function Pu(t,e,n){var r=Rt,i=So.transition;try{So.transition=null,Rt=1,Nae(t,e,n,r)}finally{So.transition=i,Rt=r}return null}function Nae(t,e,n,r){do hh();while(lc!==null);if(yt&6)throw Error(oe(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(oe(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(fse(t,o),t===Xn&&(Mn=Xn=null,mr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||mb||(mb=!0,DW(Gw,function(){return hh(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=So.transition,So.transition=null;var s=Rt;Rt=1;var a=yt;yt|=4,nD.current=null,Pae(t,n),CW(n,t),Jse(hO),Yw=!!fO,hO=fO=null,t.current=n,Eae(n),rse(),yt=a,Rt=s,So.transition=o}else t.current=n;if(mb&&(mb=!1,lc=t,dx=i),o=t.pendingLanes,o===0&&(Sc=null),sse(n.stateNode),yi(t,Cn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ux)throw ux=!1,t=DO,DO=null,t;return dx&1&&t.tag!==0&&hh(),o=t.pendingLanes,o&1?t===RO?Rg++:(Rg=0,RO=t):Rg=0,tu(),null}function hh(){if(lc!==null){var t=uH(dx),e=So.transition,n=Rt;try{if(So.transition=null,Rt=16>t?16:t,lc===null)var r=!1;else{if(t=lc,lc=null,dx=0,yt&6)throw Error(oe(331));var i=yt;for(yt|=4,ye=t.current;ye!==null;){var o=ye,s=o.child;if(ye.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ye=c;ye!==null;){var u=ye;switch(u.tag){case 0:case 11:case 15:Ng(8,u,o)}var d=u.child;if(d!==null)d.return=u,ye=d;else for(;ye!==null;){u=ye;var f=u.sibling,h=u.return;if(xW(u),u===c){ye=null;break}if(f!==null){f.return=h,ye=f;break}ye=h}}}var m=o.alternate;if(m!==null){var p=m.child;if(p!==null){m.child=null;do{var g=p.sibling;p.sibling=null,p=g}while(p!==null)}}ye=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,ye=s;else e:for(;ye!==null;){if(o=ye,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ng(9,o,o.return)}var b=o.sibling;if(b!==null){b.return=o.return,ye=b;break e}ye=o.return}}var y=t.current;for(ye=y;ye!==null;){s=ye;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,ye=w;else e:for(s=y;ye!==null;){if(a=ye,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:VS(9,a)}}catch(S){bn(a,a.return,S)}if(a===s){ye=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,ye=_;break e}ye=a.return}}if(yt=i,tu(),Us&&typeof Us.onPostCommitFiberRoot=="function")try{Us.onPostCommitFiberRoot(DS,t)}catch{}r=!0}return r}finally{Rt=n,So.transition=e}}return!1}function J2(t,e,n){e=Yh(n,e),e=uW(t,e,1),t=xc(t,e,1),e=Zr(),t!==null&&(i0(t,1,e),yi(t,e))}function bn(t,e,n){if(t.tag===3)J2(t,t,n);else for(;e!==null;){if(e.tag===3){J2(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Sc===null||!Sc.has(r))){t=Yh(n,t),t=dW(e,t,1),e=xc(e,t,1),t=Zr(),e!==null&&(i0(e,1,t),yi(e,t));break}}e=e.return}}function Dae(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Zr(),t.pingedLanes|=t.suspendedLanes&n,Xn===t&&(mr&n)===n&&(Vn===4||Vn===3&&(mr&130023424)===mr&&500>Cn()-iD?ad(t,0):rD|=n),yi(t,e)}function MW(t,e){e===0&&(t.mode&1?(e=ob,ob<<=1,!(ob&130023424)&&(ob=4194304)):e=1);var n=Zr();t=tl(t,e),t!==null&&(i0(t,e,n),yi(t,n))}function Rae(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),MW(t,n)}function $ae(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(oe(314))}r!==null&&r.delete(e),MW(t,n)}var NW;NW=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||gi.current)hi=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return hi=!1,Sae(t,e,n);hi=!!(t.flags&131072)}else hi=!1,an&&e.flags&1048576&&IH(e,nx,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ww(t,e),t=e.pendingProps;var i=Wh(e,Rr.current);fh(e,n),i=ZN(null,e,r,t,i,n);var o=JN();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,vi(r)?(o=!0,ex(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,qN(e),i.updater=BS,e.stateNode=i,i._reactInternals=e,SO(e,r,t,n),e=kO(null,e,r,!0,o,n)):(e.tag=0,an&&o&&FN(e),zr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ww(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=jae(r),t=zo(r,t),i){case 0:e=CO(null,e,r,t,n);break e;case 1:e=z2(null,e,r,t,n);break e;case 11:e=B2(null,e,r,t,n);break e;case 14:e=V2(null,e,r,zo(r.type,t),n);break e}throw Error(oe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zo(r,i),CO(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zo(r,i),z2(t,e,r,i,n);case 3:e:{if(mW(e),t===null)throw Error(oe(387));r=e.pendingProps,o=e.memoizedState,i=o.element,zH(t,e),ox(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Yh(Error(oe(423)),e),e=U2(t,e,r,n,i);break e}else if(r!==i){i=Yh(Error(oe(424)),e),e=U2(t,e,r,n,i);break e}else for(Bi=wc(e.stateNode.containerInfo.firstChild),zi=e,an=!0,Yo=null,n=BH(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(qh(),r===i){e=nl(t,e,n);break e}zr(t,e,r,n)}e=e.child}return e;case 5:return UH(e),t===null&&bO(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,pO(r,i)?s=null:o!==null&&pO(r,o)&&(e.flags|=32),pW(t,e),zr(t,e,s,n),e.child;case 6:return t===null&&bO(e),null;case 13:return gW(t,e,n);case 4:return GN(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Gh(e,null,r,n):zr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zo(r,i),B2(t,e,r,i,n);case 7:return zr(t,e,e.pendingProps,n),e.child;case 8:return zr(t,e,e.pendingProps.children,n),e.child;case 12:return zr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Gt(rx,r._currentValue),r._currentValue=s,o!==null)if(cs(o.value,s)){if(o.children===i.children&&!gi.current){e=nl(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Wa(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),wO(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(oe(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),wO(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}zr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,fh(e,n),i=Po(i),r=r(i),e.flags|=1,zr(t,e,r,n),e.child;case 14:return r=e.type,i=zo(r,e.pendingProps),i=zo(r.type,i),V2(t,e,r,i,n);case 15:return fW(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zo(r,i),ww(t,e),e.tag=1,vi(r)?(t=!0,ex(e)):t=!1,fh(e,n),cW(e,r,i),SO(e,r,i,n),kO(null,e,r,!0,t,n);case 19:return vW(t,e,n);case 22:return hW(t,e,n)}throw Error(oe(156,e.tag))};function DW(t,e){return sH(t,e)}function Iae(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bo(t,e,n,r){return new Iae(t,e,n,r)}function lD(t){return t=t.prototype,!(!t||!t.isReactComponent)}function jae(t){if(typeof t=="function")return lD(t)?1:0;if(t!=null){if(t=t.$$typeof,t===EN)return 11;if(t===ON)return 14}return 2}function Cc(t,e){var n=t.alternate;return n===null?(n=bo(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function _w(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")lD(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case jf:return ld(n.children,i,o,e);case PN:s=8,i|=8;break;case qE:return t=bo(12,n,e,i|2),t.elementType=qE,t.lanes=o,t;case GE:return t=bo(13,n,e,i),t.elementType=GE,t.lanes=o,t;case KE:return t=bo(19,n,e,i),t.elementType=KE,t.lanes=o,t;case U6:return US(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case V6:s=10;break e;case z6:s=9;break e;case EN:s=11;break e;case ON:s=14;break e;case Vl:s=16,r=null;break e}throw Error(oe(130,t==null?t:typeof t,""))}return e=bo(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function ld(t,e,n,r){return t=bo(7,t,r,e),t.lanes=n,t}function US(t,e,n,r){return t=bo(22,t,r,e),t.elementType=U6,t.lanes=n,t.stateNode={isHidden:!1},t}function Ok(t,e,n){return t=bo(6,t,null,e),t.lanes=n,t}function Tk(t,e,n){return e=bo(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Lae(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ck(0),this.expirationTimes=ck(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ck(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function cD(t,e,n,r,i,o,s,a,l){return t=new Lae(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=bo(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},qN(o),t}function Fae(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:If,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function RW(t){if(!t)return Ic;t=t._reactInternals;e:{if(Yd(t)!==t||t.tag!==1)throw Error(oe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(vi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(oe(171))}if(t.tag===1){var n=t.type;if(vi(n))return RH(t,n,e)}return e}function $W(t,e,n,r,i,o,s,a,l){return t=cD(n,r,!0,t,i,o,s,a,l),t.context=RW(null),n=t.current,r=Zr(),i=_c(n),o=Wa(r,i),o.callback=e??null,xc(n,o,i),t.current.lanes=i,i0(t,i,r),yi(t,r),t}function HS(t,e,n,r){var i=e.current,o=Zr(),s=_c(i);return n=RW(n),e.context===null?e.context=n:e.pendingContext=n,e=Wa(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=xc(i,e,s),t!==null&&(is(t,i,s,o),vw(t,i,s)),s}function hx(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Q2(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function uD(t,e){Q2(t,e),(t=t.alternate)&&Q2(t,e)}function Bae(){return null}var IW=typeof reportError=="function"?reportError:function(t){console.error(t)};function dD(t){this._internalRoot=t}WS.prototype.render=dD.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(oe(409));HS(t,e,null,null)};WS.prototype.unmount=dD.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Pd(function(){HS(null,t,null,null)}),e[el]=null}};function WS(t){this._internalRoot=t}WS.prototype.unstable_scheduleHydration=function(t){if(t){var e=hH();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Gl.length&&e!==0&&e<Gl[n].priority;n++);Gl.splice(n,0,t),n===0&&mH(t)}};function fD(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function qS(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function eL(){}function Vae(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=hx(s);o.call(c)}}var s=$W(e,r,t,0,null,!1,!1,"",eL);return t._reactRootContainer=s,t[el]=s.current,gv(t.nodeType===8?t.parentNode:t),Pd(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=hx(l);a.call(c)}}var l=cD(t,0,!1,null,null,!1,!1,"",eL);return t._reactRootContainer=l,t[el]=l.current,gv(t.nodeType===8?t.parentNode:t),Pd(function(){HS(e,l,n,r)}),l}function GS(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=hx(s);a.call(l)}}HS(e,s,t,i)}else s=Vae(n,e,t,i,r);return hx(s)}dH=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=cg(e.pendingLanes);n!==0&&(MN(e,n|1),yi(e,Cn()),!(yt&6)&&(Xh=Cn()+500,tu()))}break;case 13:Pd(function(){var r=tl(t,1);if(r!==null){var i=Zr();is(r,t,1,i)}}),uD(t,1)}};NN=function(t){if(t.tag===13){var e=tl(t,134217728);if(e!==null){var n=Zr();is(e,t,134217728,n)}uD(t,134217728)}};fH=function(t){if(t.tag===13){var e=_c(t),n=tl(t,e);if(n!==null){var r=Zr();is(n,t,e,r)}uD(t,e)}};hH=function(){return Rt};pH=function(t,e){var n=Rt;try{return Rt=t,e()}finally{Rt=n}};iO=function(t,e,n){switch(e){case"input":if(ZE(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=jS(r);if(!i)throw Error(oe(90));W6(r),ZE(r,i)}}}break;case"textarea":G6(t,n);break;case"select":e=n.value,e!=null&&lh(t,!!n.multiple,e,!1)}};eH=oD;tH=Pd;var zae={usingClientEntryPoint:!1,Events:[s0,Vf,jS,J6,Q6,oD]},Lm={findFiberByHostInstance:Lu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Uae={bundleType:Lm.bundleType,version:Lm.version,rendererPackageName:Lm.rendererPackageName,rendererConfig:Lm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pl.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=iH(t),t===null?null:t.stateNode},findFiberByHostInstance:Lm.findFiberByHostInstance||Bae,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gb.isDisabled&&gb.supportsFiber)try{DS=gb.inject(Uae),Us=gb}catch{}}to.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zae;to.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fD(e))throw Error(oe(200));return Fae(t,e,null,n)};to.createRoot=function(t,e){if(!fD(t))throw Error(oe(299));var n=!1,r="",i=IW;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=cD(t,1,!1,null,null,n,!1,r,i),t[el]=e.current,gv(t.nodeType===8?t.parentNode:t),new dD(e)};to.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(oe(188)):(t=Object.keys(t).join(","),Error(oe(268,t)));return t=iH(e),t=t===null?null:t.stateNode,t};to.flushSync=function(t){return Pd(t)};to.hydrate=function(t,e,n){if(!qS(e))throw Error(oe(200));return GS(null,t,e,!0,n)};to.hydrateRoot=function(t,e,n){if(!fD(t))throw Error(oe(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=IW;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=$W(e,null,t,1,n??null,i,!1,o,s),t[el]=e.current,gv(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new WS(e)};to.render=function(t,e,n){if(!qS(e))throw Error(oe(200));return GS(null,t,e,!1,n)};to.unmountComponentAtNode=function(t){if(!qS(t))throw Error(oe(40));return t._reactRootContainer?(Pd(function(){GS(null,null,t,!1,function(){t._reactRootContainer=null,t[el]=null})}),!0):!1};to.unstable_batchedUpdates=oD;to.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!qS(n))throw Error(oe(200));if(t==null||t._reactInternals===void 0)throw Error(oe(38));return GS(t,e,n,!1,r)};to.version="18.3.1-next-f1338f8080-20240426";function jW(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jW)}catch(t){console.error(t)}}jW(),j6.exports=to;var Xd=j6.exports;const hD=At(Xd);var LW,tL=Xd;LW=tL.createRoot,tL.hydrateRoot;const Hae=1,Wae=1e6;let Ak=0;function qae(){return Ak=(Ak+1)%Number.MAX_SAFE_INTEGER,Ak.toString()}const Mk=new Map,nL=t=>{if(Mk.has(t))return;const e=setTimeout(()=>{Mk.delete(t),$g({type:"REMOVE_TOAST",toastId:t})},Wae);Mk.set(t,e)},Gae=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Hae)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?nL(n):t.toasts.forEach(r=>{nL(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Cw=[];let kw={toasts:[]};function $g(t){kw=Gae(kw,t),Cw.forEach(e=>{e(kw)})}function FW({...t}){const e=qae(),n=i=>$g({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>$g({type:"DISMISS_TOAST",toastId:e});return $g({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function Kae(){const[t,e]=x.useState(kw);return x.useEffect(()=>(Cw.push(e),()=>{const n=Cw.indexOf(e);n>-1&&Cw.splice(n,1)}),[t]),{...t,toast:FW,dismiss:n=>$g({type:"DISMISS_TOAST",toastId:n})}}function se(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function rL(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function rl(...t){return e=>{let n=!1;const r=t.map(i=>{const o=rL(i,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():rL(t[i],null)}}}}function Qe(...t){return x.useCallback(rl(...t),t)}function Yae(t,e){const n=x.createContext(e),r=o=>{const{children:s,...a}=o,l=x.useMemo(()=>a,Object.values(a));return O.jsx(n.Provider,{value:l,children:s})};r.displayName=t+"Provider";function i(o){const s=x.useContext(n);if(s)return s;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,i]}function nr(t,e=[]){let n=[];function r(o,s){const a=x.createContext(s),l=n.length;n=[...n,s];const c=d=>{var b;const{scope:f,children:h,...m}=d,p=((b=f==null?void 0:f[t])==null?void 0:b[l])||a,g=x.useMemo(()=>m,Object.values(m));return O.jsx(p.Provider,{value:g,children:h})};c.displayName=o+"Provider";function u(d,f){var p;const h=((p=f==null?void 0:f[t])==null?void 0:p[l])||a,m=x.useContext(h);if(m)return m;if(s!==void 0)return s;throw new Error(`\`${d}\` must be used within \`${o}\``)}return[c,u]}const i=()=>{const o=n.map(s=>x.createContext(s));return function(a){const l=(a==null?void 0:a[t])||o;return x.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,Xae(i,...e)]}function Xae(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(o)[`__scope${c}`];return{...a,...d}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}function jc(t){const e=Zae(t),n=x.forwardRef((r,i)=>{const{children:o,...s}=r,a=x.Children.toArray(o),l=a.find(Jae);if(l){const c=l.props.children,u=a.map(d=>d===l?x.Children.count(c)>1?x.Children.only(null):x.isValidElement(c)?c.props.children:null:d);return O.jsx(e,{...s,ref:i,children:x.isValidElement(c)?x.cloneElement(c,void 0,u):null})}return O.jsx(e,{...s,ref:i,children:o})});return n.displayName=`${t}.Slot`,n}var pD=jc("Slot");function Zae(t){const e=x.forwardRef((n,r)=>{const{children:i,...o}=n;if(x.isValidElement(i)){const s=ele(i),a=Qae(o,i.props);return i.type!==x.Fragment&&(a.ref=r?rl(r,s):s),x.cloneElement(i,a)}return x.Children.count(i)>1?x.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var BW=Symbol("radix.slottable");function VW(t){const e=({children:n})=>O.jsx(O.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=BW,e}function Jae(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===BW}function Qae(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{o(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function ele(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function KS(t){const e=t+"CollectionProvider",[n,r]=nr(e),[i,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),s=p=>{const{scope:g,children:b}=p,y=A.useRef(null),w=A.useRef(new Map).current;return O.jsx(i,{scope:g,itemMap:w,collectionRef:y,children:b})};s.displayName=e;const a=t+"CollectionSlot",l=jc(a),c=A.forwardRef((p,g)=>{const{scope:b,children:y}=p,w=o(a,b),_=Qe(g,w.collectionRef);return O.jsx(l,{ref:_,children:y})});c.displayName=a;const u=t+"CollectionItemSlot",d="data-radix-collection-item",f=jc(u),h=A.forwardRef((p,g)=>{const{scope:b,children:y,...w}=p,_=A.useRef(null),S=Qe(g,_),C=o(u,b);return A.useEffect(()=>(C.itemMap.set(_,{ref:_,...w}),()=>void C.itemMap.delete(_))),O.jsx(f,{[d]:"",ref:S,children:y})});h.displayName=u;function m(p){const g=o(t+"CollectionConsumer",p);return A.useCallback(()=>{const y=g.collectionRef.current;if(!y)return[];const w=Array.from(y.querySelectorAll(`[${d}]`));return Array.from(g.itemMap.values()).sort((C,k)=>w.indexOf(C.ref.current)-w.indexOf(k.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:s,Slot:c,ItemSlot:h},m,r]}var tle=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],pe=tle.reduce((t,e)=>{const n=jc(`Primitive.${e}`),r=x.forwardRef((i,o)=>{const{asChild:s,...a}=i,l=s?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),O.jsx(l,{...a,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function mD(t,e){t&&Xd.flushSync(()=>t.dispatchEvent(e))}function ln(t){const e=x.useRef(t);return x.useEffect(()=>{e.current=t}),x.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function nle(t,e=globalThis==null?void 0:globalThis.document){const n=ln(t);x.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var rle="DismissableLayer",jO="dismissableLayer.update",ile="dismissableLayer.pointerDownOutside",ole="dismissableLayer.focusOutside",iL,zW=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Zd=x.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:s,onDismiss:a,...l}=t,c=x.useContext(zW),[u,d]=x.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=x.useState({}),m=Qe(e,k=>d(k)),p=Array.from(c.layers),[g]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),b=p.indexOf(g),y=u?p.indexOf(u):-1,w=c.layersWithOutsidePointerEventsDisabled.size>0,_=y>=b,S=ale(k=>{const E=k.target,T=[...c.branches].some(M=>M.contains(E));!_||T||(i==null||i(k),s==null||s(k),k.defaultPrevented||a==null||a())},f),C=lle(k=>{const E=k.target;[...c.branches].some(M=>M.contains(E))||(o==null||o(k),s==null||s(k),k.defaultPrevented||a==null||a())},f);return nle(k=>{y===c.layers.size-1&&(r==null||r(k),!k.defaultPrevented&&a&&(k.preventDefault(),a()))},f),x.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(iL=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),oL(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=iL)}},[u,f,n,c]),x.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),oL())},[u,c]),x.useEffect(()=>{const k=()=>h({});return document.addEventListener(jO,k),()=>document.removeEventListener(jO,k)},[]),O.jsx(pe.div,{...l,ref:m,style:{pointerEvents:w?_?"auto":"none":void 0,...t.style},onFocusCapture:se(t.onFocusCapture,C.onFocusCapture),onBlurCapture:se(t.onBlurCapture,C.onBlurCapture),onPointerDownCapture:se(t.onPointerDownCapture,S.onPointerDownCapture)})});Zd.displayName=rle;var sle="DismissableLayerBranch",UW=x.forwardRef((t,e)=>{const n=x.useContext(zW),r=x.useRef(null),i=Qe(e,r);return x.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),O.jsx(pe.div,{...t,ref:i})});UW.displayName=sle;function ale(t,e=globalThis==null?void 0:globalThis.document){const n=ln(t),r=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let l=function(){HW(ile,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function lle(t,e=globalThis==null?void 0:globalThis.document){const n=ln(t),r=x.useRef(!1);return x.useEffect(()=>{const i=o=>{o.target&&!r.current&&HW(ole,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function oL(){const t=new CustomEvent(jO);document.dispatchEvent(t)}function HW(t,e,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?mD(i,o):i.dispatchEvent(o)}var cle=Zd,ule=UW,Rn=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},dle="Portal",Qp=x.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,o]=x.useState(!1);Rn(()=>o(!0),[]);const s=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return s?hD.createPortal(O.jsx(pe.div,{...r,ref:e}),s):null});Qp.displayName=dle;function fle(t,e){return x.useReducer((n,r)=>e[n][r]??n,t)}var rr=t=>{const{present:e,children:n}=t,r=hle(e),i=typeof n=="function"?n({present:r.isPresent}):x.Children.only(n),o=Qe(r.ref,ple(i));return typeof n=="function"||r.isPresent?x.cloneElement(i,{ref:o}):null};rr.displayName="Presence";function hle(t){const[e,n]=x.useState(),r=x.useRef({}),i=x.useRef(t),o=x.useRef("none"),s=t?"mounted":"unmounted",[a,l]=fle(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const c=vb(r.current);o.current=a==="mounted"?c:"none"},[a]),Rn(()=>{const c=r.current,u=i.current;if(u!==t){const f=o.current,h=vb(c);t?l("MOUNT"):h==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&f!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Rn(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,d=h=>{const p=vb(r.current).includes(h.animationName);if(h.target===e&&p&&(l("ANIMATION_END"),!i.current)){const g=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=g)})}},f=h=>{h.target===e&&(o.current=vb(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:x.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function vb(t){return(t==null?void 0:t.animationName)||"none"}function ple(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function _i({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=mle({defaultProp:e,onChange:n}),o=t!==void 0,s=o?t:r,a=ln(n),l=x.useCallback(c=>{if(o){const d=typeof c=="function"?c(t):c;d!==t&&a(d)}else i(c)},[o,t,i,a]);return[s,l]}function mle({defaultProp:t,onChange:e}){const n=x.useState(t),[r]=n,i=x.useRef(r),o=ln(e);return x.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}var gle="VisuallyHidden",l0=x.forwardRef((t,e)=>O.jsx(pe.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));l0.displayName=gle;var vle=l0,gD="ToastProvider",[vD,yle,ble]=KS("Toast"),[WW,Eot]=nr("Toast",[ble]),[wle,YS]=WW(gD),qW=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:s}=t,[a,l]=x.useState(null),[c,u]=x.useState(0),d=x.useRef(!1),f=x.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${gD}\`. Expected non-empty \`string\`.`),O.jsx(vD.Provider,{scope:e,children:O.jsx(wle,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:o,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:x.useCallback(()=>u(h=>h+1),[]),onToastRemove:x.useCallback(()=>u(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:f,children:s})})};qW.displayName=gD;var GW="ToastViewport",xle=["F8"],LO="toast.viewportPause",FO="toast.viewportResume",KW=x.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=xle,label:i="Notifications ({hotkey})",...o}=t,s=YS(GW,n),a=yle(n),l=x.useRef(null),c=x.useRef(null),u=x.useRef(null),d=x.useRef(null),f=Qe(e,d,s.onViewportChange),h=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),m=s.toastCount>0;x.useEffect(()=>{const g=b=>{var w;r.length!==0&&r.every(_=>b[_]||b.code===_)&&((w=d.current)==null||w.focus())};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[r]),x.useEffect(()=>{const g=l.current,b=d.current;if(m&&g&&b){const y=()=>{if(!s.isClosePausedRef.current){const C=new CustomEvent(LO);b.dispatchEvent(C),s.isClosePausedRef.current=!0}},w=()=>{if(s.isClosePausedRef.current){const C=new CustomEvent(FO);b.dispatchEvent(C),s.isClosePausedRef.current=!1}},_=C=>{!g.contains(C.relatedTarget)&&w()},S=()=>{g.contains(document.activeElement)||w()};return g.addEventListener("focusin",y),g.addEventListener("focusout",_),g.addEventListener("pointermove",y),g.addEventListener("pointerleave",S),window.addEventListener("blur",y),window.addEventListener("focus",w),()=>{g.removeEventListener("focusin",y),g.removeEventListener("focusout",_),g.removeEventListener("pointermove",y),g.removeEventListener("pointerleave",S),window.removeEventListener("blur",y),window.removeEventListener("focus",w)}}},[m,s.isClosePausedRef]);const p=x.useCallback(({tabbingDirection:g})=>{const y=a().map(w=>{const _=w.ref.current,S=[_,...Rle(_)];return g==="forwards"?S:S.reverse()});return(g==="forwards"?y.reverse():y).flat()},[a]);return x.useEffect(()=>{const g=d.current;if(g){const b=y=>{var S,C,k;const w=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!w){const E=document.activeElement,T=y.shiftKey;if(y.target===g&&T){(S=c.current)==null||S.focus();return}const N=p({tabbingDirection:T?"backwards":"forwards"}),L=N.findIndex(I=>I===E);Nk(N.slice(L+1))?y.preventDefault():T?(C=c.current)==null||C.focus():(k=u.current)==null||k.focus()}};return g.addEventListener("keydown",b),()=>g.removeEventListener("keydown",b)}},[a,p]),O.jsxs(ule,{ref:l,role:"region","aria-label":i.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:m?void 0:"none"},children:[m&&O.jsx(BO,{ref:c,onFocusFromOutsideViewport:()=>{const g=p({tabbingDirection:"forwards"});Nk(g)}}),O.jsx(vD.Slot,{scope:n,children:O.jsx(pe.ol,{tabIndex:-1,...o,ref:f})}),m&&O.jsx(BO,{ref:u,onFocusFromOutsideViewport:()=>{const g=p({tabbingDirection:"backwards"});Nk(g)}})]})});KW.displayName=GW;var YW="ToastFocusProxy",BO=x.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,o=YS(YW,n);return O.jsx(l0,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:s=>{var c;const a=s.relatedTarget;!((c=o.viewport)!=null&&c.contains(a))&&r()}})});BO.displayName=YW;var XS="Toast",Sle="toast.swipeStart",_le="toast.swipeMove",Cle="toast.swipeCancel",kle="toast.swipeEnd",XW=x.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:o,...s}=t,[a=!0,l]=_i({prop:r,defaultProp:i,onChange:o});return O.jsx(rr,{present:n||a,children:O.jsx(Ole,{open:a,...s,ref:e,onClose:()=>l(!1),onPause:ln(t.onPause),onResume:ln(t.onResume),onSwipeStart:se(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:se(t.onSwipeMove,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:se(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:se(t.onSwipeEnd,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});XW.displayName=XS;var[Ple,Ele]=WW(XS,{onClose(){}}),Ole=x.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:o,onClose:s,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:f,onSwipeEnd:h,...m}=t,p=YS(XS,n),[g,b]=x.useState(null),y=Qe(e,I=>b(I)),w=x.useRef(null),_=x.useRef(null),S=i||p.duration,C=x.useRef(0),k=x.useRef(S),E=x.useRef(0),{onToastAdd:T,onToastRemove:M}=p,D=ln(()=>{var z;(g==null?void 0:g.contains(document.activeElement))&&((z=p.viewport)==null||z.focus()),s()}),N=x.useCallback(I=>{!I||I===1/0||(window.clearTimeout(E.current),C.current=new Date().getTime(),E.current=window.setTimeout(D,I))},[D]);x.useEffect(()=>{const I=p.viewport;if(I){const z=()=>{N(k.current),c==null||c()},V=()=>{const j=new Date().getTime()-C.current;k.current=k.current-j,window.clearTimeout(E.current),l==null||l()};return I.addEventListener(LO,V),I.addEventListener(FO,z),()=>{I.removeEventListener(LO,V),I.removeEventListener(FO,z)}}},[p.viewport,S,l,c,N]),x.useEffect(()=>{o&&!p.isClosePausedRef.current&&N(S)},[o,S,p.isClosePausedRef,N]),x.useEffect(()=>(T(),()=>M()),[T,M]);const L=x.useMemo(()=>g?r8(g):null,[g]);return p.viewport?O.jsxs(O.Fragment,{children:[L&&O.jsx(Tle,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:L}),O.jsx(Ple,{scope:n,onClose:D,children:Xd.createPortal(O.jsx(vD.ItemSlot,{scope:n,children:O.jsx(cle,{asChild:!0,onEscapeKeyDown:se(a,()=>{p.isFocusedToastEscapeKeyDownRef.current||D(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:O.jsx(pe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":p.swipeDirection,...m,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:se(t.onKeyDown,I=>{I.key==="Escape"&&(a==null||a(I.nativeEvent),I.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:se(t.onPointerDown,I=>{I.button===0&&(w.current={x:I.clientX,y:I.clientY})}),onPointerMove:se(t.onPointerMove,I=>{if(!w.current)return;const z=I.clientX-w.current.x,V=I.clientY-w.current.y,j=!!_.current,R=["left","right"].includes(p.swipeDirection),$=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,H=R?$(0,z):0,Y=R?0:$(0,V),F=I.pointerType==="touch"?10:2,G={x:H,y:Y},ee={originalEvent:I,delta:G};j?(_.current=G,yb(_le,d,ee,{discrete:!1})):sL(G,p.swipeDirection,F)?(_.current=G,yb(Sle,u,ee,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs(z)>F||Math.abs(V)>F)&&(w.current=null)}),onPointerUp:se(t.onPointerUp,I=>{const z=_.current,V=I.target;if(V.hasPointerCapture(I.pointerId)&&V.releasePointerCapture(I.pointerId),_.current=null,w.current=null,z){const j=I.currentTarget,R={originalEvent:I,delta:z};sL(z,p.swipeDirection,p.swipeThreshold)?yb(kle,h,R,{discrete:!0}):yb(Cle,f,R,{discrete:!0}),j.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),Tle=t=>{const{__scopeToast:e,children:n,...r}=t,i=YS(XS,e),[o,s]=x.useState(!1),[a,l]=x.useState(!1);return Nle(()=>s(!0)),x.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:O.jsx(Qp,{asChild:!0,children:O.jsx(l0,{...r,children:o&&O.jsxs(O.Fragment,{children:[i.label," ",n]})})})},Ale="ToastTitle",ZW=x.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return O.jsx(pe.div,{...r,ref:e})});ZW.displayName=Ale;var Mle="ToastDescription",JW=x.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return O.jsx(pe.div,{...r,ref:e})});JW.displayName=Mle;var QW="ToastAction",e8=x.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?O.jsx(n8,{altText:n,asChild:!0,children:O.jsx(yD,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${QW}\`. Expected non-empty \`string\`.`),null)});e8.displayName=QW;var t8="ToastClose",yD=x.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=Ele(t8,n);return O.jsx(n8,{asChild:!0,children:O.jsx(pe.button,{type:"button",...r,ref:e,onClick:se(t.onClick,i.onClose)})})});yD.displayName=t8;var n8=x.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return O.jsx(pe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function r8(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),Dle(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!i)if(o){const s=r.dataset.radixToastAnnounceAlt;s&&e.push(s)}else e.push(...r8(r))}}),e}function yb(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?mD(i,o):i.dispatchEvent(o)}var sL=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),o=r>i;return e==="left"||e==="right"?o&&r>n:!o&&i>n};function Nle(t=()=>{}){const e=ln(t);Rn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function Dle(t){return t.nodeType===t.ELEMENT_NODE}function Rle(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Nk(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var $le=qW,i8=KW,o8=XW,s8=ZW,a8=JW,l8=e8,c8=yD;function u8(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=u8(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function tt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=u8(t))&&(r&&(r+=" "),r+=e);return r}const aL=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,lL=tt,em=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return lL(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=e,s=Object.keys(i).map(c=>{const u=n==null?void 0:n[c],d=o==null?void 0:o[c];if(u===null)return null;const f=aL(u)||aL(d);return i[c][f]}),a=n&&Object.entries(n).reduce((c,u)=>{let[d,f]=u;return f===void 0||(c[d]=f),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:d,className:f,...h}=u;return Object.entries(h).every(m=>{let[p,g]=m;return Array.isArray(g)?g.includes({...o,...a}[p]):{...o,...a}[p]===g})?[...c,d,f]:c},[]);return lL(t,s,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ile=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),d8=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jle={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lle=x.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:s,...a},l)=>x.createElement("svg",{ref:l,...jle,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:d8("lucide",i),...a},[...s.map(([c,u])=>x.createElement(c,u)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=(t,e)=>{const n=x.forwardRef(({className:r,...i},o)=>x.createElement(Lle,{ref:o,iconNode:e,className:d8(`lucide-${Ile(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f8=qe("ArchiveRestore",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h2",key:"tvwodi"}],["path",{d:"M20 8v11a2 2 0 0 1-2 2h-2",key:"1gkqxj"}],["path",{d:"m9 15 3-3 3 3",key:"1pd0qc"}],["path",{d:"M12 12v9",key:"192myk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dk=qe("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fle=qe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ph=qe("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rk=qe("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=qe("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ble=qe("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=qe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vle=qe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zle=qe("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=qe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=qe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h8=qe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jd=qe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ule=qe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hle=qe("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p8=qe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wle=qe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qle=qe("CircleDashed",[["path",{d:"M10.1 2.182a10 10 0 0 1 3.8 0",key:"5ilxe3"}],["path",{d:"M13.9 21.818a10 10 0 0 1-3.8 0",key:"11zvb9"}],["path",{d:"M17.609 3.721a10 10 0 0 1 2.69 2.7",key:"1iw5b2"}],["path",{d:"M2.182 13.9a10 10 0 0 1 0-3.8",key:"c0bmvh"}],["path",{d:"M20.279 17.609a10 10 0 0 1-2.7 2.69",key:"1ruxm7"}],["path",{d:"M21.818 10.1a10 10 0 0 1 0 3.8",key:"qkgqxc"}],["path",{d:"M3.721 6.391a10 10 0 0 1 2.7-2.69",key:"1mcia2"}],["path",{d:"M6.391 20.279a10 10 0 0 1-2.69-2.7",key:"1fvljs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gle=qe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kle=qe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yle=qe("CloudUpload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xle=qe("Columns2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zle=qe("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m8=qe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jle=qe("FileSearch",[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M4.268 21a2 2 0 0 0 1.727 1H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"ms7g94"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}],["circle",{cx:"5",cy:"14",r:"3",key:"ufru5t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g8=qe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qle=qe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ece=qe("FolderKanban",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tce=qe("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nce=qe("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=qe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rce=qe("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ice=qe("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kc=qe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=qe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oce=qe("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sce=qe("SquareChartGantt",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 8h7",key:"kbo1nt"}],["path",{d:"M8 12h6",key:"ikassy"}],["path",{d:"M11 16h5",key:"oq65wt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ace=qe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=qe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lce=qe("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=qe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QS=qe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=qe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=qe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),PD="-",cce=t=>{const e=dce(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:s=>{const a=s.split(PD);return a[0]===""&&a.length!==1&&a.shift(),v8(a,e)||uce(s)},getConflictingClassGroupIds:(s,a)=>{const l=n[s]||[];return a&&r[s]?[...l,...r[s]]:l}}},v8=(t,e)=>{var s;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?v8(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const o=t.join(PD);return(s=e.validators.find(({validator:a})=>a(o)))==null?void 0:s.classGroupId},cL=/^\[(.+)\]$/,uce=t=>{if(cL.test(t)){const e=cL.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},dce=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return hce(Object.entries(t.classGroups),n).forEach(([o,s])=>{VO(s,r,o,e)}),r},VO=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const o=i===""?e:uL(e,i);o.classGroupId=n;return}if(typeof i=="function"){if(fce(i)){VO(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,s])=>{VO(s,uL(e,o),n,r)})})},uL=(t,e)=>{let n=t;return e.split(PD).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},fce=t=>t.isThemeGetter,hce=(t,e)=>e?t.map(([n,r])=>{const i=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([s,a])=>[e+s,a])):o);return[n,i]}):t,pce=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(o,s)=>{n.set(o,s),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let s=n.get(o);if(s!==void 0)return s;if((s=r.get(o))!==void 0)return i(o,s),s},set(o,s){n.has(o)?n.set(o,s):i(o,s)}}},y8="!",mce=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],o=e.length,s=a=>{const l=[];let c=0,u=0,d;for(let g=0;g<a.length;g++){let b=a[g];if(c===0){if(b===i&&(r||a.slice(g,g+o)===e)){l.push(a.slice(u,g)),u=g+o;continue}if(b==="/"){d=g;continue}}b==="["?c++:b==="]"&&c--}const f=l.length===0?a:a.substring(u),h=f.startsWith(y8),m=h?f.substring(1):f,p=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:p}};return n?a=>n({className:a,parseClassName:s}):s},gce=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},vce=t=>({cache:pce(t.cacheSize),parseClassName:mce(t),...cce(t)}),yce=/\s+/,bce=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,o=[],s=t.trim().split(yce);let a="";for(let l=s.length-1;l>=0;l-=1){const c=s[l],{modifiers:u,hasImportantModifier:d,baseClassName:f,maybePostfixModifierPosition:h}=n(c);let m=!!h,p=r(m?f.substring(0,h):f);if(!p){if(!m){a=c+(a.length>0?" "+a:a);continue}if(p=r(f),!p){a=c+(a.length>0?" "+a:a);continue}m=!1}const g=gce(u).join(":"),b=d?g+y8:g,y=b+p;if(o.includes(y))continue;o.push(y);const w=i(p,m);for(let _=0;_<w.length;++_){const S=w[_];o.push(b+S)}a=c+(a.length>0?" "+a:a)}return a};function wce(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=b8(e))&&(r&&(r+=" "),r+=n);return r}const b8=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=b8(t[r]))&&(n&&(n+=" "),n+=e);return n};function xce(t,...e){let n,r,i,o=s;function s(l){const c=e.reduce((u,d)=>d(u),t());return n=vce(c),r=n.cache.get,i=n.cache.set,o=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=bce(l,n);return i(l,u),u}return function(){return o(wce.apply(null,arguments))}}const Qt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},w8=/^\[(?:([a-z-]+):)?(.+)\]$/i,Sce=/^\d+\/\d+$/,_ce=new Set(["px","full","screen"]),Cce=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,kce=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Pce=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Ece=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Oce=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ba=t=>mh(t)||_ce.has(t)||Sce.test(t),Al=t=>tm(t,"length",Ice),mh=t=>!!t&&!Number.isNaN(Number(t)),$k=t=>tm(t,"number",mh),Fm=t=>!!t&&Number.isInteger(Number(t)),Tce=t=>t.endsWith("%")&&mh(t.slice(0,-1)),rt=t=>w8.test(t),Ml=t=>Cce.test(t),Ace=new Set(["length","size","percentage"]),Mce=t=>tm(t,Ace,x8),Nce=t=>tm(t,"position",x8),Dce=new Set(["image","url"]),Rce=t=>tm(t,Dce,Lce),$ce=t=>tm(t,"",jce),Bm=()=>!0,tm=(t,e,n)=>{const r=w8.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},Ice=t=>kce.test(t)&&!Pce.test(t),x8=()=>!1,jce=t=>Ece.test(t),Lce=t=>Oce.test(t),Fce=()=>{const t=Qt("colors"),e=Qt("spacing"),n=Qt("blur"),r=Qt("brightness"),i=Qt("borderColor"),o=Qt("borderRadius"),s=Qt("borderSpacing"),a=Qt("borderWidth"),l=Qt("contrast"),c=Qt("grayscale"),u=Qt("hueRotate"),d=Qt("invert"),f=Qt("gap"),h=Qt("gradientColorStops"),m=Qt("gradientColorStopPositions"),p=Qt("inset"),g=Qt("margin"),b=Qt("opacity"),y=Qt("padding"),w=Qt("saturate"),_=Qt("scale"),S=Qt("sepia"),C=Qt("skew"),k=Qt("space"),E=Qt("translate"),T=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",rt,e],N=()=>[rt,e],L=()=>["",ba,Al],I=()=>["auto",mh,rt],z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],V=()=>["solid","dashed","dotted","double","none"],j=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",rt],H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Y=()=>[mh,rt];return{cacheSize:500,separator:":",theme:{colors:[Bm],spacing:[ba,Al],blur:["none","",Ml,rt],brightness:Y(),borderColor:[t],borderRadius:["none","","full",Ml,rt],borderSpacing:N(),borderWidth:L(),contrast:Y(),grayscale:$(),hueRotate:Y(),invert:$(),gap:N(),gradientColorStops:[t],gradientColorStopPositions:[Tce,Al],inset:D(),margin:D(),opacity:Y(),padding:N(),saturate:Y(),scale:Y(),sepia:$(),skew:Y(),space:N(),translate:N()},classGroups:{aspect:[{aspect:["auto","square","video",rt]}],container:["container"],columns:[{columns:[Ml]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...z(),rt]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Fm,rt]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",rt]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",Fm,rt]}],"grid-cols":[{"grid-cols":[Bm]}],"col-start-end":[{col:["auto",{span:["full",Fm,rt]},rt]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[Bm]}],"row-start-end":[{row:["auto",{span:[Fm,rt]},rt]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",rt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",rt]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",rt,e]}],"min-w":[{"min-w":[rt,e,"min","max","fit"]}],"max-w":[{"max-w":[rt,e,"none","full","min","max","fit","prose",{screen:[Ml]},Ml]}],h:[{h:[rt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[rt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[rt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[rt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ml,Al]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",$k]}],"font-family":[{font:[Bm]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",rt]}],"line-clamp":[{"line-clamp":["none",mh,$k]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ba,rt]}],"list-image":[{"list-image":["none",rt]}],"list-style-type":[{list:["none","disc","decimal",rt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ba,Al]}],"underline-offset":[{"underline-offset":["auto",ba,rt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",rt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",rt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...z(),Nce]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Mce]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Rce]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...V(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:V()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...V()]}],"outline-offset":[{"outline-offset":[ba,rt]}],"outline-w":[{outline:[ba,Al]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[ba,Al]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ml,$ce]}],"shadow-color":[{shadow:[Bm]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...j(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":j()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Ml,rt]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[w]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",rt]}],duration:[{duration:Y()}],ease:[{ease:["linear","in","out","in-out",rt]}],delay:[{delay:Y()}],animate:[{animate:["none","spin","ping","pulse","bounce",rt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Fm,rt]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",rt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",rt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",rt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ba,Al,$k]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Bce=xce(Fce);function q(...t){return Bce(tt(t))}const Vce=$le,S8=x.forwardRef(({className:t,...e},n)=>v(i8,{ref:n,className:q("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));S8.displayName=i8.displayName;const zce=em("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),_8=x.forwardRef(({className:t,variant:e,...n},r)=>v(o8,{ref:r,className:q(zce({variant:e}),t),...n}));_8.displayName=o8.displayName;const Uce=x.forwardRef(({className:t,...e},n)=>v(l8,{ref:n,className:q("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Uce.displayName=l8.displayName;const C8=x.forwardRef(({className:t,...e},n)=>v(c8,{ref:n,className:q("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:v(kD,{className:"h-4 w-4"})}));C8.displayName=c8.displayName;const k8=x.forwardRef(({className:t,...e},n)=>v(s8,{ref:n,className:q("text-sm font-semibold",t),...e}));k8.displayName=s8.displayName;const P8=x.forwardRef(({className:t,...e},n)=>v(a8,{ref:n,className:q("text-sm opacity-90",t),...e}));P8.displayName=a8.displayName;function Hce(){const{toasts:t}=Kae();return P(Vce,{children:[t.map(function({id:e,title:n,description:r,action:i,...o}){return P(_8,{...o,children:[P("div",{className:"grid gap-1",children:[n&&v(k8,{children:n}),r&&v(P8,{children:r})]}),i,v(C8,{})]},e)}),v(S8,{})]})}var dL=["light","dark"],Wce="(prefers-color-scheme: dark)",qce=x.createContext(void 0),Gce={setTheme:t=>{},themes:[]},Kce=()=>{var t;return(t=x.useContext(qce))!=null?t:Gce};x.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:o,value:s,attrs:a,nonce:l})=>{let c=o==="system",u=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(m=>`'${m}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,d=i?dL.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(m,p=!1,g=!0)=>{let b=s?s[m]:m,y=p?m+"|| ''":`'${b}'`,w="";return i&&g&&!p&&dL.includes(m)&&(w+=`d.style.colorScheme = '${m}';`),n==="class"?p||b?w+=`c.add(${y})`:w+="null":b&&(w+=`d[s](n,${y})`),w},h=t?`!function(){${u}${f(t)}}()`:r?`!function(){try{${u}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${Wce}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${s?`var x=${JSON.stringify(s)};`:""}${f(s?"x[e]":"e",!0)}}${c?"":"else{"+f(o,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${e}');if(e){${s?`var x=${JSON.stringify(s)};`:""}${f(s?"x[e]":"e",!0)}}else{${f(o,!1,!1)};}${d}}catch(t){}}();`;return x.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:h}})});var Yce=t=>{switch(t){case"success":return Jce;case"info":return eue;case"warning":return Qce;case"error":return tue;default:return null}},Xce=Array(12).fill(0),Zce=({visible:t,className:e})=>A.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},A.createElement("div",{className:"sonner-spinner"},Xce.map((n,r)=>A.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),Jce=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},A.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Qce=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},A.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),eue=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},A.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),tue=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},A.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),nue=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},A.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),A.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),rue=()=>{let[t,e]=A.useState(document.hidden);return A.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},zO=1,iue=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:zO++,o=this.toasts.find(a=>a.id===i),s=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(a=>a.id===i?(this.publish({...a,...t,id:i,title:n}),{...a,...t,id:i,dismissible:s,title:n}):a):this.addToast({title:n,...r,dismissible:s,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),i=n!==void 0,o,s=r.then(async l=>{if(o=["resolve",l],A.isValidElement(l))i=!1,this.create({id:n,type:"default",message:l});else if(sue(l)&&!l.ok){i=!1;let c=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,u=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:n,type:"error",message:c,description:u})}else if(e.success!==void 0){i=!1;let c=typeof e.success=="function"?await e.success(l):e.success,u=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"success",message:c,description:u})}}).catch(async l=>{if(o=["reject",l],e.error!==void 0){i=!1;let c=typeof e.error=="function"?await e.error(l):e.error,u=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"error",message:c,description:u})}}).finally(()=>{var l;i&&(this.dismiss(n),n=void 0),(l=e.finally)==null||l.call(e)}),a=()=>new Promise((l,c)=>s.then(()=>o[0]==="reject"?c(o[1]):l(o[1])).catch(c));return typeof n!="string"&&typeof n!="number"?{unwrap:a}:Object.assign(n,{unwrap:a})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||zO++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},ci=new iue,oue=(t,e)=>{let n=(e==null?void 0:e.id)||zO++;return ci.addToast({title:t,...e,id:n}),n},sue=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",aue=oue,lue=()=>ci.toasts,cue=()=>ci.getActiveToasts(),xe=Object.assign(aue,{success:ci.success,info:ci.info,warning:ci.warning,error:ci.error,custom:ci.custom,message:ci.message,promise:ci.promise,dismiss:ci.dismiss,loading:ci.loading},{getHistory:lue,getToasts:cue});function uue(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}uue(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function bb(t){return t.label!==void 0}var due=3,fue="32px",hue="16px",fL=4e3,pue=356,mue=14,gue=20,vue=200;function jo(...t){return t.filter(Boolean).join(" ")}function yue(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var bue=t=>{var e,n,r,i,o,s,a,l,c,u,d;let{invert:f,toast:h,unstyled:m,interacting:p,setHeights:g,visibleToasts:b,heights:y,index:w,toasts:_,expanded:S,removeToast:C,defaultRichColors:k,closeButton:E,style:T,cancelButtonStyle:M,actionButtonStyle:D,className:N="",descriptionClassName:L="",duration:I,position:z,gap:V,loadingIcon:j,expandByDefault:R,classNames:$,icons:H,closeButtonAriaLabel:Y="Close toast",pauseWhenPageIsHidden:F}=t,[G,ee]=A.useState(null),[te,me]=A.useState(null),[Q,ke]=A.useState(!1),[Z,le]=A.useState(!1),[ue,K]=A.useState(!1),[nt,Ie]=A.useState(!1),[Mt,_t]=A.useState(!1),[Zt,vr]=A.useState(0),[jr,kl]=A.useState(0),yr=A.useRef(h.duration||I||fL),B=A.useRef(null),W=A.useRef(null),J=w===0,he=w+1<=b,ae=h.type,ie=h.dismissible!==!1,Se=h.className||"",mt=h.descriptionClassName||"",Jt=A.useMemo(()=>y.findIndex(Ge=>Ge.toastId===h.id)||0,[y,h.id]),Hn=A.useMemo(()=>{var Ge;return(Ge=h.closeButton)!=null?Ge:E},[h.closeButton,E]),Y0=A.useMemo(()=>h.duration||I||fL,[h.duration,I]),yu=A.useRef(0),Ss=A.useRef(0),X0=A.useRef(0),ya=A.useRef(null),[ek,Z0]=z.split("-"),jj=A.useMemo(()=>y.reduce((Ge,jt,sn)=>sn>=Jt?Ge:Ge+jt.height,0),[y,Jt]),Lj=rue(),hie=h.invert||f,tk=ae==="loading";Ss.current=A.useMemo(()=>Jt*V+jj,[Jt,jj]),A.useEffect(()=>{yr.current=Y0},[Y0]),A.useEffect(()=>{ke(!0)},[]),A.useEffect(()=>{let Ge=W.current;if(Ge){let jt=Ge.getBoundingClientRect().height;return kl(jt),g(sn=>[{toastId:h.id,height:jt,position:h.position},...sn]),()=>g(sn=>sn.filter(Do=>Do.toastId!==h.id))}},[g,h.id]),A.useLayoutEffect(()=>{if(!Q)return;let Ge=W.current,jt=Ge.style.height;Ge.style.height="auto";let sn=Ge.getBoundingClientRect().height;Ge.style.height=jt,kl(sn),g(Do=>Do.find(Ro=>Ro.toastId===h.id)?Do.map(Ro=>Ro.toastId===h.id?{...Ro,height:sn}:Ro):[{toastId:h.id,height:sn,position:h.position},...Do])},[Q,h.title,h.description,g,h.id]);let Pl=A.useCallback(()=>{le(!0),vr(Ss.current),g(Ge=>Ge.filter(jt=>jt.toastId!==h.id)),setTimeout(()=>{C(h)},vue)},[h,C,g,Ss]);A.useEffect(()=>{if(h.promise&&ae==="loading"||h.duration===1/0||h.type==="loading")return;let Ge;return S||p||F&&Lj?(()=>{if(X0.current<yu.current){let jt=new Date().getTime()-yu.current;yr.current=yr.current-jt}X0.current=new Date().getTime()})():yr.current!==1/0&&(yu.current=new Date().getTime(),Ge=setTimeout(()=>{var jt;(jt=h.onAutoClose)==null||jt.call(h,h),Pl()},yr.current)),()=>clearTimeout(Ge)},[S,p,h,ae,F,Lj,Pl]),A.useEffect(()=>{h.delete&&Pl()},[Pl,h.delete]);function pie(){var Ge,jt,sn;return H!=null&&H.loading?A.createElement("div",{className:jo($==null?void 0:$.loader,(Ge=h==null?void 0:h.classNames)==null?void 0:Ge.loader,"sonner-loader"),"data-visible":ae==="loading"},H.loading):j?A.createElement("div",{className:jo($==null?void 0:$.loader,(jt=h==null?void 0:h.classNames)==null?void 0:jt.loader,"sonner-loader"),"data-visible":ae==="loading"},j):A.createElement(Zce,{className:jo($==null?void 0:$.loader,(sn=h==null?void 0:h.classNames)==null?void 0:sn.loader),visible:ae==="loading"})}return A.createElement("li",{tabIndex:0,ref:W,className:jo(N,Se,$==null?void 0:$.toast,(e=h==null?void 0:h.classNames)==null?void 0:e.toast,$==null?void 0:$.default,$==null?void 0:$[ae],(n=h==null?void 0:h.classNames)==null?void 0:n[ae]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:k,"data-styled":!(h.jsx||h.unstyled||m),"data-mounted":Q,"data-promise":!!h.promise,"data-swiped":Mt,"data-removed":Z,"data-visible":he,"data-y-position":ek,"data-x-position":Z0,"data-index":w,"data-front":J,"data-swiping":ue,"data-dismissible":ie,"data-type":ae,"data-invert":hie,"data-swipe-out":nt,"data-swipe-direction":te,"data-expanded":!!(S||R&&Q),style:{"--index":w,"--toasts-before":w,"--z-index":_.length-w,"--offset":`${Z?Zt:Ss.current}px`,"--initial-height":R?"auto":`${jr}px`,...T,...h.style},onDragEnd:()=>{K(!1),ee(null),ya.current=null},onPointerDown:Ge=>{tk||!ie||(B.current=new Date,vr(Ss.current),Ge.target.setPointerCapture(Ge.pointerId),Ge.target.tagName!=="BUTTON"&&(K(!0),ya.current={x:Ge.clientX,y:Ge.clientY}))},onPointerUp:()=>{var Ge,jt,sn,Do;if(nt||!ie)return;ya.current=null;let Ro=Number(((Ge=W.current)==null?void 0:Ge.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),El=Number(((jt=W.current)==null?void 0:jt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),bu=new Date().getTime()-((sn=B.current)==null?void 0:sn.getTime()),$o=G==="x"?Ro:El,Ol=Math.abs($o)/bu;if(Math.abs($o)>=gue||Ol>.11){vr(Ss.current),(Do=h.onDismiss)==null||Do.call(h,h),me(G==="x"?Ro>0?"right":"left":El>0?"down":"up"),Pl(),Ie(!0),_t(!1);return}K(!1),ee(null)},onPointerMove:Ge=>{var jt,sn,Do,Ro;if(!ya.current||!ie||((jt=window.getSelection())==null?void 0:jt.toString().length)>0)return;let El=Ge.clientY-ya.current.y,bu=Ge.clientX-ya.current.x,$o=(sn=t.swipeDirections)!=null?sn:yue(z);!G&&(Math.abs(bu)>1||Math.abs(El)>1)&&ee(Math.abs(bu)>Math.abs(El)?"x":"y");let Ol={x:0,y:0};G==="y"?($o.includes("top")||$o.includes("bottom"))&&($o.includes("top")&&El<0||$o.includes("bottom")&&El>0)&&(Ol.y=El):G==="x"&&($o.includes("left")||$o.includes("right"))&&($o.includes("left")&&bu<0||$o.includes("right")&&bu>0)&&(Ol.x=bu),(Math.abs(Ol.x)>0||Math.abs(Ol.y)>0)&&_t(!0),(Do=W.current)==null||Do.style.setProperty("--swipe-amount-x",`${Ol.x}px`),(Ro=W.current)==null||Ro.style.setProperty("--swipe-amount-y",`${Ol.y}px`)}},Hn&&!h.jsx?A.createElement("button",{"aria-label":Y,"data-disabled":tk,"data-close-button":!0,onClick:tk||!ie?()=>{}:()=>{var Ge;Pl(),(Ge=h.onDismiss)==null||Ge.call(h,h)},className:jo($==null?void 0:$.closeButton,(i=h==null?void 0:h.classNames)==null?void 0:i.closeButton)},(o=H==null?void 0:H.close)!=null?o:nue):null,h.jsx||x.isValidElement(h.title)?h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title:A.createElement(A.Fragment,null,ae||h.icon||h.promise?A.createElement("div",{"data-icon":"",className:jo($==null?void 0:$.icon,(s=h==null?void 0:h.classNames)==null?void 0:s.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||pie():null,h.type!=="loading"?h.icon||(H==null?void 0:H[ae])||Yce(ae):null):null,A.createElement("div",{"data-content":"",className:jo($==null?void 0:$.content,(a=h==null?void 0:h.classNames)==null?void 0:a.content)},A.createElement("div",{"data-title":"",className:jo($==null?void 0:$.title,(l=h==null?void 0:h.classNames)==null?void 0:l.title)},typeof h.title=="function"?h.title():h.title),h.description?A.createElement("div",{"data-description":"",className:jo(L,mt,$==null?void 0:$.description,(c=h==null?void 0:h.classNames)==null?void 0:c.description)},typeof h.description=="function"?h.description():h.description):null),x.isValidElement(h.cancel)?h.cancel:h.cancel&&bb(h.cancel)?A.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||M,onClick:Ge=>{var jt,sn;bb(h.cancel)&&ie&&((sn=(jt=h.cancel).onClick)==null||sn.call(jt,Ge),Pl())},className:jo($==null?void 0:$.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,x.isValidElement(h.action)?h.action:h.action&&bb(h.action)?A.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||D,onClick:Ge=>{var jt,sn;bb(h.action)&&((sn=(jt=h.action).onClick)==null||sn.call(jt,Ge),!Ge.defaultPrevented&&Pl())},className:jo($==null?void 0:$.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function hL(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function wue(t,e){let n={};return[t,e].forEach((r,i)=>{let o=i===1,s=o?"--mobile-offset":"--offset",a=o?hue:fue;function l(c){["top","right","bottom","left"].forEach(u=>{n[`${s}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${s}-${c}`]=a:n[`${s}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(a)}),n}var xue=x.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:o,closeButton:s,className:a,offset:l,mobileOffset:c,theme:u="light",richColors:d,duration:f,style:h,visibleToasts:m=due,toastOptions:p,dir:g=hL(),gap:b=mue,loadingIcon:y,icons:w,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:S}=t,[C,k]=A.useState([]),E=A.useMemo(()=>Array.from(new Set([r].concat(C.filter(F=>F.position).map(F=>F.position)))),[C,r]),[T,M]=A.useState([]),[D,N]=A.useState(!1),[L,I]=A.useState(!1),[z,V]=A.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),j=A.useRef(null),R=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),$=A.useRef(null),H=A.useRef(!1),Y=A.useCallback(F=>{k(G=>{var ee;return(ee=G.find(te=>te.id===F.id))!=null&&ee.delete||ci.dismiss(F.id),G.filter(({id:te})=>te!==F.id)})},[]);return A.useEffect(()=>ci.subscribe(F=>{if(F.dismiss){k(G=>G.map(ee=>ee.id===F.id?{...ee,delete:!0}:ee));return}setTimeout(()=>{hD.flushSync(()=>{k(G=>{let ee=G.findIndex(te=>te.id===F.id);return ee!==-1?[...G.slice(0,ee),{...G[ee],...F},...G.slice(ee+1)]:[F,...G]})})})}),[]),A.useEffect(()=>{if(u!=="system"){V(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?V("dark"):V("light")),typeof window>"u")return;let F=window.matchMedia("(prefers-color-scheme: dark)");try{F.addEventListener("change",({matches:G})=>{V(G?"dark":"light")})}catch{F.addListener(({matches:ee})=>{try{V(ee?"dark":"light")}catch(te){console.error(te)}})}},[u]),A.useEffect(()=>{C.length<=1&&N(!1)},[C]),A.useEffect(()=>{let F=G=>{var ee,te;i.every(me=>G[me]||G.code===me)&&(N(!0),(ee=j.current)==null||ee.focus()),G.code==="Escape"&&(document.activeElement===j.current||(te=j.current)!=null&&te.contains(document.activeElement))&&N(!1)};return document.addEventListener("keydown",F),()=>document.removeEventListener("keydown",F)},[i]),A.useEffect(()=>{if(j.current)return()=>{$.current&&($.current.focus({preventScroll:!0}),$.current=null,H.current=!1)}},[j.current]),A.createElement("section",{ref:e,"aria-label":`${_} ${R}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},E.map((F,G)=>{var ee;let[te,me]=F.split("-");return C.length?A.createElement("ol",{key:F,dir:g==="auto"?hL():g,tabIndex:-1,ref:j,className:a,"data-sonner-toaster":!0,"data-theme":z,"data-y-position":te,"data-lifted":D&&C.length>1&&!o,"data-x-position":me,style:{"--front-toast-height":`${((ee=T[0])==null?void 0:ee.height)||0}px`,"--width":`${pue}px`,"--gap":`${b}px`,...h,...wue(l,c)},onBlur:Q=>{H.current&&!Q.currentTarget.contains(Q.relatedTarget)&&(H.current=!1,$.current&&($.current.focus({preventScroll:!0}),$.current=null))},onFocus:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||H.current||(H.current=!0,$.current=Q.relatedTarget)},onMouseEnter:()=>N(!0),onMouseMove:()=>N(!0),onMouseLeave:()=>{L||N(!1)},onDragEnd:()=>N(!1),onPointerDown:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||I(!0)},onPointerUp:()=>I(!1)},C.filter(Q=>!Q.position&&G===0||Q.position===F).map((Q,ke)=>{var Z,le;return A.createElement(bue,{key:Q.id,icons:w,index:ke,toast:Q,defaultRichColors:d,duration:(Z=p==null?void 0:p.duration)!=null?Z:f,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:n,visibleToasts:m,closeButton:(le=p==null?void 0:p.closeButton)!=null?le:s,interacting:L,position:F,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:Y,toasts:C.filter(ue=>ue.position==Q.position),heights:T.filter(ue=>ue.position==Q.position),setHeights:M,expandByDefault:o,gap:b,loadingIcon:y,expanded:D,pauseWhenPageIsHidden:S,swipeDirections:t.swipeDirections})})):null}))});const Sue=({...t})=>{const{theme:e="system"}=Kce();return v(xue,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var _ue=zw[" useId ".trim().toString()]||(()=>{}),Cue=0;function Zn(t){const[e,n]=x.useState(_ue());return Rn(()=>{n(r=>r??String(Cue++))},[t]),e?`radix-${e}`:""}const kue=["top","right","bottom","left"],Lc=Math.min,Ri=Math.max,px=Math.round,wb=Math.floor,Ws=t=>({x:t,y:t}),Pue={left:"right",right:"left",bottom:"top",top:"bottom"},Eue={start:"end",end:"start"};function UO(t,e,n){return Ri(t,Lc(e,n))}function il(t,e){return typeof t=="function"?t(e):t}function ol(t){return t.split("-")[0]}function nm(t){return t.split("-")[1]}function ED(t){return t==="x"?"y":"x"}function OD(t){return t==="y"?"height":"width"}function Fc(t){return["top","bottom"].includes(ol(t))?"y":"x"}function TD(t){return ED(Fc(t))}function Oue(t,e,n){n===void 0&&(n=!1);const r=nm(t),i=TD(t),o=OD(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=mx(s)),[s,mx(s)]}function Tue(t){const e=mx(t);return[HO(t),e,HO(e)]}function HO(t){return t.replace(/start|end/g,e=>Eue[e])}function Aue(t,e,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?o:s;default:return[]}}function Mue(t,e,n,r){const i=nm(t);let o=Aue(ol(t),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),e&&(o=o.concat(o.map(HO)))),o}function mx(t){return t.replace(/left|right|bottom|top/g,e=>Pue[e])}function Nue(t){return{top:0,right:0,bottom:0,left:0,...t}}function E8(t){return typeof t!="number"?Nue(t):{top:t,right:t,bottom:t,left:t}}function gx(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function pL(t,e,n){let{reference:r,floating:i}=t;const o=Fc(e),s=TD(e),a=OD(s),l=ol(e),c=o==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let h;switch(l){case"top":h={x:u,y:r.y-i.height};break;case"bottom":h={x:u,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:d};break;case"left":h={x:r.x-i.width,y:d};break;default:h={x:r.x,y:r.y}}switch(nm(e)){case"start":h[s]-=f*(n&&c?-1:1);break;case"end":h[s]+=f*(n&&c?-1:1);break}return h}const Due=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:d}=pL(c,r,l),f=r,h={},m=0;for(let p=0;p<a.length;p++){const{name:g,fn:b}=a[p],{x:y,y:w,data:_,reset:S}=await b({x:u,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:h,rects:c,platform:s,elements:{reference:t,floating:e}});u=y??u,d=w??d,h={...h,[g]:{...h[g],..._}},S&&m<=50&&(m++,typeof S=="object"&&(S.placement&&(f=S.placement),S.rects&&(c=S.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):S.rects),{x:u,y:d}=pL(c,f,l)),p=-1)}return{x:u,y:d,placement:f,strategy:i,middlewareData:h}};async function kv(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=il(e,t),m=E8(h),g=a[f?d==="floating"?"reference":"floating":d],b=gx(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(g)))==null||n?g:g.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),y=d==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),_=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},S=gx(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:w,strategy:l}):y);return{top:(b.top-S.top+m.top)/_.y,bottom:(S.bottom-b.bottom+m.bottom)/_.y,left:(b.left-S.left+m.left)/_.x,right:(S.right-b.right+m.right)/_.x}}const Rue=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=il(t,e)||{};if(c==null)return{};const d=E8(u),f={x:n,y:r},h=TD(i),m=OD(h),p=await s.getDimensions(c),g=h==="y",b=g?"top":"left",y=g?"bottom":"right",w=g?"clientHeight":"clientWidth",_=o.reference[m]+o.reference[h]-f[h]-o.floating[m],S=f[h]-o.reference[h],C=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let k=C?C[w]:0;(!k||!await(s.isElement==null?void 0:s.isElement(C)))&&(k=a.floating[w]||o.floating[m]);const E=_/2-S/2,T=k/2-p[m]/2-1,M=Lc(d[b],T),D=Lc(d[y],T),N=M,L=k-p[m]-D,I=k/2-p[m]/2+E,z=UO(N,I,L),V=!l.arrow&&nm(i)!=null&&I!==z&&o.reference[m]/2-(I<N?M:D)-p[m]/2<0,j=V?I<N?I-N:I-L:0;return{[h]:f[h]+j,data:{[h]:z,centerOffset:I-z-j,...V&&{alignmentOffset:j}},reset:V}}}),$ue=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:p=!0,...g}=il(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const b=ol(i),y=Fc(a),w=ol(a)===a,_=await(l.isRTL==null?void 0:l.isRTL(c.floating)),S=f||(w||!p?[mx(a)]:Tue(a)),C=m!=="none";!f&&C&&S.push(...Mue(a,p,m,_));const k=[a,...S],E=await kv(e,g),T=[];let M=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&T.push(E[b]),d){const I=Oue(i,s,_);T.push(E[I[0]],E[I[1]])}if(M=[...M,{placement:i,overflows:T}],!T.every(I=>I<=0)){var D,N;const I=(((D=o.flip)==null?void 0:D.index)||0)+1,z=k[I];if(z)return{data:{index:I,overflows:M},reset:{placement:z}};let V=(N=M.filter(j=>j.overflows[0]<=0).sort((j,R)=>j.overflows[1]-R.overflows[1])[0])==null?void 0:N.placement;if(!V)switch(h){case"bestFit":{var L;const j=(L=M.filter(R=>{if(C){const $=Fc(R.placement);return $===y||$==="y"}return!0}).map(R=>[R.placement,R.overflows.filter($=>$>0).reduce(($,H)=>$+H,0)]).sort((R,$)=>R[1]-$[1])[0])==null?void 0:L[0];j&&(V=j);break}case"initialPlacement":V=a;break}if(i!==V)return{reset:{placement:V}}}return{}}}};function mL(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function gL(t){return kue.some(e=>t[e]>=0)}const Iue=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=il(t,e);switch(r){case"referenceHidden":{const o=await kv(e,{...i,elementContext:"reference"}),s=mL(o,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:gL(s)}}}case"escaped":{const o=await kv(e,{...i,altBoundary:!0}),s=mL(o,n.floating);return{data:{escapedOffsets:s,escaped:gL(s)}}}default:return{}}}}};async function jue(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=ol(n),a=nm(n),l=Fc(n)==="y",c=["left","top"].includes(s)?-1:1,u=o&&l?-1:1,d=il(e,t);let{mainAxis:f,crossAxis:h,alignmentAxis:m}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof m=="number"&&(h=a==="end"?m*-1:m),l?{x:h*u,y:f*c}:{x:f*c,y:h*u}}const Lue=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=e,l=await jue(e,t);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},Fue=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:g=>{let{x:b,y}=g;return{x:b,y}}},...l}=il(t,e),c={x:n,y:r},u=await kv(e,l),d=Fc(ol(i)),f=ED(d);let h=c[f],m=c[d];if(o){const g=f==="y"?"top":"left",b=f==="y"?"bottom":"right",y=h+u[g],w=h-u[b];h=UO(y,h,w)}if(s){const g=d==="y"?"top":"left",b=d==="y"?"bottom":"right",y=m+u[g],w=m-u[b];m=UO(y,m,w)}const p=a.fn({...e,[f]:h,[d]:m});return{...p,data:{x:p.x-n,y:p.y-r,enabled:{[f]:o,[d]:s}}}}}},Bue=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:o,middlewareData:s}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=il(t,e),u={x:n,y:r},d=Fc(i),f=ED(d);let h=u[f],m=u[d];const p=il(a,e),g=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(l){const w=f==="y"?"height":"width",_=o.reference[f]-o.floating[w]+g.mainAxis,S=o.reference[f]+o.reference[w]-g.mainAxis;h<_?h=_:h>S&&(h=S)}if(c){var b,y;const w=f==="y"?"width":"height",_=["top","left"].includes(ol(i)),S=o.reference[d]-o.floating[w]+(_&&((b=s.offset)==null?void 0:b[d])||0)+(_?0:g.crossAxis),C=o.reference[d]+o.reference[w]+(_?0:((y=s.offset)==null?void 0:y[d])||0)-(_?g.crossAxis:0);m<S?m=S:m>C&&(m=C)}return{[f]:h,[d]:m}}}},Vue=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:o,platform:s,elements:a}=e,{apply:l=()=>{},...c}=il(t,e),u=await kv(e,c),d=ol(i),f=nm(i),h=Fc(i)==="y",{width:m,height:p}=o.floating;let g,b;d==="top"||d==="bottom"?(g=d,b=f===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(b=d,g=f==="end"?"top":"bottom");const y=p-u.top-u.bottom,w=m-u.left-u.right,_=Lc(p-u[g],y),S=Lc(m-u[b],w),C=!e.middlewareData.shift;let k=_,E=S;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(E=w),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(k=y),C&&!f){const M=Ri(u.left,0),D=Ri(u.right,0),N=Ri(u.top,0),L=Ri(u.bottom,0);h?E=m-2*(M!==0||D!==0?M+D:Ri(u.left,u.right)):k=p-2*(N!==0||L!==0?N+L:Ri(u.top,u.bottom))}await l({...e,availableWidth:E,availableHeight:k});const T=await s.getDimensions(a.floating);return m!==T.width||p!==T.height?{reset:{rects:!0}}:{}}}};function e_(){return typeof window<"u"}function rm(t){return O8(t)?(t.nodeName||"").toLowerCase():"#document"}function Ui(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function da(t){var e;return(e=(O8(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function O8(t){return e_()?t instanceof Node||t instanceof Ui(t).Node:!1}function us(t){return e_()?t instanceof Element||t instanceof Ui(t).Element:!1}function ta(t){return e_()?t instanceof HTMLElement||t instanceof Ui(t).HTMLElement:!1}function vL(t){return!e_()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ui(t).ShadowRoot}function c0(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=ds(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function zue(t){return["table","td","th"].includes(rm(t))}function t_(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function AD(t){const e=MD(),n=us(t)?ds(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Uue(t){let e=Bc(t);for(;ta(e)&&!Zh(e);){if(AD(e))return e;if(t_(e))return null;e=Bc(e)}return null}function MD(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Zh(t){return["html","body","#document"].includes(rm(t))}function ds(t){return Ui(t).getComputedStyle(t)}function n_(t){return us(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Bc(t){if(rm(t)==="html")return t;const e=t.assignedSlot||t.parentNode||vL(t)&&t.host||da(t);return vL(e)?e.host:e}function T8(t){const e=Bc(t);return Zh(e)?t.ownerDocument?t.ownerDocument.body:t.body:ta(e)&&c0(e)?e:T8(e)}function Pv(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=T8(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),s=Ui(i);if(o){const a=WO(s);return e.concat(s,s.visualViewport||[],c0(i)?i:[],a&&n?Pv(a):[])}return e.concat(i,Pv(i,[],n))}function WO(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function A8(t){const e=ds(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=ta(t),o=i?t.offsetWidth:n,s=i?t.offsetHeight:r,a=px(n)!==o||px(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function ND(t){return us(t)?t:t.contextElement}function gh(t){const e=ND(t);if(!ta(e))return Ws(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=A8(e);let s=(o?px(n.width):n.width)/r,a=(o?px(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const Hue=Ws(0);function M8(t){const e=Ui(t);return!MD()||!e.visualViewport?Hue:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Wue(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ui(t)?!1:e}function Ed(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=ND(t);let s=Ws(1);e&&(r?us(r)&&(s=gh(r)):s=gh(t));const a=Wue(o,n,r)?M8(o):Ws(0);let l=(i.left+a.x)/s.x,c=(i.top+a.y)/s.y,u=i.width/s.x,d=i.height/s.y;if(o){const f=Ui(o),h=r&&us(r)?Ui(r):r;let m=f,p=WO(m);for(;p&&r&&h!==m;){const g=gh(p),b=p.getBoundingClientRect(),y=ds(p),w=b.left+(p.clientLeft+parseFloat(y.paddingLeft))*g.x,_=b.top+(p.clientTop+parseFloat(y.paddingTop))*g.y;l*=g.x,c*=g.y,u*=g.x,d*=g.y,l+=w,c+=_,m=Ui(p),p=WO(m)}}return gx({width:u,height:d,x:l,y:c})}function DD(t,e){const n=n_(t).scrollLeft;return e?e.left+n:Ed(da(t)).left+n}function N8(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:DD(t,r)),o=r.top+e.scrollTop;return{x:i,y:o}}function que(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",s=da(r),a=e?t_(e.floating):!1;if(r===s||a&&o)return n;let l={scrollLeft:0,scrollTop:0},c=Ws(1);const u=Ws(0),d=ta(r);if((d||!d&&!o)&&((rm(r)!=="body"||c0(s))&&(l=n_(r)),ta(r))){const h=Ed(r);c=gh(r),u.x=h.x+r.clientLeft,u.y=h.y+r.clientTop}const f=s&&!d&&!o?N8(s,l,!0):Ws(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+f.x,y:n.y*c.y-l.scrollTop*c.y+u.y+f.y}}function Gue(t){return Array.from(t.getClientRects())}function Kue(t){const e=da(t),n=n_(t),r=t.ownerDocument.body,i=Ri(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Ri(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+DD(t);const a=-n.scrollTop;return ds(r).direction==="rtl"&&(s+=Ri(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function Yue(t,e){const n=Ui(t),r=da(t),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const c=MD();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}function Xue(t,e){const n=Ed(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=ta(t)?gh(t):Ws(1),s=t.clientWidth*o.x,a=t.clientHeight*o.y,l=i*o.x,c=r*o.y;return{width:s,height:a,x:l,y:c}}function yL(t,e,n){let r;if(e==="viewport")r=Yue(t,n);else if(e==="document")r=Kue(da(t));else if(us(e))r=Xue(e,n);else{const i=M8(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return gx(r)}function D8(t,e){const n=Bc(t);return n===e||!us(n)||Zh(n)?!1:ds(n).position==="fixed"||D8(n,e)}function Zue(t,e){const n=e.get(t);if(n)return n;let r=Pv(t,[],!1).filter(a=>us(a)&&rm(a)!=="body"),i=null;const o=ds(t).position==="fixed";let s=o?Bc(t):t;for(;us(s)&&!Zh(s);){const a=ds(s),l=AD(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||c0(s)&&!l&&D8(t,s))?r=r.filter(u=>u!==s):i=a,s=Bc(s)}return e.set(t,r),r}function Jue(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const s=[...n==="clippingAncestors"?t_(e)?[]:Zue(e,this._c):[].concat(n),r],a=s[0],l=s.reduce((c,u)=>{const d=yL(e,u,i);return c.top=Ri(d.top,c.top),c.right=Lc(d.right,c.right),c.bottom=Lc(d.bottom,c.bottom),c.left=Ri(d.left,c.left),c},yL(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Que(t){const{width:e,height:n}=A8(t);return{width:e,height:n}}function ede(t,e,n){const r=ta(e),i=da(e),o=n==="fixed",s=Ed(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const l=Ws(0);if(r||!r&&!o)if((rm(e)!=="body"||c0(i))&&(a=n_(e)),r){const f=Ed(e,!0,o,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else i&&(l.x=DD(i));const c=i&&!r&&!o?N8(i,a):Ws(0),u=s.left+a.scrollLeft-l.x-c.x,d=s.top+a.scrollTop-l.y-c.y;return{x:u,y:d,width:s.width,height:s.height}}function Ik(t){return ds(t).position==="static"}function bL(t,e){if(!ta(t)||ds(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return da(t)===n&&(n=n.ownerDocument.body),n}function R8(t,e){const n=Ui(t);if(t_(t))return n;if(!ta(t)){let i=Bc(t);for(;i&&!Zh(i);){if(us(i)&&!Ik(i))return i;i=Bc(i)}return n}let r=bL(t,e);for(;r&&zue(r)&&Ik(r);)r=bL(r,e);return r&&Zh(r)&&Ik(r)&&!AD(r)?n:r||Uue(t)||n}const tde=async function(t){const e=this.getOffsetParent||R8,n=this.getDimensions,r=await n(t.floating);return{reference:ede(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function nde(t){return ds(t).direction==="rtl"}const rde={convertOffsetParentRelativeRectToViewportRelativeRect:que,getDocumentElement:da,getClippingRect:Jue,getOffsetParent:R8,getElementRects:tde,getClientRects:Gue,getDimensions:Que,getScale:gh,isElement:us,isRTL:nde};function $8(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function ide(t,e){let n=null,r;const i=da(t);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const c=t.getBoundingClientRect(),{left:u,top:d,width:f,height:h}=c;if(a||e(),!f||!h)return;const m=wb(d),p=wb(i.clientWidth-(u+f)),g=wb(i.clientHeight-(d+h)),b=wb(u),w={rootMargin:-m+"px "+-p+"px "+-g+"px "+-b+"px",threshold:Ri(0,Lc(1,l))||1};let _=!0;function S(C){const k=C[0].intersectionRatio;if(k!==l){if(!_)return s();k?s(!1,k):r=setTimeout(()=>{s(!1,1e-7)},1e3)}k===1&&!$8(c,t.getBoundingClientRect())&&s(),_=!1}try{n=new IntersectionObserver(S,{...w,root:i.ownerDocument})}catch{n=new IntersectionObserver(S,w)}n.observe(t)}return s(!0),o}function ode(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=ND(t),u=i||o?[...c?Pv(c):[],...Pv(e)]:[];u.forEach(b=>{i&&b.addEventListener("scroll",n,{passive:!0}),o&&b.addEventListener("resize",n)});const d=c&&a?ide(c,n):null;let f=-1,h=null;s&&(h=new ResizeObserver(b=>{let[y]=b;y&&y.target===c&&h&&(h.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;(w=h)==null||w.observe(e)})),n()}),c&&!l&&h.observe(c),h.observe(e));let m,p=l?Ed(t):null;l&&g();function g(){const b=Ed(t);p&&!$8(p,b)&&n(),p=b,m=requestAnimationFrame(g)}return n(),()=>{var b;u.forEach(y=>{i&&y.removeEventListener("scroll",n),o&&y.removeEventListener("resize",n)}),d==null||d(),(b=h)==null||b.disconnect(),h=null,l&&cancelAnimationFrame(m)}}const sde=Lue,ade=Fue,lde=$ue,cde=Vue,ude=Iue,wL=Rue,dde=Bue,fde=(t,e,n)=>{const r=new Map,i={platform:rde,...n},o={...i.platform,_c:r};return Due(t,e,{...i,platform:o})};var Pw=typeof document<"u"?x.useLayoutEffect:x.useEffect;function vx(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!vx(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!vx(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function I8(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function xL(t,e){const n=I8(t);return Math.round(e*n)/n}function jk(t){const e=x.useRef(t);return Pw(()=>{e.current=t}),e}function hde(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,d]=x.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,h]=x.useState(r);vx(f,r)||h(r);const[m,p]=x.useState(null),[g,b]=x.useState(null),y=x.useCallback(R=>{R!==C.current&&(C.current=R,p(R))},[]),w=x.useCallback(R=>{R!==k.current&&(k.current=R,b(R))},[]),_=o||m,S=s||g,C=x.useRef(null),k=x.useRef(null),E=x.useRef(u),T=l!=null,M=jk(l),D=jk(i),N=jk(c),L=x.useCallback(()=>{if(!C.current||!k.current)return;const R={placement:e,strategy:n,middleware:f};D.current&&(R.platform=D.current),fde(C.current,k.current,R).then($=>{const H={...$,isPositioned:N.current!==!1};I.current&&!vx(E.current,H)&&(E.current=H,Xd.flushSync(()=>{d(H)}))})},[f,e,n,D,N]);Pw(()=>{c===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,d(R=>({...R,isPositioned:!1})))},[c]);const I=x.useRef(!1);Pw(()=>(I.current=!0,()=>{I.current=!1}),[]),Pw(()=>{if(_&&(C.current=_),S&&(k.current=S),_&&S){if(M.current)return M.current(_,S,L);L()}},[_,S,L,M,T]);const z=x.useMemo(()=>({reference:C,floating:k,setReference:y,setFloating:w}),[y,w]),V=x.useMemo(()=>({reference:_,floating:S}),[_,S]),j=x.useMemo(()=>{const R={position:n,left:0,top:0};if(!V.floating)return R;const $=xL(V.floating,u.x),H=xL(V.floating,u.y);return a?{...R,transform:"translate("+$+"px, "+H+"px)",...I8(V.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:H}},[n,a,V.floating,u.x,u.y]);return x.useMemo(()=>({...u,update:L,refs:z,elements:V,floatingStyles:j}),[u,L,z,V,j])}const pde=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?wL({element:r.current,padding:i}).fn(n):{}:r?wL({element:r,padding:i}).fn(n):{}}}},mde=(t,e)=>({...sde(t),options:[t,e]}),gde=(t,e)=>({...ade(t),options:[t,e]}),vde=(t,e)=>({...dde(t),options:[t,e]}),yde=(t,e)=>({...lde(t),options:[t,e]}),bde=(t,e)=>({...cde(t),options:[t,e]}),wde=(t,e)=>({...ude(t),options:[t,e]}),xde=(t,e)=>({...pde(t),options:[t,e]});var Sde="Arrow",j8=x.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...o}=t;return O.jsx(pe.svg,{...o,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:O.jsx("polygon",{points:"0,0 30,0 15,10"})})});j8.displayName=Sde;var _de=j8;function RD(t){const[e,n]=x.useState(void 0);return Rn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let s,a;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;s=c.inlineSize,a=c.blockSize}else s=t.offsetWidth,a=t.offsetHeight;n({width:s,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var $D="Popper",[L8,nu]=nr($D),[Cde,F8]=L8($D),B8=t=>{const{__scopePopper:e,children:n}=t,[r,i]=x.useState(null);return O.jsx(Cde,{scope:e,anchor:r,onAnchorChange:i,children:n})};B8.displayName=$D;var V8="PopperAnchor",z8=x.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,o=F8(V8,n),s=x.useRef(null),a=Qe(e,s);return x.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:O.jsx(pe.div,{...i,ref:a})});z8.displayName=V8;var ID="PopperContent",[kde,Pde]=L8(ID),U8=x.forwardRef((t,e)=>{var Q,ke,Z,le,ue,K;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:s=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:f=!1,updatePositionStrategy:h="optimized",onPlaced:m,...p}=t,g=F8(ID,n),[b,y]=x.useState(null),w=Qe(e,nt=>y(nt)),[_,S]=x.useState(null),C=RD(_),k=(C==null?void 0:C.width)??0,E=(C==null?void 0:C.height)??0,T=r+(o!=="center"?"-"+o:""),M=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},D=Array.isArray(c)?c:[c],N=D.length>0,L={padding:M,boundary:D.filter(Ode),altBoundary:N},{refs:I,floatingStyles:z,placement:V,isPositioned:j,middlewareData:R}=hde({strategy:"fixed",placement:T,whileElementsMounted:(...nt)=>ode(...nt,{animationFrame:h==="always"}),elements:{reference:g.anchor},middleware:[mde({mainAxis:i+E,alignmentAxis:s}),l&&gde({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?vde():void 0,...L}),l&&yde({...L}),bde({...L,apply:({elements:nt,rects:Ie,availableWidth:Mt,availableHeight:_t})=>{const{width:Zt,height:vr}=Ie.reference,jr=nt.floating.style;jr.setProperty("--radix-popper-available-width",`${Mt}px`),jr.setProperty("--radix-popper-available-height",`${_t}px`),jr.setProperty("--radix-popper-anchor-width",`${Zt}px`),jr.setProperty("--radix-popper-anchor-height",`${vr}px`)}}),_&&xde({element:_,padding:a}),Tde({arrowWidth:k,arrowHeight:E}),f&&wde({strategy:"referenceHidden",...L})]}),[$,H]=q8(V),Y=ln(m);Rn(()=>{j&&(Y==null||Y())},[j,Y]);const F=(Q=R.arrow)==null?void 0:Q.x,G=(ke=R.arrow)==null?void 0:ke.y,ee=((Z=R.arrow)==null?void 0:Z.centerOffset)!==0,[te,me]=x.useState();return Rn(()=>{b&&me(window.getComputedStyle(b).zIndex)},[b]),O.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...z,transform:j?z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:te,"--radix-popper-transform-origin":[(le=R.transformOrigin)==null?void 0:le.x,(ue=R.transformOrigin)==null?void 0:ue.y].join(" "),...((K=R.hide)==null?void 0:K.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:O.jsx(kde,{scope:n,placedSide:$,onArrowChange:S,arrowX:F,arrowY:G,shouldHideArrow:ee,children:O.jsx(pe.div,{"data-side":$,"data-align":H,...p,ref:w,style:{...p.style,animation:j?void 0:"none"}})})})});U8.displayName=ID;var H8="PopperArrow",Ede={top:"bottom",right:"left",bottom:"top",left:"right"},W8=x.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,o=Pde(H8,r),s=Ede[o.placedSide];return O.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:O.jsx(_de,{...i,ref:n,style:{...i.style,display:"block"}})})});W8.displayName=H8;function Ode(t){return t!==null}var Tde=t=>({name:"transformOrigin",options:t,fn(e){var g,b,y;const{placement:n,rects:r,middlewareData:i}=e,s=((g=i.arrow)==null?void 0:g.centerOffset)!==0,a=s?0:t.arrowWidth,l=s?0:t.arrowHeight,[c,u]=q8(n),d={start:"0%",center:"50%",end:"100%"}[u],f=(((b=i.arrow)==null?void 0:b.x)??0)+a/2,h=(((y=i.arrow)==null?void 0:y.y)??0)+l/2;let m="",p="";return c==="bottom"?(m=s?d:`${f}px`,p=`${-l}px`):c==="top"?(m=s?d:`${f}px`,p=`${r.floating.height+l}px`):c==="right"?(m=`${-l}px`,p=s?d:`${h}px`):c==="left"&&(m=`${r.floating.width+l}px`,p=s?d:`${h}px`),{data:{x:m,y:p}}}});function q8(t){const[e,n="center"]=t.split("-");return[e,n]}var r_=B8,u0=z8,i_=U8,o_=W8,[s_,Oot]=nr("Tooltip",[nu]),a_=nu(),G8="TooltipProvider",Ade=700,qO="tooltip.open",[Mde,jD]=s_(G8),K8=t=>{const{__scopeTooltip:e,delayDuration:n=Ade,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:o}=t,s=x.useRef(!0),a=x.useRef(!1),l=x.useRef(0);return x.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),O.jsx(Mde,{scope:e,isOpenDelayedRef:s,delayDuration:n,onOpen:x.useCallback(()=>{window.clearTimeout(l.current),s.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:x.useCallback(c=>{a.current=c},[]),disableHoverableContent:i,children:o})};K8.displayName=G8;var l_="Tooltip",[Nde,c_]=s_(l_),Y8=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i=!1,onOpenChange:o,disableHoverableContent:s,delayDuration:a}=t,l=jD(l_,t.__scopeTooltip),c=a_(e),[u,d]=x.useState(null),f=Zn(),h=x.useRef(0),m=s??l.disableHoverableContent,p=a??l.delayDuration,g=x.useRef(!1),[b=!1,y]=_i({prop:r,defaultProp:i,onChange:k=>{k?(l.onOpen(),document.dispatchEvent(new CustomEvent(qO))):l.onClose(),o==null||o(k)}}),w=x.useMemo(()=>b?g.current?"delayed-open":"instant-open":"closed",[b]),_=x.useCallback(()=>{window.clearTimeout(h.current),h.current=0,g.current=!1,y(!0)},[y]),S=x.useCallback(()=>{window.clearTimeout(h.current),h.current=0,y(!1)},[y]),C=x.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{g.current=!0,y(!0),h.current=0},p)},[p,y]);return x.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),O.jsx(r_,{...c,children:O.jsx(Nde,{scope:e,contentId:f,open:b,stateAttribute:w,trigger:u,onTriggerChange:d,onTriggerEnter:x.useCallback(()=>{l.isOpenDelayedRef.current?C():_()},[l.isOpenDelayedRef,C,_]),onTriggerLeave:x.useCallback(()=>{m?S():(window.clearTimeout(h.current),h.current=0)},[S,m]),onOpen:_,onClose:S,disableHoverableContent:m,children:n})})};Y8.displayName=l_;var GO="TooltipTrigger",X8=x.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=c_(GO,n),o=jD(GO,n),s=a_(n),a=x.useRef(null),l=Qe(e,a,i.onTriggerChange),c=x.useRef(!1),u=x.useRef(!1),d=x.useCallback(()=>c.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),O.jsx(u0,{asChild:!0,...s,children:O.jsx(pe.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:se(t.onPointerMove,f=>{f.pointerType!=="touch"&&!u.current&&!o.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:se(t.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:se(t.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:se(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:se(t.onBlur,i.onClose),onClick:se(t.onClick,i.onClose)})})});X8.displayName=GO;var Dde="TooltipPortal",[Tot,Rde]=s_(Dde,{forceMount:void 0}),Jh="TooltipContent",Z8=x.forwardRef((t,e)=>{const n=Rde(Jh,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...o}=t,s=c_(Jh,t.__scopeTooltip);return O.jsx(rr,{present:r||s.open,children:s.disableHoverableContent?O.jsx(J8,{side:i,...o,ref:e}):O.jsx($de,{side:i,...o,ref:e})})}),$de=x.forwardRef((t,e)=>{const n=c_(Jh,t.__scopeTooltip),r=jD(Jh,t.__scopeTooltip),i=x.useRef(null),o=Qe(e,i),[s,a]=x.useState(null),{trigger:l,onClose:c}=n,u=i.current,{onPointerInTransitChange:d}=r,f=x.useCallback(()=>{a(null),d(!1)},[d]),h=x.useCallback((m,p)=>{const g=m.currentTarget,b={x:m.clientX,y:m.clientY},y=Bde(b,g.getBoundingClientRect()),w=Vde(b,y),_=zde(p.getBoundingClientRect()),S=Hde([...w,..._]);a(S),d(!0)},[d]);return x.useEffect(()=>()=>f(),[f]),x.useEffect(()=>{if(l&&u){const m=g=>h(g,u),p=g=>h(g,l);return l.addEventListener("pointerleave",m),u.addEventListener("pointerleave",p),()=>{l.removeEventListener("pointerleave",m),u.removeEventListener("pointerleave",p)}}},[l,u,h,f]),x.useEffect(()=>{if(s){const m=p=>{const g=p.target,b={x:p.clientX,y:p.clientY},y=(l==null?void 0:l.contains(g))||(u==null?void 0:u.contains(g)),w=!Ude(b,s);y?f():w&&(f(),c())};return document.addEventListener("pointermove",m),()=>document.removeEventListener("pointermove",m)}},[l,u,s,c,f]),O.jsx(J8,{...t,ref:o})}),[Ide,jde]=s_(l_,{isInside:!1}),Lde=VW("TooltipContent"),J8=x.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:s,...a}=t,l=c_(Jh,n),c=a_(n),{onClose:u}=l;return x.useEffect(()=>(document.addEventListener(qO,u),()=>document.removeEventListener(qO,u)),[u]),x.useEffect(()=>{if(l.trigger){const d=f=>{const h=f.target;h!=null&&h.contains(l.trigger)&&u()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,u]),O.jsx(Zd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:d=>d.preventDefault(),onDismiss:u,children:O.jsxs(i_,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[O.jsx(Lde,{children:r}),O.jsx(Ide,{scope:n,isInside:!0,children:O.jsx(vle,{id:l.contentId,role:"tooltip",children:i||r})})]})})});Z8.displayName=Jh;var Q8="TooltipArrow",Fde=x.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=a_(n);return jde(Q8,n).isInside?null:O.jsx(o_,{...i,...r,ref:e})});Fde.displayName=Q8;function Bde(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(n,r,i,o)){case o:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Vde(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function zde(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function Ude(t,e){const{x:n,y:r}=t;let i=!1;for(let o=0,s=e.length-1;o<e.length;s=o++){const a=e[o].x,l=e[o].y,c=e[s].x,u=e[s].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(i=!i)}return i}function Hde(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Wde(e)}function Wde(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const o=e[e.length-1],s=e[e.length-2];if((o.x-s.x)*(i.y-s.y)>=(o.y-s.y)*(i.x-s.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const o=n[n.length-1],s=n[n.length-2];if((o.x-s.x)*(i.y-s.y)>=(o.y-s.y)*(i.x-s.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var qde=K8,Gde=Y8,Kde=X8,e9=Z8;const t9=qde,yx=Gde,bx=Kde,Ev=x.forwardRef(({className:t,sideOffset:e=4,...n},r)=>v(e9,{ref:r,sideOffset:e,className:q("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));Ev.displayName=e9.displayName;var d0=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Od=typeof window>"u"||"Deno"in globalThis;function lo(){}function Yde(t,e){return typeof t=="function"?t(e):t}function KO(t){return typeof t=="number"&&t>=0&&t!==1/0}function n9(t,e){return Math.max(t+(e||0)-Date.now(),0)}function vh(t,e){return typeof t=="function"?t(e):t}function Xo(t,e){return typeof t=="function"?t(e):t}function SL(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:s,stale:a}=t;if(s){if(r){if(e.queryHash!==LD(s,e.options))return!1}else if(!Tv(e.queryKey,s))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||o&&!o(e))}function _L(t,e){const{exact:n,status:r,predicate:i,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(Ov(e.options.mutationKey)!==Ov(o))return!1}else if(!Tv(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function LD(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ov)(t)}function Ov(t){return JSON.stringify(t,(e,n)=>XO(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Tv(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Tv(t[n],e[n])):!1}function r9(t,e){if(t===e)return t;const n=CL(t)&&CL(e);if(n||XO(t)&&XO(e)){const r=n?t:Object.keys(t),i=r.length,o=n?e:Object.keys(e),s=o.length,a=n?[]:{};let l=0;for(let c=0;c<s;c++){const u=n?c:o[c];(!n&&r.includes(u)||n)&&t[u]===void 0&&e[u]===void 0?(a[u]=void 0,l++):(a[u]=r9(t[u],e[u]),a[u]===t[u]&&t[u]!==void 0&&l++)}return i===s&&l===i?t:a}return e}function YO(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function CL(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function XO(t){if(!kL(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!kL(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function kL(t){return Object.prototype.toString.call(t)==="[object Object]"}function Xde(t){return new Promise(e=>{setTimeout(e,t)})}function ZO(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?r9(t,e):e}function Zde(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function Jde(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var FD=Symbol();function i9(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===FD?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Qu,Ql,Ah,t6,Qde=(t6=class extends d0{constructor(){super();Le(this,Qu);Le(this,Ql);Le(this,Ah);_e(this,Ah,e=>{if(!Od&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){U(this,Ql)||this.setEventListener(U(this,Ah))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,Ql))==null||e.call(this),_e(this,Ql,void 0))}setEventListener(e){var n;_e(this,Ah,e),(n=U(this,Ql))==null||n.call(this),_e(this,Ql,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){U(this,Qu)!==e&&(_e(this,Qu,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof U(this,Qu)=="boolean"?U(this,Qu):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Qu=new WeakMap,Ql=new WeakMap,Ah=new WeakMap,t6),BD=new Qde,Mh,ec,Nh,n6,efe=(n6=class extends d0{constructor(){super();Le(this,Mh,!0);Le(this,ec);Le(this,Nh);_e(this,Nh,e=>{if(!Od&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){U(this,ec)||this.setEventListener(U(this,Nh))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,ec))==null||e.call(this),_e(this,ec,void 0))}setEventListener(e){var n;_e(this,Nh,e),(n=U(this,ec))==null||n.call(this),_e(this,ec,e(this.setOnline.bind(this)))}setOnline(e){U(this,Mh)!==e&&(_e(this,Mh,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return U(this,Mh)}},Mh=new WeakMap,ec=new WeakMap,Nh=new WeakMap,n6),wx=new efe;function JO(){let t,e;const n=new Promise((i,o)=>{t=i,e=o});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function tfe(t){return Math.min(1e3*2**t,3e4)}function o9(t){return(t??"online")==="online"?wx.isOnline():!0}var s9=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Lk(t){return t instanceof s9}function a9(t){let e=!1,n=0,r=!1,i;const o=JO(),s=p=>{var g;r||(f(new s9(p)),(g=t.abort)==null||g.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>BD.isFocused()&&(t.networkMode==="always"||wx.isOnline())&&t.canRun(),u=()=>o9(t.networkMode)&&t.canRun(),d=p=>{var g;r||(r=!0,(g=t.onSuccess)==null||g.call(t,p),i==null||i(),o.resolve(p))},f=p=>{var g;r||(r=!0,(g=t.onError)==null||g.call(t,p),i==null||i(),o.reject(p))},h=()=>new Promise(p=>{var g;i=b=>{(r||c())&&p(b)},(g=t.onPause)==null||g.call(t)}).then(()=>{var p;i=void 0,r||(p=t.onContinue)==null||p.call(t)}),m=()=>{if(r)return;let p;const g=n===0?t.initialPromise:void 0;try{p=g??t.fn()}catch(b){p=Promise.reject(b)}Promise.resolve(p).then(d).catch(b=>{var C;if(r)return;const y=t.retry??(Od?0:3),w=t.retryDelay??tfe,_=typeof w=="function"?w(n,b):w,S=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,b);if(e||!S){f(b);return}n++,(C=t.onFail)==null||C.call(t,n,b),Xde(_).then(()=>c()?void 0:h()).then(()=>{e?f(b):m()})})};return{promise:o,cancel:s,continue:()=>(i==null||i(),o),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?m():h().then(m),o)}}var nfe=t=>setTimeout(t,0);function rfe(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=nfe;const o=a=>{e?t.push(a):i(()=>{n(a)})},s=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||s()}return l},batchCalls:a=>(...l)=>{o(()=>{a(...l)})},schedule:o,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var fr=rfe(),ed,r6,l9=(r6=class{constructor(){Le(this,ed)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),KO(this.gcTime)&&_e(this,ed,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Od?1/0:5*60*1e3))}clearGcTimeout(){U(this,ed)&&(clearTimeout(U(this,ed)),_e(this,ed,void 0))}},ed=new WeakMap,r6),Dh,Rh,ao,td,_r,Jy,nd,Uo,Ca,i6,ife=(i6=class extends l9{constructor(e){super();Le(this,Uo);Le(this,Dh);Le(this,Rh);Le(this,ao);Le(this,td);Le(this,_r);Le(this,Jy);Le(this,nd);_e(this,nd,!1),_e(this,Jy,e.defaultOptions),this.setOptions(e.options),this.observers=[],_e(this,td,e.client),_e(this,ao,U(this,td).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,_e(this,Dh,ofe(this.options)),this.state=e.state??U(this,Dh),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=U(this,_r))==null?void 0:e.promise}setOptions(e){this.options={...U(this,Jy),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&U(this,ao).remove(this)}setData(e,n){const r=ZO(this.state.data,e,this.options);return ht(this,Uo,Ca).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){ht(this,Uo,Ca).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=U(this,_r))==null?void 0:r.promise;return(i=U(this,_r))==null||i.cancel(e),n?n.then(lo).catch(lo):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,Dh))}isActive(){return this.observers.some(e=>Xo(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===FD||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!n9(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=U(this,_r))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=U(this,_r))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),U(this,ao).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(U(this,_r)&&(U(this,nd)?U(this,_r).cancel({revert:!0}):U(this,_r).cancelRetry()),this.scheduleGc()),U(this,ao).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ht(this,Uo,Ca).call(this,{type:"invalidate"})}fetch(e,n){var l,c,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(U(this,_r))return U(this,_r).continueRetry(),U(this,_r).promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(f=>f.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,i=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(_e(this,nd,!0),r.signal)})},o=()=>{const d=i9(this.options,n),f={client:U(this,td),queryKey:this.queryKey,meta:this.meta};return i(f),_e(this,nd,!1),this.options.persister?this.options.persister(d,f,this):d(f)},s={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:U(this,td),state:this.state,fetchFn:o};i(s),(l=this.options.behavior)==null||l.onFetch(s,this),_e(this,Rh,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=s.fetchOptions)==null?void 0:c.meta))&&ht(this,Uo,Ca).call(this,{type:"fetch",meta:(u=s.fetchOptions)==null?void 0:u.meta});const a=d=>{var f,h,m,p;Lk(d)&&d.silent||ht(this,Uo,Ca).call(this,{type:"error",error:d}),Lk(d)||((h=(f=U(this,ao).config).onError)==null||h.call(f,d,this),(p=(m=U(this,ao).config).onSettled)==null||p.call(m,this.state.data,d,this)),this.scheduleGc()};return _e(this,_r,a9({initialPromise:n==null?void 0:n.initialPromise,fn:s.fetchFn,abort:r.abort.bind(r),onSuccess:d=>{var f,h,m,p;if(d===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(g){a(g);return}(h=(f=U(this,ao).config).onSuccess)==null||h.call(f,d,this),(p=(m=U(this,ao).config).onSettled)==null||p.call(m,d,this.state.error,this),this.scheduleGc()},onError:a,onFail:(d,f)=>{ht(this,Uo,Ca).call(this,{type:"failed",failureCount:d,error:f})},onPause:()=>{ht(this,Uo,Ca).call(this,{type:"pause"})},onContinue:()=>{ht(this,Uo,Ca).call(this,{type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0})),U(this,_r).start()}},Dh=new WeakMap,Rh=new WeakMap,ao=new WeakMap,td=new WeakMap,_r=new WeakMap,Jy=new WeakMap,nd=new WeakMap,Uo=new WeakSet,Ca=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...c9(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return Lk(i)&&i.revert&&U(this,Rh)?{...U(this,Rh),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),fr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),U(this,ao).notify({query:this,type:"updated",action:e})})},i6);function c9(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:o9(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function ofe(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ps,o6,sfe=(o6=class extends d0{constructor(e={}){super();Le(this,Ps);this.config=e,_e(this,Ps,new Map)}build(e,n,r){const i=n.queryKey,o=n.queryHash??LD(i,n);let s=this.get(o);return s||(s=new ife({client:e,queryKey:i,queryHash:o,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(s)),s}add(e){U(this,Ps).has(e.queryHash)||(U(this,Ps).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=U(this,Ps).get(e.queryHash);n&&(e.destroy(),n===e&&U(this,Ps).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){fr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return U(this,Ps).get(e)}getAll(){return[...U(this,Ps).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>SL(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>SL(e,r)):n}notify(e){fr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){fr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){fr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ps=new WeakMap,o6),Es,Fr,rd,Os,Rl,s6,afe=(s6=class extends l9{constructor(e){super();Le(this,Os);Le(this,Es);Le(this,Fr);Le(this,rd);this.mutationId=e.mutationId,_e(this,Fr,e.mutationCache),_e(this,Es,[]),this.state=e.state||lfe(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){U(this,Es).includes(e)||(U(this,Es).push(e),this.clearGcTimeout(),U(this,Fr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){_e(this,Es,U(this,Es).filter(n=>n!==e)),this.scheduleGc(),U(this,Fr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){U(this,Es).length||(this.state.status==="pending"?this.scheduleGc():U(this,Fr).remove(this))}continue(){var e;return((e=U(this,rd))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,s,a,l,c,u,d,f,h,m,p,g,b,y,w,_,S,C,k,E;const n=()=>{ht(this,Os,Rl).call(this,{type:"continue"})};_e(this,rd,a9({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(T,M)=>{ht(this,Os,Rl).call(this,{type:"failed",failureCount:T,error:M})},onPause:()=>{ht(this,Os,Rl).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,Fr).canRun(this)}));const r=this.state.status==="pending",i=!U(this,rd).canStart();try{if(r)n();else{ht(this,Os,Rl).call(this,{type:"pending",variables:e,isPaused:i}),await((s=(o=U(this,Fr).config).onMutate)==null?void 0:s.call(o,e,this));const M=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,e));M!==this.state.context&&ht(this,Os,Rl).call(this,{type:"pending",context:M,variables:e,isPaused:i})}const T=await U(this,rd).start();return await((u=(c=U(this,Fr).config).onSuccess)==null?void 0:u.call(c,T,e,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,T,e,this.state.context)),await((m=(h=U(this,Fr).config).onSettled)==null?void 0:m.call(h,T,null,this.state.variables,this.state.context,this)),await((g=(p=this.options).onSettled)==null?void 0:g.call(p,T,null,e,this.state.context)),ht(this,Os,Rl).call(this,{type:"success",data:T}),T}catch(T){try{throw await((y=(b=U(this,Fr).config).onError)==null?void 0:y.call(b,T,e,this.state.context,this)),await((_=(w=this.options).onError)==null?void 0:_.call(w,T,e,this.state.context)),await((C=(S=U(this,Fr).config).onSettled)==null?void 0:C.call(S,void 0,T,this.state.variables,this.state.context,this)),await((E=(k=this.options).onSettled)==null?void 0:E.call(k,void 0,T,e,this.state.context)),T}finally{ht(this,Os,Rl).call(this,{type:"error",error:T})}}finally{U(this,Fr).runNext(this)}}},Es=new WeakMap,Fr=new WeakMap,rd=new WeakMap,Os=new WeakSet,Rl=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),fr.batch(()=>{U(this,Es).forEach(r=>{r.onMutationUpdate(e)}),U(this,Fr).notify({mutation:this,type:"updated",action:e})})},s6);function lfe(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Da,Ho,Qy,a6,cfe=(a6=class extends d0{constructor(e={}){super();Le(this,Da);Le(this,Ho);Le(this,Qy);this.config=e,_e(this,Da,new Set),_e(this,Ho,new Map),_e(this,Qy,0)}build(e,n,r){const i=new afe({mutationCache:this,mutationId:++J0(this,Qy)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){U(this,Da).add(e);const n=xb(e);if(typeof n=="string"){const r=U(this,Ho).get(n);r?r.push(e):U(this,Ho).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(U(this,Da).delete(e)){const n=xb(e);if(typeof n=="string"){const r=U(this,Ho).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&U(this,Ho).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=xb(e);if(typeof n=="string"){const r=U(this,Ho).get(n),i=r==null?void 0:r.find(o=>o.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=xb(e);if(typeof n=="string"){const i=(r=U(this,Ho).get(n))==null?void 0:r.find(o=>o!==e&&o.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){fr.batch(()=>{U(this,Da).forEach(e=>{this.notify({type:"removed",mutation:e})}),U(this,Da).clear(),U(this,Ho).clear()})}getAll(){return Array.from(U(this,Da))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>_L(n,r))}findAll(e={}){return this.getAll().filter(n=>_L(e,n))}notify(e){fr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return fr.batch(()=>Promise.all(e.map(n=>n.continue().catch(lo))))}},Da=new WeakMap,Ho=new WeakMap,Qy=new WeakMap,a6);function xb(t){var e;return(e=t.options.scope)==null?void 0:e.id}function PL(t){return{onFetch:(e,n)=>{var u,d,f,h,m;const r=e.options,i=(f=(d=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:d.fetchMore)==null?void 0:f.direction,o=((h=e.state.data)==null?void 0:h.pages)||[],s=((m=e.state.data)==null?void 0:m.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let p=!1;const g=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?p=!0:e.signal.addEventListener("abort",()=>{p=!0}),e.signal)})},b=i9(e.options,e.fetchOptions),y=async(w,_,S)=>{if(p)return Promise.reject();if(_==null&&w.pages.length)return Promise.resolve(w);const C={client:e.client,queryKey:e.queryKey,pageParam:_,direction:S?"backward":"forward",meta:e.options.meta};g(C);const k=await b(C),{maxPages:E}=e.options,T=S?Jde:Zde;return{pages:T(w.pages,k,E),pageParams:T(w.pageParams,_,E)}};if(i&&o.length){const w=i==="backward",_=w?ufe:EL,S={pages:o,pageParams:s},C=_(r,S);a=await y(S,C,w)}else{const w=t??o.length;do{const _=l===0?s[0]??r.initialPageParam:EL(r,a);if(l>0&&_==null)break;a=await y(a,_),l++}while(l<w)}return a};e.options.persister?e.fetchFn=()=>{var p,g;return(g=(p=e.options).persister)==null?void 0:g.call(p,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function EL(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function ufe(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var vn,tc,nc,$h,Ih,rc,jh,Lh,l6,u9=(l6=class{constructor(t={}){Le(this,vn);Le(this,tc);Le(this,nc);Le(this,$h);Le(this,Ih);Le(this,rc);Le(this,jh);Le(this,Lh);_e(this,vn,t.queryCache||new sfe),_e(this,tc,t.mutationCache||new cfe),_e(this,nc,t.defaultOptions||{}),_e(this,$h,new Map),_e(this,Ih,new Map),_e(this,rc,0)}mount(){J0(this,rc)._++,U(this,rc)===1&&(_e(this,jh,BD.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,vn).onFocus())})),_e(this,Lh,wx.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,vn).onOnline())})))}unmount(){var t,e;J0(this,rc)._--,U(this,rc)===0&&((t=U(this,jh))==null||t.call(this),_e(this,jh,void 0),(e=U(this,Lh))==null||e.call(this),_e(this,Lh,void 0))}isFetching(t){return U(this,vn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return U(this,tc).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,vn).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=U(this,vn).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(vh(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return U(this,vn).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=U(this,vn).get(r.queryHash),o=i==null?void 0:i.state.data,s=Yde(e,o);if(s!==void 0)return U(this,vn).build(this,r).setData(s,{...n,manual:!0})}setQueriesData(t,e,n){return fr.batch(()=>U(this,vn).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,vn).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=U(this,vn);fr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=U(this,vn);return fr.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=fr.batch(()=>U(this,vn).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(lo).catch(lo)}invalidateQueries(t,e={}){return fr.batch(()=>(U(this,vn).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=fr.batch(()=>U(this,vn).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(lo)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(lo)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=U(this,vn).build(this,e);return n.isStaleByTime(vh(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(lo).catch(lo)}fetchInfiniteQuery(t){return t.behavior=PL(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(lo).catch(lo)}ensureInfiniteQueryData(t){return t.behavior=PL(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return wx.isOnline()?U(this,tc).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,vn)}getMutationCache(){return U(this,tc)}getDefaultOptions(){return U(this,nc)}setDefaultOptions(t){_e(this,nc,t)}setQueryDefaults(t,e){U(this,$h).set(Ov(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...U(this,$h).values()],n={};return e.forEach(r=>{Tv(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){U(this,Ih).set(Ov(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...U(this,Ih).values()],n={};return e.forEach(r=>{Tv(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...U(this,nc).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=LD(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===FD&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...U(this,nc).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){U(this,vn).clear(),U(this,tc).clear()}},vn=new WeakMap,tc=new WeakMap,nc=new WeakMap,$h=new WeakMap,Ih=new WeakMap,rc=new WeakMap,jh=new WeakMap,Lh=new WeakMap,l6),li,pt,e0,Br,id,Fh,ic,oc,t0,Bh,Vh,od,sd,sc,zh,Tt,dg,QO,eT,tT,nT,rT,iT,oT,d9,c6,dfe=(c6=class extends d0{constructor(e,n){super();Le(this,Tt);Le(this,li);Le(this,pt);Le(this,e0);Le(this,Br);Le(this,id);Le(this,Fh);Le(this,ic);Le(this,oc);Le(this,t0);Le(this,Bh);Le(this,Vh);Le(this,od);Le(this,sd);Le(this,sc);Le(this,zh,new Set);this.options=n,_e(this,li,e),_e(this,oc,null),_e(this,ic,JO()),this.options.experimental_prefetchInRender||U(this,ic).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(U(this,pt).addObserver(this),OL(U(this,pt),this.options)?ht(this,Tt,dg).call(this):this.updateResult(),ht(this,Tt,nT).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return sT(U(this,pt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return sT(U(this,pt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ht(this,Tt,rT).call(this),ht(this,Tt,iT).call(this),U(this,pt).removeObserver(this)}setOptions(e){const n=this.options,r=U(this,pt);if(this.options=U(this,li).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Xo(this.options.enabled,U(this,pt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ht(this,Tt,oT).call(this),U(this,pt).setOptions(this.options),n._defaulted&&!YO(this.options,n)&&U(this,li).getQueryCache().notify({type:"observerOptionsUpdated",query:U(this,pt),observer:this});const i=this.hasListeners();i&&TL(U(this,pt),r,this.options,n)&&ht(this,Tt,dg).call(this),this.updateResult(),i&&(U(this,pt)!==r||Xo(this.options.enabled,U(this,pt))!==Xo(n.enabled,U(this,pt))||vh(this.options.staleTime,U(this,pt))!==vh(n.staleTime,U(this,pt)))&&ht(this,Tt,QO).call(this);const o=ht(this,Tt,eT).call(this);i&&(U(this,pt)!==r||Xo(this.options.enabled,U(this,pt))!==Xo(n.enabled,U(this,pt))||o!==U(this,sc))&&ht(this,Tt,tT).call(this,o)}getOptimisticResult(e){const n=U(this,li).getQueryCache().build(U(this,li),e),r=this.createResult(n,e);return hfe(this,r)&&(_e(this,Br,r),_e(this,Fh,this.options),_e(this,id,U(this,pt).state)),r}getCurrentResult(){return U(this,Br)}trackResult(e,n){const r={};return Object.keys(e).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),n==null||n(i),e[i])})}),r}trackProp(e){U(this,zh).add(e)}getCurrentQuery(){return U(this,pt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=U(this,li).defaultQueryOptions(e),r=U(this,li).getQueryCache().build(U(this,li),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return ht(this,Tt,dg).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),U(this,Br)))}createResult(e,n){var T;const r=U(this,pt),i=this.options,o=U(this,Br),s=U(this,id),a=U(this,Fh),c=e!==r?e.state:U(this,e0),{state:u}=e;let d={...u},f=!1,h;if(n._optimisticResults){const M=this.hasListeners(),D=!M&&OL(e,n),N=M&&TL(e,r,n,i);(D||N)&&(d={...d,...c9(u.data,e.options)}),n._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:m,errorUpdatedAt:p,status:g}=d;h=d.data;let b=!1;if(n.placeholderData!==void 0&&h===void 0&&g==="pending"){let M;o!=null&&o.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData)?(M=o.data,b=!0):M=typeof n.placeholderData=="function"?n.placeholderData((T=U(this,Vh))==null?void 0:T.state.data,U(this,Vh)):n.placeholderData,M!==void 0&&(g="success",h=ZO(o==null?void 0:o.data,M,n),f=!0)}if(n.select&&h!==void 0&&!b)if(o&&h===(s==null?void 0:s.data)&&n.select===U(this,t0))h=U(this,Bh);else try{_e(this,t0,n.select),h=n.select(h),h=ZO(o==null?void 0:o.data,h,n),_e(this,Bh,h),_e(this,oc,null)}catch(M){_e(this,oc,M)}U(this,oc)&&(m=U(this,oc),h=U(this,Bh),p=Date.now(),g="error");const y=d.fetchStatus==="fetching",w=g==="pending",_=g==="error",S=w&&y,C=h!==void 0,E={status:g,fetchStatus:d.fetchStatus,isPending:w,isSuccess:g==="success",isError:_,isInitialLoading:S,isLoading:S,data:h,dataUpdatedAt:d.dataUpdatedAt,error:m,errorUpdatedAt:p,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:y,isRefetching:y&&!w,isLoadingError:_&&!C,isPaused:d.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:_&&C,isStale:VD(e,n),refetch:this.refetch,promise:U(this,ic)};if(this.options.experimental_prefetchInRender){const M=L=>{E.status==="error"?L.reject(E.error):E.data!==void 0&&L.resolve(E.data)},D=()=>{const L=_e(this,ic,E.promise=JO());M(L)},N=U(this,ic);switch(N.status){case"pending":e.queryHash===r.queryHash&&M(N);break;case"fulfilled":(E.status==="error"||E.data!==N.value)&&D();break;case"rejected":(E.status!=="error"||E.error!==N.reason)&&D();break}}return E}updateResult(){const e=U(this,Br),n=this.createResult(U(this,pt),this.options);if(_e(this,id,U(this,pt).state),_e(this,Fh,this.options),U(this,id).data!==void 0&&_e(this,Vh,U(this,pt)),YO(n,e))return;_e(this,Br,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,o=typeof i=="function"?i():i;if(o==="all"||!o&&!U(this,zh).size)return!0;const s=new Set(o??U(this,zh));return this.options.throwOnError&&s.add("error"),Object.keys(U(this,Br)).some(a=>{const l=a;return U(this,Br)[l]!==e[l]&&s.has(l)})};ht(this,Tt,d9).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ht(this,Tt,nT).call(this)}},li=new WeakMap,pt=new WeakMap,e0=new WeakMap,Br=new WeakMap,id=new WeakMap,Fh=new WeakMap,ic=new WeakMap,oc=new WeakMap,t0=new WeakMap,Bh=new WeakMap,Vh=new WeakMap,od=new WeakMap,sd=new WeakMap,sc=new WeakMap,zh=new WeakMap,Tt=new WeakSet,dg=function(e){ht(this,Tt,oT).call(this);let n=U(this,pt).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(lo)),n},QO=function(){ht(this,Tt,rT).call(this);const e=vh(this.options.staleTime,U(this,pt));if(Od||U(this,Br).isStale||!KO(e))return;const r=n9(U(this,Br).dataUpdatedAt,e)+1;_e(this,od,setTimeout(()=>{U(this,Br).isStale||this.updateResult()},r))},eT=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(U(this,pt)):this.options.refetchInterval)??!1},tT=function(e){ht(this,Tt,iT).call(this),_e(this,sc,e),!(Od||Xo(this.options.enabled,U(this,pt))===!1||!KO(U(this,sc))||U(this,sc)===0)&&_e(this,sd,setInterval(()=>{(this.options.refetchIntervalInBackground||BD.isFocused())&&ht(this,Tt,dg).call(this)},U(this,sc)))},nT=function(){ht(this,Tt,QO).call(this),ht(this,Tt,tT).call(this,ht(this,Tt,eT).call(this))},rT=function(){U(this,od)&&(clearTimeout(U(this,od)),_e(this,od,void 0))},iT=function(){U(this,sd)&&(clearInterval(U(this,sd)),_e(this,sd,void 0))},oT=function(){const e=U(this,li).getQueryCache().build(U(this,li),this.options);if(e===U(this,pt))return;const n=U(this,pt);_e(this,pt,e),_e(this,e0,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},d9=function(e){fr.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(U(this,Br))}),U(this,li).getQueryCache().notify({query:U(this,pt),type:"observerResultsUpdated"})})},c6);function ffe(t,e){return Xo(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function OL(t,e){return ffe(t,e)||t.state.data!==void 0&&sT(t,e,e.refetchOnMount)}function sT(t,e,n){if(Xo(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&VD(t,e)}return!1}function TL(t,e,n,r){return(t!==e||Xo(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&VD(t,n)}function VD(t,e){return Xo(e.enabled,t)!==!1&&t.isStaleByTime(vh(e.staleTime,t))}function hfe(t,e){return!YO(t.getCurrentResult(),e)}var f9=x.createContext(void 0),pfe=t=>{const e=x.useContext(f9);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},h9=({client:t,children:e})=>(x.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),O.jsx(f9.Provider,{value:t,children:e})),p9=x.createContext(!1),mfe=()=>x.useContext(p9);p9.Provider;function gfe(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var vfe=x.createContext(gfe()),yfe=()=>x.useContext(vfe);function bfe(t,e){return typeof t=="function"?t(...e):!!t}function AL(){}var wfe=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},xfe=t=>{x.useEffect(()=>{t.clearReset()},[t])},Sfe=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(i&&t.data===void 0||bfe(n,[t.error,r])),_fe=t=>{const e=t.staleTime;t.suspense&&(t.staleTime=typeof e=="function"?(...n)=>Math.max(e(...n),1e3):Math.max(e??1e3,1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},Cfe=(t,e)=>t.isLoading&&t.isFetching&&!e,kfe=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,ML=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function Pfe(t,e,n){var d,f,h,m,p;const r=pfe(),i=mfe(),o=yfe(),s=r.defaultQueryOptions(t);(f=(d=r.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||f.call(d,s),s._optimisticResults=i?"isRestoring":"optimistic",_fe(s),wfe(s,o),xfe(o);const a=!r.getQueryCache().get(s.queryHash),[l]=x.useState(()=>new e(r,s)),c=l.getOptimisticResult(s),u=!i&&t.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(g=>{const b=u?l.subscribe(fr.batchCalls(g)):AL;return l.updateResult(),b},[l,u]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),x.useEffect(()=>{l.setOptions(s)},[s,l]),kfe(s,c))throw ML(s,l,o);if(Sfe({result:c,errorResetBoundary:o,throwOnError:s.throwOnError,query:r.getQueryCache().get(s.queryHash),suspense:s.suspense}))throw c.error;if((m=(h=r.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||m.call(h,s,c),s.experimental_prefetchInRender&&!Od&&Cfe(c,i)){const g=a?ML(s,l,o):(p=r.getQueryCache().get(s.queryHash))==null?void 0:p.promise;g==null||g.catch(AL).finally(()=>{l.updateResult()})}return s.notifyOnChangeProps?c:l.trackResult(c)}function m9(t,e){return Pfe(t,dfe)}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Av(){return Av=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Av.apply(this,arguments)}var cc;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(cc||(cc={}));const NL="popstate";function Efe(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return aT("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:xx(i)}return Tfe(e,n,null,t)}function mn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function g9(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Ofe(){return Math.random().toString(36).substr(2,8)}function DL(t,e){return{usr:t.state,key:t.key,idx:e}}function aT(t,e,n,r){return n===void 0&&(n=null),Av({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?im(e):e,{state:n,key:e&&e.key||r||Ofe()})}function xx(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function im(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Tfe(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=cc.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(Av({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function d(){a=cc.Pop;let g=u(),b=g==null?null:g-c;c=g,l&&l({action:a,location:p.location,delta:b})}function f(g,b){a=cc.Push;let y=aT(p.location,g,b);c=u()+1;let w=DL(y,c),_=p.createHref(y);try{s.pushState(w,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(_)}o&&l&&l({action:a,location:p.location,delta:1})}function h(g,b){a=cc.Replace;let y=aT(p.location,g,b);c=u();let w=DL(y,c),_=p.createHref(y);s.replaceState(w,"",_),o&&l&&l({action:a,location:p.location,delta:0})}function m(g){let b=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof g=="string"?g:xx(g);return y=y.replace(/ $/,"%20"),mn(b,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,b)}let p={get action(){return a},get location(){return t(i,s)},listen(g){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(NL,d),l=g,()=>{i.removeEventListener(NL,d),l=null}},createHref(g){return e(i,g)},createURL:m,encodeLocation(g){let b=m(g);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:f,replace:h,go(g){return s.go(g)}};return p}var RL;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(RL||(RL={}));function Afe(t,e,n){return n===void 0&&(n="/"),Mfe(t,e,n)}function Mfe(t,e,n,r){let i=typeof e=="string"?im(e):e,o=Qh(i.pathname||"/",n);if(o==null)return null;let s=v9(t);Nfe(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let c=Ufe(o);a=Vfe(s[l],c)}return a}function v9(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(mn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Pc([r,l.relativePath]),u=n.concat(l);o.children&&o.children.length>0&&(mn(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),v9(o.children,e,u,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:Ffe(c,o.index),routesMeta:u})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of y9(o.path))i(o,s,l)}),e}function y9(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=y9(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Nfe(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Bfe(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Dfe=/^:[\w-]+$/,Rfe=3,$fe=2,Ife=1,jfe=10,Lfe=-2,$L=t=>t==="*";function Ffe(t,e){let n=t.split("/"),r=n.length;return n.some($L)&&(r+=Lfe),e&&(r+=$fe),n.filter(i=>!$L(i)).reduce((i,o)=>i+(Dfe.test(o)?Rfe:o===""?Ife:jfe),r)}function Bfe(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Vfe(t,e,n){let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=o==="/"?e:e.slice(o.length)||"/",d=lT({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!d)return null;Object.assign(i,d.params),s.push({params:i,pathname:Pc([o,d.pathname]),pathnameBase:Gfe(Pc([o,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(o=Pc([o,d.pathnameBase]))}return s}function lT(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=zfe(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:f,isOptional:h}=u;if(f==="*"){let p=a[d]||"";s=o.slice(0,o.length-p.length).replace(/(.)\/+$/,"$1")}const m=a[d];return h&&!m?c[f]=void 0:c[f]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:t}}function zfe(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),g9(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Ufe(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return g9(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Qh(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Hfe(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?im(t):t;return{pathname:n?n.startsWith("/")?n:Wfe(n,e):e,search:Kfe(r),hash:Yfe(i)}}function Wfe(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Fk(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function qfe(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function zD(t,e){let n=qfe(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function UD(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=im(t):(i=Av({},t),mn(!i.pathname||!i.pathname.includes("?"),Fk("?","pathname","search",i)),mn(!i.pathname||!i.pathname.includes("#"),Fk("#","pathname","hash",i)),mn(!i.search||!i.search.includes("#"),Fk("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let d=e.length-1;if(!r&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=Hfe(i,a),c=s&&s!=="/"&&s.endsWith("/"),u=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Pc=t=>t.join("/").replace(/\/\/+/g,"/"),Gfe=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Kfe=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Yfe=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Xfe(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const b9=["post","put","patch","delete"];new Set(b9);const Zfe=["get",...b9];new Set(Zfe);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mv(){return Mv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mv.apply(this,arguments)}const u_=x.createContext(null),w9=x.createContext(null),ml=x.createContext(null),d_=x.createContext(null),gl=x.createContext({outlet:null,matches:[],isDataRoute:!1}),x9=x.createContext(null);function Jfe(t,e){let{relative:n}=e===void 0?{}:e;om()||mn(!1);let{basename:r,navigator:i}=x.useContext(ml),{hash:o,pathname:s,search:a}=f_(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:Pc([r,s])),i.createHref({pathname:l,search:a,hash:o})}function om(){return x.useContext(d_)!=null}function fa(){return om()||mn(!1),x.useContext(d_).location}function S9(t){x.useContext(ml).static||x.useLayoutEffect(t)}function vl(){let{isDataRoute:t}=x.useContext(gl);return t?dhe():Qfe()}function Qfe(){om()||mn(!1);let t=x.useContext(u_),{basename:e,future:n,navigator:r}=x.useContext(ml),{matches:i}=x.useContext(gl),{pathname:o}=fa(),s=JSON.stringify(zD(i,n.v7_relativeSplatPath)),a=x.useRef(!1);return S9(()=>{a.current=!0}),x.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=UD(c,JSON.parse(s),o,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Pc([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,s,o,t])}function HD(){let{matches:t}=x.useContext(gl),e=t[t.length-1];return e?e.params:{}}function f_(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=x.useContext(ml),{matches:i}=x.useContext(gl),{pathname:o}=fa(),s=JSON.stringify(zD(i,r.v7_relativeSplatPath));return x.useMemo(()=>UD(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function ehe(t,e){return the(t,e)}function the(t,e,n,r){om()||mn(!1);let{navigator:i,static:o}=x.useContext(ml),{matches:s}=x.useContext(gl),a=s[s.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=fa(),d;if(e){var f;let b=typeof e=="string"?im(e):e;c==="/"||(f=b.pathname)!=null&&f.startsWith(c)||mn(!1),d=b}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let b=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let p=Afe(t,{pathname:m}),g=she(p&&p.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:Pc([c,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Pc([c,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,n,r);return e&&g?x.createElement(d_.Provider,{value:{location:Mv({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:cc.Pop}},g):g}function nhe(){let t=uhe(),e=Xfe(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:i},n):null,null)}const rhe=x.createElement(nhe,null);class ihe extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?x.createElement(gl.Provider,{value:this.props.routeContext},x.createElement(x9.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ohe(t){let{routeContext:e,match:n,children:r}=t,i=x.useContext(u_);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(gl.Provider,{value:e},r)}function she(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=s.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||mn(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<s.length;u++){let d=s[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:h}=n,m=d.route.loader&&f[d.route.id]===void 0&&(!h||h[d.route.id]===void 0);if(d.route.lazy||m){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,d,f)=>{let h,m=!1,p=null,g=null;n&&(h=a&&d.route.id?a[d.route.id]:void 0,p=d.route.errorElement||rhe,l&&(c<0&&f===0?(fhe("route-fallback"),m=!0,g=null):c===f&&(m=!0,g=d.route.hydrateFallbackElement||null)));let b=e.concat(s.slice(0,f+1)),y=()=>{let w;return h?w=p:m?w=g:d.route.Component?w=x.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=u,x.createElement(ohe,{match:d,routeContext:{outlet:u,matches:b,isDataRoute:n!=null},children:w})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?x.createElement(ihe,{location:n.location,revalidation:n.revalidation,component:p,error:h,children:y(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):y()},null)}var _9=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(_9||{}),C9=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(C9||{});function ahe(t){let e=x.useContext(u_);return e||mn(!1),e}function lhe(t){let e=x.useContext(w9);return e||mn(!1),e}function che(t){let e=x.useContext(gl);return e||mn(!1),e}function k9(t){let e=che(),n=e.matches[e.matches.length-1];return n.route.id||mn(!1),n.route.id}function uhe(){var t;let e=x.useContext(x9),n=lhe(),r=k9();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function dhe(){let{router:t}=ahe(_9.UseNavigateStable),e=k9(C9.UseNavigateStable),n=x.useRef(!1);return S9(()=>{n.current=!0}),x.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Mv({fromRouteId:e},o)))},[t,e])}const IL={};function fhe(t,e,n){IL[t]||(IL[t]=!0)}function hhe(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function jL(t){let{to:e,replace:n,state:r,relative:i}=t;om()||mn(!1);let{future:o,static:s}=x.useContext(ml),{matches:a}=x.useContext(gl),{pathname:l}=fa(),c=vl(),u=UD(e,zD(a,o.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(u);return x.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:i}),[c,d,i,n,r]),null}function Ei(t){mn(!1)}function phe(t){let{basename:e="/",children:n=null,location:r,navigationType:i=cc.Pop,navigator:o,static:s=!1,future:a}=t;om()&&mn(!1);let l=e.replace(/^\/*/,"/"),c=x.useMemo(()=>({basename:l,navigator:o,static:s,future:Mv({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=im(r));let{pathname:u="/",search:d="",hash:f="",state:h=null,key:m="default"}=r,p=x.useMemo(()=>{let g=Qh(u,l);return g==null?null:{location:{pathname:g,search:d,hash:f,state:h,key:m},navigationType:i}},[l,u,d,f,h,m,i]);return p==null?null:x.createElement(ml.Provider,{value:c},x.createElement(d_.Provider,{children:n,value:p}))}function mhe(t){let{children:e,location:n}=t;return ehe(cT(e),n)}new Promise(()=>{});function cT(t,e){e===void 0&&(e=[]);let n=[];return x.Children.forEach(t,(r,i)=>{if(!x.isValidElement(r))return;let o=[...e,i];if(r.type===x.Fragment){n.push.apply(n,cT(r.props.children,o));return}r.type!==Ei&&mn(!1),!r.props.index||!r.props.children||mn(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=cT(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sx(){return Sx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sx.apply(this,arguments)}function P9(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ghe(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function vhe(t,e){return t.button===0&&(!e||e==="_self")&&!ghe(t)}const yhe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],bhe=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],whe="6";try{window.__reactRouterVersion=whe}catch{}const xhe=x.createContext({isTransitioning:!1}),She="startTransition",LL=zw[She];function _he(t){let{basename:e,children:n,future:r,window:i}=t,o=x.useRef();o.current==null&&(o.current=Efe({window:i,v5Compat:!0}));let s=o.current,[a,l]=x.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},u=x.useCallback(d=>{c&&LL?LL(()=>l(d)):l(d)},[l,c]);return x.useLayoutEffect(()=>s.listen(u),[s,u]),x.useEffect(()=>hhe(r),[r]),x.createElement(phe,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}const Che=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",khe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rn=x.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,f=P9(e,yhe),{basename:h}=x.useContext(ml),m,p=!1;if(typeof c=="string"&&khe.test(c)&&(m=c,Che))try{let w=new URL(window.location.href),_=c.startsWith("//")?new URL(w.protocol+c):new URL(c),S=Qh(_.pathname,h);_.origin===w.origin&&S!=null?c=S+_.search+_.hash:p=!0}catch{}let g=Jfe(c,{relative:i}),b=Ohe(c,{replace:s,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:d});function y(w){r&&r(w),w.defaultPrevented||b(w)}return x.createElement("a",Sx({},f,{href:m||g,onClick:p||o?r:y,ref:n,target:l}))}),Phe=x.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:o="",end:s=!1,style:a,to:l,viewTransition:c,children:u}=e,d=P9(e,bhe),f=f_(l,{relative:d.relative}),h=fa(),m=x.useContext(w9),{navigator:p,basename:g}=x.useContext(ml),b=m!=null&&The(f)&&c===!0,y=p.encodeLocation?p.encodeLocation(f).pathname:f.pathname,w=h.pathname,_=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;i||(w=w.toLowerCase(),_=_?_.toLowerCase():null,y=y.toLowerCase()),_&&g&&(_=Qh(_,g)||_);const S=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let C=w===y||!s&&w.startsWith(y)&&w.charAt(S)==="/",k=_!=null&&(_===y||!s&&_.startsWith(y)&&_.charAt(y.length)==="/"),E={isActive:C,isPending:k,isTransitioning:b},T=C?r:void 0,M;typeof o=="function"?M=o(E):M=[o,C?"active":null,k?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let D=typeof a=="function"?a(E):a;return x.createElement(rn,Sx({},d,{"aria-current":T,className:M,ref:n,style:D,to:l,viewTransition:c}),typeof u=="function"?u(E):u)});var uT;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(uT||(uT={}));var FL;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(FL||(FL={}));function Ehe(t){let e=x.useContext(u_);return e||mn(!1),e}function Ohe(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,viewTransition:a}=e===void 0?{}:e,l=vl(),c=fa(),u=f_(t,{relative:s});return x.useCallback(d=>{if(vhe(d,n)){d.preventDefault();let f=r!==void 0?r:xx(c)===xx(u);l(t,{replace:f,state:i,preventScrollReset:o,relative:s,viewTransition:a})}},[c,l,u,r,i,n,t,o,s,a])}function The(t,e){e===void 0&&(e={});let n=x.useContext(xhe);n==null&&mn(!1);let{basename:r}=Ehe(uT.useViewTransitionState),i=f_(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=Qh(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Qh(n.nextLocation.pathname,r)||n.nextLocation.pathname;return lT(i.pathname,s)!=null||lT(i.pathname,o)!=null}const BL=t=>{let e;const n=new Set,r=(c,u)=>{const d=typeof c=="function"?c(e):c;if(!Object.is(d,e)){const f=e;e=u??(typeof d!="object"||d===null)?d:Object.assign({},e,d),n.forEach(h=>h(e,f))}},i=()=>e,a={setState:r,getState:i,getInitialState:()=>l,subscribe:c=>(n.add(c),()=>n.delete(c))},l=e=t(r,i,a);return a},Ahe=t=>t?BL(t):BL,Mhe=t=>t;function Nhe(t,e=Mhe){const n=A.useSyncExternalStore(t.subscribe,()=>e(t.getState()),()=>e(t.getInitialState()));return A.useDebugValue(n),n}const VL=t=>{const e=Ahe(t),n=r=>Nhe(e,r);return Object.assign(n,e),n},WD=t=>t?VL(t):VL,Dhe="modulepreload",Rhe=function(t){return"/"+t},zL={},sl=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=Rhe(l),l in zL)return;zL[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":Dhe,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((f,h)=>{d.addEventListener("load",f),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return i.then(s=>{for(const a of s||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})},$he=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>sl(async()=>{const{default:r}=await Promise.resolve().then(()=>sm);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class qD extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class Ihe extends qD{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class jhe extends qD{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Lhe extends qD{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var dT;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(dT||(dT={}));var Fhe=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class Bhe{constructor(e,{headers:n={},customFetch:r,region:i=dT.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=$he(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return Fhe(this,void 0,void 0,function*(){try{const{headers:i,method:o,body:s}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=s):typeof s=="string"?(a["Content-Type"]="text/plain",c=s):typeof FormData<"u"&&s instanceof FormData?c=s:(a["Content-Type"]="application/json",c=JSON.stringify(s)));const u=yield this.fetch(`${this.url}/${e}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:c}).catch(m=>{throw new Ihe(m)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new jhe(u);if(!u.ok)throw new Lhe(u);let f=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),h;return f==="application/json"?h=yield u.json():f==="application/octet-stream"?h=yield u.blob():f==="text/event-stream"?h=u:f==="multipart/form-data"?h=yield u.formData():h=yield u.text(),{data:h,error:null}}catch(i){return{data:null,error:i}}})}}var di={},GD={},h_={},f0={},p_={},m_={},Vhe=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ep=Vhe();const zhe=ep.fetch,E9=ep.fetch.bind(ep),O9=ep.Headers,Uhe=ep.Request,Hhe=ep.Response,sm=Object.freeze(Object.defineProperty({__proto__:null,Headers:O9,Request:Uhe,Response:Hhe,default:E9,fetch:zhe},Symbol.toStringTag,{value:"Module"})),Whe=yie(sm);var g_={};Object.defineProperty(g_,"__esModule",{value:!0});let qhe=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};g_.default=qhe;var T9=Pn&&Pn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(m_,"__esModule",{value:!0});const Ghe=T9(Whe),Khe=T9(g_);let Yhe=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Ghe.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var s,a,l;let c=null,u=null,d=null,f=o.status,h=o.statusText;if(o.ok){if(this.method!=="HEAD"){const b=await o.text();b===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=b:u=JSON.parse(b))}const p=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),g=(a=o.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");p&&g&&g.length>1&&(d=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,f=406,h="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const p=await o.text();try{c=JSON.parse(p),Array.isArray(c)&&o.status===404&&(u=[],c=null,f=200,h="OK")}catch{o.status===404&&p===""?(f=204,h="No Content"):c={message:p}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,f=200,h="OK"),c&&this.shouldThrowOnError)throw new Khe.default(c)}return{error:c,data:u,count:d,status:f,statusText:h}});return this.shouldThrowOnError||(i=i.catch(o=>{var s,a,l;return{error:{message:`${(s=o==null?void 0:o.name)!==null&&s!==void 0?s:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(a=o==null?void 0:o.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=o==null?void 0:o.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,n)}returns(){return this}overrideTypes(){return this}};m_.default=Yhe;var Xhe=Pn&&Pn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(p_,"__esModule",{value:!0});const Zhe=Xhe(m_);let Jhe=class extends Zhe.default{select(e){let n=!1;const r=(e??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){const s=o?`${o}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:i=r}={}){const o=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(s,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:s="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${c}"; options=${l};`,s==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};p_.default=Jhe;var Qhe=Pn&&Pn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(f0,"__esModule",{value:!0});const epe=Qhe(p_);let tpe=class extends epe.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");const s=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${o}fts${s}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};f0.default=tpe;var npe=Pn&&Pn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(h_,"__esModule",{value:!0});const Vm=npe(f0);let rpe=class{constructor(e,{headers:n={},schema:r,fetch:i}){this.url=e,this.headers=n,this.schema=r,this.fetch=i}select(e,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let o=!1;const s=(e??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer=`count=${r}`),new Vm.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const i="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const s=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(s.length>0){const a=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Vm.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){const s="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),o||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Vm.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new Vm.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Vm.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};h_.default=rpe;var v_={},y_={};Object.defineProperty(y_,"__esModule",{value:!0});y_.version=void 0;y_.version="0.0.0-automated";Object.defineProperty(v_,"__esModule",{value:!0});v_.DEFAULT_HEADERS=void 0;const ipe=y_;v_.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${ipe.version}`};var A9=Pn&&Pn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(GD,"__esModule",{value:!0});const ope=A9(h_),spe=A9(f0),ape=v_;let lpe=class M9{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},ape.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=i}from(e){const n=new URL(`${this.url}/${e}`);return new ope.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new M9(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:o}={}){let s;const a=new URL(`${this.url}/rpc/${e}`);let l;r||i?(s=r?"HEAD":"GET",Object.entries(n).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{a.searchParams.append(u,d)})):(s="POST",l=n);const c=Object.assign({},this.headers);return o&&(c.Prefer=`count=${o}`),new spe.default({method:s,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};GD.default=lpe;var am=Pn&&Pn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(di,"__esModule",{value:!0});di.PostgrestError=di.PostgrestBuilder=di.PostgrestTransformBuilder=di.PostgrestFilterBuilder=di.PostgrestQueryBuilder=di.PostgrestClient=void 0;const N9=am(GD);di.PostgrestClient=N9.default;const D9=am(h_);di.PostgrestQueryBuilder=D9.default;const R9=am(f0);di.PostgrestFilterBuilder=R9.default;const $9=am(p_);di.PostgrestTransformBuilder=$9.default;const I9=am(m_);di.PostgrestBuilder=I9.default;const j9=am(g_);di.PostgrestError=j9.default;var cpe=di.default={PostgrestClient:N9.default,PostgrestQueryBuilder:D9.default,PostgrestFilterBuilder:R9.default,PostgrestTransformBuilder:$9.default,PostgrestBuilder:I9.default,PostgrestError:j9.default};const{PostgrestClient:upe,PostgrestQueryBuilder:$ot,PostgrestFilterBuilder:Iot,PostgrestTransformBuilder:jot,PostgrestBuilder:Lot,PostgrestError:Fot}=cpe,dpe="2.11.2",fpe={"X-Client-Info":`realtime-js/${dpe}`},hpe="1.0.0",L9=1e4,ppe=1e3;var yh;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(yh||(yh={}));var Ti;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ti||(Ti={}));var qo;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(qo||(qo={}));var fT;(function(t){t.websocket="websocket"})(fT||(fT={}));var Du;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Du||(Du={}));class mpe{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),o=n.getUint8(2);let s=this.HEADER_LENGTH+2;const a=r.decode(e.slice(s,s+i));s=s+i;const l=r.decode(e.slice(s,s+o));s=s+o;const c=JSON.parse(r.decode(e.slice(s,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class F9{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ut;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ut||(Ut={}));const UL=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((o,s)=>(o[s]=gpe(s,t,e,i),o),{})},gpe=(t,e,n,r)=>{const i=e.find(a=>a.name===t),o=i==null?void 0:i.type,s=n[t];return o&&!r.includes(o)?B9(o,s):hT(s)},B9=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return wpe(e,n)}switch(t){case Ut.bool:return vpe(e);case Ut.float4:case Ut.float8:case Ut.int2:case Ut.int4:case Ut.int8:case Ut.numeric:case Ut.oid:return ype(e);case Ut.json:case Ut.jsonb:return bpe(e);case Ut.timestamp:return xpe(e);case Ut.abstime:case Ut.date:case Ut.daterange:case Ut.int4range:case Ut.int8range:case Ut.money:case Ut.reltime:case Ut.text:case Ut.time:case Ut.timestamptz:case Ut.timetz:case Ut.tsrange:case Ut.tstzrange:return hT(e);default:return hT(e)}},hT=t=>t,vpe=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},ype=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},bpe=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},wpe=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let o;const s=t.slice(1,n);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>B9(e,a))}return t},xpe=t=>typeof t=="string"?t.replace(" ","T"):t,V9=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Bk{constructor(e,n,r={},i=L9){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var HL;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(HL||(HL={}));class Ig{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ig.syncState(this.state,i,o,s),this.pendingDiffs.forEach(l=>{this.state=Ig.syncDiff(this.state,l,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ig.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const o=this.cloneDeep(e),s=this.transformState(n),a={},l={};return this.map(o,(c,u)=>{s[c]||(l[c]=u)}),this.map(s,(c,u)=>{const d=o[c];if(d){const f=u.map(g=>g.presence_ref),h=d.map(g=>g.presence_ref),m=u.filter(g=>h.indexOf(g.presence_ref)<0),p=d.filter(g=>f.indexOf(g.presence_ref)<0);m.length>0&&(a[c]=m),p.length>0&&(l[c]=p)}else a[c]=u}),this.syncDiff(o,{joins:a,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:o,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const d=e[a].map(h=>h.presence_ref),f=u.filter(h=>d.indexOf(h.presence_ref)<0);e[a].unshift(...f)}r(a,u,l)}),this.map(s,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=c,i(a,c,l),c.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var WL;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(WL||(WL={}));var qL;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(qL||(qL={}));var Ea;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ea||(Ea={}));class KD{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Ti.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Bk(this,qo.join,this.params,this.timeout),this.rejoinTimer=new F9(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ti.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ti.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ti.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ti.errored,this.rejoinTimer.scheduleTimeout())}),this._on(qo.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new Ig(this),this.broadcastEndpointURL=V9(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:s,private:a}}=this.params;this._onError(u=>e==null?void 0:e(Ea.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(Ea.CLOSED));const l={},c={broadcast:o,presence:s,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:u})=>{var d;if(this.socket.setAuth(),u===void 0){e==null||e(Ea.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,h=(d=f==null?void 0:f.length)!==null&&d!==void 0?d:0,m=[];for(let p=0;p<h;p++){const g=f[p],{filter:{event:b,schema:y,table:w,filter:_}}=g,S=u&&u[p];if(S&&S.event===b&&S.schema===y&&S.table===w&&S.filter===_)m.push(Object.assign(Object.assign({},g),{id:S.id}));else{this.unsubscribe(),e==null||e(Ea.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e(Ea.SUBSCRIBED);return}}).receive("error",u=>{e==null||e(Ea.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ea.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:o,payload:s}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:s,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var s,a,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(s=this.params)===null||s===void 0?void 0:s.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),c.receive("ok",()=>o("ok")),c.receive("error",()=>o("error")),c.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ti.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(qo.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const i=new Bk(this,qo.leave,{},e);i.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(e,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),s=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),s}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Bk(this,e,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,o;const s=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=qo;if(r&&[a,l,c,u].indexOf(s)>=0&&r!==this._joinRef())return;let f=this._onMessage(s,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(h=>{var m,p,g;return((m=h.filter)===null||m===void 0?void 0:m.event)==="*"||((g=(p=h.filter)===null||p===void 0?void 0:p.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===s}).map(h=>h.callback(f,r)):(o=this.bindings[s])===null||o===void 0||o.filter(h=>{var m,p,g,b,y,w;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in h){const _=h.id,S=(m=h.filter)===null||m===void 0?void 0:m.event;return _&&((p=n.ids)===null||p===void 0?void 0:p.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((g=n.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const _=(y=(b=h==null?void 0:h.filter)===null||b===void 0?void 0:b.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return _==="*"||_===((w=n==null?void 0:n.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===s}).map(h=>{if(typeof f=="object"&&"ids"in f){const m=f.data,{schema:p,table:g,commit_timestamp:b,type:y,errors:w}=m;f=Object.assign(Object.assign({},{schema:p,table:g,commit_timestamp:b,eventType:y,new:{},old:{},errors:w}),this._getPayloadRecords(m))}h.callback(f,r)})}_isClosed(){return this.state===Ti.closed}_isJoined(){return this.state===Ti.joined}_isJoining(){return this.state===Ti.joining}_isLeaving(){return this.state===Ti.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&KD.isEqual(i.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(qo.close,{},e)}_onError(e){this._on(qo.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ti.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=UL(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=UL(e.columns,e.old_record)),n}}const Spe=()=>{},_pe=typeof WebSocket<"u",Cpe=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class kpe{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=fpe,this.params={},this.timeout=L9,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Spe,this.conn=null,this.sendBuffer=[],this.serializer=new mpe,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let s;return o?s=o:typeof fetch>"u"?s=(...a)=>sl(async()=>{const{default:l}=await Promise.resolve().then(()=>sm);return{default:l}},void 0).then(({default:l})=>l(...a)):s=fetch,(...a)=>s(...a)},this.endPoint=`${e}/${fT.websocket}`,this.httpEndpoint=V9(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(o,s)=>s(JSON.stringify(o)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new F9(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(_pe){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Ppe(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),sl(async()=>{const{default:e}=await import("./browser-DmQa0Ngi.js").then(n=>n.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:hpe}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case yh.connecting:return Du.Connecting;case yh.open:return Du.Open;case yh.closing:return Du.Closing;default:return Du.Closed}}isConnected(){return this.connectionState()===Du.Open}channel(e,n={config:{}}){const r=new KD(`realtime:${e}`,n,this);return this.channels.push(r),r}push(e){const{topic:n,event:r,payload:i,ref:o}=e,s=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(i=>{n&&i.updateJoinPayload({access_token:n}),i.joinedOnce&&i._isJoined()&&i._push(qo.access_token,{access_token:n})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(ppe,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:i,payload:o,ref:s}=n;s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${i} ${s&&"("+s+")"||""}`,o),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,o,s)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(qo.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Cpe],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Ppe{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=yh.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class YD extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Wn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Epe extends YD{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class pT extends YD{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var Ope=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const z9=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>sl(async()=>{const{default:r}=await Promise.resolve().then(()=>sm);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Tpe=()=>Ope(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield sl(()=>Promise.resolve().then(()=>sm),void 0)).Response:Response}),mT=t=>{if(Array.isArray(t))return t.map(n=>mT(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=mT(r)}),e};var Qd=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Vk=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Ape=(t,e,n)=>Qd(void 0,void 0,void 0,function*(){const r=yield Tpe();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{e(new Epe(Vk(i),t.status||500))}).catch(i=>{e(new pT(Vk(i),i))}):e(new pT(Vk(t),t))}),Mpe=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),n))};function h0(t,e,n,r,i,o){return Qd(this,void 0,void 0,function*(){return new Promise((s,a)=>{t(n,Mpe(e,r,i,o)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>Ape(l,a,r))})})}function _x(t,e,n,r){return Qd(this,void 0,void 0,function*(){return h0(t,"GET",e,n,r)})}function Ul(t,e,n,r,i){return Qd(this,void 0,void 0,function*(){return h0(t,"POST",e,r,i,n)})}function Npe(t,e,n,r,i){return Qd(this,void 0,void 0,function*(){return h0(t,"PUT",e,r,i,n)})}function Dpe(t,e,n,r){return Qd(this,void 0,void 0,function*(){return h0(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function U9(t,e,n,r,i){return Qd(this,void 0,void 0,function*(){return h0(t,"DELETE",e,r,i,n)})}var ai=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Rpe={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},GL={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class $pe{constructor(e,n={},r,i){this.url=e,this.headers=n,this.bucketId=r,this.fetch=z9(i)}uploadOrUpdate(e,n,r,i){return ai(this,void 0,void 0,function*(){try{let o;const s=Object.assign(Object.assign({},GL),i);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:o,headers:a},s!=null&&s.duplex?{duplex:s.duplex}:{})),f=yield d.json();return d.ok?{data:{path:c,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(o){if(Wn(o))return{data:null,error:o};throw o}})}upload(e,n,r){return ai(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return ai(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:GL.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),f=yield d.json();return d.ok?{data:{path:o,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(Wn(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return ai(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const o=yield Ul(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+o.url),a=s.searchParams.get("token");if(!a)throw new YD("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:a},error:null}}catch(r){if(Wn(r))return{data:null,error:r};throw r}})}update(e,n,r){return ai(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return ai(this,void 0,void 0,function*(){try{return{data:yield Ul(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Wn(i))return{data:null,error:i};throw i}})}copy(e,n,r){return ai(this,void 0,void 0,function*(){try{return{data:{path:(yield Ul(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Wn(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return ai(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),o=yield Ul(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(Wn(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return ai(this,void 0,void 0,function*(){try{const i=yield Ul(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(Wn(i))return{data:null,error:i};throw i}})}download(e,n){return ai(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),s=o?`?${o}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield _x(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Wn(a))return{data:null,error:a};throw a}})}info(e){return ai(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield _x(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:mT(r),error:null}}catch(r){if(Wn(r))return{data:null,error:r};throw r}})}exists(e){return ai(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Dpe(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Wn(r)&&r instanceof pT){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&i.push(o);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return ai(this,void 0,void 0,function*(){try{return{data:yield U9(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(Wn(n))return{data:null,error:n};throw n}})}list(e,n,r){return ai(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Rpe),n),{prefix:e||""});return{data:yield Ul(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Wn(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Ipe="2.7.1",jpe={"X-Client-Info":`storage-js/${Ipe}`};var ff=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class Lpe{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},jpe),n),this.fetch=z9(r)}listBuckets(){return ff(this,void 0,void 0,function*(){try{return{data:yield _x(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Wn(e))return{data:null,error:e};throw e}})}getBucket(e){return ff(this,void 0,void 0,function*(){try{return{data:yield _x(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(Wn(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return ff(this,void 0,void 0,function*(){try{return{data:yield Ul(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Wn(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return ff(this,void 0,void 0,function*(){try{return{data:yield Npe(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Wn(r))return{data:null,error:r};throw r}})}emptyBucket(e){return ff(this,void 0,void 0,function*(){try{return{data:yield Ul(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Wn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ff(this,void 0,void 0,function*(){try{return{data:yield U9(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(Wn(n))return{data:null,error:n};throw n}})}}class Fpe extends Lpe{constructor(e,n={},r){super(e,n,r)}from(e){return new $pe(this.url,this.headers,e,this.fetch)}}const Bpe="2.49.4";let fg="";typeof Deno<"u"?fg="deno":typeof document<"u"?fg="web":typeof navigator<"u"&&navigator.product==="ReactNative"?fg="react-native":fg="node";const Vpe={"X-Client-Info":`supabase-js-${fg}/${Bpe}`},zpe={headers:Vpe},Upe={schema:"public"},Hpe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Wpe={};var qpe=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Gpe=t=>{let e;return t?e=t:typeof fetch>"u"?e=E9:e=fetch,(...n)=>e(...n)},Kpe=()=>typeof Headers>"u"?O9:Headers,Ype=(t,e,n)=>{const r=Gpe(n),i=Kpe();return(o,s)=>qpe(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new i(s==null?void 0:s.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(o,Object.assign(Object.assign({},s),{headers:c}))})};var Xpe=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};function Zpe(t){return t.replace(/\/$/,"")}function Jpe(t,e){const{db:n,auth:r,realtime:i,global:o}=t,{db:s,auth:a,realtime:l,global:c}=e,u={db:Object.assign(Object.assign({},s),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},c),o),accessToken:()=>Xpe(this,void 0,void 0,function*(){return""})};return t.accessToken?u.accessToken=t.accessToken:delete u.accessToken,u}const H9="2.69.1",Of=30*1e3,gT=3,zk=gT*Of,Qpe="http://localhost:9999",eme="supabase.auth.token",tme={"X-Client-Info":`gotrue-js/${H9}`},vT="X-Supabase-Api-Version",W9={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},nme=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,rme=6e5;class XD extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function it(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class ime extends XD{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function ome(t){return it(t)&&t.name==="AuthApiError"}class q9 extends XD{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class ru extends XD{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class $l extends ru{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function sme(t){return it(t)&&t.name==="AuthSessionMissingError"}class Uk extends ru{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Sb extends ru{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class _b extends ru{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ame(t){return it(t)&&t.name==="AuthImplicitGrantRedirectError"}class KL extends ru{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class yT extends ru{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Hk(t){return it(t)&&t.name==="AuthRetryableFetchError"}class YL extends ru{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class jg extends ru{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const XL="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ZL=` 	
\r=`.split(""),lme=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<ZL.length;e+=1)t[ZL[e].charCodeAt(0)]=-2;for(let e=0;e<XL.length;e+=1)t[XL[e].charCodeAt(0)]=e;return t})();function G9(t,e,n){const r=lme[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function JL(t){const e=[],n=s=>{e.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=s=>{dme(s,r,n)};for(let s=0;s<t.length;s+=1)G9(t.charCodeAt(s),i,o);return e.join("")}function cme(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function ume(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}cme(r,e)}}function dme(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function fme(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)G9(t.charCodeAt(i),n,r);return new Uint8Array(e)}function hme(t){const e=[];return ume(t,n=>e.push(n)),new Uint8Array(e)}function pme(t){return Math.round(Date.now()/1e3)+t}function mme(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Cs=()=>typeof window<"u"&&typeof document<"u",wu={tested:!1,writable:!1},Lg=()=>{if(!Cs())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(wu.tested)return wu.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),wu.tested=!0,wu.writable=!0}catch{wu.tested=!0,wu.writable=!1}return wu.writable};function gme(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const K9=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>sl(async()=>{const{default:r}=await Promise.resolve().then(()=>sm);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},vme=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Y9=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Cb=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},kb=async(t,e)=>{await t.removeItem(e)};class b_{constructor(){this.promise=new b_.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}b_.promiseConstructor=Promise;function Wk(t){const e=t.split(".");if(e.length!==3)throw new jg("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!nme.test(e[r]))throw new jg("JWT not in base64url format");return{header:JSON.parse(JL(e[0])),payload:JSON.parse(JL(e[1])),signature:fme(e[2]),raw:{header:e[0],payload:e[1]}}}async function yme(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function bme(t,e){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const s=await t(o);if(!e(o,null,s)){r(s);return}}catch(s){if(!e(o,s)){i(s);return}}})()})}function wme(t){return("0"+t.toString(16)).substr(-2)}function xme(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,wme).join("")}async function Sme(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function _me(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Sme(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function hf(t,e,n=!1){const r=xme();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Y9(t,`${e}-code-verifier`,i);const o=await _me(r);return[o,r===o?"plain":"s256"]}const Cme=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function kme(t){const e=t.headers.get(vT);if(!e||!e.match(Cme))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Pme(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Eme(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var Ome=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Eu=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Tme=[502,503,504];async function QL(t){var e;if(!vme(t))throw new yT(Eu(t),0);if(Tme.includes(t.status))throw new yT(Eu(t),t.status);let n;try{n=await t.json()}catch(o){throw new q9(Eu(o),o)}let r;const i=kme(t);if(i&&i.getTime()>=W9["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new YL(Eu(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new $l}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new YL(Eu(n),t.status,n.weak_password.reasons);throw new ime(Eu(n),t.status||500,r)}const Ame=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function dt(t,e,n,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[vT]||(o[vT]=W9["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const s=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(s.redirect_to=r.redirectTo);const a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await Mme(t,e,n+a,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Mme(t,e,n,r,i,o){const s=Ame(e,r,i,o);let a;try{a=await t(n,Object.assign({},s))}catch(l){throw console.error(l),new yT(Eu(l),0)}if(a.ok||await QL(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await QL(l)}}function Il(t){var e;let n=null;$me(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=pme(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function eF(t){const e=Il(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Yl(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Nme(t){return{data:t,error:null}}function Dme(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=t,s=Ome(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},s);return{data:{properties:a,user:l},error:null}}function Rme(t){return t}function $me(t){return t.access_token&&t.refresh_token&&t.expires_in}var Ime=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class jme{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=K9(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await dt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(it(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await dt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Yl})}catch(r){if(it(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Ime(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await dt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Dme,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(it(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await dt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Yl})}catch(n){if(it(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,o,s,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await dt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Rme});if(u.error)throw u.error;const d=await u.json(),f=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,h=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(m=>{const p=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(m.split(";")[1].split("=")[1]);c[`${g}Page`]=p}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(it(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await dt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Yl})}catch(n){if(it(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await dt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Yl})}catch(r){if(it(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){try{return await dt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Yl})}catch(r){if(it(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:n,error:r}=await dt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(it(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await dt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(it(n))return{data:null,error:n};throw n}}}const Lme={getItem:t=>Lg()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Lg()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Lg()&&globalThis.localStorage.removeItem(t)}};function tF(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function Fme(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const pf={debug:!!(globalThis&&Lg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class X9 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Bme extends X9{}async function Vme(t,e,n){pf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),pf.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){pf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{pf.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw pf.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Bme(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(pf.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Fme();const zme={url:Qpe,storageKey:eme,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:tme,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function nF(t,e,n){return await n()}class Nv{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Nv.nextInstanceID,Nv.nextInstanceID+=1,this.instanceID>0&&Cs()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},zme),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new jme({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=K9(i.fetch),this.lock=i.lock||nF,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Cs()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Vme:this.lock=nF,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:Lg()?this.storage=Lme:(this.memoryStorage={},this.storage=tF(this.memoryStorage)):(this.memoryStorage={},this.storage=tF(this.memoryStorage)),Cs()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${H9}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=gme(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Cs()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),ame(o)){const l=(e=o.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:s,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",a),await this._saveSession(s),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return it(n)?{error:n}:{error:new q9("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const o=await dt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Il}),{data:s,error:a}=o;if(a||!s)return{data:{user:null,session:null},error:a};const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(o){if(it(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(e){var n,r,i;try{let o;if("email"in e){const{email:u,password:d,options:f}=e;let h=null,m=null;this.flowType==="pkce"&&([h,m]=await hf(this.storage,this.storageKey)),o=await dt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:m},xform:Il})}else if("phone"in e){const{phone:u,password:d,options:f}=e;o=await dt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Il})}else throw new Sb("You must provide either an email or phone number and a password");const{data:s,error:a}=o;if(a||!s)return{data:{user:null,session:null},error:a};const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(o){if(it(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(e){try{let n;if("email"in e){const{email:o,password:s,options:a}=e;n=await dt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:eF})}else if("phone"in e){const{phone:o,password:s,options:a}=e;n=await dt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:eF})}else throw new Sb("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Uk}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(it(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await Cb(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:o,error:s}=await dt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Il});if(await kb(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Uk}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:s})}catch(o){if(it(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:o,nonce:s}=e,a=await dt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:s,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Il}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Uk}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(it(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,o,s;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await hf(this.storage,this.storageKey));const{error:d}=await dt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await dt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new Sb("You must provide either an email or phone number.")}catch(a){if(it(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let i,o;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,o=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:s,error:a}=await dt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:Il});if(a)throw a;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,c=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(it(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let o=null,s=null;return this.flowType==="pkce"&&([o,s]=await hf(this.storage,this.storageKey)),await dt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:s}),headers:this.headers,xform:Nme})}catch(o){if(it(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new $l;const{error:i}=await dt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(it(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:o}=e,{error:s}=await dt(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in e){const{phone:r,type:i,options:o}=e,{data:s,error:a}=await dt(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:a}}throw new Sb("You must provide either an email or phone number and a type")}catch(n){if(it(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Cb(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<zk:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let s=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!s&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await dt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Yl}):await this._useSession(async n=>{var r,i,o;const{data:s,error:a}=n;if(a)throw a;return!(!((r=s.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $l}:await dt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:Yl})})}catch(n){if(it(n))return sme(n)&&(await this._removeSession(),await kb(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new $l;const s=i.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await hf(this.storage,this.storageKey));const{data:c,error:u}=await dt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:s.access_token,xform:Yl});if(u)throw u;return s.user=c.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(r){if(it(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new $l;const n=Date.now()/1e3;let r=n,i=!0,o=null;const{payload:s}=Wk(e.access_token);if(s.exp&&(r=s.exp,i=r<=n),i){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;o={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(it(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:s,error:a}=n;if(a)throw a;e=(r=s.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new $l;const{session:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(it(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Cs())throw new _b("No browser detected.");if(e.error||e.error_description||e.error_code)throw new _b(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new KL("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new _b("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new KL("No code detected.");const{data:y,error:w}=await this._exchangeCodeForSession(e.code);if(w)throw w;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:s,expires_in:a,expires_at:l,token_type:c}=e;if(!o||!a||!s||!c)throw new _b("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let f=u+d;l&&(f=parseInt(l));const h=f-u;h*1e3<=Of&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${d}s`);const m=f-d;u-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,f,u):u-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,f,u);const{data:p,error:g}=await this._getUser(o);if(g)throw g;const b={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:d,expires_at:f,refresh_token:s,token_type:c,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:e.type},error:null}}catch(r){if(it(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Cb(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{error:o};const s=(r=i.session)===null||r===void 0?void 0:r.access_token;if(s){const{error:a}=await this.admin.signOut(s,e);if(a&&!(ome(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await kb(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=mme(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:s}=n;if(s)throw s;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await hf(this.storage,this.storageKey,!0));try{return await dt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(it(o))return{data:null,error:o};throw o}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(it(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var s,a,l,c,u;const{data:d,error:f}=o;if(f)throw f;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await dt(this.fetch,"GET",h,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return Cs()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(it(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:s}=n;if(s)throw s;return await dt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(it(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await bme(async i=>(i>0&&await yme(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await dt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Il})),(i,o)=>{const s=200*Math.pow(2,i);return o&&Hk(o)&&Date.now()+s-r<Of})}catch(r){if(this._debug(n,"error",r),it(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Cs()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Cb(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const i=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<zk;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${zk}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),Hk(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new $l;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new b_;const{data:o,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!o.session)throw new $l;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={session:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(i,"error",o),it(o)){const s={session:null,error:o};return Hk(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(s),s}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const o=[],s=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){o.push(l)}});if(await Promise.all(s),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Y9(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await kb(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Cs()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Of);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Of);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Of}ms, refresh threshold is ${gT} ticks`),i<=gT&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof X9)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Cs()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,s]=await hf(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(a.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?{data:null,error:o}:await dt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(it(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:o,error:s}=n;if(s)return{data:null,error:s};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await dt(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(it(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{data:null,error:o};const{data:s,error:a}=await dt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:a})})}catch(n){if(it(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?{data:null,error:o}:await dt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(it(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],i=r.filter(s=>s.factor_type==="totp"&&s.status==="verified"),o=r.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:r,totp:i,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:i},error:o}=e;if(o)return{data:null,error:o};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Wk(i.access_token);let a=null;s.aal&&(a=s.aal);let l=a;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=s.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(s=>s.kid===e);if(r||(r=this.jwks.keys.find(s=>s.kid===e),r&&this.jwks_cached_at+rme>Date.now()))return r;const{data:i,error:o}=await dt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!i.keys||i.keys.length===0)throw new jg("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),r=i.keys.find(s=>s.kid===e),!r)throw new jg("No matching signing key found in JWKS");return r}async getClaims(e,n={keys:[]}){try{let r=e;if(!r){const{data:h,error:m}=await this.getSession();if(m||!h.session)return{data:null,error:m};r=h.session.access_token}const{header:i,payload:o,signature:s,raw:{header:a,payload:l}}=Wk(r);if(Pme(o.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:h}=await this.getUser(r);if(h)throw h;return{data:{claims:o,header:i,signature:s},error:null}}const c=Eme(i.alg),u=await this.fetchJwk(i.kid,n),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,s,hme(`${a}.${l}`)))throw new jg("Invalid JWT signature");return{data:{claims:o,header:i,signature:s},error:null}}catch(r){if(it(r))return{data:null,error:r};throw r}}}Nv.nextInstanceID=0;const Ume=Nv;class Hme extends Ume{constructor(e){super(e)}}var Wme=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class qme{constructor(e,n,r){var i,o,s;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=Zpe(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:Upe,realtime:Wpe,auth:Object.assign(Object.assign({},Hpe),{storageKey:l}),global:zpe},u=Jpe(r??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=u.global.headers)!==null&&o!==void 0?o:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=u.auth)!==null&&s!==void 0?s:{},this.headers,u.global.fetch),this.fetch=Ype(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new upe(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new Bhe(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Fpe(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return Wme(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:o,flowType:s,lock:a,debug:l},c,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Hme({url:this.authUrl,headers:Object.assign(Object.assign({},d),c),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,flowType:s,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new kpe(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Gme=(t,e,n)=>new qme(t,e,n),Kme="https://wodqcypxzadroirgzwyd.supabase.co",Yme="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndvZHFjeXB4emFkcm9pcmd6d3lkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDMyOTg4MTUsImV4cCI6MjA1ODg3NDgxNX0.O2Fyu_HFEMipacj2LGSAFXl8y_GThNhjA-m2mSy5QAM",Te=Gme(Kme,Yme),ZD=WD(t=>({user:null,isAuthenticated:!1,isLoading:!0,checkAuth:async()=>{try{console.log("[authStore] Starting checkAuth");const{data:{session:e},error:n}=await Te.auth.getSession();if(console.log("[authStore] Session fetch result:",e,"Error:",n),!e){console.log("[authStore] No session found, setting isAuthenticated false"),t({isLoading:!1,isAuthenticated:!1,user:null});return}const{data:r,error:i}=await Te.from("users").select("id, email, display_name, role, avatar_url").eq("id",e.user.id).single();if(console.log("[authStore] User profile fetch result:",r,"Error:",i),i||!r){console.error("[authStore] Error fetching user data:",i),t({isLoading:!1,isAuthenticated:!1,user:null});return}const o={id:r.id,email:r.email,displayName:r.display_name,role:r.role,avatarUrl:r.avatar_url};console.log("[authStore] User authenticated:",o),t({user:o,isAuthenticated:!0,isLoading:!1})}catch(e){console.error("[authStore] Error checking auth:",e),t({isLoading:!1,isAuthenticated:!1,user:null})}},login:async(e,n)=>{t({isLoading:!0});try{console.log(`Attempting to login with email: ${e}`);const{data:r,error:i}=await Te.auth.signInWithPassword({email:e,password:n});if(r!=null&&r.session){const{data:o,error:s}=await Te.from("users").select("id, email, display_name, role, avatar_url").eq("id",r.user.id).single();if(s||!o)throw console.error("Error fetching user profile:",s),new Error("Failed to fetch user profile");const a={id:o.id,email:o.email,displayName:o.display_name,role:o.role,avatarUrl:o.avatar_url};t({user:a,isAuthenticated:!0,isLoading:!1}),xe.success(`Welcome back, ${a.displayName}`);return}throw new Error((i==null?void 0:i.message)||"Invalid login credentials")}catch(r){throw console.error("Login error:",r),xe.error(r.message||"Login failed"),t({isLoading:!1}),r}},logout:async()=>{try{await Te.auth.signOut(),t({user:null,isAuthenticated:!1}),xe.success("You have been logged out")}catch(e){console.error("Logout error:",e),xe.error("Logout failed")}},setUser:e=>{t({user:e,isAuthenticated:!!e,isLoading:!1})}})),Xme=()=>{const t=vl(),{isAuthenticated:e,isLoading:n,user:r,checkAuth:i}=ZD();return x.useEffect(()=>{const{data:{subscription:o}}=Te.auth.onAuthStateChange(()=>{i()});return i(),()=>{o.unsubscribe()}},[i]),x.useEffect(()=>{n||(e&&r?(xe.success(`Welcome back, ${r.displayName}`),t("/dashboard")):e||t("/login"))},[e,n,t,r]),v("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background",children:P("div",{className:"space-y-6 text-center",children:[v("div",{className:"w-20 h-20 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto"}),P("div",{className:"space-y-2",children:[v("h1",{className:"text-2xl font-bold",children:"Harmony Suite"}),v("p",{className:"text-muted-foreground",children:"Portfolio & Project Management"})]})]})})};var p0=t=>t.type==="checkbox",Vu=t=>t instanceof Date,Ur=t=>t==null;const Z9=t=>typeof t=="object";var En=t=>!Ur(t)&&!Array.isArray(t)&&Z9(t)&&!Vu(t),J9=t=>En(t)&&t.target?p0(t.target)?t.target.checked:t.target.value:t,Zme=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,Q9=(t,e)=>t.has(Zme(e)),Jme=t=>{const e=t.constructor&&t.constructor.prototype;return En(e)&&e.hasOwnProperty("isPrototypeOf")},JD=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function sr(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(JD&&(t instanceof Blob||r))&&(n||En(t)))if(e=n?[]:{},!n&&!Jme(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=sr(t[i]));else return t;return e}var w_=t=>Array.isArray(t)?t.filter(Boolean):[],_n=t=>t===void 0,de=(t,e,n)=>{if(!e||!En(t))return n;const r=w_(e.split(/[,[\].]+?/)).reduce((i,o)=>Ur(i)?i:i[o],t);return _n(r)||r===t?_n(t[e])?n:t[e]:r},Di=t=>typeof t=="boolean",QD=t=>/^\w*$/.test(t),eq=t=>w_(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Et=(t,e,n)=>{let r=-1;const i=QD(e)?[e]:eq(e),o=i.length,s=o-1;for(;++r<o;){const a=i[r];let l=n;if(r!==s){const c=t[a];l=En(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;t[a]=l,t=t[a]}};const Cx={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Zo={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},wa={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},tq=A.createContext(null),x_=()=>A.useContext(tq),Qme=t=>{const{children:e,...n}=t;return A.createElement(tq.Provider,{value:n},e)};var nq=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const o in t)Object.defineProperty(i,o,{get:()=>{const s=o;return e._proxyFormState[s]!==Zo.all&&(e._proxyFormState[s]=!r||Zo.all),n&&(n[s]=!0),t[s]}});return i};function ege(t){const e=x_(),{control:n=e.control,disabled:r,name:i,exact:o}=t||{},[s,a]=A.useState(n._formState),l=A.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),c=A.useRef(i);return c.current=i,A.useEffect(()=>n._subscribe({name:c.current,formState:l.current,exact:o,callback:u=>{!r&&a({...n._formState,...u})}}),[n,r,o]),A.useEffect(()=>{l.current.isValid&&n._setValid(!0)},[n]),A.useMemo(()=>nq(s,n,l.current,!1),[s,n])}var js=t=>typeof t=="string",rq=(t,e,n,r,i)=>js(t)?(r&&e.watch.add(t),de(n,t,i)):Array.isArray(t)?t.map(o=>(r&&e.watch.add(o),de(n,o))):(r&&(e.watchAll=!0),n);function tge(t){const e=x_(),{control:n=e.control,name:r,defaultValue:i,disabled:o,exact:s}=t||{},a=A.useRef(r),l=A.useRef(i);a.current=r,A.useEffect(()=>n._subscribe({name:a.current,formState:{values:!0},exact:s,callback:d=>!o&&u(rq(a.current,n._names,d.values||n._formValues,!1,l.current))}),[n,o,s]);const[c,u]=A.useState(n._getWatch(r,i));return A.useEffect(()=>n._removeUnmounted()),c}function nge(t){const e=x_(),{name:n,disabled:r,control:i=e.control,shouldUnregister:o}=t,s=Q9(i._names.array,n),a=tge({control:i,name:n,defaultValue:de(i._formValues,n,de(i._defaultValues,n,t.defaultValue)),exact:!0}),l=ege({control:i,name:n,exact:!0}),c=A.useRef(t),u=A.useRef(i.register(n,{...t.rules,value:a,...Di(t.disabled)?{disabled:t.disabled}:{}})),d=A.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!de(l.errors,n)},isDirty:{enumerable:!0,get:()=>!!de(l.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!de(l.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!de(l.validatingFields,n)},error:{enumerable:!0,get:()=>de(l.errors,n)}}),[l,n]),f=A.useCallback(g=>u.current.onChange({target:{value:J9(g),name:n},type:Cx.CHANGE}),[n]),h=A.useCallback(()=>u.current.onBlur({target:{value:de(i._formValues,n),name:n},type:Cx.BLUR}),[n,i._formValues]),m=A.useCallback(g=>{const b=de(i._fields,n);b&&g&&(b._f.ref={focus:()=>g.focus(),select:()=>g.select(),setCustomValidity:y=>g.setCustomValidity(y),reportValidity:()=>g.reportValidity()})},[i._fields,n]),p=A.useMemo(()=>({name:n,value:a,...Di(r)||l.disabled?{disabled:l.disabled||r}:{},onChange:f,onBlur:h,ref:m}),[n,r,l.disabled,f,h,m,a]);return A.useEffect(()=>{const g=i._options.shouldUnregister||o;i.register(n,{...c.current.rules,...Di(c.current.disabled)?{disabled:c.current.disabled}:{}});const b=(y,w)=>{const _=de(i._fields,y);_&&_._f&&(_._f.mount=w)};if(b(n,!0),g){const y=sr(de(i._options.defaultValues,n));Et(i._defaultValues,n,y),_n(de(i._formValues,n))&&Et(i._formValues,n,y)}return!s&&i.register(n),()=>{(s?g&&!i._state.action:g)?i.unregister(n):b(n,!1)}},[n,i,s,o]),A.useEffect(()=>{i._setDisabledField({disabled:r,name:n})},[r,n,i]),A.useMemo(()=>({field:p,formState:l,fieldState:d}),[p,l,d])}const rge=t=>t.render(nge(t));var iq=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},Fg=t=>Array.isArray(t)?t:[t],rF=()=>{let t=[];return{get observers(){return t},next:i=>{for(const o of t)o.next&&o.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(o=>o!==i)}}),unsubscribe:()=>{t=[]}}},bT=t=>Ur(t)||!Z9(t);function Xl(t,e){if(bT(t)||bT(e))return t===e;if(Vu(t)&&Vu(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const o=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const s=e[i];if(Vu(o)&&Vu(s)||En(o)&&En(s)||Array.isArray(o)&&Array.isArray(s)?!Xl(o,s):o!==s)return!1}}return!0}var Vr=t=>En(t)&&!Object.keys(t).length,eR=t=>t.type==="file",Jo=t=>typeof t=="function",kx=t=>{if(!JD)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},oq=t=>t.type==="select-multiple",tR=t=>t.type==="radio",ige=t=>tR(t)||p0(t),qk=t=>kx(t)&&t.isConnected;function oge(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=_n(t)?r++:t[e[r++]];return t}function sge(t){for(const e in t)if(t.hasOwnProperty(e)&&!_n(t[e]))return!1;return!0}function In(t,e){const n=Array.isArray(e)?e:QD(e)?[e]:eq(e),r=n.length===1?t:oge(t,n),i=n.length-1,o=n[i];return r&&delete r[o],i!==0&&(En(r)&&Vr(r)||Array.isArray(r)&&sge(r))&&In(t,n.slice(0,-1)),t}var sq=t=>{for(const e in t)if(Jo(t[e]))return!0;return!1};function Px(t,e={}){const n=Array.isArray(t);if(En(t)||n)for(const r in t)Array.isArray(t[r])||En(t[r])&&!sq(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Px(t[r],e[r])):Ur(t[r])||(e[r]=!0);return e}function aq(t,e,n){const r=Array.isArray(t);if(En(t)||r)for(const i in t)Array.isArray(t[i])||En(t[i])&&!sq(t[i])?_n(e)||bT(n[i])?n[i]=Array.isArray(t[i])?Px(t[i],[]):{...Px(t[i])}:aq(t[i],Ur(e)?{}:e[i],n[i]):n[i]=!Xl(t[i],e[i]);return n}var zm=(t,e)=>aq(t,e,Px(e));const iF={value:!1,isValid:!1},oF={value:!0,isValid:!0};var lq=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!_n(t[0].attributes.value)?_n(t[0].value)||t[0].value===""?oF:{value:t[0].value,isValid:!0}:oF:iF}return iF},cq=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>_n(t)?t:e?t===""?NaN:t&&+t:n&&js(t)?new Date(t):r?r(t):t;const sF={isValid:!1,value:null};var uq=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,sF):sF;function aF(t){const e=t.ref;return eR(e)?e.files:tR(e)?uq(t.refs).value:oq(e)?[...e.selectedOptions].map(({value:n})=>n):p0(e)?lq(t.refs).value:cq(_n(e.value)?t.ref.value:e.value,t)}var age=(t,e,n,r)=>{const i={};for(const o of t){const s=de(e,o);s&&Et(i,o,s._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},Ex=t=>t instanceof RegExp,Um=t=>_n(t)?t:Ex(t)?t.source:En(t)?Ex(t.value)?t.value.source:t.value:t,lF=t=>({isOnSubmit:!t||t===Zo.onSubmit,isOnBlur:t===Zo.onBlur,isOnChange:t===Zo.onChange,isOnAll:t===Zo.all,isOnTouch:t===Zo.onTouched});const cF="AsyncFunction";var lge=t=>!!t&&!!t.validate&&!!(Jo(t.validate)&&t.validate.constructor.name===cF||En(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===cF)),cge=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),uF=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Bg=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const o=de(t,i);if(o){const{_f:s,...a}=o;if(s){if(s.refs&&s.refs[0]&&e(s.refs[0],i)&&!r)return!0;if(s.ref&&e(s.ref,s.name)&&!r)return!0;if(Bg(a,e))break}else if(En(a)&&Bg(a,e))break}}};function dF(t,e,n){const r=de(t,n);if(r||QD(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const o=i.join("."),s=de(e,o),a=de(t,o);if(s&&!Array.isArray(s)&&n!==o)return{name:n};if(a&&a.type)return{name:o,error:a};i.pop()}return{name:n}}var uge=(t,e,n,r)=>{n(t);const{name:i,...o}=t;return Vr(o)||Object.keys(o).length>=Object.keys(e).length||Object.keys(o).find(s=>e[s]===(!r||Zo.all))},dge=(t,e,n)=>!t||!e||t===e||Fg(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),fge=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,hge=(t,e)=>!w_(de(t,e)).length&&In(t,e),pge=(t,e,n)=>{const r=Fg(de(t,n));return Et(r,"root",e[n]),Et(t,n,r),t},Ew=t=>js(t);function fF(t,e,n="validate"){if(Ew(t)||Array.isArray(t)&&t.every(Ew)||Di(t)&&!t)return{type:n,message:Ew(t)?t:"",ref:e}}var mf=t=>En(t)&&!Ex(t)?t:{value:t,message:""},hF=async(t,e,n,r,i,o)=>{const{ref:s,refs:a,required:l,maxLength:c,minLength:u,min:d,max:f,pattern:h,validate:m,name:p,valueAsNumber:g,mount:b}=t._f,y=de(n,p);if(!b||e.has(p))return{};const w=a?a[0]:s,_=N=>{i&&w.reportValidity&&(w.setCustomValidity(Di(N)?"":N||""),w.reportValidity())},S={},C=tR(s),k=p0(s),E=C||k,T=(g||eR(s))&&_n(s.value)&&_n(y)||kx(s)&&s.value===""||y===""||Array.isArray(y)&&!y.length,M=iq.bind(null,p,r,S),D=(N,L,I,z=wa.maxLength,V=wa.minLength)=>{const j=N?L:I;S[p]={type:N?z:V,message:j,ref:s,...M(N?z:V,j)}};if(o?!Array.isArray(y)||!y.length:l&&(!E&&(T||Ur(y))||Di(y)&&!y||k&&!lq(a).isValid||C&&!uq(a).isValid)){const{value:N,message:L}=Ew(l)?{value:!!l,message:l}:mf(l);if(N&&(S[p]={type:wa.required,message:L,ref:w,...M(wa.required,L)},!r))return _(L),S}if(!T&&(!Ur(d)||!Ur(f))){let N,L;const I=mf(f),z=mf(d);if(!Ur(y)&&!isNaN(y)){const V=s.valueAsNumber||y&&+y;Ur(I.value)||(N=V>I.value),Ur(z.value)||(L=V<z.value)}else{const V=s.valueAsDate||new Date(y),j=H=>new Date(new Date().toDateString()+" "+H),R=s.type=="time",$=s.type=="week";js(I.value)&&y&&(N=R?j(y)>j(I.value):$?y>I.value:V>new Date(I.value)),js(z.value)&&y&&(L=R?j(y)<j(z.value):$?y<z.value:V<new Date(z.value))}if((N||L)&&(D(!!N,I.message,z.message,wa.max,wa.min),!r))return _(S[p].message),S}if((c||u)&&!T&&(js(y)||o&&Array.isArray(y))){const N=mf(c),L=mf(u),I=!Ur(N.value)&&y.length>+N.value,z=!Ur(L.value)&&y.length<+L.value;if((I||z)&&(D(I,N.message,L.message),!r))return _(S[p].message),S}if(h&&!T&&js(y)){const{value:N,message:L}=mf(h);if(Ex(N)&&!y.match(N)&&(S[p]={type:wa.pattern,message:L,ref:s,...M(wa.pattern,L)},!r))return _(L),S}if(m){if(Jo(m)){const N=await m(y,n),L=fF(N,w);if(L&&(S[p]={...L,...M(wa.validate,L.message)},!r))return _(L.message),S}else if(En(m)){let N={};for(const L in m){if(!Vr(N)&&!r)break;const I=fF(await m[L](y,n),w,L);I&&(N={...I,...M(L,I.message)},_(I.message),r&&(S[p]=N))}if(!Vr(N)&&(S[p]={ref:w,...N},!r))return S}}return _(!0),S};const mge={mode:Zo.onSubmit,reValidateMode:Zo.onChange,shouldFocusError:!0};function gge(t={}){let e={...mge,...t},n={submitCount:0,isDirty:!1,isLoading:Jo(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const r={};let i=En(e.defaultValues)||En(e.values)?sr(e.values||e.defaultValues)||{}:{},o=e.shouldUnregister?{}:sr(i),s={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let d={...u};const f={array:rF(),state:rF()},h=lF(e.mode),m=lF(e.reValidateMode),p=e.criteriaMode===Zo.all,g=B=>W=>{clearTimeout(c),c=setTimeout(B,W)},b=async B=>{if(!e.disabled&&(u.isValid||d.isValid||B)){const W=e.resolver?Vr((await T()).errors):await D(r,!0);W!==n.isValid&&f.state.next({isValid:W})}},y=(B,W)=>{!e.disabled&&(u.isValidating||u.validatingFields||d.isValidating||d.validatingFields)&&((B||Array.from(a.mount)).forEach(J=>{J&&(W?Et(n.validatingFields,J,W):In(n.validatingFields,J))}),f.state.next({validatingFields:n.validatingFields,isValidating:!Vr(n.validatingFields)}))},w=(B,W=[],J,he,ae=!0,ie=!0)=>{if(he&&J&&!e.disabled){if(s.action=!0,ie&&Array.isArray(de(r,B))){const Se=J(de(r,B),he.argA,he.argB);ae&&Et(r,B,Se)}if(ie&&Array.isArray(de(n.errors,B))){const Se=J(de(n.errors,B),he.argA,he.argB);ae&&Et(n.errors,B,Se),hge(n.errors,B)}if((u.touchedFields||d.touchedFields)&&ie&&Array.isArray(de(n.touchedFields,B))){const Se=J(de(n.touchedFields,B),he.argA,he.argB);ae&&Et(n.touchedFields,B,Se)}(u.dirtyFields||d.dirtyFields)&&(n.dirtyFields=zm(i,o)),f.state.next({name:B,isDirty:L(B,W),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Et(o,B,W)},_=(B,W)=>{Et(n.errors,B,W),f.state.next({errors:n.errors})},S=B=>{n.errors=B,f.state.next({errors:n.errors,isValid:!1})},C=(B,W,J,he)=>{const ae=de(r,B);if(ae){const ie=de(o,B,_n(J)?de(i,B):J);_n(ie)||he&&he.defaultChecked||W?Et(o,B,W?ie:aF(ae._f)):V(B,ie),s.mount&&b()}},k=(B,W,J,he,ae)=>{let ie=!1,Se=!1;const mt={name:B};if(!e.disabled){if(!J||he){(u.isDirty||d.isDirty)&&(Se=n.isDirty,n.isDirty=mt.isDirty=L(),ie=Se!==mt.isDirty);const Jt=Xl(de(i,B),W);Se=!!de(n.dirtyFields,B),Jt?In(n.dirtyFields,B):Et(n.dirtyFields,B,!0),mt.dirtyFields=n.dirtyFields,ie=ie||(u.dirtyFields||d.dirtyFields)&&Se!==!Jt}if(J){const Jt=de(n.touchedFields,B);Jt||(Et(n.touchedFields,B,J),mt.touchedFields=n.touchedFields,ie=ie||(u.touchedFields||d.touchedFields)&&Jt!==J)}ie&&ae&&f.state.next(mt)}return ie?mt:{}},E=(B,W,J,he)=>{const ae=de(n.errors,B),ie=(u.isValid||d.isValid)&&Di(W)&&n.isValid!==W;if(e.delayError&&J?(l=g(()=>_(B,J)),l(e.delayError)):(clearTimeout(c),l=null,J?Et(n.errors,B,J):In(n.errors,B)),(J?!Xl(ae,J):ae)||!Vr(he)||ie){const Se={...he,...ie&&Di(W)?{isValid:W}:{},errors:n.errors,name:B};n={...n,...Se},f.state.next(Se)}},T=async B=>{y(B,!0);const W=await e.resolver(o,e.context,age(B||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return y(B),W},M=async B=>{const{errors:W}=await T(B);if(B)for(const J of B){const he=de(W,J);he?Et(n.errors,J,he):In(n.errors,J)}else n.errors=W;return W},D=async(B,W,J={valid:!0})=>{for(const he in B){const ae=B[he];if(ae){const{_f:ie,...Se}=ae;if(ie){const mt=a.array.has(ie.name),Jt=ae._f&&lge(ae._f);Jt&&u.validatingFields&&y([he],!0);const Hn=await hF(ae,a.disabled,o,p,e.shouldUseNativeValidation&&!W,mt);if(Jt&&u.validatingFields&&y([he]),Hn[ie.name]&&(J.valid=!1,W))break;!W&&(de(Hn,ie.name)?mt?pge(n.errors,Hn,ie.name):Et(n.errors,ie.name,Hn[ie.name]):In(n.errors,ie.name))}!Vr(Se)&&await D(Se,W,J)}}return J.valid},N=()=>{for(const B of a.unMount){const W=de(r,B);W&&(W._f.refs?W._f.refs.every(J=>!qk(J)):!qk(W._f.ref))&&Z(B)}a.unMount=new Set},L=(B,W)=>!e.disabled&&(B&&W&&Et(o,B,W),!Xl(F(),i)),I=(B,W,J)=>rq(B,a,{...s.mount?o:_n(W)?i:js(B)?{[B]:W}:W},J,W),z=B=>w_(de(s.mount?o:i,B,e.shouldUnregister?de(i,B,[]):[])),V=(B,W,J={})=>{const he=de(r,B);let ae=W;if(he){const ie=he._f;ie&&(!ie.disabled&&Et(o,B,cq(W,ie)),ae=kx(ie.ref)&&Ur(W)?"":W,oq(ie.ref)?[...ie.ref.options].forEach(Se=>Se.selected=ae.includes(Se.value)):ie.refs?p0(ie.ref)?ie.refs.length>1?ie.refs.forEach(Se=>(!Se.defaultChecked||!Se.disabled)&&(Se.checked=Array.isArray(ae)?!!ae.find(mt=>mt===Se.value):ae===Se.value)):ie.refs[0]&&(ie.refs[0].checked=!!ae):ie.refs.forEach(Se=>Se.checked=Se.value===ae):eR(ie.ref)?ie.ref.value="":(ie.ref.value=ae,ie.ref.type||f.state.next({name:B,values:sr(o)})))}(J.shouldDirty||J.shouldTouch)&&k(B,ae,J.shouldTouch,J.shouldDirty,!0),J.shouldValidate&&Y(B)},j=(B,W,J)=>{for(const he in W){const ae=W[he],ie=`${B}.${he}`,Se=de(r,ie);(a.array.has(B)||En(ae)||Se&&!Se._f)&&!Vu(ae)?j(ie,ae,J):V(ie,ae,J)}},R=(B,W,J={})=>{const he=de(r,B),ae=a.array.has(B),ie=sr(W);Et(o,B,ie),ae?(f.array.next({name:B,values:sr(o)}),(u.isDirty||u.dirtyFields||d.isDirty||d.dirtyFields)&&J.shouldDirty&&f.state.next({name:B,dirtyFields:zm(i,o),isDirty:L(B,ie)})):he&&!he._f&&!Ur(ie)?j(B,ie,J):V(B,ie,J),uF(B,a)&&f.state.next({...n}),f.state.next({name:s.mount?B:void 0,values:sr(o)})},$=async B=>{s.mount=!0;const W=B.target;let J=W.name,he=!0;const ae=de(r,J),ie=Se=>{he=Number.isNaN(Se)||Vu(Se)&&isNaN(Se.getTime())||Xl(Se,de(o,J,Se))};if(ae){let Se,mt;const Jt=W.type?aF(ae._f):J9(B),Hn=B.type===Cx.BLUR||B.type===Cx.FOCUS_OUT,Y0=!cge(ae._f)&&!e.resolver&&!de(n.errors,J)&&!ae._f.deps||fge(Hn,de(n.touchedFields,J),n.isSubmitted,m,h),yu=uF(J,a,Hn);Et(o,J,Jt),Hn?(ae._f.onBlur&&ae._f.onBlur(B),l&&l(0)):ae._f.onChange&&ae._f.onChange(B);const Ss=k(J,Jt,Hn),X0=!Vr(Ss)||yu;if(!Hn&&f.state.next({name:J,type:B.type,values:sr(o)}),Y0)return(u.isValid||d.isValid)&&(e.mode==="onBlur"?Hn&&b():Hn||b()),X0&&f.state.next({name:J,...yu?{}:Ss});if(!Hn&&yu&&f.state.next({...n}),e.resolver){const{errors:ya}=await T([J]);if(ie(Jt),he){const ek=dF(n.errors,r,J),Z0=dF(ya,r,ek.name||J);Se=Z0.error,J=Z0.name,mt=Vr(ya)}}else y([J],!0),Se=(await hF(ae,a.disabled,o,p,e.shouldUseNativeValidation))[J],y([J]),ie(Jt),he&&(Se?mt=!1:(u.isValid||d.isValid)&&(mt=await D(r,!0)));he&&(ae._f.deps&&Y(ae._f.deps),E(J,mt,Se,Ss))}},H=(B,W)=>{if(de(n.errors,W)&&B.focus)return B.focus(),1},Y=async(B,W={})=>{let J,he;const ae=Fg(B);if(e.resolver){const ie=await M(_n(B)?B:ae);J=Vr(ie),he=B?!ae.some(Se=>de(ie,Se)):J}else B?(he=(await Promise.all(ae.map(async ie=>{const Se=de(r,ie);return await D(Se&&Se._f?{[ie]:Se}:Se)}))).every(Boolean),!(!he&&!n.isValid)&&b()):he=J=await D(r);return f.state.next({...!js(B)||(u.isValid||d.isValid)&&J!==n.isValid?{}:{name:B},...e.resolver||!B?{isValid:J}:{},errors:n.errors}),W.shouldFocus&&!he&&Bg(r,H,B?ae:a.mount),he},F=B=>{const W={...s.mount?o:i};return _n(B)?W:js(B)?de(W,B):B.map(J=>de(W,J))},G=(B,W)=>({invalid:!!de((W||n).errors,B),isDirty:!!de((W||n).dirtyFields,B),error:de((W||n).errors,B),isValidating:!!de(n.validatingFields,B),isTouched:!!de((W||n).touchedFields,B)}),ee=B=>{B&&Fg(B).forEach(W=>In(n.errors,W)),f.state.next({errors:B?n.errors:{}})},te=(B,W,J)=>{const he=(de(r,B,{_f:{}})._f||{}).ref,ae=de(n.errors,B)||{},{ref:ie,message:Se,type:mt,...Jt}=ae;Et(n.errors,B,{...Jt,...W,ref:he}),f.state.next({name:B,errors:n.errors,isValid:!1}),J&&J.shouldFocus&&he&&he.focus&&he.focus()},me=(B,W)=>Jo(B)?f.state.subscribe({next:J=>B(I(void 0,W),J)}):I(B,W,!0),Q=B=>f.state.subscribe({next:W=>{dge(B.name,W.name,B.exact)&&uge(W,B.formState||u,jr,B.reRenderRoot)&&B.callback({values:{...o},...n,...W})}}).unsubscribe,ke=B=>(s.mount=!0,d={...d,...B.formState},Q({...B,formState:d})),Z=(B,W={})=>{for(const J of B?Fg(B):a.mount)a.mount.delete(J),a.array.delete(J),W.keepValue||(In(r,J),In(o,J)),!W.keepError&&In(n.errors,J),!W.keepDirty&&In(n.dirtyFields,J),!W.keepTouched&&In(n.touchedFields,J),!W.keepIsValidating&&In(n.validatingFields,J),!e.shouldUnregister&&!W.keepDefaultValue&&In(i,J);f.state.next({values:sr(o)}),f.state.next({...n,...W.keepDirty?{isDirty:L()}:{}}),!W.keepIsValid&&b()},le=({disabled:B,name:W})=>{(Di(B)&&s.mount||B||a.disabled.has(W))&&(B?a.disabled.add(W):a.disabled.delete(W))},ue=(B,W={})=>{let J=de(r,B);const he=Di(W.disabled)||Di(e.disabled);return Et(r,B,{...J||{},_f:{...J&&J._f?J._f:{ref:{name:B}},name:B,mount:!0,...W}}),a.mount.add(B),J?le({disabled:Di(W.disabled)?W.disabled:e.disabled,name:B}):C(B,!0,W.value),{...he?{disabled:W.disabled||e.disabled}:{},...e.progressive?{required:!!W.required,min:Um(W.min),max:Um(W.max),minLength:Um(W.minLength),maxLength:Um(W.maxLength),pattern:Um(W.pattern)}:{},name:B,onChange:$,onBlur:$,ref:ae=>{if(ae){ue(B,W),J=de(r,B);const ie=_n(ae.value)&&ae.querySelectorAll&&ae.querySelectorAll("input,select,textarea")[0]||ae,Se=ige(ie),mt=J._f.refs||[];if(Se?mt.find(Jt=>Jt===ie):ie===J._f.ref)return;Et(r,B,{_f:{...J._f,...Se?{refs:[...mt.filter(qk),ie,...Array.isArray(de(i,B))?[{}]:[]],ref:{type:ie.type,name:B}}:{ref:ie}}}),C(B,!1,void 0,ie)}else J=de(r,B,{}),J._f&&(J._f.mount=!1),(e.shouldUnregister||W.shouldUnregister)&&!(Q9(a.array,B)&&s.action)&&a.unMount.add(B)}}},K=()=>e.shouldFocusError&&Bg(r,H,a.mount),nt=B=>{Di(B)&&(f.state.next({disabled:B}),Bg(r,(W,J)=>{const he=de(r,J);he&&(W.disabled=he._f.disabled||B,Array.isArray(he._f.refs)&&he._f.refs.forEach(ae=>{ae.disabled=he._f.disabled||B}))},0,!1))},Ie=(B,W)=>async J=>{let he;J&&(J.preventDefault&&J.preventDefault(),J.persist&&J.persist());let ae=sr(o);if(f.state.next({isSubmitting:!0}),e.resolver){const{errors:ie,values:Se}=await T();n.errors=ie,ae=Se}else await D(r);if(a.disabled.size)for(const ie of a.disabled)Et(ae,ie,void 0);if(In(n.errors,"root"),Vr(n.errors)){f.state.next({errors:{}});try{await B(ae,J)}catch(ie){he=ie}}else W&&await W({...n.errors},J),K(),setTimeout(K);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Vr(n.errors)&&!he,submitCount:n.submitCount+1,errors:n.errors}),he)throw he},Mt=(B,W={})=>{de(r,B)&&(_n(W.defaultValue)?R(B,sr(de(i,B))):(R(B,W.defaultValue),Et(i,B,sr(W.defaultValue))),W.keepTouched||In(n.touchedFields,B),W.keepDirty||(In(n.dirtyFields,B),n.isDirty=W.defaultValue?L(B,sr(de(i,B))):L()),W.keepError||(In(n.errors,B),u.isValid&&b()),f.state.next({...n}))},_t=(B,W={})=>{const J=B?sr(B):i,he=sr(J),ae=Vr(B),ie=ae?i:he;if(W.keepDefaultValues||(i=J),!W.keepValues){if(W.keepDirtyValues){const Se=new Set([...a.mount,...Object.keys(zm(i,o))]);for(const mt of Array.from(Se))de(n.dirtyFields,mt)?Et(ie,mt,de(o,mt)):R(mt,de(ie,mt))}else{if(JD&&_n(B))for(const Se of a.mount){const mt=de(r,Se);if(mt&&mt._f){const Jt=Array.isArray(mt._f.refs)?mt._f.refs[0]:mt._f.ref;if(kx(Jt)){const Hn=Jt.closest("form");if(Hn){Hn.reset();break}}}}for(const Se of a.mount)R(Se,de(ie,Se))}o=sr(ie),f.array.next({values:{...ie}}),f.state.next({values:{...ie}})}a={mount:W.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!u.isValid||!!W.keepIsValid||!!W.keepDirtyValues,s.watch=!!e.shouldUnregister,f.state.next({submitCount:W.keepSubmitCount?n.submitCount:0,isDirty:ae?!1:W.keepDirty?n.isDirty:!!(W.keepDefaultValues&&!Xl(B,i)),isSubmitted:W.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ae?{}:W.keepDirtyValues?W.keepDefaultValues&&o?zm(i,o):n.dirtyFields:W.keepDefaultValues&&B?zm(i,B):W.keepDirty?n.dirtyFields:{},touchedFields:W.keepTouched?n.touchedFields:{},errors:W.keepErrors?n.errors:{},isSubmitSuccessful:W.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Zt=(B,W)=>_t(Jo(B)?B(o):B,W),vr=(B,W={})=>{const J=de(r,B),he=J&&J._f;if(he){const ae=he.refs?he.refs[0]:he.ref;ae.focus&&(ae.focus(),W.shouldSelect&&Jo(ae.select)&&ae.select())}},jr=B=>{n={...n,...B}},yr={control:{register:ue,unregister:Z,getFieldState:G,handleSubmit:Ie,setError:te,_subscribe:Q,_runSchema:T,_getWatch:I,_getDirty:L,_setValid:b,_setFieldArray:w,_setDisabledField:le,_setErrors:S,_getFieldArray:z,_reset:_t,_resetDefaultValues:()=>Jo(e.defaultValues)&&e.defaultValues().then(B=>{Zt(B,e.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:N,_disableForm:nt,_subjects:f,_proxyFormState:u,get _fields(){return r},get _formValues(){return o},get _state(){return s},set _state(B){s=B},get _defaultValues(){return i},get _names(){return a},set _names(B){a=B},get _formState(){return n},get _options(){return e},set _options(B){e={...e,...B}}},subscribe:ke,trigger:Y,register:ue,handleSubmit:Ie,watch:me,setValue:R,getValues:F,reset:Zt,resetField:Mt,clearErrors:ee,unregister:Z,setError:te,setFocus:vr,getFieldState:G};return{...yr,formControl:yr}}function nR(t={}){const e=A.useRef(void 0),n=A.useRef(void 0),[r,i]=A.useState({isDirty:!1,isValidating:!1,isLoading:Jo(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Jo(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:gge(t),formState:r},t.formControl&&t.defaultValues&&!Jo(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const o=e.current.control;return o._options=t,A.useLayoutEffect(()=>o._subscribe({formState:o._proxyFormState,callback:()=>i({...o._formState}),reRenderRoot:!0}),[o]),A.useEffect(()=>o._disableForm(t.disabled),[o,t.disabled]),A.useEffect(()=>{if(o._proxyFormState.isDirty){const s=o._getDirty();s!==r.isDirty&&o._subjects.state.next({isDirty:s})}},[o,r.isDirty]),A.useEffect(()=>{t.values&&!Xl(t.values,n.current)?(o._reset(t.values,o._options.resetOptions),n.current=t.values,i(s=>({...s}))):o._resetDefaultValues()},[t.values,o]),A.useEffect(()=>{t.errors&&!Vr(t.errors)&&o._setErrors(t.errors)},[t.errors,o]),A.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),A.useEffect(()=>{t.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[t.shouldUnregister,o]),e.current.formState=nq(r,o),e.current}const pF=(t,e,n)=>{if(t&&"reportValidity"in t){const r=de(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},dq=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?pF(r.ref,n,t):r.refs&&r.refs.forEach(i=>pF(i,n,t))}},vge=(t,e)=>{e.shouldUseNativeValidation&&dq(t,e);const n={};for(const r in t){const i=de(e.fields,r),o=Object.assign(t[r]||{},{ref:i&&i.ref});if(yge(e.names||Object.keys(t),r)){const s=Object.assign({},de(n,r));Et(s,"root",o),Et(n,r,s)}else Et(n,r,o)}return n},yge=(t,e)=>t.some(n=>n.startsWith(e+"."));var bge=function(t,e){for(var n={};t.length;){var r=t[0],i=r.code,o=r.message,s=r.path.join(".");if(!n[s])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];n[s]={message:a.message,type:a.code}}else n[s]={message:o,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(u){return u.errors.forEach(function(d){return t.push(d)})}),e){var l=n[s].types,c=l&&l[r.code];n[s]=iq(s,e,n,i,c?[].concat(c,r.message):r.message)}t.shift()}return n},fq=function(t,e,n){return n===void 0&&(n={}),function(r,i,o){try{return Promise.resolve(function(s,a){try{var l=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(c){return o.shouldUseNativeValidation&&dq({},o),{errors:{},values:n.raw?r:c}})}catch(c){return a(c)}return l&&l.then?l.then(void 0,a):l}(0,function(s){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(s))return{values:{},errors:vge(bge(s.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw s}))}catch(s){return Promise.reject(s)}}},gt;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const o={};for(const s of i)o[s]=s;return o},t.getValidEnumValues=i=>{const o=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),s={};for(const a of o)s[a]=i[a];return t.objectValues(s)},t.objectValues=i=>t.objectKeys(i).map(function(o){return i[o]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const o=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&o.push(s);return o},t.find=(i,o)=>{for(const s of i)if(o(s))return s},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,o=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(o)}t.joinValues=r,t.jsonStringifyReplacer=(i,o)=>typeof o=="bigint"?o.toString():o})(gt||(gt={}));var wT;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(wT||(wT={}));const ve=gt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Na=t=>{switch(typeof t){case"undefined":return ve.undefined;case"string":return ve.string;case"number":return isNaN(t)?ve.nan:ve.number;case"boolean":return ve.boolean;case"function":return ve.function;case"bigint":return ve.bigint;case"symbol":return ve.symbol;case"object":return Array.isArray(t)?ve.array:t===null?ve.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ve.promise:typeof Map<"u"&&t instanceof Map?ve.map:typeof Set<"u"&&t instanceof Set?ve.set:typeof Date<"u"&&t instanceof Date?ve.date:ve.object;default:return ve.unknown}},re=gt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),wge=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Hi extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(o){return o.message},r={_errors:[]},i=o=>{for(const s of o.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)r._errors.push(n(s));else{let a=r,l=0;for(;l<s.path.length;){const c=s.path[l];l===s.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(s))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return i(this),r}static assert(e){if(!(e instanceof Hi))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,gt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Hi.create=t=>new Hi(t);const tp=(t,e)=>{let n;switch(t.code){case re.invalid_type:t.received===ve.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case re.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,gt.jsonStringifyReplacer)}`;break;case re.unrecognized_keys:n=`Unrecognized key(s) in object: ${gt.joinValues(t.keys,", ")}`;break;case re.invalid_union:n="Invalid input";break;case re.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${gt.joinValues(t.options)}`;break;case re.invalid_enum_value:n=`Invalid enum value. Expected ${gt.joinValues(t.options)}, received '${t.received}'`;break;case re.invalid_arguments:n="Invalid function arguments";break;case re.invalid_return_type:n="Invalid function return type";break;case re.invalid_date:n="Invalid date";break;case re.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:gt.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case re.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case re.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case re.custom:n="Invalid input";break;case re.invalid_intersection_types:n="Intersection results could not be merged";break;case re.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case re.not_finite:n="Number must be finite";break;default:n=e.defaultError,gt.assertNever(t)}return{message:n}};let hq=tp;function xge(t){hq=t}function Ox(){return hq}const Tx=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,o=[...n,...i.path||[]],s={...i,path:o};if(i.message!==void 0)return{...i,path:o,message:i.message};let a="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)a=c(s,{data:e,defaultError:a}).message;return{...i,path:o,message:a}},Sge=[];function fe(t,e){const n=Ox(),r=Tx({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===tp?void 0:tp].filter(i=>!!i)});t.common.issues.push(r)}class $r{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return Be;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const o=await i.key,s=await i.value;r.push({key:o,value:s})}return $r.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:o,value:s}=i;if(o.status==="aborted"||s.status==="aborted")return Be;o.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(r[o.value]=s.value)}return{status:e.value,value:r}}}const Be=Object.freeze({status:"aborted"}),Kf=t=>({status:"dirty",value:t}),Jr=t=>({status:"valid",value:t}),xT=t=>t.status==="aborted",ST=t=>t.status==="dirty",Td=t=>t.status==="valid",Dv=t=>typeof Promise<"u"&&t instanceof Promise;function Ax(t,e,n,r){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function pq(t,e,n,r,i){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var Ee;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Ee||(Ee={}));var hg,pg;class na{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const mF=(t,e)=>{if(Td(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Hi(t.common.issues);return this._error=n,this._error}}};function et(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(s,a)=>{var l,c;const{message:u}=t;return s.code==="invalid_enum_value"?{message:u??a.defaultError}:typeof a.data>"u"?{message:(l=u??r)!==null&&l!==void 0?l:a.defaultError}:s.code!=="invalid_type"?{message:a.defaultError}:{message:(c=u??n)!==null&&c!==void 0?c:a.defaultError}},description:i}}class st{get description(){return this._def.description}_getType(e){return Na(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Na(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new $r,ctx:{common:e.parent.common,data:e.data,parsedType:Na(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Dv(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Na(e)},o=this._parseSync({data:e,path:i.path,parent:i});return mF(i,o)}"~validate"(e){var n,r;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Na(e)};if(!this["~standard"].async)try{const o=this._parseSync({data:e,path:[],parent:i});return Td(o)?{value:o.value}:{issues:i.common.issues}}catch(o){!((r=(n=o==null?void 0:o.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:i}).then(o=>Td(o)?{value:o.value}:{issues:i.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Na(e)},i=this._parse({data:e,path:r.path,parent:r}),o=await(Dv(i)?i:Promise.resolve(i));return mF(r,o)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,o)=>{const s=e(i),a=()=>o.addIssue({code:re.custom,...r(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(l=>l?!0:(a(),!1)):s?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new fs({schema:this,typeName:je.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return qs.create(this,this._def)}nullable(){return Hc.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ss.create(this)}promise(){return rp.create(this,this._def)}or(e){return jv.create([this,e],this._def)}and(e){return Lv.create(this,e,this._def)}transform(e){return new fs({...et(this._def),schema:this,typeName:je.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Uv({...et(this._def),innerType:this,defaultValue:n,typeName:je.ZodDefault})}brand(){return new rR({typeName:je.ZodBranded,type:this,...et(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Hv({...et(this._def),innerType:this,catchValue:n,typeName:je.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return m0.create(this,e)}readonly(){return Wv.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const _ge=/^c[^\s-]{8,}$/i,Cge=/^[0-9a-z]+$/,kge=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Pge=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Ege=/^[a-z0-9_-]{21}$/i,Oge=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Tge=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Age=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Mge="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Gk;const Nge=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Dge=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Rge=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,$ge=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Ige=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,jge=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,mq="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Lge=new RegExp(`^${mq}$`);function gq(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function Fge(t){return new RegExp(`^${gq(t)}$`)}function vq(t){let e=`${mq}T${gq(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function Bge(t,e){return!!((e==="v4"||!e)&&Nge.test(t)||(e==="v6"||!e)&&Rge.test(t))}function Vge(t,e){if(!Oge.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||!i.typ||!i.alg||e&&i.alg!==e)}catch{return!1}}function zge(t,e){return!!((e==="v4"||!e)&&Dge.test(t)||(e==="v6"||!e)&&$ge.test(t))}class ns extends st{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ve.string){const o=this._getOrReturnCtx(e);return fe(o,{code:re.invalid_type,expected:ve.string,received:o.parsedType}),Be}const r=new $r;let i;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(i=this._getOrReturnCtx(e,i),fe(i,{code:re.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="max")e.data.length>o.value&&(i=this._getOrReturnCtx(e,i),fe(i,{code:re.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="length"){const s=e.data.length>o.value,a=e.data.length<o.value;(s||a)&&(i=this._getOrReturnCtx(e,i),s?fe(i,{code:re.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):a&&fe(i,{code:re.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),r.dirty())}else if(o.kind==="email")Age.test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"email",code:re.invalid_string,message:o.message}),r.dirty());else if(o.kind==="emoji")Gk||(Gk=new RegExp(Mge,"u")),Gk.test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"emoji",code:re.invalid_string,message:o.message}),r.dirty());else if(o.kind==="uuid")Pge.test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"uuid",code:re.invalid_string,message:o.message}),r.dirty());else if(o.kind==="nanoid")Ege.test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"nanoid",code:re.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid")_ge.test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"cuid",code:re.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid2")Cge.test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"cuid2",code:re.invalid_string,message:o.message}),r.dirty());else if(o.kind==="ulid")kge.test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"ulid",code:re.invalid_string,message:o.message}),r.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),fe(i,{validation:"url",code:re.invalid_string,message:o.message}),r.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"regex",code:re.invalid_string,message:o.message}),r.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(i=this._getOrReturnCtx(e,i),fe(i,{code:re.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),r.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(i=this._getOrReturnCtx(e,i),fe(i,{code:re.invalid_string,validation:{startsWith:o.value},message:o.message}),r.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(i=this._getOrReturnCtx(e,i),fe(i,{code:re.invalid_string,validation:{endsWith:o.value},message:o.message}),r.dirty()):o.kind==="datetime"?vq(o).test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{code:re.invalid_string,validation:"datetime",message:o.message}),r.dirty()):o.kind==="date"?Lge.test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{code:re.invalid_string,validation:"date",message:o.message}),r.dirty()):o.kind==="time"?Fge(o).test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{code:re.invalid_string,validation:"time",message:o.message}),r.dirty()):o.kind==="duration"?Tge.test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"duration",code:re.invalid_string,message:o.message}),r.dirty()):o.kind==="ip"?Bge(e.data,o.version)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"ip",code:re.invalid_string,message:o.message}),r.dirty()):o.kind==="jwt"?Vge(e.data,o.alg)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"jwt",code:re.invalid_string,message:o.message}),r.dirty()):o.kind==="cidr"?zge(e.data,o.version)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"cidr",code:re.invalid_string,message:o.message}),r.dirty()):o.kind==="base64"?Ige.test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"base64",code:re.invalid_string,message:o.message}),r.dirty()):o.kind==="base64url"?jge.test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"base64url",code:re.invalid_string,message:o.message}),r.dirty()):gt.assertNever(o);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:re.invalid_string,...Ee.errToObj(r)})}_addCheck(e){return new ns({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ee.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ee.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ee.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ee.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Ee.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ee.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ee.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ee.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Ee.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Ee.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Ee.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ee.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Ee.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...Ee.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Ee.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Ee.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Ee.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Ee.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Ee.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Ee.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Ee.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Ee.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Ee.errToObj(n)})}nonempty(e){return this.min(1,Ee.errToObj(e))}trim(){return new ns({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ns({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ns({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ns.create=t=>{var e;return new ns({checks:[],typeName:je.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...et(t)})};function Uge(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,o=parseInt(t.toFixed(i).replace(".","")),s=parseInt(e.toFixed(i).replace(".",""));return o%s/Math.pow(10,i)}class Vc extends st{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ve.number){const o=this._getOrReturnCtx(e);return fe(o,{code:re.invalid_type,expected:ve.number,received:o.parsedType}),Be}let r;const i=new $r;for(const o of this._def.checks)o.kind==="int"?gt.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),fe(r,{code:re.invalid_type,expected:"integer",received:"float",message:o.message}),i.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),fe(r,{code:re.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),fe(r,{code:re.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="multipleOf"?Uge(e.data,o.value)!==0&&(r=this._getOrReturnCtx(e,r),fe(r,{code:re.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),fe(r,{code:re.not_finite,message:o.message}),i.dirty()):gt.assertNever(o);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Ee.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Ee.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Ee.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Ee.toString(n))}setLimit(e,n,r,i){return new Vc({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Ee.toString(i)}]})}_addCheck(e){return new Vc({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ee.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ee.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ee.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ee.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ee.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Ee.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Ee.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ee.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ee.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&gt.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Vc.create=t=>new Vc({checks:[],typeName:je.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...et(t)});class zc extends st{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ve.bigint)return this._getInvalidInput(e);let r;const i=new $r;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),fe(r,{code:re.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),fe(r,{code:re.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),fe(r,{code:re.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):gt.assertNever(o);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return fe(n,{code:re.invalid_type,expected:ve.bigint,received:n.parsedType}),Be}gte(e,n){return this.setLimit("min",e,!0,Ee.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Ee.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Ee.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Ee.toString(n))}setLimit(e,n,r,i){return new zc({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Ee.toString(i)}]})}_addCheck(e){return new zc({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ee.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ee.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ee.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ee.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Ee.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}zc.create=t=>{var e;return new zc({checks:[],typeName:je.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...et(t)})};class Rv extends st{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ve.boolean){const r=this._getOrReturnCtx(e);return fe(r,{code:re.invalid_type,expected:ve.boolean,received:r.parsedType}),Be}return Jr(e.data)}}Rv.create=t=>new Rv({typeName:je.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...et(t)});class Ad extends st{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ve.date){const o=this._getOrReturnCtx(e);return fe(o,{code:re.invalid_type,expected:ve.date,received:o.parsedType}),Be}if(isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return fe(o,{code:re.invalid_date}),Be}const r=new $r;let i;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(i=this._getOrReturnCtx(e,i),fe(i,{code:re.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),r.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(i=this._getOrReturnCtx(e,i),fe(i,{code:re.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),r.dirty()):gt.assertNever(o);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ad({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Ee.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Ee.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Ad.create=t=>new Ad({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:je.ZodDate,...et(t)});class Mx extends st{_parse(e){if(this._getType(e)!==ve.symbol){const r=this._getOrReturnCtx(e);return fe(r,{code:re.invalid_type,expected:ve.symbol,received:r.parsedType}),Be}return Jr(e.data)}}Mx.create=t=>new Mx({typeName:je.ZodSymbol,...et(t)});class $v extends st{_parse(e){if(this._getType(e)!==ve.undefined){const r=this._getOrReturnCtx(e);return fe(r,{code:re.invalid_type,expected:ve.undefined,received:r.parsedType}),Be}return Jr(e.data)}}$v.create=t=>new $v({typeName:je.ZodUndefined,...et(t)});class Iv extends st{_parse(e){if(this._getType(e)!==ve.null){const r=this._getOrReturnCtx(e);return fe(r,{code:re.invalid_type,expected:ve.null,received:r.parsedType}),Be}return Jr(e.data)}}Iv.create=t=>new Iv({typeName:je.ZodNull,...et(t)});class np extends st{constructor(){super(...arguments),this._any=!0}_parse(e){return Jr(e.data)}}np.create=t=>new np({typeName:je.ZodAny,...et(t)});class cd extends st{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Jr(e.data)}}cd.create=t=>new cd({typeName:je.ZodUnknown,...et(t)});class al extends st{_parse(e){const n=this._getOrReturnCtx(e);return fe(n,{code:re.invalid_type,expected:ve.never,received:n.parsedType}),Be}}al.create=t=>new al({typeName:je.ZodNever,...et(t)});class Nx extends st{_parse(e){if(this._getType(e)!==ve.undefined){const r=this._getOrReturnCtx(e);return fe(r,{code:re.invalid_type,expected:ve.void,received:r.parsedType}),Be}return Jr(e.data)}}Nx.create=t=>new Nx({typeName:je.ZodVoid,...et(t)});class ss extends st{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==ve.array)return fe(n,{code:re.invalid_type,expected:ve.array,received:n.parsedType}),Be;if(i.exactLength!==null){const s=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(s||a)&&(fe(n,{code:s?re.too_big:re.too_small,minimum:a?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(fe(n,{code:re.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(fe(n,{code:re.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((s,a)=>i.type._parseAsync(new na(n,s,n.path,a)))).then(s=>$r.mergeArray(r,s));const o=[...n.data].map((s,a)=>i.type._parseSync(new na(n,s,n.path,a)));return $r.mergeArray(r,o)}get element(){return this._def.type}min(e,n){return new ss({...this._def,minLength:{value:e,message:Ee.toString(n)}})}max(e,n){return new ss({...this._def,maxLength:{value:e,message:Ee.toString(n)}})}length(e,n){return new ss({...this._def,exactLength:{value:e,message:Ee.toString(n)}})}nonempty(e){return this.min(1,e)}}ss.create=(t,e)=>new ss({type:t,minLength:null,maxLength:null,exactLength:null,typeName:je.ZodArray,...et(e)});function Tf(t){if(t instanceof dn){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=qs.create(Tf(r))}return new dn({...t._def,shape:()=>e})}else return t instanceof ss?new ss({...t._def,type:Tf(t.element)}):t instanceof qs?qs.create(Tf(t.unwrap())):t instanceof Hc?Hc.create(Tf(t.unwrap())):t instanceof ra?ra.create(t.items.map(e=>Tf(e))):t}class dn extends st{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=gt.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==ve.object){const c=this._getOrReturnCtx(e);return fe(c,{code:re.invalid_type,expected:ve.object,received:c.parsedType}),Be}const{status:r,ctx:i}=this._processInputParams(e),{shape:o,keys:s}=this._getCached(),a=[];if(!(this._def.catchall instanceof al&&this._def.unknownKeys==="strip"))for(const c in i.data)s.includes(c)||a.push(c);const l=[];for(const c of s){const u=o[c],d=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new na(i,d,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof al){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of a)l.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(c==="strict")a.length>0&&(fe(i,{code:re.unrecognized_keys,keys:a}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of a){const d=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new na(i,d,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const d=await u.key,f=await u.value;c.push({key:d,value:f,alwaysSet:u.alwaysSet})}return c}).then(c=>$r.mergeObjectSync(r,c)):$r.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return Ee.errToObj,new dn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,o,s,a;const l=(s=(o=(i=this._def).errorMap)===null||o===void 0?void 0:o.call(i,n,r).message)!==null&&s!==void 0?s:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=Ee.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new dn({...this._def,unknownKeys:"strip"})}passthrough(){return new dn({...this._def,unknownKeys:"passthrough"})}extend(e){return new dn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new dn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:je.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new dn({...this._def,catchall:e})}pick(e){const n={};return gt.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new dn({...this._def,shape:()=>n})}omit(e){const n={};return gt.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new dn({...this._def,shape:()=>n})}deepPartial(){return Tf(this)}partial(e){const n={};return gt.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new dn({...this._def,shape:()=>n})}required(e){const n={};return gt.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let o=this.shape[r];for(;o instanceof qs;)o=o._def.innerType;n[r]=o}}),new dn({...this._def,shape:()=>n})}keyof(){return yq(gt.objectKeys(this.shape))}}dn.create=(t,e)=>new dn({shape:()=>t,unknownKeys:"strip",catchall:al.create(),typeName:je.ZodObject,...et(e)});dn.strictCreate=(t,e)=>new dn({shape:()=>t,unknownKeys:"strict",catchall:al.create(),typeName:je.ZodObject,...et(e)});dn.lazycreate=(t,e)=>new dn({shape:t,unknownKeys:"strip",catchall:al.create(),typeName:je.ZodObject,...et(e)});class jv extends st{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(o){for(const a of o)if(a.result.status==="valid")return a.result;for(const a of o)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const s=o.map(a=>new Hi(a.ctx.common.issues));return fe(n,{code:re.invalid_union,unionErrors:s}),Be}if(n.common.async)return Promise.all(r.map(async o=>{const s={...n,common:{...n.common,issues:[]},parent:null};return{result:await o._parseAsync({data:n.data,path:n.path,parent:s}),ctx:s}})).then(i);{let o;const s=[];for(const l of r){const c={...n,common:{...n.common,issues:[]},parent:null},u=l._parseSync({data:n.data,path:n.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!o&&(o={result:u,ctx:c}),c.common.issues.length&&s.push(c.common.issues)}if(o)return n.common.issues.push(...o.ctx.common.issues),o.result;const a=s.map(l=>new Hi(l));return fe(n,{code:re.invalid_union,unionErrors:a}),Be}}get options(){return this._def.options}}jv.create=(t,e)=>new jv({options:t,typeName:je.ZodUnion,...et(e)});const ka=t=>t instanceof Bv?ka(t.schema):t instanceof fs?ka(t.innerType()):t instanceof Vv?[t.value]:t instanceof Uc?t.options:t instanceof zv?gt.objectValues(t.enum):t instanceof Uv?ka(t._def.innerType):t instanceof $v?[void 0]:t instanceof Iv?[null]:t instanceof qs?[void 0,...ka(t.unwrap())]:t instanceof Hc?[null,...ka(t.unwrap())]:t instanceof rR||t instanceof Wv?ka(t.unwrap()):t instanceof Hv?ka(t._def.innerType):[];class S_ extends st{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ve.object)return fe(n,{code:re.invalid_type,expected:ve.object,received:n.parsedType}),Be;const r=this.discriminator,i=n.data[r],o=this.optionsMap.get(i);return o?n.common.async?o._parseAsync({data:n.data,path:n.path,parent:n}):o._parseSync({data:n.data,path:n.path,parent:n}):(fe(n,{code:re.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Be)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const o of n){const s=ka(o.shape[e]);if(!s.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of s){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,o)}}return new S_({typeName:je.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...et(r)})}}function _T(t,e){const n=Na(t),r=Na(e);if(t===e)return{valid:!0,data:t};if(n===ve.object&&r===ve.object){const i=gt.objectKeys(e),o=gt.objectKeys(t).filter(a=>i.indexOf(a)!==-1),s={...t,...e};for(const a of o){const l=_T(t[a],e[a]);if(!l.valid)return{valid:!1};s[a]=l.data}return{valid:!0,data:s}}else if(n===ve.array&&r===ve.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let o=0;o<t.length;o++){const s=t[o],a=e[o],l=_T(s,a);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===ve.date&&r===ve.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Lv extends st{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(o,s)=>{if(xT(o)||xT(s))return Be;const a=_T(o.value,s.value);return a.valid?((ST(o)||ST(s))&&n.dirty(),{status:n.value,value:a.data}):(fe(r,{code:re.invalid_intersection_types}),Be)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([o,s])=>i(o,s)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Lv.create=(t,e,n)=>new Lv({left:t,right:e,typeName:je.ZodIntersection,...et(n)});class ra extends st{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ve.array)return fe(r,{code:re.invalid_type,expected:ve.array,received:r.parsedType}),Be;if(r.data.length<this._def.items.length)return fe(r,{code:re.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Be;!this._def.rest&&r.data.length>this._def.items.length&&(fe(r,{code:re.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const o=[...r.data].map((s,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new na(r,s,r.path,a)):null}).filter(s=>!!s);return r.common.async?Promise.all(o).then(s=>$r.mergeArray(n,s)):$r.mergeArray(n,o)}get items(){return this._def.items}rest(e){return new ra({...this._def,rest:e})}}ra.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ra({items:t,typeName:je.ZodTuple,rest:null,...et(e)})};class Fv extends st{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ve.object)return fe(r,{code:re.invalid_type,expected:ve.object,received:r.parsedType}),Be;const i=[],o=this._def.keyType,s=this._def.valueType;for(const a in r.data)i.push({key:o._parse(new na(r,a,r.path,a)),value:s._parse(new na(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?$r.mergeObjectAsync(n,i):$r.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof st?new Fv({keyType:e,valueType:n,typeName:je.ZodRecord,...et(r)}):new Fv({keyType:ns.create(),valueType:e,typeName:je.ZodRecord,...et(n)})}}class Dx extends st{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ve.map)return fe(r,{code:re.invalid_type,expected:ve.map,received:r.parsedType}),Be;const i=this._def.keyType,o=this._def.valueType,s=[...r.data.entries()].map(([a,l],c)=>({key:i._parse(new na(r,a,r.path,[c,"key"])),value:o._parse(new na(r,l,r.path,[c,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of s){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return Be;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of s){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return Be;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}}}}Dx.create=(t,e,n)=>new Dx({valueType:e,keyType:t,typeName:je.ZodMap,...et(n)});class Md extends st{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ve.set)return fe(r,{code:re.invalid_type,expected:ve.set,received:r.parsedType}),Be;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(fe(r,{code:re.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(fe(r,{code:re.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const o=this._def.valueType;function s(l){const c=new Set;for(const u of l){if(u.status==="aborted")return Be;u.status==="dirty"&&n.dirty(),c.add(u.value)}return{status:n.value,value:c}}const a=[...r.data.values()].map((l,c)=>o._parse(new na(r,l,r.path,c)));return r.common.async?Promise.all(a).then(l=>s(l)):s(a)}min(e,n){return new Md({...this._def,minSize:{value:e,message:Ee.toString(n)}})}max(e,n){return new Md({...this._def,maxSize:{value:e,message:Ee.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Md.create=(t,e)=>new Md({valueType:t,minSize:null,maxSize:null,typeName:je.ZodSet,...et(e)});class bh extends st{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ve.function)return fe(n,{code:re.invalid_type,expected:ve.function,received:n.parsedType}),Be;function r(a,l){return Tx({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Ox(),tp].filter(c=>!!c),issueData:{code:re.invalid_arguments,argumentsError:l}})}function i(a,l){return Tx({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Ox(),tp].filter(c=>!!c),issueData:{code:re.invalid_return_type,returnTypeError:l}})}const o={errorMap:n.common.contextualErrorMap},s=n.data;if(this._def.returns instanceof rp){const a=this;return Jr(async function(...l){const c=new Hi([]),u=await a._def.args.parseAsync(l,o).catch(h=>{throw c.addIssue(r(l,h)),c}),d=await Reflect.apply(s,this,u);return await a._def.returns._def.type.parseAsync(d,o).catch(h=>{throw c.addIssue(i(d,h)),c})})}else{const a=this;return Jr(function(...l){const c=a._def.args.safeParse(l,o);if(!c.success)throw new Hi([r(l,c.error)]);const u=Reflect.apply(s,this,c.data),d=a._def.returns.safeParse(u,o);if(!d.success)throw new Hi([i(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new bh({...this._def,args:ra.create(e).rest(cd.create())})}returns(e){return new bh({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new bh({args:e||ra.create([]).rest(cd.create()),returns:n||cd.create(),typeName:je.ZodFunction,...et(r)})}}class Bv extends st{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Bv.create=(t,e)=>new Bv({getter:t,typeName:je.ZodLazy,...et(e)});class Vv extends st{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return fe(n,{received:n.data,code:re.invalid_literal,expected:this._def.value}),Be}return{status:"valid",value:e.data}}get value(){return this._def.value}}Vv.create=(t,e)=>new Vv({value:t,typeName:je.ZodLiteral,...et(e)});function yq(t,e){return new Uc({values:t,typeName:je.ZodEnum,...et(e)})}class Uc extends st{constructor(){super(...arguments),hg.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return fe(n,{expected:gt.joinValues(r),received:n.parsedType,code:re.invalid_type}),Be}if(Ax(this,hg)||pq(this,hg,new Set(this._def.values)),!Ax(this,hg).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return fe(n,{received:n.data,code:re.invalid_enum_value,options:r}),Be}return Jr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Uc.create(e,{...this._def,...n})}exclude(e,n=this._def){return Uc.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}hg=new WeakMap;Uc.create=yq;class zv extends st{constructor(){super(...arguments),pg.set(this,void 0)}_parse(e){const n=gt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ve.string&&r.parsedType!==ve.number){const i=gt.objectValues(n);return fe(r,{expected:gt.joinValues(i),received:r.parsedType,code:re.invalid_type}),Be}if(Ax(this,pg)||pq(this,pg,new Set(gt.getValidEnumValues(this._def.values))),!Ax(this,pg).has(e.data)){const i=gt.objectValues(n);return fe(r,{received:r.data,code:re.invalid_enum_value,options:i}),Be}return Jr(e.data)}get enum(){return this._def.values}}pg=new WeakMap;zv.create=(t,e)=>new zv({values:t,typeName:je.ZodNativeEnum,...et(e)});class rp extends st{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ve.promise&&n.common.async===!1)return fe(n,{code:re.invalid_type,expected:ve.promise,received:n.parsedType}),Be;const r=n.parsedType===ve.promise?n.data:Promise.resolve(n.data);return Jr(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}rp.create=(t,e)=>new rp({type:t,typeName:je.ZodPromise,...et(e)});class fs extends st{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===je.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,o={addIssue:s=>{fe(r,s),s.fatal?n.abort():n.dirty()},get path(){return r.path}};if(o.addIssue=o.addIssue.bind(o),i.type==="preprocess"){const s=i.transform(r.data,o);if(r.common.async)return Promise.resolve(s).then(async a=>{if(n.value==="aborted")return Be;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?Be:l.status==="dirty"||n.value==="dirty"?Kf(l.value):l});{if(n.value==="aborted")return Be;const a=this._def.schema._parseSync({data:s,path:r.path,parent:r});return a.status==="aborted"?Be:a.status==="dirty"||n.value==="dirty"?Kf(a.value):a}}if(i.type==="refinement"){const s=a=>{const l=i.refinement(a,o);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Be:(a.status==="dirty"&&n.dirty(),s(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?Be:(a.status==="dirty"&&n.dirty(),s(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const s=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Td(s))return s;const a=i.transform(s.value,o);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(s=>Td(s)?Promise.resolve(i.transform(s.value,o)).then(a=>({status:n.value,value:a})):s);gt.assertNever(i)}}fs.create=(t,e,n)=>new fs({schema:t,typeName:je.ZodEffects,effect:e,...et(n)});fs.createWithPreprocess=(t,e,n)=>new fs({schema:e,effect:{type:"preprocess",transform:t},typeName:je.ZodEffects,...et(n)});class qs extends st{_parse(e){return this._getType(e)===ve.undefined?Jr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}qs.create=(t,e)=>new qs({innerType:t,typeName:je.ZodOptional,...et(e)});class Hc extends st{_parse(e){return this._getType(e)===ve.null?Jr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Hc.create=(t,e)=>new Hc({innerType:t,typeName:je.ZodNullable,...et(e)});class Uv extends st{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===ve.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Uv.create=(t,e)=>new Uv({innerType:t,typeName:je.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...et(e)});class Hv extends st{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Dv(i)?i.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Hi(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Hi(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Hv.create=(t,e)=>new Hv({innerType:t,typeName:je.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...et(e)});class Rx extends st{_parse(e){if(this._getType(e)!==ve.nan){const r=this._getOrReturnCtx(e);return fe(r,{code:re.invalid_type,expected:ve.nan,received:r.parsedType}),Be}return{status:"valid",value:e.data}}}Rx.create=t=>new Rx({typeName:je.ZodNaN,...et(t)});const Hge=Symbol("zod_brand");class rR extends st{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class m0 extends st{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?Be:o.status==="dirty"?(n.dirty(),Kf(o.value)):this._def.out._parseAsync({data:o.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Be:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new m0({in:e,out:n,typeName:je.ZodPipeline})}}class Wv extends st{_parse(e){const n=this._def.innerType._parse(e),r=i=>(Td(i)&&(i.value=Object.freeze(i.value)),i);return Dv(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}Wv.create=(t,e)=>new Wv({innerType:t,typeName:je.ZodReadonly,...et(e)});function gF(t,e){const n=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof n=="string"?{message:n}:n}function bq(t,e={},n){return t?np.create().superRefine((r,i)=>{var o,s;const a=t(r);if(a instanceof Promise)return a.then(l=>{var c,u;if(!l){const d=gF(e,r),f=(u=(c=d.fatal)!==null&&c!==void 0?c:n)!==null&&u!==void 0?u:!0;i.addIssue({code:"custom",...d,fatal:f})}});if(!a){const l=gF(e,r),c=(s=(o=l.fatal)!==null&&o!==void 0?o:n)!==null&&s!==void 0?s:!0;i.addIssue({code:"custom",...l,fatal:c})}}):np.create()}const Wge={object:dn.lazycreate};var je;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(je||(je={}));const qge=(t,e={message:`Input not instance of ${t.name}`})=>bq(n=>n instanceof t,e),qt=ns.create,Ec=Vc.create,Gge=Rx.create,Kge=zc.create,wq=Rv.create,ll=Ad.create,Yge=Mx.create,Xge=$v.create,Zge=Iv.create,xq=np.create,Jge=cd.create,Qge=al.create,eve=Nx.create,iR=ss.create,g0=dn.create,tve=dn.strictCreate,nve=jv.create,rve=S_.create,ive=Lv.create,ove=ra.create,sve=Fv.create,ave=Dx.create,lve=Md.create,cve=bh.create,uve=Bv.create,dve=Vv.create,ud=Uc.create,fve=zv.create,hve=rp.create,vF=fs.create,pve=qs.create,mve=Hc.create,gve=fs.createWithPreprocess,vve=m0.create,yve=()=>qt().optional(),bve=()=>Ec().optional(),wve=()=>wq().optional(),xve={string:t=>ns.create({...t,coerce:!0}),number:t=>Vc.create({...t,coerce:!0}),boolean:t=>Rv.create({...t,coerce:!0}),bigint:t=>zc.create({...t,coerce:!0}),date:t=>Ad.create({...t,coerce:!0})},Sve=Be;var jn=Object.freeze({__proto__:null,defaultErrorMap:tp,setErrorMap:xge,getErrorMap:Ox,makeIssue:Tx,EMPTY_PATH:Sge,addIssueToContext:fe,ParseStatus:$r,INVALID:Be,DIRTY:Kf,OK:Jr,isAborted:xT,isDirty:ST,isValid:Td,isAsync:Dv,get util(){return gt},get objectUtil(){return wT},ZodParsedType:ve,getParsedType:Na,ZodType:st,datetimeRegex:vq,ZodString:ns,ZodNumber:Vc,ZodBigInt:zc,ZodBoolean:Rv,ZodDate:Ad,ZodSymbol:Mx,ZodUndefined:$v,ZodNull:Iv,ZodAny:np,ZodUnknown:cd,ZodNever:al,ZodVoid:Nx,ZodArray:ss,ZodObject:dn,ZodUnion:jv,ZodDiscriminatedUnion:S_,ZodIntersection:Lv,ZodTuple:ra,ZodRecord:Fv,ZodMap:Dx,ZodSet:Md,ZodFunction:bh,ZodLazy:Bv,ZodLiteral:Vv,ZodEnum:Uc,ZodNativeEnum:zv,ZodPromise:rp,ZodEffects:fs,ZodTransformer:fs,ZodOptional:qs,ZodNullable:Hc,ZodDefault:Uv,ZodCatch:Hv,ZodNaN:Rx,BRAND:Hge,ZodBranded:rR,ZodPipeline:m0,ZodReadonly:Wv,custom:bq,Schema:st,ZodSchema:st,late:Wge,get ZodFirstPartyTypeKind(){return je},coerce:xve,any:xq,array:iR,bigint:Kge,boolean:wq,date:ll,discriminatedUnion:rve,effect:vF,enum:ud,function:cve,instanceof:qge,intersection:ive,lazy:uve,literal:dve,map:ave,nan:Gge,nativeEnum:fve,never:Qge,null:Zge,nullable:mve,number:Ec,object:g0,oboolean:wve,onumber:bve,optional:pve,ostring:yve,pipeline:vve,preprocess:gve,promise:hve,record:sve,set:lve,strictObject:tve,string:qt,symbol:Yge,transformer:vF,tuple:ove,undefined:Xge,union:nve,unknown:Jge,void:eve,NEVER:Sve,ZodIssueCode:re,quotelessJson:wge,ZodError:Hi});const Sq=x.createContext({});function _ve(t){const e=x.useRef(null);return e.current===null&&(e.current=t()),e.current}const oR=typeof window<"u",Cve=oR?x.useLayoutEffect:x.useEffect,sR=x.createContext(null),_q=x.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function kve(t=!0){const e=x.useContext(sR);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,o=x.useId();x.useEffect(()=>{if(t)return i(o)},[t]);const s=x.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,s]:[!0]}function aR(t,e){t.indexOf(e)===-1&&t.push(e)}function lR(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let Cq=()=>{};const CT={useManualTiming:!1};function cR(t){let e;return()=>(e===void 0&&(e=t()),e)}const _o=t=>t,qv=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class uR{constructor(){this.subscriptions=[]}add(e){return aR(this.subscriptions,e),()=>lR(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let o=0;o<i;o++){const s=this.subscriptions[o];s&&s(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Gs=t=>t*1e3,Ks=t=>t/1e3;function kq(t,e){return e?t*(1e3/e):0}const Pve=cR(()=>window.ScrollTimeline!==void 0);class Eve{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>e.finished))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(Pve()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,o)=>{i&&i(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Ove extends Eve{then(e,n){return this.finished.finally(e).then(()=>{})}}const yF={value:null},dR=t=>Array.isArray(t)&&typeof t[0]=="number",Tve={};function Ave(t,e){const n=cR(t);return()=>Tve[e]??n()}const Gv=Ave(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Pq=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let o=0;o<i;o++)r+=t(o/(i-1))+", ";return`linear(${r.substring(0,r.length-2)})`},mg=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,kT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:mg([0,.65,.55,1]),circOut:mg([.55,0,1,.45]),backIn:mg([.31,.01,.66,-.59]),backOut:mg([.33,1.53,.69,.99])};function Eq(t,e){if(t)return typeof t=="function"&&Gv()?Pq(t,e):dR(t)?mg(t):Array.isArray(t)?t.map(n=>Eq(n,e)||kT.easeOut):kT[t]}function Mve(t,e,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:s="loop",ease:a="easeInOut",times:l}={},c=void 0){const u={[e]:n};l&&(u.offset=l);const d=Eq(a,i);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:o+1,direction:s==="reverse"?"alternate":"normal",pseudoElement:c})}function fR(t){return typeof t=="function"&&"applyToOptions"in t}function hR(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const $x=2e4;function pR(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<$x;)e+=n,r=t.next(e);return e>=$x?1/0:e}function Nve(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(pR(r),$x);return{type:"keyframes",ease:o=>r.next(i*o).value/e,duration:Ks(i)}}function Oq(t){return!!(typeof t=="function"&&Gv()||!t||typeof t=="string"&&(t in kT||Gv())||dR(t)||Array.isArray(t)&&t.every(Oq))}function bF(t,e){t.timeline=e,t.onfinish=null}const Pb=["read","resolveKeyframes","update","preRender","render","postRender"];function Dve(t,e){let n=new Set,r=new Set,i=!1,o=!1;const s=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(d){s.has(d)&&(u.schedule(d),t()),l++,d(a)}const u={schedule:(d,f=!1,h=!1)=>{const p=h&&i?n:r;return f&&s.add(d),p.has(d)||p.add(d),d},cancel:d=>{r.delete(d),s.delete(d)},process:d=>{if(a=d,i){o=!0;return}i=!0,[n,r]=[r,n],n.forEach(c),e&&yF.value&&yF.value.frameloop[e].push(l),l=0,n.clear(),i=!1,o&&(o=!1,u.process(d))}};return u}const Rve=40;function Tq(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,s=Pb.reduce((b,y)=>(b[y]=Dve(o,e?y:void 0),b),{}),{read:a,resolveKeyframes:l,update:c,preRender:u,render:d,postRender:f}=s,h=()=>{const b=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(b-i.timestamp,Rve),1),i.timestamp=b,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),u.process(i),d.process(i),f.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(h))},m=()=>{n=!0,r=!0,i.isProcessing||t(h)};return{schedule:Pb.reduce((b,y)=>{const w=s[y];return b[y]=(_,S=!1,C=!1)=>(n||m(),w.schedule(_,S,C)),b},{}),cancel:b=>{for(let y=0;y<Pb.length;y++)s[Pb[y]].cancel(b)},state:i,steps:s}}const{schedule:mR}=Tq(queueMicrotask,!1),{schedule:Yt,cancel:Wc,state:ur,steps:Kk}=Tq(typeof requestAnimationFrame<"u"?requestAnimationFrame:_o,!0);let Ow;function $ve(){Ow=void 0}const Ys={now:()=>(Ow===void 0&&Ys.set(ur.isProcessing||CT.useManualTiming?ur.timestamp:performance.now()),Ow),set:t=>{Ow=t,queueMicrotask($ve)}},Bo={x:!1,y:!1};function Aq(){return Bo.x||Bo.y}function Ive(t){return t==="x"||t==="y"?Bo[t]?null:(Bo[t]=!0,()=>{Bo[t]=!1}):Bo.x||Bo.y?null:(Bo.x=Bo.y=!0,()=>{Bo.x=Bo.y=!1})}function jve(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}function Mq(t,e){const n=jve(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function wF(t){return!(t.pointerType==="touch"||Aq())}function Lve(t,e,n={}){const[r,i,o]=Mq(t,n),s=a=>{if(!wF(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const u=d=>{wF(d)&&(c(d),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,i)};return r.forEach(a=>{a.addEventListener("pointerenter",s,i)}),o}const Nq=(t,e)=>e?t===e?!0:Nq(t,e.parentElement):!1,gR=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Fve=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Bve(t){return Fve.has(t.tagName)||t.tabIndex!==-1}const gg=new WeakSet;function xF(t){return e=>{e.key==="Enter"&&t(e)}}function Yk(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Vve=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=xF(()=>{if(gg.has(n))return;Yk(n,"down");const i=xF(()=>{Yk(n,"up")}),o=()=>Yk(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function SF(t){return gR(t)&&!Aq()}function zve(t,e,n={}){const[r,i,o]=Mq(t,n),s=a=>{const l=a.currentTarget;if(!SF(a)||gg.has(l))return;gg.add(l);const c=e(l,a),u=(h,m)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",f),!(!SF(h)||!gg.has(l))&&(gg.delete(l),typeof c=="function"&&c(h,{success:m}))},d=h=>{u(h,l===window||l===document||n.useGlobalTarget||Nq(l,h.target))},f=h=>{u(h,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",f,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",s,i),a instanceof HTMLElement&&(a.addEventListener("focus",c=>Vve(c,i)),!Bve(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),o}const _F=30,Uve=t=>!isNaN(parseFloat(t));class Hve{constructor(e,n={}){this.version="12.7.3",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const o=Ys.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ys.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Uve(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new uR);const r=this.events[e].add(n);return e==="change"?()=>{r(),Yt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ys.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>_F)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,_F);return kq(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Kv(t,e){return new Hve(t,e)}const Dq=x.createContext({strict:!1}),CF={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ip={};for(const t in CF)ip[t]={isEnabled:e=>CF[t].some(n=>!!e[n])};function Wve(t){for(const e in t)ip[e]={...ip[e],...t[e]}}const qve=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ix(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||qve.has(t)}let Rq=t=>!Ix(t);function Gve(t){t&&(Rq=e=>e.startsWith("on")?!Ix(e):t(e))}try{Gve(require("@emotion/is-prop-valid").default)}catch{}function Kve(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(Rq(i)||n===!0&&Ix(i)||!e&&!Ix(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function Yve(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const __=x.createContext({});function C_(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Yv(t){return typeof t=="string"||Array.isArray(t)}const vR=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],yR=["initial",...vR];function k_(t){return C_(t.animate)||yR.some(e=>Yv(t[e]))}function $q(t){return!!(k_(t)||t.variants)}function Xve(t,e){if(k_(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Yv(n)?n:void 0,animate:Yv(r)?r:void 0}}return t.inherit!==!1?e:{}}function Zve(t){const{initial:e,animate:n}=Xve(t,x.useContext(__));return x.useMemo(()=>({initial:e,animate:n}),[kF(e),kF(n)])}function kF(t){return Array.isArray(t)?t.join(" "):t}const Jve=Symbol.for("motionComponentSymbol");function Yf(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Qve(t,e,n){return x.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Yf(n)&&(n.current=r))},[e])}const bR=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),eye="framerAppearId",Iq="data-"+bR(eye),jq=x.createContext({});function tye(t,e,n,r,i){var p,g;const{visualElement:o}=x.useContext(__),s=x.useContext(Dq),a=x.useContext(sR),l=x.useContext(_q).reducedMotion,c=x.useRef(null);r=r||s.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:o,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const u=c.current,d=x.useContext(jq);u&&!u.projection&&i&&(u.type==="html"||u.type==="svg")&&nye(c.current,n,i,d);const f=x.useRef(!1);x.useInsertionEffect(()=>{u&&f.current&&u.update(n,a)});const h=n[Iq],m=x.useRef(!!h&&!((p=window.MotionHandoffIsComplete)!=null&&p.call(window,h))&&((g=window.MotionHasOptimisedAnimation)==null?void 0:g.call(window,h)));return Cve(()=>{u&&(f.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),mR.render(u.render),m.current&&u.animationState&&u.animationState.animateChanges())}),x.useEffect(()=>{u&&(!m.current&&u.animationState&&u.animationState.animateChanges(),m.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)==null||b.call(window,h)}),m.current=!1))}),u}function nye(t,e,n,r){const{layoutId:i,layout:o,drag:s,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Lq(t.parent)),t.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!s||a&&Yf(a),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:l,layoutRoot:c})}function Lq(t){if(t)return t.options.allowProjection!==!1?t.projection:Lq(t.parent)}function rye({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&Wve(t);function o(a,l){let c;const u={...x.useContext(_q),...a,layoutId:iye(a)},{isStatic:d}=u,f=Zve(a),h=r(a,d);if(!d&&oR){oye();const m=sye(u);c=m.MeasureLayout,f.visualElement=tye(i,h,u,e,m.ProjectionNode)}return O.jsxs(__.Provider,{value:f,children:[c&&f.visualElement?O.jsx(c,{visualElement:f.visualElement,...u}):null,n(i,a,Qve(h,f.visualElement,l),h,d,f.visualElement)]})}o.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const s=x.forwardRef(o);return s[Jve]=i,s}function iye({layoutId:t}){const e=x.useContext(Sq).id;return e&&t!==void 0?e+"-"+t:t}function oye(t,e){x.useContext(Dq).strict}function sye(t){const{drag:e,layout:n}=ip;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Fq=t=>e=>typeof e=="string"&&e.startsWith(t),wR=Fq("--"),aye=Fq("var(--"),xR=t=>aye(t)?lye.test(t.split("/*")[0].trim()):!1,lye=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Xv={};function cye(t){for(const e in t)Xv[e]=t[e],wR(e)&&(Xv[e].isCSSVariable=!0)}const lm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ef=new Set(lm);function Bq(t,{layout:e,layoutId:n}){return ef.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Xv[t]||t==="opacity")}const Mr=t=>!!(t&&t.getVelocity),Vq=(t,e)=>e&&typeof t=="number"?e.transform(t):t,cl=(t,e,n)=>n>e?e:n<t?t:n,cm={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Zv={...cm,transform:t=>cl(0,1,t)},Eb={...cm,default:1},v0=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),jl=v0("deg"),Xs=v0("%"),$e=v0("px"),uye=v0("vh"),dye=v0("vw"),PF={...Xs,parse:t=>Xs.parse(t)/100,transform:t=>Xs.transform(t*100)},fye={borderWidth:$e,borderTopWidth:$e,borderRightWidth:$e,borderBottomWidth:$e,borderLeftWidth:$e,borderRadius:$e,radius:$e,borderTopLeftRadius:$e,borderTopRightRadius:$e,borderBottomRightRadius:$e,borderBottomLeftRadius:$e,width:$e,maxWidth:$e,height:$e,maxHeight:$e,top:$e,right:$e,bottom:$e,left:$e,padding:$e,paddingTop:$e,paddingRight:$e,paddingBottom:$e,paddingLeft:$e,margin:$e,marginTop:$e,marginRight:$e,marginBottom:$e,marginLeft:$e,backgroundPositionX:$e,backgroundPositionY:$e},hye={rotate:jl,rotateX:jl,rotateY:jl,rotateZ:jl,scale:Eb,scaleX:Eb,scaleY:Eb,scaleZ:Eb,skew:jl,skewX:jl,skewY:jl,distance:$e,translateX:$e,translateY:$e,translateZ:$e,x:$e,y:$e,z:$e,perspective:$e,transformPerspective:$e,opacity:Zv,originX:PF,originY:PF,originZ:$e},EF={...cm,transform:Math.round},SR={...fye,...hye,zIndex:EF,size:$e,fillOpacity:Zv,strokeOpacity:Zv,numOctaves:EF},pye={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},mye=lm.length;function gye(t,e,n){let r="",i=!0;for(let o=0;o<mye;o++){const s=lm[o],a=t[s];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(s.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=Vq(a,SR[s]);if(!l){i=!1;const u=pye[s]||s;r+=`${u}(${c}) `}n&&(e[s]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function _R(t,e,n){const{style:r,vars:i,transformOrigin:o}=t;let s=!1,a=!1;for(const l in e){const c=e[l];if(ef.has(l)){s=!0;continue}else if(wR(l)){i[l]=c;continue}else{const u=Vq(c,SR[l]);l.startsWith("origin")?(a=!0,o[l]=u):r[l]=u}}if(e.transform||(s||n?r.transform=gye(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=o;r.transformOrigin=`${l} ${c} ${u}`}}const CR=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function zq(t,e,n){for(const r in e)!Mr(e[r])&&!Bq(r,n)&&(t[r]=e[r])}function vye({transformTemplate:t},e){return x.useMemo(()=>{const n=CR();return _R(n,e,t),Object.assign({},n.vars,n.style)},[e])}function yye(t,e){const n=t.style||{},r={};return zq(r,n,t),Object.assign(r,vye(t,e)),r}function bye(t,e){const n={},r=yye(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const wye=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function kR(t){return typeof t!="string"||t.includes("-")?!1:!!(wye.indexOf(t)>-1||/[A-Z]/u.test(t))}const xye={offset:"stroke-dashoffset",array:"stroke-dasharray"},Sye={offset:"strokeDashoffset",array:"strokeDasharray"};function _ye(t,e,n=1,r=0,i=!0){t.pathLength=1;const o=i?xye:Sye;t[o.offset]=$e.transform(-r);const s=$e.transform(e),a=$e.transform(n);t[o.array]=`${s} ${a}`}function OF(t,e,n){return typeof t=="string"?t:$e.transform(e+n*t)}function Cye(t,e,n){const r=OF(e,t.x,t.width),i=OF(n,t.y,t.height);return`${r} ${i}`}function PR(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:o,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...c},u,d){if(_R(t,c,d),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:h,dimensions:m}=t;f.transform&&(m&&(h.transform=f.transform),delete f.transform),m&&(i!==void 0||o!==void 0||h.transform)&&(h.transformOrigin=Cye(m,i!==void 0?i:.5,o!==void 0?o:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),s!==void 0&&_ye(f,s,a,l,!1)}const Uq=()=>({...CR(),attrs:{}}),ER=t=>typeof t=="string"&&t.toLowerCase()==="svg";function kye(t,e,n,r){const i=x.useMemo(()=>{const o=Uq();return PR(o,e,ER(r),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};zq(o,t.style,t),i.style={...o,...i.style}}return i}function Pye(t=!1){return(n,r,i,{latestValues:o},s)=>{const l=(kR(n)?kye:bye)(r,o,s,n),c=Kve(r,typeof n=="string",t),u=n!==x.Fragment?{...c,...l,ref:i}:{},{children:d}=r,f=x.useMemo(()=>Mr(d)?d.get():d,[d]);return x.createElement(n,{...u,children:f})}}function TF(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function OR(t,e,n,r){if(typeof e=="function"){const[i,o]=TF(r);e=e(n!==void 0?n:t.custom,i,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,o]=TF(r);e=e(n!==void 0?n:t.custom,i,o)}return e}const PT=t=>Array.isArray(t),Eye=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Oye=t=>PT(t)?t[t.length-1]||0:t;function Tw(t){const e=Mr(t)?t.get():t;return Eye(e)?e.toValue():e}function Tye({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,o){const s={latestValues:Aye(r,i,o,t),renderState:e()};return n&&(s.onMount=a=>n({props:r,current:a,...s}),s.onUpdate=a=>n(a)),s}const Hq=t=>(e,n)=>{const r=x.useContext(__),i=x.useContext(sR),o=()=>Tye(t,e,r,i);return n?o():_ve(o)};function Aye(t,e,n,r){const i={},o=r(t,{});for(const f in o)i[f]=Tw(o[f]);let{initial:s,animate:a}=t;const l=k_(t),c=$q(t);e&&c&&!l&&t.inherit!==!1&&(s===void 0&&(s=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||s===!1;const d=u?a:s;if(d&&typeof d!="boolean"&&!C_(d)){const f=Array.isArray(d)?d:[d];for(let h=0;h<f.length;h++){const m=OR(t,f[h]);if(m){const{transitionEnd:p,transition:g,...b}=m;for(const y in b){let w=b[y];if(Array.isArray(w)){const _=u?w.length-1:0;w=w[_]}w!==null&&(i[y]=w)}for(const y in p)i[y]=p[y]}}}return i}function TR(t,e,n){var o;const{style:r}=t,i={};for(const s in r)(Mr(r[s])||e.style&&Mr(e.style[s])||Bq(s,t)||((o=n==null?void 0:n.getValue(s))==null?void 0:o.liveStyle)!==void 0)&&(i[s]=r[s]);return i}const Mye={useVisualState:Hq({scrapeMotionValuesFromProps:TR,createRenderState:CR})};function Wq(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function qq(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}const Gq=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Kq(t,e,n,r){qq(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(Gq.has(i)?i:bR(i),e.attrs[i])}function Yq(t,e,n){const r=TR(t,e,n);for(const i in t)if(Mr(t[i])||Mr(e[i])){const o=lm.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=t[i]}return r}const AF=["x","y","width","height","cx","cy","r"],Nye={useVisualState:Hq({scrapeMotionValuesFromProps:Yq,createRenderState:Uq,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let o=!!t.drag;if(!o){for(const a in i)if(ef.has(a)){o=!0;break}}if(!o)return;let s=!e;if(e)for(let a=0;a<AF.length;a++){const l=AF[a];t[l]!==e[l]&&(s=!0)}s&&Yt.read(()=>{Wq(n,r),Yt.render(()=>{PR(r,i,ER(n.tagName),t.transformTemplate),Kq(n,r)})})}})};function Dye(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const s={...kR(r)?Nye:Mye,preloadedFeatures:t,useRender:Pye(i),createVisualElement:e,Component:r};return rye(s)}}function Jv(t,e,n){const r=t.getProps();return OR(r,e,n!==void 0?n:r.custom,t)}const Xq=new Set(["width","height","top","left","right","bottom",...lm]);function Rye(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Kv(n))}function $ye(t,e){const n=Jv(t,e);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const s in o){const a=Oye(o[s]);Rye(t,s,a)}}function Iye(t){return!!(Mr(t)&&t.add)}function ET(t,e){const n=t.getValue("willChange");if(Iye(n))return n.add(e);if(!n&&CT.WillChange){const r=new CT.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function Zq(t){return t.props[Iq]}const Jq=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,jye=1e-7,Lye=12;function Fye(t,e,n,r,i){let o,s,a=0;do s=e+(n-e)/2,o=Jq(s,r,i)-t,o>0?n=s:e=s;while(Math.abs(o)>jye&&++a<Lye);return s}function y0(t,e,n,r){if(t===e&&n===r)return _o;const i=o=>Fye(o,0,1,t,n);return o=>o===0||o===1?o:Jq(i(o),e,r)}const Qq=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,eG=t=>e=>1-t(1-e),tG=y0(.33,1.53,.69,.99),AR=eG(tG),nG=Qq(AR),rG=t=>(t*=2)<1?.5*AR(t):.5*(2-Math.pow(2,-10*(t-1))),MR=t=>1-Math.sin(Math.acos(t)),iG=eG(MR),oG=Qq(MR),sG=t=>/^0[^.\s]+$/u.test(t);function Bye(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||sG(t):!0}const Vg=t=>Math.round(t*1e5)/1e5,NR=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Vye(t){return t==null}const zye=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,DR=(t,e)=>n=>!!(typeof n=="string"&&zye.test(n)&&n.startsWith(t)||e&&!Vye(n)&&Object.prototype.hasOwnProperty.call(n,e)),aG=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,o,s,a]=r.match(NR);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},Uye=t=>cl(0,255,t),Xk={...cm,transform:t=>Math.round(Uye(t))},zu={test:DR("rgb","red"),parse:aG("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Xk.transform(t)+", "+Xk.transform(e)+", "+Xk.transform(n)+", "+Vg(Zv.transform(r))+")"};function Hye(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const OT={test:DR("#"),parse:Hye,transform:zu.transform},Xf={test:DR("hsl","hue"),parse:aG("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Xs.transform(Vg(e))+", "+Xs.transform(Vg(n))+", "+Vg(Zv.transform(r))+")"},Cr={test:t=>zu.test(t)||OT.test(t)||Xf.test(t),parse:t=>zu.test(t)?zu.parse(t):Xf.test(t)?Xf.parse(t):OT.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?zu.transform(t):Xf.transform(t)},Wye=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function qye(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(NR))==null?void 0:e.length)||0)+(((n=t.match(Wye))==null?void 0:n.length)||0)>0}const lG="number",cG="color",Gye="var",Kye="var(",MF="${}",Yye=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Qv(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const a=e.replace(Yye,l=>(Cr.test(l)?(r.color.push(o),i.push(cG),n.push(Cr.parse(l))):l.startsWith(Kye)?(r.var.push(o),i.push(Gye),n.push(l)):(r.number.push(o),i.push(lG),n.push(parseFloat(l))),++o,MF)).split(MF);return{values:n,split:a,indexes:r,types:i}}function uG(t){return Qv(t).values}function dG(t){const{split:e,types:n}=Qv(t),r=e.length;return i=>{let o="";for(let s=0;s<r;s++)if(o+=e[s],i[s]!==void 0){const a=n[s];a===lG?o+=Vg(i[s]):a===cG?o+=Cr.transform(i[s]):o+=i[s]}return o}}const Xye=t=>typeof t=="number"?0:t;function Zye(t){const e=uG(t);return dG(t)(e.map(Xye))}const qc={test:qye,parse:uG,createTransformer:dG,getAnimatableNone:Zye},Jye=new Set(["brightness","contrast","saturate","opacity"]);function Qye(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(NR)||[];if(!r)return t;const i=n.replace(r,"");let o=Jye.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const e0e=/\b([a-z-]*)\(.*?\)/gu,TT={...qc,getAnimatableNone:t=>{const e=t.match(e0e);return e?e.map(Qye).join(" "):t}},t0e={...SR,color:Cr,backgroundColor:Cr,outlineColor:Cr,fill:Cr,stroke:Cr,borderColor:Cr,borderTopColor:Cr,borderRightColor:Cr,borderBottomColor:Cr,borderLeftColor:Cr,filter:TT,WebkitFilter:TT},fG=t=>t0e[t];function hG(t,e){let n=fG(t);return n!==TT&&(n=qc),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const n0e=new Set(["auto","none","0"]);function r0e(t,e,n){let r=0,i;for(;r<t.length&&!i;){const o=t[r];typeof o=="string"&&!n0e.has(o)&&Qv(o).values.length&&(i=t[r]),r++}if(i&&n)for(const o of e)t[o]=hG(n,i)}const Uu=t=>t*180/Math.PI,AT=t=>{const e=Uu(Math.atan2(t[1],t[0]));return MT(e)},i0e={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:AT,rotateZ:AT,skewX:t=>Uu(Math.atan(t[1])),skewY:t=>Uu(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},MT=t=>(t=t%360,t<0&&(t+=360),t),NF=AT,DF=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),RF=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),o0e={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:DF,scaleY:RF,scale:t=>(DF(t)+RF(t))/2,rotateX:t=>MT(Uu(Math.atan2(t[6],t[5]))),rotateY:t=>MT(Uu(Math.atan2(-t[2],t[0]))),rotateZ:NF,rotate:NF,skewX:t=>Uu(Math.atan(t[4])),skewY:t=>Uu(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function $F(t){return t.includes("scale")?1:0}function NT(t,e){if(!t||t==="none")return $F(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=o0e,i=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=i0e,i=a}if(!i)return $F(e);const o=r[e],s=i[1].split(",").map(a0e);return typeof o=="function"?o(s):s[o]}const s0e=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return NT(n,e)};function a0e(t){return parseFloat(t.trim())}const IF=t=>t===cm||t===$e,l0e=new Set(["x","y","z"]),c0e=lm.filter(t=>!l0e.has(t));function u0e(t){const e=[];return c0e.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const op={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>NT(e,"x"),y:(t,{transform:e})=>NT(e,"y")};op.translateX=op.x;op.translateY=op.y;const dd=new Set;let DT=!1,RT=!1;function pG(){if(RT){const t=Array.from(dd).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=u0e(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([o,s])=>{var a;(a=r.getValue(o))==null||a.set(s)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}RT=!1,DT=!1,dd.forEach(t=>t.complete()),dd.clear()}function mG(){dd.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(RT=!0)})}function d0e(){mG(),pG()}class RR{constructor(e,n,r,i,o,s=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=o,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(dd.add(this),DT||(DT=!0,Yt.read(mG),Yt.resolveKeyframes(pG))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let o=0;o<e.length;o++)if(e[o]===null)if(o===0){const s=i==null?void 0:i.get(),a=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&s===void 0&&i.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),dd.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,dd.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const gG=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),f0e=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function h0e(t){const e=f0e.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function vG(t,e,n=1){const[r,i]=h0e(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const s=o.trim();return gG(s)?parseFloat(s):s}return xR(i)?vG(i,e,n+1):i}const yG=t=>e=>e.test(t),p0e={test:t=>t==="auto",parse:t=>t},bG=[cm,$e,Xs,jl,dye,uye,p0e],jF=t=>bG.find(yG(t));class wG extends RR{constructor(e,n,r,i,o){super(e,n,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),xR(c))){const u=vG(c,n.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!Xq.has(r)||e.length!==2)return;const[i,o]=e,s=jF(i),a=jF(o);if(s!==a)if(IF(s)&&IF(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)Bye(e[i])&&r.push(i);r.length&&r0e(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=op[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=r.length-1,s=r[o];r[o]=op[n](e.measureViewportBox(),window.getComputedStyle(e.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const LF=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(qc.test(t)||t==="0")&&!t.startsWith("url("));function m0e(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function g0e(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],s=LF(i,e),a=LF(o,e);return!s||!a?!1:m0e(t)||(n==="spring"||fR(n))&&r}const v0e=t=>t!==null;function P_(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(v0e),o=e&&n!=="loop"&&e%2===1?0:i.length-1;return!o||r===void 0?i[o]:r}const y0e=40;class xG{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:s="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ys.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:s,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>y0e?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&d0e(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Ys.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:o,delay:s,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!g0e(e,r,i,o))if(s)this.options.duration=0;else{l&&l(P_(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,n);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const hn=(t,e,n)=>t+(e-t)*n;function Zk(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function b0e({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,o=0,s=0;if(!e)i=o=s=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=Zk(l,a,t+1/3),o=Zk(l,a,t),s=Zk(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(s*255),alpha:r}}function jx(t,e){return n=>n>0?e:t}const Jk=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},w0e=[OT,zu,Xf],x0e=t=>w0e.find(e=>e.test(t));function FF(t){const e=x0e(t);if(!e)return!1;let n=e.parse(t);return e===Xf&&(n=b0e(n)),n}const BF=(t,e)=>{const n=FF(t),r=FF(e);if(!n||!r)return jx(t,e);const i={...n};return o=>(i.red=Jk(n.red,r.red,o),i.green=Jk(n.green,r.green,o),i.blue=Jk(n.blue,r.blue,o),i.alpha=hn(n.alpha,r.alpha,o),zu.transform(i))},S0e=(t,e)=>n=>e(t(n)),b0=(...t)=>t.reduce(S0e),$T=new Set(["none","hidden"]);function _0e(t,e){return $T.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function C0e(t,e){return n=>hn(t,e,n)}function $R(t){return typeof t=="number"?C0e:typeof t=="string"?xR(t)?jx:Cr.test(t)?BF:E0e:Array.isArray(t)?SG:typeof t=="object"?Cr.test(t)?BF:k0e:jx}function SG(t,e){const n=[...t],r=n.length,i=t.map((o,s)=>$R(o)(o,e[s]));return o=>{for(let s=0;s<r;s++)n[s]=i[s](o);return n}}function k0e(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=$R(t[i])(t[i],e[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function P0e(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],s=t.indexes[o][r[o]],a=t.values[s]??0;n[i]=a,r[o]++}return n}const E0e=(t,e)=>{const n=qc.createTransformer(e),r=Qv(t),i=Qv(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?$T.has(t)&&!i.values.length||$T.has(e)&&!r.values.length?_0e(t,e):b0(SG(P0e(r,i),i.values),n):jx(t,e)};function _G(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?hn(t,e,n):$R(t)(t,e)}const O0e=5;function CG(t,e,n){const r=Math.max(e-O0e,0);return kq(n-t(r),e-r)}const yn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},VF=.001;function T0e({duration:t=yn.duration,bounce:e=yn.bounce,velocity:n=yn.velocity,mass:r=yn.mass}){let i,o,s=1-e;s=cl(yn.minDamping,yn.maxDamping,s),t=cl(yn.minDuration,yn.maxDuration,Ks(t)),s<1?(i=c=>{const u=c*s,d=u*t,f=u-n,h=IT(c,s),m=Math.exp(-d);return VF-f/h*m},o=c=>{const d=c*s*t,f=d*n+n,h=Math.pow(s,2)*Math.pow(c,2)*t,m=Math.exp(-d),p=IT(Math.pow(c,2),s);return(-i(c)+VF>0?-1:1)*((f-h)*m)/p}):(i=c=>{const u=Math.exp(-c*t),d=(c-n)*t+1;return-.001+u*d},o=c=>{const u=Math.exp(-c*t),d=(n-c)*(t*t);return u*d});const a=5/t,l=M0e(i,o,a);if(t=Gs(t),isNaN(l))return{stiffness:yn.stiffness,damping:yn.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:s*2*Math.sqrt(r*c),duration:t}}}const A0e=12;function M0e(t,e,n){let r=n;for(let i=1;i<A0e;i++)r=r-t(r)/e(r);return r}function IT(t,e){return t*Math.sqrt(1-e*e)}const N0e=["duration","bounce"],D0e=["stiffness","damping","mass"];function zF(t,e){return e.some(n=>t[n]!==void 0)}function R0e(t){let e={velocity:yn.velocity,stiffness:yn.stiffness,damping:yn.damping,mass:yn.mass,isResolvedFromDuration:!1,...t};if(!zF(t,D0e)&&zF(t,N0e))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,o=2*cl(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:yn.mass,stiffness:i,damping:o}}else{const n=T0e(t);e={...e,...n,mass:yn.mass},e.isResolvedFromDuration=!0}return e}function Lx(t=yn.visualDuration,e=yn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],a={done:!1,value:o},{stiffness:l,damping:c,mass:u,duration:d,velocity:f,isResolvedFromDuration:h}=R0e({...n,velocity:-Ks(n.velocity||0)}),m=f||0,p=c/(2*Math.sqrt(l*u)),g=s-o,b=Ks(Math.sqrt(l/u)),y=Math.abs(g)<5;r||(r=y?yn.restSpeed.granular:yn.restSpeed.default),i||(i=y?yn.restDelta.granular:yn.restDelta.default);let w;if(p<1){const S=IT(b,p);w=C=>{const k=Math.exp(-p*b*C);return s-k*((m+p*b*g)/S*Math.sin(S*C)+g*Math.cos(S*C))}}else if(p===1)w=S=>s-Math.exp(-b*S)*(g+(m+b*g)*S);else{const S=b*Math.sqrt(p*p-1);w=C=>{const k=Math.exp(-p*b*C),E=Math.min(S*C,300);return s-k*((m+p*b*g)*Math.sinh(E)+S*g*Math.cosh(E))/S}}const _={calculatedDuration:h&&d||null,next:S=>{const C=w(S);if(h)a.done=S>=d;else{let k=0;p<1&&(k=S===0?Gs(m):CG(w,S,C));const E=Math.abs(k)<=r,T=Math.abs(s-C)<=i;a.done=E&&T}return a.value=a.done?s:C,a},toString:()=>{const S=Math.min(pR(_),$x),C=Pq(k=>_.next(S*k).value,S,30);return S+"ms "+C},toTransition:()=>{}};return _}Lx.applyToOptions=t=>{const e=Nve(t,100,Lx);return t.ease=Gv()?e.ease:"easeOut",t.duration=Gs(e.duration),t.type="keyframes",t};function UF({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:s,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=t[0],f={done:!1,value:d},h=E=>a!==void 0&&E<a||l!==void 0&&E>l,m=E=>a===void 0?l:l===void 0||Math.abs(a-E)<Math.abs(l-E)?a:l;let p=n*e;const g=d+p,b=s===void 0?g:s(g);b!==g&&(p=b-d);const y=E=>-p*Math.exp(-E/r),w=E=>b+y(E),_=E=>{const T=y(E),M=w(E);f.done=Math.abs(T)<=c,f.value=f.done?b:M};let S,C;const k=E=>{h(f.value)&&(S=E,C=Lx({keyframes:[f.value,m(f.value)],velocity:CG(w,E,f.value),damping:i,stiffness:o,restDelta:c,restSpeed:u}))};return k(0),{calculatedDuration:null,next:E=>{let T=!1;return!C&&S===void 0&&(T=!0,_(E),k(E)),S!==void 0&&E>=S?C.next(E-S):(!T&&_(E),f)}}}const $0e=y0(.42,0,1,1),I0e=y0(0,0,.58,1),kG=y0(.42,0,.58,1),j0e=t=>Array.isArray(t)&&typeof t[0]!="number",L0e={linear:_o,easeIn:$0e,easeInOut:kG,easeOut:I0e,circIn:MR,circInOut:oG,circOut:iG,backIn:AR,backInOut:nG,backOut:tG,anticipate:rG},HF=t=>{if(dR(t)){Cq(t.length===4);const[e,n,r,i]=t;return y0(e,n,r,i)}else if(typeof t=="string")return L0e[t];return t};function F0e(t,e,n){const r=[],i=n||_G,o=t.length-1;for(let s=0;s<o;s++){let a=i(t[s],t[s+1]);if(e){const l=Array.isArray(e)?e[s]||_o:e;a=b0(l,a)}r.push(a)}return r}function B0e(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;if(Cq(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const s=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=F0e(e,r,i),l=a.length,c=u=>{if(s&&u<t[0])return e[0];let d=0;if(l>1)for(;d<t.length-2&&!(u<t[d+1]);d++);const f=qv(t[d],t[d+1],u);return a[d](f)};return n?u=>c(cl(t[0],t[o-1],u)):c}function V0e(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=qv(0,e,r);t.push(hn(n,1,i))}}function z0e(t){const e=[0];return V0e(e,t.length-1),e}function U0e(t,e){return t.map(n=>n*e)}function H0e(t,e){return t.map(()=>e||kG).splice(0,t.length-1)}function Fx({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=j0e(r)?r.map(HF):HF(r),o={done:!1,value:e[0]},s=U0e(n&&n.length===e.length?n:z0e(e),t),a=B0e(s,e,{ease:Array.isArray(i)?i:H0e(e,i)});return{calculatedDuration:t,next:l=>(o.value=a(l),o.done=l>=t,o)}}const W0e=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Yt.update(e,!0),stop:()=>Wc(e),now:()=>ur.isProcessing?ur.timestamp:Ys.now()}},q0e={decay:UF,inertia:UF,tween:Fx,keyframes:Fx,spring:Lx},G0e=t=>t/100;class IR extends xG{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:o}=this.options,s=(i==null?void 0:i.KeyframeResolver)||RR,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new s(o,a,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:s=0}=this.options,a=fR(n)?n:q0e[n]||Fx;let l,c;a!==Fx&&typeof e[0]!="number"&&(l=b0(G0e,_G(e[0],e[1])),e=[0,100]);const u=a({...this.options,keyframes:e});o==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-s})),u.calculatedDuration===null&&(u.calculatedDuration=pR(u));const{calculatedDuration:d}=u,f=d+i,h=f*(r+1)-i;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:f,totalDuration:h}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:E}=this.options;return{done:!0,value:E[E.length-1]}}const{finalKeyframe:i,generator:o,mirroredGenerator:s,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:d}=r;if(this.startTime===null)return o.next(0);const{delay:f,repeat:h,repeatType:m,repeatDelay:p,onUpdate:g}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const b=this.currentTime-f*(this.speed>=0?1:-1),y=this.speed>=0?b<0:b>u;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let w=this.currentTime,_=o;if(h){const E=Math.min(this.currentTime,u)/d;let T=Math.floor(E),M=E%1;!M&&E>=1&&(M=1),M===1&&T--,T=Math.min(T,h+1),!!(T%2)&&(m==="reverse"?(M=1-M,p&&(M-=p/d)):m==="mirror"&&(_=s)),w=cl(0,1,M)*d}const S=y?{done:!1,value:l[0]}:_.next(w);a&&(S.value=a(S.value));let{done:C}=S;!y&&c!==null&&(C=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return k&&i!==void 0&&(S.value=P_(l,this.options,i)),g&&g(S.value),k&&this.finish(),S}get duration(){const{resolved:e}=this;return e?Ks(e.calculatedDuration):0}get time(){return Ks(this.currentTime)}set time(e){e=Gs(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ks(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=W0e,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=this.currentTime??0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}get finished(){return this.currentFinishedPromise}}const K0e=new Set(["opacity","clipPath","filter","transform"]),Y0e=cR(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Bx=10,X0e=2e4;function Z0e(t){return fR(t.type)||t.type==="spring"||!Oq(t.ease)}function J0e(t,e){const n=new IR({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let o=0;for(;!r.done&&o<X0e;)r=n.sample(o),i.push(r.value),o+=Bx;return{times:void 0,keyframes:i,duration:o-Bx,ease:"linear"}}const PG={anticipate:rG,backInOut:nG,circInOut:oG};function Q0e(t){return t in PG}class WF extends xG{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:o}=this.options;this.resolver=new wG(o,(s,a)=>this.onKeyframesResolved(s,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:o,type:s,motionValue:a,name:l,startTime:c}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof o=="string"&&Gv()&&Q0e(o)&&(o=PG[o]),Z0e(this.options)){const{onComplete:d,onUpdate:f,motionValue:h,element:m,...p}=this.options,g=J0e(e,p);e=g.keyframes,e.length===1&&(e[1]=e[0]),r=g.duration,i=g.times,o=g.ease,s="keyframes"}const u=Mve(a.owner.current,l,e,{...this.options,duration:r,times:i,ease:o});return u.startTime=c??this.calcStartTime(),this.pendingTimeline?(bF(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:d}=this.options;a.set(P_(e,this.options,n)),d&&d(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:r,times:i,type:s,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Ks(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Ks(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Gs(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}get finished(){return this.resolved.animation.finished}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return _o;const{animation:r}=n;bF(r,e)}return _o}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:o,ease:s,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:d,element:f,...h}=this.options,m=new IR({...h,keyframes:r,duration:i,type:o,ease:s,times:a,isGenerator:!0}),p=Gs(this.time);c.setWithVelocity(m.sample(p-Bx).value,m.sample(p).value,Bx)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:o,damping:s,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return Y0e()&&r&&K0e.has(r)&&(r!=="transform"||!c)&&!l&&!i&&o!=="mirror"&&s!==0&&a!=="inertia"}}const ebe={type:"spring",stiffness:500,damping:25,restSpeed:10},tbe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),nbe={type:"keyframes",duration:.8},rbe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ibe=(t,{keyframes:e})=>e.length>2?nbe:ef.has(t)?t.startsWith("scale")?tbe(e[1]):ebe:rbe;function obe({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:s,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const jR=(t,e,n,r={},i,o)=>s=>{const a=hR(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Gs(l);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{s(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:o?void 0:i};obe(a)||(u={...u,...ibe(t,u)}),u.duration&&(u.duration=Gs(u.duration)),u.repeatDelay&&(u.repeatDelay=Gs(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(d=!0)),u.allowFlatten=!a.type&&!a.ease,d&&!o&&e.get()!==void 0){const f=P_(u.keyframes,a);if(f!==void 0)return Yt.update(()=>{u.onUpdate(f),u.onComplete()}),new Ove([])}return!o&&WF.supports(u)?new WF(u):new IR(u)};function sbe({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function EG(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:s,...a}=e;r&&(o=r);const l=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const u in a){const d=t.getValue(u,t.latestValues[u]??null),f=a[u];if(f===void 0||c&&sbe(c,u))continue;const h={delay:n,...hR(o||{},u)};let m=!1;if(window.MotionHandoffAnimation){const g=Zq(t);if(g){const b=window.MotionHandoffAnimation(g,u,Yt);b!==null&&(h.startTime=b,m=!0)}}ET(t,u),d.start(jR(u,d,f,t.shouldReduceMotion&&Xq.has(u)?{type:!1}:h,t,m));const p=d.animation;p&&l.push(p)}return s&&Promise.all(l).then(()=>{Yt.update(()=>{s&&$ye(t,s)})}),l}function jT(t,e,n={}){var l;const r=Jv(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(EG(t,r,n)):()=>Promise.resolve(),s=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=i;return abe(t,e,u+c,d,f,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[c,u]=a==="beforeChildren"?[o,s]:[s,o];return c().then(()=>u())}else return Promise.all([o(),s(n.delay)])}function abe(t,e,n=0,r=0,i=1,o){const s=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(lbe).forEach((c,u)=>{c.notify("AnimationStart",e),s.push(jT(c,e,{...o,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(s)}function lbe(t,e){return t.sortNodePosition(e)}function cbe(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(o=>jT(t,o,n));r=Promise.all(i)}else if(typeof e=="string")r=jT(t,e,n);else{const i=typeof e=="function"?Jv(t,e,n.custom):e;r=Promise.all(EG(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function OG(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const ube=yR.length;function TG(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?TG(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<ube;n++){const r=yR[n],i=t.props[r];(Yv(i)||i===!1)&&(e[r]=i)}return e}const dbe=[...vR].reverse(),fbe=vR.length;function hbe(t){return e=>Promise.all(e.map(({animation:n,options:r})=>cbe(t,n,r)))}function pbe(t){let e=hbe(t),n=qF(),r=!0;const i=l=>(c,u)=>{var f;const d=Jv(t,u,l==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(d){const{transition:h,transitionEnd:m,...p}=d;c={...c,...p,...m}}return c};function o(l){e=l(t)}function s(l){const{props:c}=t,u=TG(t.parent)||{},d=[],f=new Set;let h={},m=1/0;for(let g=0;g<fbe;g++){const b=dbe[g],y=n[b],w=c[b]!==void 0?c[b]:u[b],_=Yv(w),S=b===l?y.isActive:null;S===!1&&(m=g);let C=w===u[b]&&w!==c[b]&&_;if(C&&r&&t.manuallyAnimateOnMount&&(C=!1),y.protectedKeys={...h},!y.isActive&&S===null||!w&&!y.prevProp||C_(w)||typeof w=="boolean")continue;const k=mbe(y.prevProp,w);let E=k||b===l&&y.isActive&&!C&&_||g>m&&_,T=!1;const M=Array.isArray(w)?w:[w];let D=M.reduce(i(b),{});S===!1&&(D={});const{prevResolvedValues:N={}}=y,L={...N,...D},I=j=>{E=!0,f.has(j)&&(T=!0,f.delete(j)),y.needsAnimating[j]=!0;const R=t.getValue(j);R&&(R.liveStyle=!1)};for(const j in L){const R=D[j],$=N[j];if(h.hasOwnProperty(j))continue;let H=!1;PT(R)&&PT($)?H=!OG(R,$):H=R!==$,H?R!=null?I(j):f.add(j):R!==void 0&&f.has(j)?I(j):y.protectedKeys[j]=!0}y.prevProp=w,y.prevResolvedValues=D,y.isActive&&(h={...h,...D}),r&&t.blockInitialAnimation&&(E=!1),E&&(!(C&&k)||T)&&d.push(...M.map(j=>({animation:j,options:{type:b}})))}if(f.size){const g={};if(typeof c.initial!="boolean"){const b=Jv(t,Array.isArray(c.initial)?c.initial[0]:c.initial);b&&b.transition&&(g.transition=b.transition)}f.forEach(b=>{const y=t.getBaseTarget(b),w=t.getValue(b);w&&(w.liveStyle=!0),g[b]=y??null}),d.push({animation:g})}let p=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(p=!1),r=!1,p?e(d):Promise.resolve()}function a(l,c){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)==null||d.forEach(f=>{var h;return(h=f.animationState)==null?void 0:h.setActive(l,c)}),n[l].isActive=c;const u=s(l);for(const f in n)n[f].protectedKeys={};return u}return{animateChanges:s,setActive:a,setAnimateFunction:o,getState:()=>n,reset:()=>{n=qF(),r=!0}}}function mbe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!OG(e,t):!1}function xu(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function qF(){return{animate:xu(!0),whileInView:xu(),whileHover:xu(),whileTap:xu(),whileDrag:xu(),whileFocus:xu(),exit:xu()}}class iu{constructor(e){this.isMounted=!1,this.node=e}update(){}}class gbe extends iu{constructor(e){super(e),e.animationState||(e.animationState=pbe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();C_(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let vbe=0;class ybe extends iu{constructor(){super(...arguments),this.id=vbe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const bbe={animation:{Feature:gbe},exit:{Feature:ybe}};function ey(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function w0(t){return{point:{x:t.pageX,y:t.pageY}}}const wbe=t=>e=>gR(e)&&t(e,w0(e));function zg(t,e,n,r){return ey(t,e,wbe(n),r)}function AG({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function xbe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Sbe(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const MG=1e-4,_be=1-MG,Cbe=1+MG,NG=.01,kbe=0-NG,Pbe=0+NG;function Gr(t){return t.max-t.min}function Ebe(t,e,n){return Math.abs(t-e)<=n}function GF(t,e,n,r=.5){t.origin=r,t.originPoint=hn(e.min,e.max,t.origin),t.scale=Gr(n)/Gr(e),t.translate=hn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=_be&&t.scale<=Cbe||isNaN(t.scale))&&(t.scale=1),(t.translate>=kbe&&t.translate<=Pbe||isNaN(t.translate))&&(t.translate=0)}function Ug(t,e,n,r){GF(t.x,e.x,n.x,r?r.originX:void 0),GF(t.y,e.y,n.y,r?r.originY:void 0)}function KF(t,e,n){t.min=n.min+e.min,t.max=t.min+Gr(e)}function Obe(t,e,n){KF(t.x,e.x,n.x),KF(t.y,e.y,n.y)}function YF(t,e,n){t.min=e.min-n.min,t.max=t.min+Gr(e)}function Hg(t,e,n){YF(t.x,e.x,n.x),YF(t.y,e.y,n.y)}const XF=()=>({translate:0,scale:1,origin:0,originPoint:0}),Zf=()=>({x:XF(),y:XF()}),ZF=()=>({min:0,max:0}),Sn=()=>({x:ZF(),y:ZF()});function so(t){return[t("x"),t("y")]}function Qk(t){return t===void 0||t===1}function LT({scale:t,scaleX:e,scaleY:n}){return!Qk(t)||!Qk(e)||!Qk(n)}function Ou(t){return LT(t)||DG(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function DG(t){return JF(t.x)||JF(t.y)}function JF(t){return t&&t!=="0%"}function Vx(t,e,n){const r=t-n,i=e*r;return n+i}function QF(t,e,n,r,i){return i!==void 0&&(t=Vx(t,i,r)),Vx(t,n,r)+e}function FT(t,e=0,n=1,r,i){t.min=QF(t.min,e,n,r,i),t.max=QF(t.max,e,n,r,i)}function RG(t,{x:e,y:n}){FT(t.x,e.translate,e.scale,e.originPoint),FT(t.y,n.translate,n.scale,n.originPoint)}const eB=.999999999999,tB=1.0000000000001;function Tbe(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let o,s;for(let a=0;a<i;a++){o=n[a],s=o.projectionDelta;const{visualElement:l}=o.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Qf(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,RG(t,s)),r&&Ou(o.latestValues)&&Qf(t,o.latestValues))}e.x<tB&&e.x>eB&&(e.x=1),e.y<tB&&e.y>eB&&(e.y=1)}function Jf(t,e){t.min=t.min+e,t.max=t.max+e}function nB(t,e,n,r,i=.5){const o=hn(t.min,t.max,i);FT(t,e,n,o,r)}function Qf(t,e){nB(t.x,e.x,e.scaleX,e.scale,e.originX),nB(t.y,e.y,e.scaleY,e.scale,e.originY)}function $G(t,e){return AG(Sbe(t.getBoundingClientRect(),e))}function Abe(t,e,n){const r=$G(t,n),{scroll:i}=e;return i&&(Jf(r.x,i.offset.x),Jf(r.y,i.offset.y)),r}const IG=({current:t})=>t?t.ownerDocument.defaultView:null,rB=(t,e)=>Math.abs(t-e);function Mbe(t,e){const n=rB(t.x,e.x),r=rB(t.y,e.y);return Math.sqrt(n**2+r**2)}class jG{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=tP(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,h=Mbe(d.offset,{x:0,y:0})>=3;if(!f&&!h)return;const{point:m}=d,{timestamp:p}=ur;this.history.push({...m,timestamp:p});const{onStart:g,onMove:b}=this.handlers;f||(g&&g(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=eP(f,this.transformPagePoint),Yt.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{this.end();const{onEnd:h,onSessionEnd:m,resumeAnimation:p}=this.handlers;if(this.dragSnapToOrigin&&p&&p(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=tP(d.type==="pointercancel"?this.lastMoveEventInfo:eP(f,this.transformPagePoint),this.history);this.startEvent&&h&&h(d,g),m&&m(d,g)},!gR(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=w0(e),a=eP(s,this.transformPagePoint),{point:l}=a,{timestamp:c}=ur;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,tP(a,this.history)),this.removeListeners=b0(zg(this.contextWindow,"pointermove",this.handlePointerMove),zg(this.contextWindow,"pointerup",this.handlePointerUp),zg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Wc(this.updatePoint)}}function eP(t,e){return e?{point:e(t.point)}:t}function iB(t,e){return{x:t.x-e.x,y:t.y-e.y}}function tP({point:t},e){return{point:t,delta:iB(t,LG(e)),offset:iB(t,Nbe(e)),velocity:Dbe(e,.1)}}function Nbe(t){return t[0]}function LG(t){return t[t.length-1]}function Dbe(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=LG(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Gs(e)));)n--;if(!r)return{x:0,y:0};const o=Ks(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Rbe(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?hn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?hn(n,t,r.max):Math.min(t,n)),t}function oB(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function $be(t,{top:e,left:n,bottom:r,right:i}){return{x:oB(t.x,n,i),y:oB(t.y,e,r)}}function sB(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Ibe(t,e){return{x:sB(t.x,e.x),y:sB(t.y,e.y)}}function jbe(t,e){let n=.5;const r=Gr(t),i=Gr(e);return i>r?n=qv(e.min,e.max-r,t.min):r>i&&(n=qv(t.min,t.max-i,e.min)),cl(0,1,n)}function Lbe(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const BT=.35;function Fbe(t=BT){return t===!1?t=0:t===!0&&(t=BT),{x:aB(t,"left","right"),y:aB(t,"top","bottom")}}function aB(t,e,n){return{min:lB(t,e),max:lB(t,n)}}function lB(t,e){return typeof t=="number"?t:t[e]||0}const Bbe=new WeakMap;class Vbe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Sn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(w0(u).point)},o=(u,d)=>{const{drag:f,dragPropagation:h,onDragStart:m}=this.getProps();if(f&&!h&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Ive(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),so(g=>{let b=this.getAxisMotionValue(g).get()||0;if(Xs.test(b)){const{projection:y}=this.visualElement;if(y&&y.layout){const w=y.layout.layoutBox[g];w&&(b=Gr(w)*(parseFloat(b)/100))}}this.originPoint[g]=b}),m&&Yt.postRender(()=>m(u,d)),ET(this.visualElement,"transform");const{animationState:p}=this.visualElement;p&&p.setActive("whileDrag",!0)},s=(u,d)=>{const{dragPropagation:f,dragDirectionLock:h,onDirectionLock:m,onDrag:p}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:g}=d;if(h&&this.currentDirection===null){this.currentDirection=zbe(g),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",d.point,g),this.updateAxis("y",d.point,g),this.visualElement.render(),p&&p(u,d)},a=(u,d)=>this.stop(u,d),l=()=>so(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)==null?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new jG(e,{onSessionStart:i,onStart:o,onMove:s,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:IG(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&Yt.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Ob(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=Rbe(s,this.constraints[e],this.elastic[e])),o.set(s)}resolveConstraints(){var o;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,i=this.constraints;e&&Yf(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=$be(r.layoutBox,e):this.constraints=!1,this.elastic=Fbe(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&so(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=Lbe(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Yf(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=Abe(r,i.root,this.visualElement.getTransformPagePoint());let s=Ibe(i.layout.layoutBox,o);if(n){const a=n(xbe(s));this.hasMutatedConstraints=!!a,a&&(s=AG(a))}return s}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=so(u=>{if(!Ob(u,n,this.currentDirection))return;let d=l&&l[u]||{};s&&(d={min:0,max:0});const f=i?200:1e6,h=i?40:1e7,m={type:"inertia",velocity:r?e[u]:0,bounceStiffness:f,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...o,...d};return this.startAxisValueAnimation(u,m)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return ET(this.visualElement,e),r.start(jR(e,r,0,n,this.visualElement,!1))}stopAnimation(){so(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){so(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){so(n=>{const{drag:r}=this.getProps();if(!Ob(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:a}=i.layout.layoutBox[n];o.set(e[n]-hn(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Yf(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};so(s=>{const a=this.getAxisMotionValue(s);if(a&&this.constraints!==!1){const l=a.get();i[s]=jbe({min:l,max:l},this.constraints[s])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),so(s=>{if(!Ob(s,e,null))return;const a=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];a.set(hn(l,c,i[s]))})}addListeners(){if(!this.visualElement.current)return;Bbe.set(this.visualElement,this);const e=this.visualElement.current,n=zg(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Yf(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Yt.read(r);const s=ey(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(so(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{s(),n(),o(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:s=BT,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:s,dragMomentum:a}}}function Ob(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function zbe(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Ube extends iu{constructor(e){super(e),this.removeGroupControls=_o,this.removeListeners=_o,this.controls=new Vbe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||_o}unmount(){this.removeGroupControls(),this.removeListeners()}}const cB=t=>(e,n)=>{t&&Yt.postRender(()=>t(e,n))};class Hbe extends iu{constructor(){super(...arguments),this.removePointerDownListener=_o}onPointerDown(e){this.session=new jG(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:IG(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:cB(e),onStart:cB(n),onMove:r,onEnd:(o,s)=>{delete this.session,i&&Yt.postRender(()=>i(o,s))}}}mount(){this.removePointerDownListener=zg(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Aw={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function uB(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Hm={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if($e.test(t))t=parseFloat(t);else return t;const n=uB(t,e.target.x),r=uB(t,e.target.y);return`${n}% ${r}%`}},Wbe={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=qc.parse(t);if(i.length>5)return r;const o=qc.createTransformer(t),s=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+s]/=a,i[1+s]/=l;const c=hn(a,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=c),typeof i[3+s]=="number"&&(i[3+s]/=c),o(i)}};class qbe extends x.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;cye(Gbe),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Aw.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,s=r.projection;return s&&(s.isPresent=o,i||e.layoutDependency!==n||n===void 0||e.isPresent!==o?s.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?s.promote():s.relegate()||Yt.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),mR.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function FG(t){const[e,n]=kve(),r=x.useContext(Sq);return O.jsx(qbe,{...t,layoutGroup:r,switchLayoutGroup:x.useContext(jq),isPresent:e,safeToRemove:n})}const Gbe={borderRadius:{...Hm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Hm,borderTopRightRadius:Hm,borderBottomLeftRadius:Hm,borderBottomRightRadius:Hm,boxShadow:Wbe};function Kbe(t,e,n){const r=Mr(t)?t:Kv(t);return r.start(jR("",r,e,n)),r.animation}function Ybe(t){return t instanceof SVGElement&&t.tagName!=="svg"}const Xbe=(t,e)=>t.depth-e.depth;class Zbe{constructor(){this.children=[],this.isDirty=!1}add(e){aR(this.children,e),this.isDirty=!0}remove(e){lR(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Xbe),this.isDirty=!1,this.children.forEach(e)}}function Jbe(t,e){const n=Ys.now(),r=({timestamp:i})=>{const o=i-n;o>=e&&(Wc(r),t(o-e))};return Yt.read(r,!0),()=>Wc(r)}const BG=["TopLeft","TopRight","BottomLeft","BottomRight"],Qbe=BG.length,dB=t=>typeof t=="string"?parseFloat(t):t,fB=t=>typeof t=="number"||$e.test(t);function ewe(t,e,n,r,i,o){i?(t.opacity=hn(0,n.opacity??1,twe(r)),t.opacityExit=hn(e.opacity??1,0,nwe(r))):o&&(t.opacity=hn(e.opacity??1,n.opacity??1,r));for(let s=0;s<Qbe;s++){const a=`border${BG[s]}Radius`;let l=hB(e,a),c=hB(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||fB(l)===fB(c)?(t[a]=Math.max(hn(dB(l),dB(c),r),0),(Xs.test(c)||Xs.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=hn(e.rotate||0,n.rotate||0,r))}function hB(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const twe=VG(0,.5,iG),nwe=VG(.5,.95,_o);function VG(t,e,n){return r=>r<t?0:r>e?1:n(qv(t,e,r))}function pB(t,e){t.min=e.min,t.max=e.max}function ro(t,e){pB(t.x,e.x),pB(t.y,e.y)}function mB(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function gB(t,e,n,r,i){return t-=e,t=Vx(t,1/n,r),i!==void 0&&(t=Vx(t,1/i,r)),t}function rwe(t,e=0,n=1,r=.5,i,o=t,s=t){if(Xs.test(e)&&(e=parseFloat(e),e=hn(s.min,s.max,e/100)-s.min),typeof e!="number")return;let a=hn(o.min,o.max,r);t===o&&(a-=e),t.min=gB(t.min,e,n,a,i),t.max=gB(t.max,e,n,a,i)}function vB(t,e,[n,r,i],o,s){rwe(t,e[n],e[r],e[i],e.scale,o,s)}const iwe=["x","scaleX","originX"],owe=["y","scaleY","originY"];function yB(t,e,n,r){vB(t.x,e,iwe,n?n.x:void 0,r?r.x:void 0),vB(t.y,e,owe,n?n.y:void 0,r?r.y:void 0)}function bB(t){return t.translate===0&&t.scale===1}function zG(t){return bB(t.x)&&bB(t.y)}function wB(t,e){return t.min===e.min&&t.max===e.max}function swe(t,e){return wB(t.x,e.x)&&wB(t.y,e.y)}function xB(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function UG(t,e){return xB(t.x,e.x)&&xB(t.y,e.y)}function SB(t){return Gr(t.x)/Gr(t.y)}function _B(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class awe{constructor(){this.members=[]}add(e){aR(this.members,e),e.scheduleRender()}remove(e){if(lR(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function lwe(t,e,n){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y,s=(n==null?void 0:n.z)||0;if((i||o||s)&&(r=`translate3d(${i}px, ${o}px, ${s}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:d,rotateY:f,skewX:h,skewY:m}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),d&&(r+=`rotateX(${d}deg) `),f&&(r+=`rotateY(${f}deg) `),h&&(r+=`skewX(${h}deg) `),m&&(r+=`skewY(${m}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const nP=["","X","Y","Z"],cwe={visibility:"hidden"},CB=1e3;let uwe=0;function rP(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function HG(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Zq(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Yt,!(i||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&HG(r)}function WG({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},a=e==null?void 0:e()){this.id=uwe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(hwe),this.nodes.forEach(ywe),this.nodes.forEach(bwe),this.nodes.forEach(pwe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Zbe)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new uR),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const l=this.eventHandlers.get(s);l&&l.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Ybe(s),this.instance=s;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let d;const f=()=>this.root.updateBlockedByResize=!1;t(s,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=Jbe(f,250),Aw.hasAnimatedSinceResize&&(Aw.hasAnimatedSinceResize=!1,this.nodes.forEach(PB))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||u.getDefaultTransition()||Cwe,{onLayoutAnimationStart:g,onLayoutAnimationComplete:b}=u.getProps(),y=!this.targetLayout||!UG(this.targetLayout,m),w=!f&&h;if(this.options.layoutRoot||this.resumeFrom||w||f&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,w);const _={...hR(p,"layout"),onPlay:g,onComplete:b};(u.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_)}else f||PB(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Wc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(wwe),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&HG(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(kB);return}this.isUpdating||this.nodes.forEach(gwe),this.isUpdating=!1,this.nodes.forEach(vwe),this.nodes.forEach(dwe),this.nodes.forEach(fwe),this.clearAllSnapshots();const a=Ys.now();ur.delta=cl(0,1e3/60,a-ur.timestamp),ur.timestamp=a,ur.isProcessing=!0,Kk.update.process(ur),Kk.preRender.process(ur),Kk.render.process(ur),ur.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,mR.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(mwe),this.sharedNodes.forEach(xwe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Yt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Yt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Gr(this.snapshot.measuredBox.x)&&!Gr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Sn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!zG(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;s&&(a||Ou(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return s&&(l=this.removeTransform(l)),kwe(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:s}=this.options;if(!s)return Sn();const a=s.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(Pwe))){const{scroll:u}=this.root;u&&(Jf(a.x,u.offset.x),Jf(a.y,u.offset.y))}return a}removeElementScroll(s){var l;const a=Sn();if(ro(a,s),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;u!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&ro(a,s),Jf(a.x,d.offset.x),Jf(a.y,d.offset.y))}return a}applyTransform(s,a=!1){const l=Sn();ro(l,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Qf(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Ou(u.latestValues)&&Qf(l,u.latestValues)}return Ou(this.latestValues)&&Qf(l,this.latestValues),l}removeTransform(s){const a=Sn();ro(a,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Ou(c.latestValues))continue;LT(c.latestValues)&&c.updateSnapshot();const u=Sn(),d=c.measurePageBox();ro(u,d),yB(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Ou(this.latestValues)&&yB(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ur.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var f;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(s||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:d}=this.options;if(!(!this.layout||!(u||d))){if(this.resolvedRelativeTargetAt=ur.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Sn(),this.relativeTargetOrigin=Sn(),Hg(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),ro(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Sn(),this.targetWithTransforms=Sn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Obe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ro(this.target,this.layout.layoutBox),RG(this.target,this.targetDelta)):ro(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Sn(),this.relativeTargetOrigin=Sn(),Hg(this.relativeTargetOrigin,this.target,h.target),ro(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||LT(this.parent.latestValues)||DG(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var m;const s=this.getLead(),a=!!this.resumingFrom||this!==s;let l=!0;if((this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===ur.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;ro(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,f=this.treeScale.y;Tbe(this.layoutCorrected,this.treeScale,this.path,a),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=Sn());const{target:h}=s;if(!h){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(mB(this.prevProjectionDelta.x,this.projectionDelta.x),mB(this.prevProjectionDelta.y,this.projectionDelta.y)),Ug(this.projectionDelta,this.layoutCorrected,h,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==f||!_B(this.projectionDelta.x,this.prevProjectionDelta.x)||!_B(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",h))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Zf(),this.projectionDelta=Zf(),this.projectionDeltaWithTransform=Zf()}setAnimationOrigin(s,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=Zf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=Sn(),h=l?l.source:void 0,m=this.layout?this.layout.source:void 0,p=h!==m,g=this.getStack(),b=!g||g.members.length<=1,y=!!(p&&!b&&this.options.crossfade===!0&&!this.path.some(_we));this.animationProgress=0;let w;this.mixTargetDelta=_=>{const S=_/1e3;EB(d.x,s.x,S),EB(d.y,s.y,S),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Hg(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Swe(this.relativeTarget,this.relativeTargetOrigin,f,S),w&&swe(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Sn()),ro(w,this.relativeTarget)),p&&(this.animationValues=u,ewe(u,c,this.latestValues,S,y,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Wc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Yt.update(()=>{Aw.hasAnimatedSinceResize=!0,this.currentAnimation=Kbe(0,CB,{...s,onUpdate:a=>{this.mixTargetDelta(a),s.onUpdate&&s.onUpdate(a)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(CB),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=s;if(!(!a||!l||!c)){if(this!==s&&this.layout&&c&&qG(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Sn();const d=Gr(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+d;const f=Gr(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+f}ro(a,l),Qf(a,u),Ug(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new awe),this.sharedNodes.get(s).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var a;const{layoutId:s}=this.options;return s?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:s}=this.options;return s?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:l}=s;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&rP("z",s,c,this.animationValues);for(let u=0;u<nP.length;u++)rP(`rotate${nP[u]}`,s,c,this.animationValues),rP(`skew${nP[u]}`,s,c,this.animationValues);s.render();for(const u in c)s.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);s.scheduleRender()}getProjectionStyles(s){if(!this.instance||this.isSVG)return;if(!this.isVisible)return cwe;const a={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,a.opacity="",a.pointerEvents=Tw(s==null?void 0:s.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none",a;const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){const h={};return this.options.layoutId&&(h.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,h.pointerEvents=Tw(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!Ou(this.latestValues)&&(h.transform=l?l({},""):"none",this.hasProjected=!1),h}const u=c.animationValues||c.latestValues;this.applyTransformsToTarget(),a.transform=lwe(this.projectionDeltaWithTransform,this.treeScale,u),l&&(a.transform=l(u,a.transform));const{x:d,y:f}=this.projectionDelta;a.transformOrigin=`${d.origin*100}% ${f.origin*100}% 0`,c.animationValues?a.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:a.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const h in Xv){if(u[h]===void 0)continue;const{correct:m,applyTo:p,isCSSVariable:g}=Xv[h],b=a.transform==="none"?u[h]:m(u[h],c);if(p){const y=p.length;for(let w=0;w<y;w++)a[p[w]]=b}else g?this.options.visualElement.renderState.vars[h]=b:a[h]=b}return this.options.layoutId&&(a.pointerEvents=c===this?Tw(s==null?void 0:s.pointerEvents)||"":"none"),a}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(kB),this.root.sharedNodes.clear()}}}function dwe(t){t.updateLayout()}function fwe(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:o}=t.options,s=e.source!==t.layout.source;o==="size"?so(d=>{const f=s?e.measuredBox[d]:e.layoutBox[d],h=Gr(f);f.min=r[d].min,f.max=f.min+h}):qG(o,e.layoutBox,r)&&so(d=>{const f=s?e.measuredBox[d]:e.layoutBox[d],h=Gr(r[d]);f.max=f.min+h,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+h)});const a=Zf();Ug(a,r,e.layoutBox);const l=Zf();s?Ug(l,t.applyTransform(i,!0),e.measuredBox):Ug(l,r,e.layoutBox);const c=!zG(a);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:h}=d;if(f&&h){const m=Sn();Hg(m,e.layoutBox,f.layoutBox);const p=Sn();Hg(p,r,h.layoutBox),UG(m,p)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=p,t.relativeTargetOrigin=m,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function hwe(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function pwe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function mwe(t){t.clearSnapshot()}function kB(t){t.clearMeasurements()}function gwe(t){t.isLayoutDirty=!1}function vwe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function PB(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function ywe(t){t.resolveTargetDelta()}function bwe(t){t.calcProjection()}function wwe(t){t.resetSkewAndRotation()}function xwe(t){t.removeLeadSnapshot()}function EB(t,e,n){t.translate=hn(e.translate,0,n),t.scale=hn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function OB(t,e,n,r){t.min=hn(e.min,n.min,r),t.max=hn(e.max,n.max,r)}function Swe(t,e,n,r){OB(t.x,e.x,n.x,r),OB(t.y,e.y,n.y,r)}function _we(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Cwe={duration:.45,ease:[.4,0,.1,1]},TB=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),AB=TB("applewebkit/")&&!TB("chrome/")?Math.round:_o;function MB(t){t.min=AB(t.min),t.max=AB(t.max)}function kwe(t){MB(t.x),MB(t.y)}function qG(t,e,n){return t==="position"||t==="preserve-aspect"&&!Ebe(SB(e),SB(n),.2)}function Pwe(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const Ewe=WG({attachResizeListener:(t,e)=>ey(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),iP={current:void 0},GG=WG({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!iP.current){const t=new Ewe({});t.mount(window),t.setOptions({layoutScroll:!0}),iP.current=t}return iP.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Owe={pan:{Feature:Hbe},drag:{Feature:Ube,ProjectionNode:GG,MeasureLayout:FG}};function NB(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=r[i];o&&Yt.postRender(()=>o(e,w0(e)))}class Twe extends iu{mount(){const{current:e}=this.node;e&&(this.unmount=Lve(e,(n,r)=>(NB(this.node,r,"Start"),i=>NB(this.node,i,"End"))))}unmount(){}}class Awe extends iu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=b0(ey(this.node.current,"focus",()=>this.onFocus()),ey(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function DB(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=r[i];o&&Yt.postRender(()=>o(e,w0(e)))}class Mwe extends iu{mount(){const{current:e}=this.node;e&&(this.unmount=zve(e,(n,r)=>(DB(this.node,r,"Start"),(i,{success:o})=>DB(this.node,i,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const VT=new WeakMap,oP=new WeakMap,Nwe=t=>{const e=VT.get(t.target);e&&e(t)},Dwe=t=>{t.forEach(Nwe)};function Rwe({root:t,...e}){const n=t||document;oP.has(n)||oP.set(n,{});const r=oP.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(Dwe,{root:t,...e})),r[i]}function $we(t,e,n){const r=Rwe(e);return VT.set(t,n),r.observe(t),()=>{VT.delete(t),r.unobserve(t)}}const Iwe={some:0,all:1};class jwe extends iu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=e,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Iwe[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,o&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),f=c?u:d;f&&f(l)};return $we(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Lwe(e,n))&&this.startObserver()}unmount(){}}function Lwe({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Fwe={inView:{Feature:jwe},tap:{Feature:Mwe},focus:{Feature:Awe},hover:{Feature:Twe}},Bwe={layout:{ProjectionNode:GG,MeasureLayout:FG}},zT={current:null},KG={current:!1};function Vwe(){if(KG.current=!0,!!oR)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>zT.current=t.matches;t.addListener(e),e()}else zT.current=!1}const zwe=[...bG,Cr,qc],Uwe=t=>zwe.find(yG(t)),Hwe=new WeakMap;function Wwe(t,e,n){for(const r in e){const i=e[r],o=n[r];if(Mr(i))t.addValue(r,i);else if(Mr(o))t.addValue(r,Kv(i,{owner:t}));else if(o!==i)if(t.hasValue(r)){const s=t.getValue(r);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=t.getStaticValue(r);t.addValue(r,Kv(s!==void 0?s:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const RB=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class qwe{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:s},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=RR,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Ys.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Yt.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:u}=s;this.onUpdate=u,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!o,this.isControllingVariants=k_(n),this.isVariantNode=$q(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in f){const m=f[h];l[h]!==void 0&&Mr(m)&&m.set(l[h],!1)}}mount(e){this.current=e,Hwe.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),KG.current||Vwe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:zT.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Wc(this.notifyUpdate),Wc(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=ef.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Yt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),o(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ip){const n=ip[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Sn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<RB.length;r++){const i=RB[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,s=e[o];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=Wwe(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Kv(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(gG(r)||sG(r))?r=parseFloat(r):!Uwe(r)&&qc.test(n)&&(r=hG(e,n)),this.setBaseTarget(e,Mr(r)?r.get():r)),Mr(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var o;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const s=OR(this.props,n,(o=this.presenceContext)==null?void 0:o.custom);s&&(r=s[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Mr(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new uR),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class YG extends qwe{constructor(){super(...arguments),this.KeyframeResolver=wG}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Mr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Gwe(t){return window.getComputedStyle(t)}class Kwe extends YG{constructor(){super(...arguments),this.type="html",this.renderInstance=qq}readValueFromInstance(e,n){if(ef.has(n))return s0e(e,n);{const r=Gwe(e),i=(wR(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return $G(e,n)}build(e,n,r){_R(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return TR(e,n,r)}}class Ywe extends YG{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Sn,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&Wq(this.current,this.renderState)}}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ef.has(n)){const r=fG(n);return r&&r.default||0}return n=Gq.has(n)?n:bR(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return Yq(e,n,r)}onBindTransform(){this.current&&!this.renderState.dimensions&&Yt.postRender(this.updateDimensions)}build(e,n,r){PR(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){Kq(e,n,r,i)}mount(e){this.isSVGTag=ER(e.tagName),super.mount(e)}}const Xwe=(t,e)=>kR(t)?new Ywe(e):new Kwe(e,{allowProjection:t!==x.Fragment}),Zwe=Dye({...bbe,...Fwe,...Owe,...Bwe},Xwe),sP=Yve(Zwe),ty=em("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 dark:bg-dark-background dark:text-dark-foreground",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ce=x.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},o)=>v(r?pD:"button",{className:q(ty({variant:e,size:n,className:t})),ref:o,...i}));Ce.displayName="Button";var Jwe=x.createContext(void 0);function um(t){const e=x.useContext(Jwe);return t||e||"ltr"}function UT(t,[e,n]){return Math.min(n,Math.max(e,t))}function Qwe(t,e){return x.useReducer((n,r)=>e[n][r]??n,t)}var LR="ScrollArea",[XG,Vot]=nr(LR),[exe,To]=XG(LR),ZG=x.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:o=600,...s}=t,[a,l]=x.useState(null),[c,u]=x.useState(null),[d,f]=x.useState(null),[h,m]=x.useState(null),[p,g]=x.useState(null),[b,y]=x.useState(0),[w,_]=x.useState(0),[S,C]=x.useState(!1),[k,E]=x.useState(!1),T=Qe(e,D=>l(D)),M=um(i);return O.jsx(exe,{scope:n,type:r,dir:M,scrollHideDelay:o,scrollArea:a,viewport:c,onViewportChange:u,content:d,onContentChange:f,scrollbarX:h,onScrollbarXChange:m,scrollbarXEnabled:S,onScrollbarXEnabledChange:C,scrollbarY:p,onScrollbarYChange:g,scrollbarYEnabled:k,onScrollbarYEnabledChange:E,onCornerWidthChange:y,onCornerHeightChange:_,children:O.jsx(pe.div,{dir:M,...s,ref:T,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":w+"px",...t.style}})})});ZG.displayName=LR;var JG="ScrollAreaViewport",QG=x.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:i,...o}=t,s=To(JG,n),a=x.useRef(null),l=Qe(e,a,s.onViewportChange);return O.jsxs(O.Fragment,{children:[O.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),O.jsx(pe.div,{"data-radix-scroll-area-viewport":"",...o,ref:l,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...t.style},children:O.jsx("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});QG.displayName=JG;var ha="ScrollAreaScrollbar",FR=x.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=To(ha,t.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:s}=i,a=t.orientation==="horizontal";return x.useEffect(()=>(a?o(!0):s(!0),()=>{a?o(!1):s(!1)}),[a,o,s]),i.type==="hover"?O.jsx(txe,{...r,ref:e,forceMount:n}):i.type==="scroll"?O.jsx(nxe,{...r,ref:e,forceMount:n}):i.type==="auto"?O.jsx(eK,{...r,ref:e,forceMount:n}):i.type==="always"?O.jsx(BR,{...r,ref:e}):null});FR.displayName=ha;var txe=x.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=To(ha,t.__scopeScrollArea),[o,s]=x.useState(!1);return x.useEffect(()=>{const a=i.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),s(!0)},u=()=>{l=window.setTimeout(()=>s(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",u)}}},[i.scrollArea,i.scrollHideDelay]),O.jsx(rr,{present:n||o,children:O.jsx(eK,{"data-state":o?"visible":"hidden",...r,ref:e})})}),nxe=x.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=To(ha,t.__scopeScrollArea),o=t.orientation==="horizontal",s=O_(()=>l("SCROLL_END"),100),[a,l]=Qwe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,i.scrollHideDelay,l]),x.useEffect(()=>{const c=i.viewport,u=o?"scrollLeft":"scrollTop";if(c){let d=c[u];const f=()=>{const h=c[u];d!==h&&(l("SCROLL"),s()),d=h};return c.addEventListener("scroll",f),()=>c.removeEventListener("scroll",f)}},[i.viewport,o,l,s]),O.jsx(rr,{present:n||a!=="hidden",children:O.jsx(BR,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:se(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:se(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),eK=x.forwardRef((t,e)=>{const n=To(ha,t.__scopeScrollArea),{forceMount:r,...i}=t,[o,s]=x.useState(!1),a=t.orientation==="horizontal",l=O_(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;s(a?c:u)}},10);return sp(n.viewport,l),sp(n.content,l),O.jsx(rr,{present:r||o,children:O.jsx(BR,{"data-state":o?"visible":"hidden",...i,ref:e})})}),BR=x.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=To(ha,t.__scopeScrollArea),o=x.useRef(null),s=x.useRef(0),[a,l]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=oK(a.viewport,a.content),u={...r,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:f=>o.current=f,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:f=>s.current=f};function d(f,h){return lxe(f,s.current,a,h)}return n==="horizontal"?O.jsx(rxe,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const f=i.viewport.scrollLeft,h=$B(f,a,i.dir);o.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:f=>{i.viewport&&(i.viewport.scrollLeft=f)},onDragScroll:f=>{i.viewport&&(i.viewport.scrollLeft=d(f,i.dir))}}):n==="vertical"?O.jsx(ixe,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const f=i.viewport.scrollTop,h=$B(f,a);o.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:f=>{i.viewport&&(i.viewport.scrollTop=f)},onDragScroll:f=>{i.viewport&&(i.viewport.scrollTop=d(f))}}):null}),rxe=x.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,o=To(ha,t.__scopeScrollArea),[s,a]=x.useState(),l=x.useRef(null),c=Qe(e,l,o.onScrollbarXChange);return x.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),O.jsx(nK,{"data-orientation":"horizontal",...i,ref:c,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":E_(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,d)=>{if(o.viewport){const f=o.viewport.scrollLeft+u.deltaX;t.onWheelScroll(f),aK(f,d)&&u.preventDefault()}},onResize:()=>{l.current&&o.viewport&&s&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Ux(s.paddingLeft),paddingEnd:Ux(s.paddingRight)}})}})}),ixe=x.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,o=To(ha,t.__scopeScrollArea),[s,a]=x.useState(),l=x.useRef(null),c=Qe(e,l,o.onScrollbarYChange);return x.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),O.jsx(nK,{"data-orientation":"vertical",...i,ref:c,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":E_(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,d)=>{if(o.viewport){const f=o.viewport.scrollTop+u.deltaY;t.onWheelScroll(f),aK(f,d)&&u.preventDefault()}},onResize:()=>{l.current&&o.viewport&&s&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Ux(s.paddingTop),paddingEnd:Ux(s.paddingBottom)}})}})}),[oxe,tK]=XG(ha),nK=x.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:o,onThumbPointerUp:s,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:d,...f}=t,h=To(ha,n),[m,p]=x.useState(null),g=Qe(e,T=>p(T)),b=x.useRef(null),y=x.useRef(""),w=h.viewport,_=r.content-r.viewport,S=ln(u),C=ln(l),k=O_(d,10);function E(T){if(b.current){const M=T.clientX-b.current.left,D=T.clientY-b.current.top;c({x:M,y:D})}}return x.useEffect(()=>{const T=M=>{const D=M.target;(m==null?void 0:m.contains(D))&&S(M,_)};return document.addEventListener("wheel",T,{passive:!1}),()=>document.removeEventListener("wheel",T,{passive:!1})},[w,m,_,S]),x.useEffect(C,[r,C]),sp(m,k),sp(h.content,k),O.jsx(oxe,{scope:n,scrollbar:m,hasThumb:i,onThumbChange:ln(o),onThumbPointerUp:ln(s),onThumbPositionChange:C,onThumbPointerDown:ln(a),children:O.jsx(pe.div,{...f,ref:g,style:{position:"absolute",...f.style},onPointerDown:se(t.onPointerDown,T=>{T.button===0&&(T.target.setPointerCapture(T.pointerId),b.current=m.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),E(T))}),onPointerMove:se(t.onPointerMove,E),onPointerUp:se(t.onPointerUp,T=>{const M=T.target;M.hasPointerCapture(T.pointerId)&&M.releasePointerCapture(T.pointerId),document.body.style.webkitUserSelect=y.current,h.viewport&&(h.viewport.style.scrollBehavior=""),b.current=null})})})}),zx="ScrollAreaThumb",rK=x.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=tK(zx,t.__scopeScrollArea);return O.jsx(rr,{present:n||i.hasThumb,children:O.jsx(sxe,{ref:e,...r})})}),sxe=x.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,o=To(zx,n),s=tK(zx,n),{onThumbPositionChange:a}=s,l=Qe(e,d=>s.onThumbChange(d)),c=x.useRef(void 0),u=O_(()=>{c.current&&(c.current(),c.current=void 0)},100);return x.useEffect(()=>{const d=o.viewport;if(d){const f=()=>{if(u(),!c.current){const h=cxe(d,a);c.current=h,a()}};return a(),d.addEventListener("scroll",f),()=>d.removeEventListener("scroll",f)}},[o.viewport,u,a]),O.jsx(pe.div,{"data-state":s.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:se(t.onPointerDownCapture,d=>{const h=d.target.getBoundingClientRect(),m=d.clientX-h.left,p=d.clientY-h.top;s.onThumbPointerDown({x:m,y:p})}),onPointerUp:se(t.onPointerUp,s.onThumbPointerUp)})});rK.displayName=zx;var VR="ScrollAreaCorner",iK=x.forwardRef((t,e)=>{const n=To(VR,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?O.jsx(axe,{...t,ref:e}):null});iK.displayName=VR;var axe=x.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=To(VR,n),[o,s]=x.useState(0),[a,l]=x.useState(0),c=!!(o&&a);return sp(i.scrollbarX,()=>{var d;const u=((d=i.scrollbarX)==null?void 0:d.offsetHeight)||0;i.onCornerHeightChange(u),l(u)}),sp(i.scrollbarY,()=>{var d;const u=((d=i.scrollbarY)==null?void 0:d.offsetWidth)||0;i.onCornerWidthChange(u),s(u)}),c?O.jsx(pe.div,{...r,ref:e,style:{width:o,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Ux(t){return t?parseInt(t,10):0}function oK(t,e){const n=t/e;return isNaN(n)?0:n}function E_(t){const e=oK(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function lxe(t,e,n,r="ltr"){const i=E_(n),o=i/2,s=e||o,a=i-s,l=n.scrollbar.paddingStart+s,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,u=n.content-n.viewport,d=r==="ltr"?[0,u]:[u*-1,0];return sK([l,c],d)(t)}function $B(t,e,n="ltr"){const r=E_(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-i,s=e.content-e.viewport,a=o-r,l=n==="ltr"?[0,s]:[s*-1,0],c=UT(t,l);return sK([0,s],[0,a])(c)}function sK(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function aK(t,e){return t>0&&t<e}var cxe=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const o={left:t.scrollLeft,top:t.scrollTop},s=n.left!==o.left,a=n.top!==o.top;(s||a)&&e(),n=o,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function O_(t,e){const n=ln(t),r=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(r.current),[]),x.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function sp(t,e){const n=ln(e);Rn(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}var lK=ZG,uxe=QG,dxe=iK;const cK=x.forwardRef(({className:t,children:e,...n},r)=>P(lK,{ref:r,className:q("relative overflow-hidden",t),...n,children:[v(uxe,{className:"h-full w-full rounded-[inherit]",children:e}),v(uK,{}),v(dxe,{})]}));cK.displayName=lK.displayName;const uK=x.forwardRef(({className:t,orientation:e="vertical",...n},r)=>v(FR,{ref:r,orientation:e,className:q("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:v(rK,{className:"relative flex-1 rounded-full bg-border"})}));uK.displayName=FR.displayName;var zR="Avatar",[fxe,zot]=nr(zR),[hxe,dK]=fxe(zR),fK=x.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,o]=x.useState("idle");return O.jsx(hxe,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:o,children:O.jsx(pe.span,{...r,ref:e})})});fK.displayName=zR;var hK="AvatarImage",pK=x.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...o}=t,s=dK(hK,n),a=pxe(r,o),l=ln(c=>{i(c),s.onImageLoadingStatusChange(c)});return Rn(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?O.jsx(pe.img,{...o,ref:e,src:r}):null});pK.displayName=hK;var mK="AvatarFallback",gK=x.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,o=dK(mK,n),[s,a]=x.useState(r===void 0);return x.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),s&&o.imageLoadingStatus!=="loaded"?O.jsx(pe.span,{...i,ref:e}):null});gK.displayName=mK;function IB(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function pxe(t,{referrerPolicy:e,crossOrigin:n}){const r=gxe(),i=x.useRef(null),o=r?(i.current||(i.current=new window.Image),i.current):null,[s,a]=x.useState(()=>IB(o,t));return Rn(()=>{a(IB(o,t))},[o,t]),Rn(()=>{const l=d=>()=>{a(d)};if(!o)return;const c=l("loaded"),u=l("error");return o.addEventListener("load",c),o.addEventListener("error",u),e&&(o.referrerPolicy=e),typeof n=="string"&&(o.crossOrigin=n),()=>{o.removeEventListener("load",c),o.removeEventListener("error",u)}},[o,n,e]),s}function mxe(){return()=>{}}function gxe(){return x.useSyncExternalStore(mxe,()=>!0,()=>!1)}var vK=fK,yK=pK,bK=gK;const UR=x.forwardRef(({className:t,presence:e,showPresence:n=!1,size:r="md",...i},o)=>{const s={sm:"h-8 w-8",md:"h-10 w-10",lg:"h-12 w-12",xl:"h-16 w-16"},a={online:"bg-success",idle:"bg-warning",offline:"bg-muted"};return P("div",{className:"relative",children:[v(vK,{ref:o,className:q("relative flex shrink-0 overflow-hidden rounded-full transition-shadow hover:shadow-md",s[r],t),...i}),n&&e&&v("span",{className:q("absolute bottom-0 right-0 ring-2 ring-background rounded-full",r==="sm"&&"h-2 w-2",r==="md"&&"h-2.5 w-2.5",r==="lg"&&"h-3 w-3",r==="xl"&&"h-3.5 w-3.5",a[e])})]})});UR.displayName=vK.displayName;const HR=x.forwardRef(({className:t,...e},n)=>v(yK,{ref:n,className:q("aspect-square h-full w-full object-cover",t),...e}));HR.displayName=yK.displayName;const WR=x.forwardRef(({className:t,...e},n)=>v(bK,{ref:n,className:q("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));WR.displayName=bK.displayName;const vxe=x.forwardRef(({className:t,max:e=3,children:n,...r},i)=>{const o=x.Children.toArray(n),s=o.length-e;return P("div",{ref:i,className:q("flex -space-x-4",t),...r,children:[o.slice(0,e).map((a,l)=>v("div",{className:"relative",children:a},l)),s>0&&P("div",{className:q("relative flex h-10 w-10 items-center justify-center rounded-full bg-muted text-sm font-medium"),children:["+",s]})]})});vxe.displayName="AvatarGroup";function jB({isCollapsed:t,isMobile:e,toggleSidebar:n,closeMobileMenu:r}){fa();const i=[{title:"Dashboard",icon:v(xD,{className:"h-5 w-5"}),href:"/dashboard"},{title:"Projects",icon:v(ece,{className:"h-5 w-5"}),href:"/projects",badge:12},{title:"Reports",icon:v(zle,{className:"h-5 w-5"}),href:"/reports"},{title:"Teams",icon:v(CD,{className:"h-5 w-5"}),href:"/teams"},{title:"Risk Register",icon:v(QS,{className:"h-5 w-5"}),href:"/risks",badge:3},{title:"Calendar",icon:v(Ble,{className:"h-5 w-5"}),href:"/calendar"}];return P(sP.div,{initial:!1,animate:{width:t?"64px":"256px"},className:q("flex h-screen flex-col border-r bg-card",e&&"fixed inset-y-0 left-0 z-50"),children:[P("div",{className:"flex h-16 items-center justify-between px-4 py-4",children:[!t&&v(sP.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"font-bold text-lg",children:"Portfolio Hub"}),!e&&v(Ce,{variant:"ghost",size:"icon",onClick:n,className:"ml-auto",children:t?v(Jd,{className:"h-4 w-4"}):v(h8,{className:"h-4 w-4"})})]}),v(cK,{className:"flex-1 px-2",children:v("nav",{className:"flex flex-col gap-1 px-2 py-2",children:i.map(o=>P(yx,{delayDuration:0,children:[v(bx,{asChild:!0,children:P(Phe,{to:o.href,onClick:e?r:void 0,className:({isActive:s})=>(x.cloneElement(o.icon,{className:q("h-5 w-5",s&&"text-accent-foreground")}),q("flex items-center gap-3 rounded-lg px-3 py-2 text-muted-foreground transition-colors hover:text-foreground",s&&"bg-accent text-accent-foreground border-l-4 border-primary",t&&"justify-center")),children:[o.icon,!t&&v("span",{className:"flex-1",children:o.title}),!t&&o.badge&&v("span",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-primary text-xs text-primary-foreground",children:o.badge})]})}),t&&P(Ev,{side:"right",className:"flex items-center gap-4",children:[o.title,o.badge&&v("span",{className:"flex h-5 w-5 items-center justify-center rounded-full bg-primary text-xs text-primary-foreground",children:o.badge})]})]},o.href))})}),v(sP.div,{initial:!1,animate:{height:t?"64px":"80px"},className:"border-t p-4",children:P(yx,{delayDuration:0,children:[v(bx,{asChild:!0,children:P("div",{className:q("flex items-center gap-3",t&&"justify-center"),children:[P(UR,{children:[v(HR,{src:"/placeholder-avatar.jpg",alt:"User"}),v(WR,{children:"U"})]}),!t&&P("div",{className:"flex flex-col",children:[v("span",{className:"text-sm font-medium",children:"John Doe"}),v("span",{className:"text-xs text-muted-foreground",children:"Admin"})]})]})}),t&&v(Ev,{side:"right",children:P("div",{className:"flex flex-col",children:[v("span",{className:"font-medium",children:"John Doe"}),v("span",{className:"text-xs text-muted-foreground",children:"Admin"})]})})]})})]})}const Nr=({title:t,children:e})=>{const[n,r]=x.useState(!0),[i,o]=x.useState(!1);return P("div",{className:"flex flex-col h-screen bg-background overflow-hidden md:flex-row",children:[v("div",{className:`hidden md:block transition-all duration-300 ${n?"w-64":"w-16"}`,children:v(jB,{isCollapsed:!n,toggleSidebar:()=>{r(!n)}})}),v("div",{className:`fixed inset-0 bg-black/50 z-40 md:hidden transition-opacity duration-200 ${i?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>{o(!i)}}),v("div",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-background transform transition-transform duration-300 ease-in-out md:hidden ${i?"translate-x-0":"-translate-x-full"}`,children:v(jB,{isMobile:!0,closeMobileMenu:()=>o(!1)})}),P("div",{className:"flex-1 flex flex-col overflow-hidden",children:[v("header",{className:"sticky top-0 z-40 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:P("div",{className:"container flex h-16 items-center justify-between py-4",children:[v("div",{className:"flex items-center gap-2",children:v("h1",{className:"text-xl font-semibold tracking-tight",children:t})}),v("div",{className:"flex items-center gap-4"})]})}),P("main",{className:"flex-1 overflow-auto p-4 md:p-6 animate-fadeIn",children:[" ",e]})]})]})},qa=({children:t,allowedRoles:e=["admin","pm","viewer"]})=>{const{isAuthenticated:n,user:r,isLoading:i,checkAuth:o}=ZD(),s=fa(),[a,l]=x.useState(!0);return x.useEffect(()=>{console.log("[AuthGuard] Mounting, starting auth check");const{data:{subscription:c}}=Te.auth.onAuthStateChange((u,d)=>{console.log("[AuthGuard] Auth state changed:",u,d),o()});return o().then(()=>{console.log("[AuthGuard] Initial auth check complete"),l(!1)}),()=>{c.unsubscribe()}},[o]),x.useEffect(()=>{!a&&!i&&n&&r&&e.length>0&&!e.includes(r.role)&&xe.error(`You don't have permission to access this page. Required role: ${e.join(" or ")}`)},[a,i,n,r,e]),console.log("[AuthGuard] Render - isLoading:",i,"isChecking:",a,"isAuthenticated:",n,"user:",r),i||a?(console.log("[AuthGuard] Showing loading spinner"),v("div",{className:"flex items-center justify-center h-screen bg-background",children:P("div",{className:"space-y-4 text-center",children:[v("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto"}),v("p",{className:"text-lg font-medium",children:"Verifying access..."}),v("p",{className:"text-sm text-muted-foreground",children:"Please wait while we check your permissions"})]})})):n?r&&e.length>0&&!e.includes(r.role)?(console.log("[AuthGuard] User lacks required role, redirecting to /unauthorized"),v(jL,{to:"/unauthorized",replace:!0})):(console.log("[AuthGuard] User authenticated and authorized, rendering children"),console.log("[AuthGuard] Rendering children NOW"),console.log("[AuthGuard] Rendering children:",t),v(ts,{children:t})):(console.log("[AuthGuard] User not authenticated, redirecting to /login"),v(jL,{to:"/login",state:{from:s.pathname},replace:!0}))};function ct({className:t,...e}){return v("div",{className:q("animate-pulse rounded-md bg-muted",t),...e})}const Ve=x.forwardRef(({className:t,isLoading:e,isHoverable:n,children:r,...i},o)=>v("div",{ref:o,className:q("rounded-xl border bg-card text-card-foreground shadow transition-all duration-200",n&&"hover:shadow-lg hover:-translate-y-0.5",e&&"animate-pulse",t),...i,children:r}));Ve.displayName="Card";const Xe=x.forwardRef(({className:t,...e},n)=>v("div",{ref:n,className:q("flex flex-col space-y-1.5 p-6",t),...e}));Xe.displayName="CardHeader";const wt=x.forwardRef(({className:t,children:e,...n},r)=>v("h3",{ref:r,className:q("font-semibold leading-none tracking-tight",t),...n,children:e}));wt.displayName="CardTitle";const ap=x.forwardRef(({className:t,...e},n)=>v("p",{ref:n,className:q("text-sm text-muted-foreground",t),...e}));ap.displayName="CardDescription";const Ze=x.forwardRef(({className:t,...e},n)=>v("div",{ref:n,className:q("p-6 pt-0",t),...e}));Ze.displayName="CardContent";const x0=x.forwardRef(({className:t,...e},n)=>v("div",{ref:n,className:q("flex items-center p-6 pt-0",t),...e}));x0.displayName="CardFooter";const yxe=x.forwardRef(({className:t,...e},n)=>v("div",{ref:n,className:q("flex items-center gap-2 p-6 pt-0",t),...e}));yxe.displayName="CardActions";const vg=({cardTitle:t,description:e,cardContent:n,media:r,footer:i,className:o,isLoading:s=!1,...a})=>P(Ve,{className:o,...a,children:[" ",r&&v("div",{className:"overflow-hidden",children:r})," ",P(Xe,{className:"pb-2",children:[v(wt,{className:"text-sm font-medium text-muted-foreground",children:t})," ",e&&v(ap,{children:e})]}),P(Ze,{children:[s?v(ct,{className:"h-4 w-full"}):n," "]}),i&&v(x0,{children:i})]}),un=x.forwardRef(({className:t,type:e,...n},r)=>v("input",{type:e,className:q("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));un.displayName="Input";function cr(t){this.content=t}cr.prototype={constructor:cr,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),o=r.content.slice();return i==-1?o.push(n||t,e):(o[i+1]=e,n&&(o[i]=n)),new cr(o)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new cr(n)},addToStart:function(t,e){return new cr([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new cr(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),o=r.find(t);return i.splice(o==-1?i.length:o,0,e,n),new cr(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=cr.from(t),t.size?new cr(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=cr.from(t),t.size?new cr(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=cr.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};cr.from=function(t){if(t instanceof cr)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new cr(e)};function wK(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),o=e.child(r);if(i==o){n+=i.nodeSize;continue}if(!i.sameMarkup(o))return n;if(i.isText&&i.text!=o.text){for(let s=0;i.text[s]==o.text[s];s++)n++;return n}if(i.content.size||o.content.size){let s=wK(i.content,o.content,n+1);if(s!=null)return s}n+=i.nodeSize}}function xK(t,e,n,r){for(let i=t.childCount,o=e.childCount;;){if(i==0||o==0)return i==o?null:{a:n,b:r};let s=t.child(--i),a=e.child(--o),l=s.nodeSize;if(s==a){n-=l,r-=l;continue}if(!s.sameMarkup(a))return{a:n,b:r};if(s.isText&&s.text!=a.text){let c=0,u=Math.min(s.text.length,a.text.length);for(;c<u&&s.text[s.text.length-c-1]==a.text[a.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(s.content.size||a.content.size){let c=xK(s.content,a.content,n-1,r-1);if(c)return c}n-=l,r-=l}}class ne{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,o){for(let s=0,a=0;a<n;s++){let l=this.content[s],c=a+l.nodeSize;if(c>e&&r(l,i+a,o||null,s)!==!1&&l.content.size){let u=a+1;l.nodesBetween(Math.max(0,e-u),Math.min(l.content.size,n-u),r,i+u)}a=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let o="",s=!0;return this.nodesBetween(e,n,(a,l)=>{let c=a.isText?a.text.slice(Math.max(e,l)-l,n-l):a.isLeaf?i?typeof i=="function"?i(a):i:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&c||a.isTextblock)&&r&&(s?s=!1:o+=r),o+=c},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),o=1);o<e.content.length;o++)i.push(e.content[o]);return new ne(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let o=0,s=0;s<n;o++){let a=this.content[o],l=s+a.nodeSize;l>e&&((s<e||l>n)&&(a.isText?a=a.cut(Math.max(0,e-s),Math.min(a.text.length,n-s)):a=a.cut(Math.max(0,e-s-1),Math.min(a.content.size,n-s-1))),r.push(a),i+=a.nodeSize),s=l}return new ne(r,i)}cutByIndex(e,n){return e==n?ne.empty:e==0&&n==this.content.length?this:new ne(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new ne(i,o)}addToStart(e){return new ne([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new ne(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return wK(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return xK(this,e,n,r)}findIndex(e,n=-1){if(e==0)return Tb(0,e);if(e==this.size)return Tb(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let o=this.child(r),s=i+o.nodeSize;if(s>=e)return s==e||n>0?Tb(r+1,s):Tb(r,i);i=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return ne.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new ne(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return ne.empty;let n,r=0;for(let i=0;i<e.length;i++){let o=e[i];r+=o.nodeSize,i&&o.isText&&e[i-1].sameMarkup(o)?(n||(n=e.slice(0,i)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new ne(n||e,r)}static from(e){if(!e)return ne.empty;if(e instanceof ne)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new ne([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}ne.empty=new ne([],0);const aP={index:0,offset:0};function Tb(t,e){return aP.index=t,aP.offset=e,aP}function Hx(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!Hx(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!Hx(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let Vt=class HT{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let o=e[i];if(this.eq(o))return e;if(this.type.excludes(o.type))n||(n=e.slice(0,i));else{if(o.type.excludes(this.type))return e;!r&&o.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(o)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Hx(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return HT.none;if(e instanceof HT)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};Vt.none=[];class Wx extends Error{}class ge{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=_K(this.content,e+this.openStart,n);return r&&new ge(r,this.openStart,this.openEnd)}removeBetween(e,n){return new ge(SK(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return ge.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ge(ne.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let o=e.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=e.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)i++;return new ge(e,r,i)}}ge.empty=new ge(ne.empty,0,0);function SK(t,e,n){let{index:r,offset:i}=t.findIndex(e),o=t.maybeChild(r),{index:s,offset:a}=t.findIndex(n);if(i==e||o.isText){if(a!=n&&!t.child(s).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=s)throw new RangeError("Removing non-flat range");return t.replaceChild(r,o.copy(SK(o.content,e-i-1,n-i-1)))}function _K(t,e,n,r){let{index:i,offset:o}=t.findIndex(e),s=t.maybeChild(i);if(o==e||s.isText)return t.cut(0,e).append(n).append(t.cut(e));let a=_K(s.content,e-o-1,n);return a&&t.replaceChild(i,s.copy(a))}function bxe(t,e,n){if(n.openStart>t.depth)throw new Wx("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Wx("Inconsistent open depths");return CK(t,e,n,0)}function CK(t,e,n,r){let i=t.index(r),o=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let s=CK(t,e,n,r+1);return o.copy(o.content.replaceChild(i,s))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let s=t.parent,a=s.content;return hd(s,a.cut(0,t.parentOffset).append(n.content).append(a.cut(e.parentOffset)))}else{let{start:s,end:a}=wxe(n,t);return hd(o,PK(t,s,a,e,r))}else return hd(o,qx(t,e,r))}function kK(t,e){if(!e.type.compatibleContent(t.type))throw new Wx("Cannot join "+e.type.name+" onto "+t.type.name)}function WT(t,e,n){let r=t.node(n);return kK(r,e.node(n)),r}function fd(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Wg(t,e,n,r){let i=(e||t).node(n),o=0,s=e?e.index(n):i.childCount;t&&(o=t.index(n),t.depth>n?o++:t.textOffset&&(fd(t.nodeAfter,r),o++));for(let a=o;a<s;a++)fd(i.child(a),r);e&&e.depth==n&&e.textOffset&&fd(e.nodeBefore,r)}function hd(t,e){return t.type.checkContent(e),t.copy(e)}function PK(t,e,n,r,i){let o=t.depth>i&&WT(t,e,i+1),s=r.depth>i&&WT(n,r,i+1),a=[];return Wg(null,t,i,a),o&&s&&e.index(i)==n.index(i)?(kK(o,s),fd(hd(o,PK(t,e,n,r,i+1)),a)):(o&&fd(hd(o,qx(t,e,i+1)),a),Wg(e,n,i,a),s&&fd(hd(s,qx(n,r,i+1)),a)),Wg(r,null,i,a),new ne(a)}function qx(t,e,n){let r=[];if(Wg(null,t,n,r),t.depth>n){let i=WT(t,e,n+1);fd(hd(i,qx(t,e,n+1)),r)}return Wg(e,null,n,r),new ne(r)}function wxe(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let o=n-1;o>=0;o--)i=e.node(o).copy(ne.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class ny{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let o=0;o<e;o++)i+=r.child(o).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Vt.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let a=r;r=i,i=a}let o=r.marks;for(var s=0;s<o.length;s++)o[s].type.spec.inclusive===!1&&(!i||!o[s].isInSet(i.marks))&&(o=o[s--].removeFromSet(o));return o}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new Gx(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,o=n;for(let s=e;;){let{index:a,offset:l}=s.content.findIndex(o),c=o-l;if(r.push(s,a,i+l),!c||(s=s.child(a),s.isText))break;o=c-1,i+=l+1}return new ny(n,r,o)}static resolveCached(e,n){let r=LB.get(e);if(r)for(let o=0;o<r.elts.length;o++){let s=r.elts[o];if(s.pos==n)return s}else LB.set(e,r=new xxe);let i=r.elts[r.i]=ny.resolve(e,n);return r.i=(r.i+1)%Sxe,i}}class xxe{constructor(){this.elts=[],this.i=0}}const Sxe=12,LB=new WeakMap;class Gx{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const _xe=Object.create(null);let Oc=class qT{constructor(e,n,r,i=Vt.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||ne.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&Hx(this.attrs,n||e.defaultAttrs||_xe)&&Vt.sameSet(this.marks,r||Vt.none)}copy(e=null){return e==this.content?this:new qT(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new qT(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return ge.empty;let i=this.resolve(e),o=this.resolve(n),s=r?0:i.sharedDepth(n),a=i.start(s),c=i.node(s).content.cut(i.pos-a,o.pos-a);return new ge(c,i.depth-s,o.depth-s)}replace(e,n,r){return bxe(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return ny.resolveCached(this,e)}resolveNoCache(e){return ny.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,o=>(r.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),EK(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=ne.empty,i=0,o=r.childCount){let s=this.contentMatchAt(e).matchFragment(r,i,o),a=s&&s.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=i;l<o;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(e).matchType(r),s=o&&o.matchFragment(this.content,n);return s?s.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Vt.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!Vt.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=ne.fromJSON(e,n.content),o=e.nodeType(n.type).create(n.attrs,i,r);return o.type.checkAttrs(o.attrs),o}};Oc.prototype.text=void 0;class Kx extends Oc{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):EK(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Kx(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Kx(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function EK(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Nd{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new Cxe(e,n);if(r.next==null)return Nd.empty;let i=OK(r);r.next&&r.err("Unexpected trailing text");let o=Mxe(Axe(i));return Nxe(o,r),o}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let o=n;i&&o<r;o++)i=i.matchType(e.child(o).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function o(s,a){let l=s.matchFragment(e,r);if(l&&(!n||l.validEnd))return ne.from(a.map(c=>c.createAndFill()));for(let c=0;c<s.next.length;c++){let{type:u,next:d}=s.next[c];if(!(u.isText||u.hasRequiredAttrs())&&i.indexOf(d)==-1){i.push(d);let f=o(d,a.concat(u));if(f)return f}}return null}return o(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(e)){let s=[];for(let a=i;a.type;a=a.via)s.push(a.type);return s.reverse()}for(let s=0;s<o.next.length;s++){let{type:a,next:l}=o.next[s];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!i.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let o=i+(r.validEnd?"*":" ")+" ";for(let s=0;s<r.next.length;s++)o+=(s?", ":"")+r.next[s].type.name+"->"+e.indexOf(r.next[s].next);return o}).join(`
`)}}Nd.empty=new Nd(!0);class Cxe{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function OK(t){let e=[];do e.push(kxe(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function kxe(t){let e=[];do e.push(Pxe(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function Pxe(t){let e=Txe(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=Exe(t,e);else break;return e}function FB(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function Exe(t,e){let n=FB(t),r=n;return t.eat(",")&&(t.next!="}"?r=FB(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function Oxe(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let o in n){let s=n[o];s.isInGroup(e)&&i.push(s)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function Txe(t){if(t.eat("(")){let e=OK(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=Oxe(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function Axe(t){let e=[[]];return i(o(t,0),n()),e;function n(){return e.push([])-1}function r(s,a,l){let c={term:l,to:a};return e[s].push(c),c}function i(s,a){s.forEach(l=>l.to=a)}function o(s,a){if(s.type=="choice")return s.exprs.reduce((l,c)=>l.concat(o(c,a)),[]);if(s.type=="seq")for(let l=0;;l++){let c=o(s.exprs[l],a);if(l==s.exprs.length-1)return c;i(c,a=n())}else if(s.type=="star"){let l=n();return r(a,l),i(o(s.expr,l),l),[r(l)]}else if(s.type=="plus"){let l=n();return i(o(s.expr,a),l),i(o(s.expr,l),l),[r(l)]}else{if(s.type=="opt")return[r(a)].concat(o(s.expr,a));if(s.type=="range"){let l=a;for(let c=0;c<s.min;c++){let u=n();i(o(s.expr,l),u),l=u}if(s.max==-1)i(o(s.expr,l),l);else for(let c=s.min;c<s.max;c++){let u=n();r(l,u),i(o(s.expr,l),u),l=u}return[r(l)]}else{if(s.type=="name")return[r(a,void 0,s.value)];throw new Error("Unknown expr type")}}}}function TK(t,e){return e-t}function BB(t,e){let n=[];return r(e),n.sort(TK);function r(i){let o=t[i];if(o.length==1&&!o[0].term)return r(o[0].to);n.push(i);for(let s=0;s<o.length;s++){let{term:a,to:l}=o[s];!a&&n.indexOf(l)==-1&&r(l)}}}function Mxe(t){let e=Object.create(null);return n(BB(t,0));function n(r){let i=[];r.forEach(s=>{t[s].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let u=0;u<i.length;u++)i[u][0]==a&&(c=i[u][1]);BB(t,l).forEach(u=>{c||i.push([a,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let o=e[r.join(",")]=new Nd(r.indexOf(t.length-1)>-1);for(let s=0;s<i.length;s++){let a=i[s][1].sort(TK);o.next.push({type:i[s][0],next:e[a.join(",")]||n(a)})}return o}}function Nxe(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],o=!i.validEnd,s=[];for(let a=0;a<i.next.length;a++){let{type:l,next:c}=i.next[a];s.push(l.name),o&&!(l.isText||l.hasRequiredAttrs())&&(o=!1),r.indexOf(c)==-1&&r.push(c)}o&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function AK(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function MK(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let o=t[r];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function NK(t,e,n,r){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let o=t[i];o.validate&&o.validate(e[i])}}function DK(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new Rxe(t,r,e[r]);return n}let VB=class RK{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=DK(e,r.attrs),this.defaultAttrs=AK(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Nd.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:MK(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Oc(this,this.computeAttrs(e),ne.from(n),Vt.setFrom(r))}createChecked(e=null,n,r){return n=ne.from(n),this.checkContent(n),new Oc(this,this.computeAttrs(e),n,Vt.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=ne.from(n),n.size){let s=this.contentMatch.fillBefore(n);if(!s)return null;n=s.append(n)}let i=this.contentMatch.matchFragment(n),o=i&&i.fillBefore(ne.empty,!0);return o?new Oc(this,e,n.append(o),Vt.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){NK(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:Vt.none:e}static compile(e,n){let r=Object.create(null);e.forEach((o,s)=>r[o]=new RK(o,n,s));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function Dxe(t,e,n){let r=n.split("|");return i=>{let o=i===null?"null":typeof i;if(r.indexOf(o)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${o}`)}}class Rxe{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?Dxe(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class T_{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=DK(e,i.attrs),this.excluded=null;let o=AK(this.attrs);this.instance=o?new Vt(this,o):null}create(e=null){return!e&&this.instance?this.instance:new Vt(this,MK(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((o,s)=>r[o]=new T_(o,i++,n,s)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){NK(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class $K{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=cr.from(e.nodes),n.marks=cr.from(e.marks||{}),this.nodes=VB.compile(this.spec.nodes,this),this.marks=T_.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let o=this.nodes[i],s=o.spec.content||"",a=o.spec.marks;if(o.contentMatch=r[s]||(r[s]=Nd.parse(s,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=a=="_"?null:a?zB(this,a.split(" ")):a==""||!o.inlineContent?[]:null}for(let i in this.marks){let o=this.marks[i],s=o.spec.excludes;o.excluded=s==null?[o]:s==""?[]:zB(this,s.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof VB){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new Kx(r,r.defaultAttrs,e,Vt.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return Oc.fromJSON(this,e)}markFromJSON(e){return Vt.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function zB(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],o=t.marks[i],s=o;if(o)n.push(o);else for(let a in t.marks){let l=t.marks[a];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&n.push(s=l)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function $xe(t){return t.tag!=null}function Ixe(t){return t.style!=null}class Tc{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if($xe(i))this.tags.push(i);else if(Ixe(i)){let o=/[^=]*/.exec(i.style)[0];r.indexOf(o)<0&&r.push(o),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let o=e.nodes[i.node];return o.contentMatch.matchType(o)})}parse(e,n={}){let r=new HB(this,n,!1);return r.addAll(e,Vt.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new HB(this,n,!0);return r.addAll(e,Vt.none,n.from,n.to),ge.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(Fxe(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let s=o.getAttrs(e);if(s===!1)continue;o.attrs=s||void 0}return o}}}matchStyle(e,n,r,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let s=this.styles[o],a=s.style;if(!(a.indexOf(e)!=0||s.context&&!r.matchesContext(s.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=n))){if(s.getAttrs){let l=s.getAttrs(n);if(l===!1)continue;s.attrs=l||void 0}return s}}}static schemaRules(e){let n=[];function r(i){let o=i.priority==null?50:i.priority,s=0;for(;s<n.length;s++){let a=n[s];if((a.priority==null?50:a.priority)<o)break}n.splice(s,0,i)}for(let i in e.marks){let o=e.marks[i].spec.parseDOM;o&&o.forEach(s=>{r(s=WB(s)),s.mark||s.ignore||s.clearMark||(s.mark=i)})}for(let i in e.nodes){let o=e.nodes[i].spec.parseDOM;o&&o.forEach(s=>{r(s=WB(s)),s.node||s.ignore||s.mark||(s.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Tc(e,Tc.schemaRules(e)))}}const IK={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},jxe={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},jK={ol:!0,ul:!0},ry=1,GT=2,Mw=4;function UB(t,e,n){return e!=null?(e?ry:0)|(e==="full"?GT:0):t&&t.whitespace=="pre"?ry|GT:n&-5}class Ab{constructor(e,n,r,i,o,s){this.type=e,this.attrs=n,this.marks=r,this.solid=i,this.options=s,this.content=[],this.activeMarks=Vt.none,this.match=o||(s&Mw?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(ne.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&ry)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let n=ne.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(ne.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!IK.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class HB{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,o,s=UB(null,n.preserveWhitespace,0)|(r?Mw:0);i?o=new Ab(i.type,i.attrs,Vt.none,!0,n.topMatch||i.type.contentMatch,s):r?o=new Ab(null,null,Vt.none,!0,null,s):o=new Ab(e.schema.topNodeType,null,Vt.none,!0,null,s),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,i=this.top,o=i.options&GT?"full":this.localPreserveWS||(i.options&ry)>0;if(o==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(o)o!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let s=i.content[i.content.length-1],a=e.previousSibling;(!s||a&&a.nodeName=="BR"||s.isText&&/[ \t\r\n\u000c]$/.test(s.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let i=this.localPreserveWS,o=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let s=e.nodeName.toLowerCase(),a;jK.hasOwnProperty(s)&&this.parser.normalizeLists&&Lxe(e);let l=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(a=this.parser.matchTag(e,this,r));e:if(l?l.ignore:jxe.hasOwnProperty(s))this.findInside(e),this.ignoreFallback(e,n);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(e=l.skip);let c,u=this.needsBlock;if(IK.hasOwnProperty(s))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),c=!0,o.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let d=l&&l.skip?n:this.readStyles(e,n);d&&this.addAll(e,d),c&&this.sync(o),this.needsBlock=u}else{let c=this.readStyles(e,n);c&&this.addElementByRule(e,l,c,l.consuming===!1?a:void 0)}this.localPreserveWS=i}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let o=this.parser.matchedStyles[i],s=r.getPropertyValue(o);if(s)for(let a=void 0;;){let l=this.parser.matchStyle(o,s,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?n=n.filter(c=>!l.clearMark(c)):n=n.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return n}addElementByRule(e,n,r,i){let o,s;if(n.node)if(s=this.parser.schema.nodes[n.node],s.isLeaf)this.insertNode(s.create(n.attrs),r)||this.leafFallback(e,r);else{let l=this.enter(s,n.attrs||null,r,n.preserveWhitespace);l&&(o=!0,r=l)}else{let l=this.parser.schema.marks[n.mark];r=r.concat(l.create(n.attrs))}let a=this.top;if(s&&s.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,r));else{let l=e;typeof n.contentElement=="string"?l=e.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(e):n.contentElement&&(l=n.contentElement),this.findAround(e,l,!0),this.addAll(l,r),this.findAround(e,l,!1)}o&&this.sync(a)&&this.open--}addAll(e,n,r,i){let o=r||0;for(let s=r?e.childNodes[r]:e.firstChild,a=i==null?null:e.childNodes[i];s!=a;s=s.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(s,n);this.findAtPoint(e,o)}findPlace(e,n){let r,i;for(let o=this.open;o>=0;o--){let s=this.nodes[o],a=s.findWrapping(e);if(a&&(!r||r.length>a.length)&&(r=a,i=s,!a.length)||s.solid)break}if(!r)return null;this.sync(i);for(let o=0;o<r.length;o++)n=this.enterInner(r[o],null,n,!1);return n}insertNode(e,n){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(n=this.enterInner(i,null,n))}let r=this.findPlace(e,n);if(r){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(e.type));let o=Vt.none;for(let s of r.concat(e.marks))(i.type?i.type.allowsMarkType(s.type):qB(s.type,e.type))&&(o=s.addToSet(o));return i.content.push(e.mark(o)),!0}return!1}enter(e,n,r,i){let o=this.findPlace(e.create(n),r);return o&&(o=this.enterInner(e,n,r,!0,i)),o}enterInner(e,n,r,i=!1,o){this.closeExtra();let s=this.top;s.match=s.match&&s.match.matchType(e);let a=UB(e,o,s.options);s.options&Mw&&s.content.length==0&&(a|=Mw);let l=Vt.none;return r=r.filter(c=>(s.type?s.type.allowsMarkType(c.type):qB(c.type,e))?(l=c.addToSet(l),!1):!0),this.nodes.push(new Ab(e,n,l,i,null,a)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=ry)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),s=(a,l)=>{for(;a>=0;a--){let c=n[a];if(c==""){if(a==n.length-1||a==0)continue;for(;l>=o;l--)if(s(a-1,l))return!0;return!1}else{let u=l>0||l==0&&i?this.nodes[l].type:r&&l>=o?r.node(l-o).type:null;if(!u||u.name!=c&&!u.isInGroup(c))return!1;l--}}return!0};return s(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function Lxe(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&jK.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function Fxe(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function WB(t){let e={};for(let n in t)e[n]=t[n];return e}function qB(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let o=[],s=a=>{o.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:u}=a.edge(l);if(c==e||o.indexOf(u)<0&&s(u))return!0}};if(s(i.contentMatch))return!0}}class tf{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=lP(n).createDocumentFragment());let i=r,o=[];return e.forEach(s=>{if(o.length||s.marks.length){let a=0,l=0;for(;a<o.length&&l<s.marks.length;){let c=s.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(o[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<o.length;)i=o.pop()[1];for(;l<s.marks.length;){let c=s.marks[l++],u=this.serializeMark(c,s.isInline,n);u&&(o.push([c,i]),i.appendChild(u.dom),i=u.contentDOM||u.dom)}}i.appendChild(this.serializeNodeInner(s,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=Nw(lP(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let o=this.serializeMark(e.marks[i],e.isInline,n);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&Nw(lP(r),i(e,n),null,e.attrs)}static renderSpec(e,n,r=null,i){return Nw(e,n,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new tf(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=GB(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return GB(e.marks)}}function GB(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function lP(t){return t.document||window.document}const KB=new WeakMap;function Bxe(t){let e=KB.get(t);return e===void 0&&KB.set(t,e=Vxe(t)),e}function Vxe(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(t),e}function Nw(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],o;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(o=Bxe(r))&&o.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let s=i.indexOf(" ");s>0&&(n=i.slice(0,s),i=i.slice(s+1));let a,l=n?t.createElementNS(n,i):t.createElement(i),c=e[1],u=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){u=2;for(let d in c)if(c[d]!=null){let f=d.indexOf(" ");f>0?l.setAttributeNS(d.slice(0,f),d.slice(f+1),c[d]):l.setAttribute(d,c[d])}}for(let d=u;d<e.length;d++){let f=e[d];if(f===0){if(d<e.length-1||d>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:h,contentDOM:m}=Nw(t,f,n,r);if(l.appendChild(h),m){if(a)throw new RangeError("Multiple content holes");a=m}}}return{dom:l,contentDOM:a}}const LK=65535,FK=Math.pow(2,16);function zxe(t,e){return t+e*FK}function YB(t){return t&LK}function Uxe(t){return(t-(t&LK))/FK}const BK=1,VK=2,Dw=4,zK=8;class KT{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&zK)>0}get deletedBefore(){return(this.delInfo&(BK|Dw))>0}get deletedAfter(){return(this.delInfo&(VK|Dw))>0}get deletedAcross(){return(this.delInfo&Dw)>0}}class Ii{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Ii.empty)return Ii.empty}recover(e){let n=0,r=YB(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+Uxe(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>e)break;let c=this.ranges[a+o],u=this.ranges[a+s],d=l+c;if(e<=d){let f=c?e==l?-1:e==d?1:n:n,h=l+i+(f<0?0:u);if(r)return h;let m=e==(n<0?l:d)?null:zxe(a/3,e-l),p=e==l?VK:e==d?BK:Dw;return(n<0?e!=l:e!=d)&&(p|=zK),new KT(h,p,m)}i+=u-c}return r?e+i:new KT(e+i,0,null)}touches(e,n){let r=0,i=YB(n),o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let c=this.ranges[a+o],u=l+c;if(e<=u&&a==i*3)return!0;r+=this.ranges[a+s]-c}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let s=this.ranges[i],a=s-(this.inverted?o:0),l=s+(this.inverted?0:o),c=this.ranges[i+n],u=this.ranges[i+r];e(a,a+c,l,l+u),o+=u-c}}invert(){return new Ii(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Ii.empty:new Ii(e<0?[0,-e,0]:[0,0,e])}}Ii.empty=new Ii([]);class iy{constructor(e,n,r=0,i=e?e.length:0){this.mirror=n,this.from=r,this.to=i,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new iy(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let i=e.getMirror(n);this.appendMap(e._maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e._maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new iy;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let o=this.from;o<this.to;o++){let s=this._maps[o],a=s.mapResult(e,n);if(a.recover!=null){let l=this.getMirror(o);if(l!=null&&l>o&&l<this.to){o=l,e=this._maps[l].recover(a.recover);continue}}i|=a.delInfo,e=a.pos}return r?e:new KT(e,i,null)}}const cP=Object.create(null);let Ir=class{getMap(){return Ii.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=cP[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in cP)throw new RangeError("Duplicate use of step JSON ID "+e);return cP[e]=n,n.prototype.jsonID=e,n}};class Nn{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new Nn(e,null)}static fail(e){return new Nn(null,e)}static fromReplace(e,n,r,i){try{return Nn.ok(e.replace(n,r,i))}catch(o){if(o instanceof Wx)return Nn.fail(o.message);throw o}}}function qR(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let o=t.child(i);o.content.size&&(o=o.copy(qR(o.content,e,o))),o.isInline&&(o=e(o,n,i)),r.push(o)}return ne.fromArray(r)}class uc extends Ir{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new ge(qR(n.content,(s,a)=>!s.isAtom||!a.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),i),n.openStart,n.openEnd);return Nn.fromReplace(e,this.from,this.to,o)}invert(){return new Ls(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new uc(n.pos,r.pos,this.mark)}merge(e){return e instanceof uc&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new uc(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new uc(n.from,n.to,e.markFromJSON(n.mark))}}Ir.jsonID("addMark",uc);class Ls extends Ir{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new ge(qR(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return Nn.fromReplace(e,this.from,this.to,r)}invert(){return new uc(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Ls(n.pos,r.pos,this.mark)}merge(e){return e instanceof Ls&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ls(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Ls(n.from,n.to,e.markFromJSON(n.mark))}}Ir.jsonID("removeMark",Ls);class dc extends Ir{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Nn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Nn.fromReplace(e,this.pos,this.pos+1,new ge(ne.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new dc(this.pos,n.marks[i]);return new dc(this.pos,this.mark)}}return new lp(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new dc(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new dc(n.pos,e.markFromJSON(n.mark))}}Ir.jsonID("addNodeMark",dc);class lp extends Ir{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Nn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Nn.fromReplace(e,this.pos,this.pos+1,new ge(ne.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new dc(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new lp(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new lp(n.pos,e.markFromJSON(n.mark))}}Ir.jsonID("removeNodeMark",lp);class Kn extends Ir{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&YT(e,this.from,this.to)?Nn.fail("Structure replace would overwrite content"):Nn.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Ii([this.from,this.to-this.from,this.slice.size])}invert(e){return new Kn(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Kn(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof Kn)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?ge.empty:new ge(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Kn(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?ge.empty:new ge(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Kn(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Kn(n.from,n.to,ge.fromJSON(e,n.slice),!!n.structure)}}Ir.jsonID("replace",Kn);class Jn extends Ir{constructor(e,n,r,i,o,s,a=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=s,this.structure=a}apply(e){if(this.structure&&(YT(e,this.from,this.gapFrom)||YT(e,this.gapTo,this.to)))return Nn.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Nn.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Nn.fromReplace(e,this.from,this.to,r):Nn.fail("Content does not fit in gap")}getMap(){return new Ii([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Jn(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),o=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||o>r.pos?null:new Jn(n.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Jn(n.from,n.to,n.gapFrom,n.gapTo,ge.fromJSON(e,n.slice),n.insert,!!n.structure)}}Ir.jsonID("replaceAround",Jn);function YT(t,e,n){let r=t.resolve(e),i=n-e,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let s=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}}return!1}function Hxe(t,e,n,r){let i=[],o=[],s,a;t.doc.nodesBetween(e,n,(l,c,u)=>{if(!l.isInline)return;let d=l.marks;if(!r.isInSet(d)&&u.type.allowsMarkType(r.type)){let f=Math.max(c,e),h=Math.min(c+l.nodeSize,n),m=r.addToSet(d);for(let p=0;p<d.length;p++)d[p].isInSet(m)||(s&&s.to==f&&s.mark.eq(d[p])?s.to=h:i.push(s=new Ls(f,h,d[p])));a&&a.to==f?a.to=h:o.push(a=new uc(f,h,r))}}),i.forEach(l=>t.step(l)),o.forEach(l=>t.step(l))}function Wxe(t,e,n,r){let i=[],o=0;t.doc.nodesBetween(e,n,(s,a)=>{if(!s.isInline)return;o++;let l=null;if(r instanceof T_){let c=s.marks,u;for(;u=r.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c)}else r?r.isInSet(s.marks)&&(l=[r]):l=s.marks;if(l&&l.length){let c=Math.min(a+s.nodeSize,n);for(let u=0;u<l.length;u++){let d=l[u],f;for(let h=0;h<i.length;h++){let m=i[h];m.step==o-1&&d.eq(i[h].style)&&(f=m)}f?(f.to=c,f.step=o):i.push({style:d,from:Math.max(a,e),to:c,step:o})}}}),i.forEach(s=>t.step(new Ls(s.from,s.to,s.style)))}function GR(t,e,n,r=n.contentMatch,i=!0){let o=t.doc.nodeAt(e),s=[],a=e+1;for(let l=0;l<o.childCount;l++){let c=o.child(l),u=a+c.nodeSize,d=r.matchType(c.type);if(!d)s.push(new Kn(a,u,ge.empty));else{r=d;for(let f=0;f<c.marks.length;f++)n.allowsMarkType(c.marks[f].type)||t.step(new Ls(a,u,c.marks[f]));if(i&&c.isText&&n.whitespace!="pre"){let f,h=/\r?\n|\r/g,m;for(;f=h.exec(c.text);)m||(m=new ge(ne.from(n.schema.text(" ",n.allowedMarks(c.marks))),0,0)),s.push(new Kn(a+f.index,a+f.index+f[0].length,m))}}a=u}if(!r.validEnd){let l=r.fillBefore(ne.empty,!0);t.replace(a,a,new ge(l,0,0))}for(let l=s.length-1;l>=0;l--)t.step(s[l])}function qxe(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function dm(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),o=t.$from.index(r),s=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(o,s,n))return r;if(r==0||i.type.spec.isolating||!qxe(i,o,s))break}return null}function Gxe(t,e,n){let{$from:r,$to:i,depth:o}=e,s=r.before(o+1),a=i.after(o+1),l=s,c=a,u=ne.empty,d=0;for(let m=o,p=!1;m>n;m--)p||r.index(m)>0?(p=!0,u=ne.from(r.node(m).copy(u)),d++):l--;let f=ne.empty,h=0;for(let m=o,p=!1;m>n;m--)p||i.after(m+1)<i.end(m)?(p=!0,f=ne.from(i.node(m).copy(f)),h++):c++;t.step(new Jn(l,c,s,a,new ge(u.append(f),d,h),u.size-d,!0))}function KR(t,e,n=null,r=t){let i=Kxe(t,e),o=i&&Yxe(r,e);return o?i.map(XB).concat({type:e,attrs:n}).concat(o.map(XB)):null}function XB(t){return{type:t,attrs:null}}function Kxe(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.contentMatchAt(r).findWrapping(e);if(!o)return null;let s=o.length?o[0]:e;return n.canReplaceWith(r,i,s)?o:null}function Yxe(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.child(r),s=e.contentMatch.findWrapping(o.type);if(!s)return null;let l=(s.length?s[s.length-1]:e).contentMatch;for(let c=r;l&&c<i;c++)l=l.matchType(n.child(c).type);return!l||!l.validEnd?null:s}function Xxe(t,e,n){let r=ne.empty;for(let s=n.length-1;s>=0;s--){if(r.size){let a=n[s].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=ne.from(n[s].type.create(n[s].attrs,r))}let i=e.start,o=e.end;t.step(new Jn(i,o,i,o,new ge(r,0,0),n.length,!0))}function Zxe(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=t.steps.length;t.doc.nodesBetween(e,n,(s,a)=>{let l=typeof i=="function"?i(s):i;if(s.isTextblock&&!s.hasMarkup(r,l)&&Jxe(t.doc,t.mapping.slice(o).map(a),r)){let c=null;if(r.schema.linebreakReplacement){let h=r.whitespace=="pre",m=!!r.contentMatch.matchType(r.schema.linebreakReplacement);h&&!m?c=!1:!h&&m&&(c=!0)}c===!1&&HK(t,s,a,o),GR(t,t.mapping.slice(o).map(a,1),r,void 0,c===null);let u=t.mapping.slice(o),d=u.map(a,1),f=u.map(a+s.nodeSize,1);return t.step(new Jn(d,f,d+1,f-1,new ge(ne.from(r.create(l,null,s.marks)),0,0),1,!0)),c===!0&&UK(t,s,a,o),!1}})}function UK(t,e,n,r){e.forEach((i,o)=>{if(i.isText){let s,a=/\r?\n|\r/g;for(;s=a.exec(i.text);){let l=t.mapping.slice(r).map(n+1+o+s.index);t.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function HK(t,e,n,r){e.forEach((i,o)=>{if(i.type==i.type.schema.linebreakReplacement){let s=t.mapping.slice(r).map(n+1+o);t.replaceWith(s,s+1,e.type.schema.text(`
`))}})}function Jxe(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function Qxe(t,e,n,r,i){let o=t.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let s=n.create(r,null,i||o.marks);if(o.isLeaf)return t.replaceWith(e,e+o.nodeSize,s);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Jn(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new ge(ne.from(s),0,0),1,!0))}function Ga(t,e,n=1,r){let i=t.resolve(e),o=i.depth-n,s=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,u=n-2;c>o;c--,u--){let d=i.node(c),f=i.index(c);if(d.type.spec.isolating)return!1;let h=d.content.cutByIndex(f,d.childCount),m=r&&r[u+1];m&&(h=h.replaceChild(0,m.type.create(m.attrs)));let p=r&&r[u]||d;if(!d.canReplace(f+1,d.childCount)||!p.type.validContent(h))return!1}let a=i.indexAfter(o),l=r&&r[0];return i.node(o).canReplaceWith(a,a,l?l.type:i.node(o+1).type)}function e1e(t,e,n=1,r){let i=t.doc.resolve(e),o=ne.empty,s=ne.empty;for(let a=i.depth,l=i.depth-n,c=n-1;a>l;a--,c--){o=ne.from(i.node(a).copy(o));let u=r&&r[c];s=ne.from(u?u.type.create(u.attrs,s):i.node(a).copy(s))}t.step(new Kn(e,e,new ge(o.append(s),n,n),!0))}function ou(t,e){let n=t.resolve(e),r=n.index();return WK(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function t1e(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let i=0;i<e.childCount;i++){let o=e.child(i),s=o.type==r?t.type.schema.nodes.text:o.type;if(n=n.matchType(s),!n||!t.type.allowsMarks(o.marks))return!1}return n.validEnd}function WK(t,e){return!!(t&&e&&!t.isLeaf&&t1e(t,e))}function A_(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let o,s,a=r.index(i);if(i==r.depth?(o=r.nodeBefore,s=r.nodeAfter):n>0?(o=r.node(i+1),a++,s=r.node(i).maybeChild(a)):(o=r.node(i).maybeChild(a-1),s=r.node(i+1)),o&&!o.isTextblock&&WK(o,s)&&r.node(i).canReplace(a,a+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}function n1e(t,e,n){let r=null,{linebreakReplacement:i}=t.doc.type.schema,o=t.doc.resolve(e-n),s=o.node().type;if(i&&s.inlineContent){let u=s.whitespace=="pre",d=!!s.contentMatch.matchType(i);u&&!d?r=!1:!u&&d&&(r=!0)}let a=t.steps.length;if(r===!1){let u=t.doc.resolve(e+n);HK(t,u.node(),u.before(),a)}s.inlineContent&&GR(t,e+n-1,s,o.node().contentMatchAt(o.index()),r==null);let l=t.mapping.slice(a),c=l.map(e-n);if(t.step(new Kn(c,l.map(e+n,-1),ge.empty,!0)),r===!0){let u=t.doc.resolve(c);UK(t,u.node(),u.before(),t.steps.length)}return t}function r1e(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let o=r.index(i);if(r.node(i).canReplaceWith(o,o,n))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let o=r.indexAfter(i);if(r.node(i).canReplaceWith(o,o,n))return r.after(i+1);if(o<r.node(i).childCount)return null}return null}function qK(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let o=0;o<n.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(n.openStart==0&&n.size?2:1);o++)for(let s=r.depth;s>=0;s--){let a=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,l=r.index(s)+(a>0?1:0),c=r.node(s),u=!1;if(o==1)u=c.canReplace(l,l,i);else{let d=c.contentMatchAt(l).findWrapping(i.firstChild.type);u=d&&c.canReplaceWith(l,l,d[0])}if(u)return a==0?r.pos:a<0?r.before(s+1):r.after(s+1)}return null}function M_(t,e,n=e,r=ge.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),o=t.resolve(n);return GK(i,o,r)?new Kn(e,n,r):new i1e(i,o,r).fit()}function GK(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class i1e{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=ne.empty;for(let i=0;i<=e.depth;i++){let o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=ne.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let o=this.placed,s=r.depth,a=i.depth;for(;s&&a&&o.childCount==1;)o=o.firstChild.content,s--,a--;let l=new ge(o,s,a);return e>-1?new Jn(r.pos,e,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new Kn(r.pos,i.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let o=n.firstChild;if(n.childCount>1&&(i=0),o.type.spec.isolating&&i<=r){e=r;break}n=o.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,o=null;r?(o=uP(this.unplaced.content,r-1).firstChild,i=o.content):i=this.unplaced.content;let s=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],u,d=null;if(n==1&&(s?c.matchType(s.type)||(d=c.fillBefore(ne.from(s),!1)):o&&l.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:a,parent:o,inject:d};if(n==2&&s&&(u=c.findWrapping(s.type)))return{sliceDepth:r,frontierDepth:a,parent:o,wrap:u};if(o&&c.matchType(o.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=uP(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new ge(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=uP(e,n);if(i.childCount<=1&&n>0){let o=e.size-n<=n+i.size;this.unplaced=new ge(yg(e,n-1,1),n-1,o?n-1:r)}else this.unplaced=new ge(yg(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:o}){for(;this.depth>n;)this.closeFrontierNode();if(o)for(let p=0;p<o.length;p++)this.openFrontierNode(o[p]);let s=this.unplaced,a=r?r.content:s.content,l=s.openStart-e,c=0,u=[],{match:d,type:f}=this.frontier[n];if(i){for(let p=0;p<i.childCount;p++)u.push(i.child(p));d=d.matchFragment(i)}let h=a.size+e-(s.content.size-s.openEnd);for(;c<a.childCount;){let p=a.child(c),g=d.matchType(p.type);if(!g)break;c++,(c>1||l==0||p.content.size)&&(d=g,u.push(KK(p.mark(f.allowedMarks(p.marks)),c==1?l:0,c==a.childCount?h:-1)))}let m=c==a.childCount;m||(h=-1),this.placed=bg(this.placed,n,ne.from(u)),this.frontier[n].match=d,m&&h<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let p=0,g=a;p<h;p++){let b=g.lastChild;this.frontier.push({type:b.type,match:b.contentMatchAt(b.childCount)}),g=b.content}this.unplaced=m?e==0?ge.empty:new ge(yg(s.content,e-1,1),e-1,h<0?s.openEnd:e-1):new ge(yg(s.content,e,c),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!dP(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],o=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),s=dP(e,n,i,r,o);if(s){for(let a=n-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],u=dP(e,a,c,l,!0);if(!u||u.childCount)continue e}return{depth:n,fit:s,move:o?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=bg(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,o)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=bg(this.placed,this.depth,ne.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(ne.empty,!0);n.childCount&&(this.placed=bg(this.placed,this.frontier.length,n))}}function yg(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(yg(t.firstChild.content,e-1,n)))}function bg(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(bg(t.lastChild.content,e-1,n)))}function uP(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function KK(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,KK(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(ne.empty,!0)))),t.copy(r)}function dP(t,e,n,r,i){let o=t.node(e),s=i?t.indexAfter(e):t.index(e);if(s==o.childCount&&!n.compatibleContent(o.type))return null;let a=r.fillBefore(o.content,!0,s);return a&&!o1e(n,o.content,s)?a:null}function o1e(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function s1e(t){return t.spec.defining||t.spec.definingForContent}function a1e(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),o=t.doc.resolve(n);if(GK(i,o,r))return t.step(new Kn(e,n,r));let s=XK(i,t.doc.resolve(n));s[s.length-1]==0&&s.pop();let a=-(i.depth+1);s.unshift(a);for(let f=i.depth,h=i.pos-1;f>0;f--,h--){let m=i.node(f).type.spec;if(m.defining||m.definingAsContext||m.isolating)break;s.indexOf(f)>-1?a=f:i.before(f)==h&&s.splice(1,0,-f)}let l=s.indexOf(a),c=[],u=r.openStart;for(let f=r.content,h=0;;h++){let m=f.firstChild;if(c.push(m),h==r.openStart)break;f=m.content}for(let f=u-1;f>=0;f--){let h=c[f],m=s1e(h.type);if(m&&!h.sameMarkup(i.node(Math.abs(a)-1)))u=f;else if(m||!h.type.isTextblock)break}for(let f=r.openStart;f>=0;f--){let h=(f+u+1)%(r.openStart+1),m=c[h];if(m)for(let p=0;p<s.length;p++){let g=s[(p+l)%s.length],b=!0;g<0&&(b=!1,g=-g);let y=i.node(g-1),w=i.index(g-1);if(y.canReplaceWith(w,w,m.type,m.marks))return t.replace(i.before(g),b?o.after(g):n,new ge(YK(r.content,0,r.openStart,h),h,r.openEnd))}}let d=t.steps.length;for(let f=s.length-1;f>=0&&(t.replace(e,n,r),!(t.steps.length>d));f--){let h=s[f];h<0||(e=i.before(h),n=o.after(h))}}function YK(t,e,n,r,i){if(e<n){let o=t.firstChild;t=t.replaceChild(0,o.copy(YK(o.content,e+1,n,r,o)))}if(e>r){let o=i.contentMatchAt(0),s=o.fillBefore(t).append(t);t=s.append(o.matchFragment(s).fillBefore(ne.empty,!0))}return t}function l1e(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=r1e(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new ge(ne.from(r),0,0))}function c1e(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),o=XK(r,i);for(let s=0;s<o.length;s++){let a=o[s],l=s==o.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return t.delete(r.start(a),i.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return t.delete(r.before(a),i.after(a))}for(let s=1;s<=r.depth&&s<=i.depth;s++)if(e-r.start(s)==r.depth-s&&n>r.end(s)&&i.end(s)-n!=i.depth-s&&r.start(s-1)==i.start(s-1)&&r.node(s-1).canReplace(r.index(s-1),i.index(s-1)))return t.delete(r.before(s),n);t.delete(e,n)}function XK(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let o=t.start(i);if(o<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(o==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==o-1)&&n.push(i)}return n}class wh extends Ir{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return Nn.fail("No node at attribute step's position");let r=Object.create(null);for(let o in n.attrs)r[o]=n.attrs[o];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return Nn.fromReplace(e,this.pos,this.pos+1,new ge(ne.from(i),0,n.isLeaf?0:1))}getMap(){return Ii.empty}invert(e){return new wh(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new wh(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new wh(n.pos,n.attr,n.value)}}Ir.jsonID("attr",wh);class oy extends Ir{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return Nn.ok(r)}getMap(){return Ii.empty}invert(e){return new oy(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new oy(n.attr,n.value)}}Ir.jsonID("docAttr",oy);let cp=class extends Error{};cp=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};cp.prototype=Object.create(Error.prototype);cp.prototype.constructor=cp;cp.prototype.name="TransformError";class u1e{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new iy}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new cp(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=ge.empty){let i=M_(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new ge(ne.from(r),0,0))}delete(e,n){return this.replace(e,n,ge.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return a1e(this,e,n,r),this}replaceRangeWith(e,n,r){return l1e(this,e,n,r),this}deleteRange(e,n){return c1e(this,e,n),this}lift(e,n){return Gxe(this,e,n),this}join(e,n=1){return n1e(this,e,n),this}wrap(e,n){return Xxe(this,e,n),this}setBlockType(e,n=e,r,i=null){return Zxe(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return Qxe(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new wh(e,n,r)),this}setDocAttribute(e,n){return this.step(new oy(e,n)),this}addNodeMark(e,n){return this.step(new dc(e,n)),this}removeNodeMark(e,n){if(!(n instanceof Vt)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n=n.isInSet(r.marks),!n)return this}return this.step(new lp(e,n)),this}split(e,n=1,r){return e1e(this,e,n,r),this}addMark(e,n,r){return Hxe(this,e,n,r),this}removeMark(e,n,r){return Wxe(this,e,n,r),this}clearIncompatible(e,n,r){return GR(this,e,n,r),this}}const fP=Object.create(null);class ot{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new d1e(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=ge.empty){let r=n.content.lastChild,i=null;for(let a=0;a<n.openEnd;a++)i=r,r=r.lastChild;let o=e.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){let{$from:l,$to:c}=s[a],u=e.mapping.slice(o);e.replaceRange(u.map(l.pos),u.map(c.pos),a?ge.empty:n),a==0&&QB(e,o,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:s,$to:a}=i[o],l=e.mapping.slice(r),c=l.map(s.pos),u=l.map(a.pos);o?e.deleteRange(c,u):(e.replaceRangeWith(c,u,n),QB(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new We(e):Af(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let o=e.depth-1;o>=0;o--){let s=n<0?Af(e.node(0),e.node(o),e.before(o+1),e.index(o),n,r):Af(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,n,r);if(s)return s}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Wi(e.node(0))}static atStart(e){return Af(e,e,0,0,1)||new Wi(e)}static atEnd(e){return Af(e,e,e.content.size,e.childCount,-1)||new Wi(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=fP[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in fP)throw new RangeError("Duplicate use of selection JSON ID "+e);return fP[e]=n,n.prototype.jsonID=e,n}getBookmark(){return We.between(this.$anchor,this.$head).getBookmark()}}ot.prototype.visible=!0;class d1e{constructor(e,n){this.$from=e,this.$to=n}}let ZB=!1;function JB(t){!ZB&&!t.parent.inlineContent&&(ZB=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class We extends ot{constructor(e,n=e){JB(e),JB(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return ot.near(r);let i=e.resolve(n.map(this.anchor));return new We(i.parent.inlineContent?i:r,r)}replace(e,n=ge.empty){if(super.replace(e,n),n==ge.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof We&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new N_(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new We(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let o=ot.findFrom(n,r,!0)||ot.findFrom(n,-r,!0);if(o)n=o.$head;else return ot.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(ot.findFrom(e,-r,!0)||ot.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new We(e,n)}}ot.jsonID("text",We);class N_{constructor(e,n){this.anchor=e,this.head=n}map(e){return new N_(e.map(this.anchor),e.map(this.head))}resolve(e){return We.between(e.resolve(this.anchor),e.resolve(this.head))}}class Ae extends ot{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),o=e.resolve(i);return r?ot.near(o):new Ae(o)}content(){return new ge(ne.from(this.node),0,0)}eq(e){return e instanceof Ae&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new YR(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Ae(e.resolve(n.anchor))}static create(e,n){return new Ae(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Ae.prototype.visible=!1;ot.jsonID("node",Ae);class YR{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new N_(r,r):new YR(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&Ae.isSelectable(r)?new Ae(n):ot.near(n)}}class Wi extends ot{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=ge.empty){if(n==ge.empty){e.delete(0,e.doc.content.size);let r=ot.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Wi(e)}map(e){return new Wi(e)}eq(e){return e instanceof Wi}getBookmark(){return f1e}}ot.jsonID("all",Wi);const f1e={map(){return this},resolve(t){return new Wi(t)}};function Af(t,e,n,r,i,o=!1){if(e.inlineContent)return We.create(t,n);for(let s=r-(i>0?0:1);i>0?s<e.childCount:s>=0;s+=i){let a=e.child(s);if(a.isAtom){if(!o&&Ae.isSelectable(a))return Ae.create(t,n-(i<0?a.nodeSize:0))}else{let l=Af(t,a,n+i,i<0?a.childCount:0,i,o);if(l)return l}n+=a.nodeSize*i}return null}function QB(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof Kn||i instanceof Jn))return;let o=t.mapping.maps[r],s;o.forEach((a,l,c,u)=>{s==null&&(s=u)}),t.setSelection(ot.near(t.doc.resolve(s),n))}const e4=1,t4=2,n4=4;class h1e extends u1e{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|e4)&-3,this.storedMarks=null,this}get selectionSet(){return(this.updated&e4)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=t4,this}ensureMarks(e){return Vt.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&t4)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&-3,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Vt.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let o=this.storedMarks;if(!o){let s=this.doc.resolve(n);o=r==n?s.marks():s.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,o)),this.selection.empty||this.setSelection(ot.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=n4,this}get scrolledIntoView(){return(this.updated&n4)>0}}function r4(t,e){return!e||!t?t:t.bind(e)}class wg{constructor(e,n,r){this.name=e,this.init=r4(n.init,r),this.apply=r4(n.apply,r)}}const p1e=[new wg("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new wg("selection",{init(t,e){return t.selection||ot.atStart(e.doc)},apply(t){return t.selection}}),new wg("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new wg("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class hP{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=p1e.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new wg(r.key,r.spec.state,r))})}}class eh{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let o=!1;for(let s=0;s<this.config.plugins.length;s++){let a=this.config.plugins[s];if(a.spec.appendTransaction){let l=i?i[s].n:0,c=i?i[s].state:this,u=l<n.length&&a.spec.appendTransaction.call(a,l?n.slice(l):n,c,r);if(u&&r.filterTransaction(u,s)){if(u.setMeta("appendedTransaction",e),!i){i=[];for(let d=0;d<this.config.plugins.length;d++)i.push(d<s?{state:r,n:n.length}:{state:this,n:0})}n.push(u),r=r.applyInner(u),o=!0}i&&(i[s]={state:r,n:n.length})}}if(!o)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new eh(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let o=r[i];n[o.name]=o.apply(e,this[o.name],this,n)}return n}get tr(){return new h1e(this)}static create(e){let n=new hP(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new eh(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new hP(this.schema,e.plugins),r=n.fields,i=new eh(n);for(let o=0;o<r.length;o++){let s=r[o].name;i[s]=this.hasOwnProperty(s)?this[s]:r[o].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],o=i.spec.state;o&&o.toJSON&&(n[r]=o.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new hP(e.schema,e.plugins),o=new eh(i);return i.fields.forEach(s=>{if(s.name=="doc")o.doc=Oc.fromJSON(e.schema,n.doc);else if(s.name=="selection")o.selection=ot.fromJSON(o.doc,n.selection);else if(s.name=="storedMarks")n.storedMarks&&(o.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],c=l.spec.state;if(l.key==s.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){o[s.name]=c.fromJSON.call(l,e,n[a],o);return}}o[s.name]=s.init(e,o)}}),o}}function ZK(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=ZK(i,e,{})),n[r]=i}return n}class Ci{constructor(e){this.spec=e,this.props={},e.props&&ZK(e.props,this,this.props),this.key=e.key?e.key.key:JK("plugin")}getState(e){return e[this.key]}}const pP=Object.create(null);function JK(t){return t in pP?t+"$"+ ++pP[t]:(pP[t]=0,t+"$")}class pa{constructor(e="key"){this.key=JK(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const hr=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},up=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let XT=null;const Oa=function(t,e,n){let r=XT||(XT=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},m1e=function(){XT=null},Dd=function(t,e,n,r){return n&&(i4(t,e,n,r,-1)||i4(t,e,n,r,1))},g1e=/^(img|br|input|textarea|hr)$/i;function i4(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:mo(t))){let o=t.parentNode;if(!o||o.nodeType!=1||S0(t)||g1e.test(t.nodeName)||t.contentEditable=="false")return!1;e=hr(t)+(i<0?0:1),t=o}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.contentEditable=="false")return!1;e=i<0?mo(t):0}else return!1}}function mo(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function v1e(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=mo(t)}else if(t.parentNode&&!S0(t))e=hr(t),t=t.parentNode;else return null}}function y1e(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!S0(t))e=hr(t)+1,t=t.parentNode;else return null}}function b1e(t,e,n){for(let r=e==0,i=e==mo(t);r||i;){if(t==n)return!0;let o=hr(t);if(t=t.parentNode,!t)return!1;r=r&&o==0,i=i&&o==mo(t)}}function S0(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const D_=function(t){return t.focusNode&&Dd(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Ru(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function w1e(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function x1e(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(mo(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(mo(r.startContainer),r.startOffset)}}}const ia=typeof navigator<"u"?navigator:null,o4=typeof document<"u"?document:null,su=ia&&ia.userAgent||"",ZT=/Edge\/(\d+)/.exec(su),QK=/MSIE \d/.exec(su),JT=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(su),bi=!!(QK||JT||ZT),Ac=QK?document.documentMode:JT?+JT[1]:ZT?+ZT[1]:0,hs=!bi&&/gecko\/(\d+)/i.test(su);hs&&+(/Firefox\/(\d+)/.exec(su)||[0,0])[1];const QT=!bi&&/Chrome\/(\d+)/.exec(su),Dr=!!QT,e7=QT?+QT[1]:0,Qr=!bi&&!!ia&&/Apple Computer/.test(ia.vendor),dp=Qr&&(/Mobile\/\w+/.test(su)||!!ia&&ia.maxTouchPoints>2),fo=dp||(ia?/Mac/.test(ia.platform):!1),S1e=ia?/Win/.test(ia.platform):!1,Ia=/Android \d/.test(su),_0=!!o4&&"webkitFontSmoothing"in o4.documentElement.style,_1e=_0?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function C1e(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function xa(t,e){return typeof t=="number"?t:t[e]}function k1e(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function s4(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument;for(let s=n||t.dom;s;){if(s.nodeType!=1){s=up(s);continue}let a=s,l=a==o.body,c=l?C1e(o):k1e(a),u=0,d=0;if(e.top<c.top+xa(r,"top")?d=-(c.top-e.top+xa(i,"top")):e.bottom>c.bottom-xa(r,"bottom")&&(d=e.bottom-e.top>c.bottom-c.top?e.top+xa(i,"top")-c.top:e.bottom-c.bottom+xa(i,"bottom")),e.left<c.left+xa(r,"left")?u=-(c.left-e.left+xa(i,"left")):e.right>c.right-xa(r,"right")&&(u=e.right-c.right+xa(i,"right")),u||d)if(l)o.defaultView.scrollBy(u,d);else{let h=a.scrollLeft,m=a.scrollTop;d&&(a.scrollTop+=d),u&&(a.scrollLeft+=u);let p=a.scrollLeft-h,g=a.scrollTop-m;e={left:e.left-p,top:e.top-g,right:e.right-p,bottom:e.bottom-g}}let f=l?"fixed":getComputedStyle(s).position;if(/^(fixed|sticky)$/.test(f))break;s=f=="absolute"?s.offsetParent:up(s)}}function P1e(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let o=(e.left+e.right)/2,s=n+1;s<Math.min(innerHeight,e.bottom);s+=5){let a=t.root.elementFromPoint(o,s);if(!a||a==t.dom||!t.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=n-20){r=a,i=l.top;break}}return{refDOM:r,refTop:i,stack:t7(t.dom)}}function t7(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=up(r));return e}function E1e({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;n7(n,r==0?0:r-e)}function n7(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:o}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}let gf=null;function O1e(t){if(t.setActive)return t.setActive();if(gf)return t.focus(gf);let e=t7(t);t.focus(gf==null?{get preventScroll(){return gf={preventScroll:!0},!0}}:void 0),gf||(gf=!1,n7(e,0))}function r7(t,e){let n,r=2e8,i,o=0,s=e.top,a=e.top,l,c;for(let u=t.firstChild,d=0;u;u=u.nextSibling,d++){let f;if(u.nodeType==1)f=u.getClientRects();else if(u.nodeType==3)f=Oa(u).getClientRects();else continue;for(let h=0;h<f.length;h++){let m=f[h];if(m.top<=s&&m.bottom>=a){s=Math.max(m.bottom,s),a=Math.min(m.top,a);let p=m.left>e.left?m.left-e.left:m.right<e.left?e.left-m.right:0;if(p<r){n=u,r=p,i=p&&n.nodeType==3?{left:m.right<e.left?m.right:m.left,top:e.top}:e,u.nodeType==1&&p&&(o=d+(e.left>=(m.left+m.right)/2?1:0));continue}}else m.top>e.top&&!l&&m.left<=e.left&&m.right>=e.left&&(l=u,c={left:Math.max(m.left,Math.min(m.right,e.left)),top:m.top});!n&&(e.left>=m.right&&e.top>=m.top||e.left>=m.left&&e.top>=m.bottom)&&(o=d+1)}}return!n&&l&&(n=l,i=c,r=0),n&&n.nodeType==3?T1e(n,i):!n||r&&n.nodeType==1?{node:t,offset:o}:r7(n,i)}function T1e(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let o=Ll(r,1);if(o.top!=o.bottom&&XR(e,o))return{node:t,offset:i+(e.left>=(o.left+o.right)/2?1:0)}}return{node:t,offset:0}}function XR(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function A1e(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function M1e(t,e,n){let{node:r,offset:i}=r7(e,n),o=-1;if(r.nodeType==1&&!r.firstChild){let s=r.getBoundingClientRect();o=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return t.docView.posFromDOM(r,i,o)}function N1e(t,e,n,r){let i=-1;for(let o=e,s=!1;o!=t.dom;){let a=t.docView.nearestDesc(o,!0),l;if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)&&((l=a.dom.getBoundingClientRect()).width||l.height)&&(a.node.isBlock&&a.parent&&(!s&&l.left>r.left||l.top>r.top?i=a.posBefore:(!s&&l.right<r.left||l.bottom<r.top)&&(i=a.posAfter),s=!0),!a.contentDOM&&i<0&&!a.node.isText))return(a.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?a.posBefore:a.posAfter;o=a.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function i7(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),o=i;;){let s=t.childNodes[o];if(s.nodeType==1){let a=s.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(XR(e,c))return i7(s,e,c)}}if((o=(o+1)%r)==i)break}return t}function D1e(t,e){let n=t.dom.ownerDocument,r,i=0,o=x1e(n,e.left,e.top);o&&({node:r,offset:i}=o);let s=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),a;if(!s||!t.dom.contains(s.nodeType!=1?s.parentNode:s)){let c=t.dom.getBoundingClientRect();if(!XR(e,c)||(s=i7(t.dom,e,c),!s))return null}if(Qr)for(let c=s;r&&c;c=up(c))c.draggable&&(r=void 0);if(s=A1e(s,e),r){if(hs&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let u=r.childNodes[i],d;u.nodeName=="IMG"&&(d=u.getBoundingClientRect()).right<=e.left&&d.bottom>e.top&&i++}let c;_0&&i&&r.nodeType==1&&(c=r.childNodes[i-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?a=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(a=N1e(t,r,i,e))}a==null&&(a=M1e(t,s,e));let l=t.docView.nearestDesc(s,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function a4(t){return t.top<t.bottom||t.left<t.right}function Ll(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(a4(r))return r}return Array.prototype.find.call(n,a4)||t.getBoundingClientRect()}const R1e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function o7(t,e,n){let{node:r,offset:i,atom:o}=t.docView.domFromPos(e,n<0?-1:1),s=_0||hs;if(r.nodeType==3)if(s&&(R1e.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let l=Ll(Oa(r,i,i),n);if(hs&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let c=Ll(Oa(r,i-1,i-1),-1);if(c.top==l.top){let u=Ll(Oa(r,i,i+1),-1);if(u.top!=l.top)return Wm(u,u.left<c.left)}}return l}else{let l=i,c=i,u=n<0?1:-1;return n<0&&!i?(c++,u=-1):n>=0&&i==r.nodeValue.length?(l--,u=1):n<0?l--:c++,Wm(Ll(Oa(r,l,c),u),u<0)}if(!t.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&i&&(n<0||i==mo(r))){let l=r.childNodes[i-1];if(l.nodeType==1)return mP(l.getBoundingClientRect(),!1)}if(o==null&&i<mo(r)){let l=r.childNodes[i];if(l.nodeType==1)return mP(l.getBoundingClientRect(),!0)}return mP(r.getBoundingClientRect(),n>=0)}if(o==null&&i&&(n<0||i==mo(r))){let l=r.childNodes[i-1],c=l.nodeType==3?Oa(l,mo(l)-(s?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return Wm(Ll(c,1),!1)}if(o==null&&i<mo(r)){let l=r.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?Oa(l,0,s?0:1):l.nodeType==1?l:null:null;if(c)return Wm(Ll(c,-1),!0)}return Wm(Ll(r.nodeType==3?Oa(r):r,-n),n>=0)}function Wm(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function mP(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function s7(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function $1e(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return s7(t,e,()=>{let{node:o}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let a=t.docView.nearestDesc(o,!0);if(!a)break;if(a.node.isBlock){o=a.contentDOM||a.dom;break}o=a.dom.parentNode}let s=o7(t,i.pos,1);for(let a=o.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=Oa(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let u=l[c];if(u.bottom>u.top+1&&(n=="up"?s.top-u.top>(u.bottom-s.top)*2:u.bottom-s.bottom>(s.bottom-u.top)*2))return!1}}return!0})}const I1e=/[\u0590-\u08ac]/;function j1e(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,s=i==r.parent.content.size,a=t.domSelection();return a?!I1e.test(r.parent.textContent)||!a.modify?n=="left"||n=="backward"?o:s:s7(t,e,()=>{let{focusNode:l,focusOffset:c,anchorNode:u,anchorOffset:d}=t.domSelectionRange(),f=a.caretBidiLevel;a.modify("move",n,"character");let h=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:m,focusOffset:p}=t.domSelectionRange(),g=m&&!h.contains(m.nodeType==1?m:m.parentNode)||l==m&&c==p;try{a.collapse(u,d),l&&(l!=u||c!=d)&&a.extend&&a.extend(l,c)}catch{}return f!=null&&(a.caretBidiLevel=f),g}):r.pos==r.start()||r.pos==r.end()}let l4=null,c4=null,u4=!1;function L1e(t,e,n){return l4==e&&c4==n?u4:(l4=e,c4=n,u4=n=="up"||n=="down"?$1e(t,e,n):j1e(t,e,n))}const Co=0,d4=1,Hu=2,oa=3;class C0{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=Co,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let o,s;if(e==this.contentDOM)o=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(s)+s.size:this.posAtStart}else{let o,s;if(e==this.contentDOM)o=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(s):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>hr(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let o=this.getDesc(i),s;if(o&&(!n||o.node))if(r&&(s=o.nodeDOM)&&!(s.nodeType==1?s.contains(e.nodeType==1?e:e.parentNode):s==e))r=!1;else return o}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],o=r+i.size;if(r==e&&o!=r){for(;!i.border&&i.children.length;)for(let s=0;s<i.children.length;s++){let a=i.children[s];if(a.size){i=a;break}}return i}if(e<o)return i.descAt(e-r-i.border);r=o}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let o=0;r<this.children.length;r++){let s=this.children[r],a=o+s.size;if(a>e||s instanceof l7){i=e-o;break}o=a}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof a7&&o.side>=0;r--);if(n<=0){let o,s=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,s=!1);return o&&n&&s&&!o.border&&!o.domAtom?o.domFromPos(o.size,n):{node:this.contentDOM,offset:o?hr(o.dom)+1:0}}else{let o,s=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,s=!1);return o&&s&&!o.border&&!o.domAtom?o.domFromPos(0,n):{node:this.contentDOM,offset:o?hr(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let s=r,a=0;;a++){let l=this.children[a],c=s+l.size;if(i==-1&&e<=c){let u=s+l.border;if(e>=u&&n<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,n,u);e=s;for(let d=a;d>0;d--){let f=this.children[d-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){i=hr(f.dom)+1;break}e-=f.size}i==-1&&(i=0)}if(i>-1&&(c>n||a==this.children.length-1)){n=c;for(let u=a+1;u<this.children.length;u++){let d=this.children[u];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){o=hr(d.dom);break}n+=d.size}o==-1&&(o=this.contentDOM.childNodes.length);break}s=c}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let o=Math.min(e,n),s=Math.max(e,n);for(let h=0,m=0;h<this.children.length;h++){let p=this.children[h],g=m+p.size;if(o>m&&s<g)return p.setSelection(e-m-p.border,n-m-p.border,r,i);m=g}let a=this.domFromPos(e,e?-1:1),l=n==e?a:this.domFromPos(n,n?-1:1),c=r.root.getSelection(),u=r.domSelectionRange(),d=!1;if((hs||Qr)&&e==n){let{node:h,offset:m}=a;if(h.nodeType==3){if(d=!!(m&&h.nodeValue[m-1]==`
`),d&&m==h.nodeValue.length)for(let p=h,g;p;p=p.parentNode){if(g=p.nextSibling){g.nodeName=="BR"&&(a=l={node:g.parentNode,offset:hr(g)+1});break}let b=p.pmViewDesc;if(b&&b.node&&b.node.isBlock)break}}else{let p=h.childNodes[m-1];d=p&&(p.nodeName=="BR"||p.contentEditable=="false")}}if(hs&&u.focusNode&&u.focusNode!=l.node&&u.focusNode.nodeType==1){let h=u.focusNode.childNodes[u.focusOffset];h&&h.contentEditable=="false"&&(i=!0)}if(!(i||d&&Qr)&&Dd(a.node,a.offset,u.anchorNode,u.anchorOffset)&&Dd(l.node,l.offset,u.focusNode,u.focusOffset))return;let f=!1;if((c.extend||e==n)&&!d){c.collapse(a.node,a.offset);try{e!=n&&c.extend(l.node,l.offset),f=!0}catch{}}if(!f){if(e>n){let m=a;a=l,l=m}let h=document.createRange();h.setEnd(l.node,l.offset),h.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(h)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let o=this.children[i],s=r+o.size;if(r==s?e<=s&&n>=r:e<s&&n>r){let a=r+o.border,l=s-o.border;if(e>=a&&n<=l){this.dirty=e==r||n==s?Hu:d4,e==a&&n==l&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=oa:o.markDirty(e-a,n-a);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?Hu:oa}r=s}this.dirty=Hu}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?Hu:d4;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class a7 extends C0{constructor(e,n,r,i){let o,s=n.type.toDOM;if(typeof s=="function"&&(s=s(r,()=>{if(!o)return i;if(o.parent)return o.parent.posBeforeChild(o)})),!n.type.spec.raw){if(s.nodeType!=1){let a=document.createElement("span");a.appendChild(s),s=a}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(e,[],s,null),this.widget=n,this.widget=n,o=this}matchesWidget(e){return this.dirty==Co&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class F1e extends C0{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Rd extends C0{constructor(e,n,r,i,o){super(e,[],r,i),this.mark=n,this.spec=o}static create(e,n,r,i){let o=i.nodeViews[n.type.name],s=o&&o(n,i,r);return(!s||!s.dom)&&(s=tf.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new Rd(e,n,s.dom,s.contentDOM||s.dom,s)}parseRule(){return this.dirty&oa||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=oa&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Co){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Co}}slice(e,n,r){let i=Rd.create(this.parent,this.mark,!0,r),o=this.children,s=this.size;n<s&&(o=tA(o,n,s,r)),e>0&&(o=tA(o,0,e,r));for(let a=0;a<o.length;a++)o[a].parent=i;return i.children=o,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Mc extends C0{constructor(e,n,r,i,o,s,a,l,c){super(e,[],o,s),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=a}static create(e,n,r,i,o,s){let a=o.nodeViews[n.type.name],l,c=a&&a(n,o,()=>{if(!l)return s;if(l.parent)return l.parent.posBeforeChild(l)},r,i),u=c&&c.dom,d=c&&c.contentDOM;if(n.isText){if(!u)u=document.createTextNode(n.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:d}=tf.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!d&&!n.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),n.type.spec.draggable&&(u.draggable=!0));let f=u;return u=d7(u,r,n),c?l=new B1e(e,n,r,i,u,d||null,f,c,o,s+1):n.isText?new R_(e,n,r,i,u,f,o):new Mc(e,n,r,i,u,d||null,f,o,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>ne.empty)}return e}matchesNode(e,n,r){return this.dirty==Co&&e.eq(this.node)&&Yx(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,o=e.composing?this.localCompositionInfo(e,n):null,s=o&&o.pos>-1?o:null,a=o&&o.pos<0,l=new z1e(this,s&&s.node,e);W1e(this.node,this.innerDeco,(c,u,d)=>{c.spec.marks?l.syncToMarks(c.spec.marks,r,e):c.type.side>=0&&!d&&l.syncToMarks(u==this.node.childCount?Vt.none:this.node.child(u).marks,r,e),l.placeWidget(c,e,i)},(c,u,d,f)=>{l.syncToMarks(c.marks,r,e);let h;l.findNodeMatch(c,u,d,f)||a&&e.state.selection.from>i&&e.state.selection.to<i+c.nodeSize&&(h=l.findIndexWithChild(o.node))>-1&&l.updateNodeAt(c,u,d,h,e)||l.updateNextNode(c,u,d,e,f,i)||l.addNode(c,u,d,e,i),i+=c.nodeSize}),l.syncToMarks([],r,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==Hu)&&(s&&this.protectLocalComposition(e,s),c7(this.contentDOM,this.children,e),dp&&q1e(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof We)||r<n||i>n+this.node.content.size)return null;let o=e.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let s=o.nodeValue,a=G1e(this.node.content,s,r-n,i-n);return a<0?null:{node:o,pos:a,text:s}}else return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let o=n;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let s=new F1e(this,o,n,i);e.input.compositionNodes.push(s),this.children=tA(this.children,r,r+i.length,e,s)}update(e,n,r,i){return this.dirty==oa||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Co}updateOuterDeco(e){if(Yx(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=u7(this.dom,this.nodeDOM,eA(this.outerDeco,this.node,n),eA(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function f4(t,e,n,r,i){d7(r,e,t);let o=new Mc(void 0,t,e,n,r,r,r,i,0);return o.contentDOM&&o.updateChildren(i,0),o}class R_ extends Mc{constructor(e,n,r,i,o,s,a){super(e,n,r,i,o,null,s,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==oa||this.dirty!=Co&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Co||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Co,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),o=document.createTextNode(i.text);return new R_(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=oa)}get domAtom(){return!1}isText(e){return this.node.text==e}}class l7 extends C0{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Co&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class B1e extends Mc{constructor(e,n,r,i,o,s,a,l,c,u){super(e,n,r,i,o,s,a,c,u),this.spec=l}update(e,n,r,i){if(this.dirty==oa)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let o=this.spec.update(e,n,r);return o&&this.updateInner(e,n,r,i),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function c7(t,e,n){let r=t.firstChild,i=!1;for(let o=0;o<e.length;o++){let s=e[o],a=s.dom;if(a.parentNode==t){for(;a!=r;)r=h4(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(a,r);if(s instanceof Rd){let l=r?r.previousSibling:t.lastChild;c7(s.contentDOM,s.children,n),r=l?l.nextSibling:t.firstChild}}for(;r;)r=h4(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const qg=function(t){t&&(this.nodeName=t)};qg.prototype=Object.create(null);const Wu=[new qg];function eA(t,e,n){if(t.length==0)return Wu;let r=n?Wu[0]:new qg,i=[r];for(let o=0;o<t.length;o++){let s=t[o].type.attrs;if(s){s.nodeName&&i.push(r=new qg(s.nodeName));for(let a in s){let l=s[a];l!=null&&(n&&i.length==1&&i.push(r=new qg(e.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return i}function u7(t,e,n,r){if(n==Wu&&r==Wu)return e;let i=e;for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(o){let l;a&&a.nodeName==s.nodeName&&i!=t&&(l=i.parentNode)&&l.nodeName.toLowerCase()==s.nodeName||(l=document.createElement(s.nodeName),l.pmIsDeco=!0,l.appendChild(i),a=Wu[0]),i=l}V1e(i,a||Wu[0],s)}return i}function V1e(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&t.classList.remove(r[o]);for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&t.classList.add(i[o]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function d7(t,e,n){return u7(t,t,Wu,eA(e,n,t.nodeType!=1))}function Yx(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function h4(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class z1e{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=U1e(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,o=this.stack.length>>1,s=Math.min(o,e.length);for(;i<s&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=Co,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(e[o])&&!this.isLocked(c.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=Rd.create(this.top,e[o],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,o++}}findNodeMatch(e,n,r,i){let o=-1,s;if(i>=this.preMatch.index&&(s=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&s.matchesNode(e,n,r))o=this.top.children.indexOf(s,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(e,n,r)&&!this.preMatch.matched.has(c)){o=a;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,n,r,i,o){let s=this.top.children[i];return s.dirty==oa&&s.dom==s.contentDOM&&(s.dirty=Hu),s.update(e,n,r,o)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,o,s){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof Mc){let c=this.preMatch.matched.get(l);if(c!=null&&c!=o)return!1;let u=l.dom,d,f=this.isLocked(u)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=oa&&Yx(n,l.outerDeco));if(!f&&l.update(e,n,r,i))return this.destroyBetween(this.index,a),l.dom!=u&&(this.changed=!0),this.index++,!0;if(!f&&(d=this.recreateWrapper(l,e,n,r,i,s)))return this.destroyBetween(this.index,a),this.top.children[this.index]=d,d.contentDOM&&(d.dirty=Hu,d.updateChildren(i,s+1),d.dirty=Co),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,o,s){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!Yx(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let a=Mc.create(this.top,n,r,i,o,s);if(a.contentDOM){a.children=e.children,e.children=[];for(let l of a.children)l.parent=a}return e.destroy(),a}addNode(e,n,r,i,o){let s=Mc.create(this.top,e,n,r,i,o);s.contentDOM&&s.updateChildren(i,o+1),this.top.children.splice(this.index++,0,s),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new a7(this.top,e,n,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof Rd;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof R_)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Qr||Dr)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new l7(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function U1e(t,e){let n=e,r=n.children.length,i=t.childCount,o=new Map,s=[];e:for(;i>0;){let a;for(;;)if(r){let c=n.children[r-1];if(c instanceof Rd)n=c,r=c.children.length;else{a=c,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=t.child(i-1))break;--i,o.set(a,i),s.push(a)}}return{index:i,matched:o,matches:s.reverse()}}function H1e(t,e){return t.type.side-e.type.side}function W1e(t,e,n,r){let i=e.locals(t),o=0;if(i.length==0){for(let c=0;c<t.childCount;c++){let u=t.child(c);r(u,i,e.forChild(o,u),c),o+=u.nodeSize}return}let s=0,a=[],l=null;for(let c=0;;){let u,d;for(;s<i.length&&i[s].to==o;){let g=i[s++];g.widget&&(u?(d||(d=[u])).push(g):u=g)}if(u)if(d){d.sort(H1e);for(let g=0;g<d.length;g++)n(d[g],c,!!l)}else n(u,c,!!l);let f,h;if(l)h=-1,f=l,l=null;else if(c<t.childCount)h=c,f=t.child(c++);else break;for(let g=0;g<a.length;g++)a[g].to<=o&&a.splice(g--,1);for(;s<i.length&&i[s].from<=o&&i[s].to>o;)a.push(i[s++]);let m=o+f.nodeSize;if(f.isText){let g=m;s<i.length&&i[s].from<g&&(g=i[s].from);for(let b=0;b<a.length;b++)a[b].to<g&&(g=a[b].to);g<m&&(l=f.cut(g-o),f=f.cut(0,g-o),m=g,h=-1)}else for(;s<i.length&&i[s].to<m;)s++;let p=f.isInline&&!f.isLeaf?a.filter(g=>!g.inline):a.slice();r(f,p,e.forChild(o,f),h),o=m}}function q1e(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function G1e(t,e,n,r){for(let i=0,o=0;i<t.childCount&&o<=r;){let s=t.child(i++),a=o;if(o+=s.nodeSize,!s.isText)continue;let l=s.text;for(;i<t.childCount;){let c=t.child(i++);if(o+=c.nodeSize,!c.isText)break;l+=c.text}if(o>=n){if(o>=r&&l.slice(r-e.length-a,r-a)==e)return r-e.length;let c=a<r?l.lastIndexOf(e,r-a-1):-1;if(c>=0&&c+e.length+a>=n)return a+c;if(n==r&&l.length>=r+e.length-a&&l.slice(r-a,r-a+e.length)==e)return r}}return-1}function tA(t,e,n,r,i){let o=[];for(let s=0,a=0;s<t.length;s++){let l=t[s],c=a,u=a+=l.size;c>=n||u<=e?o.push(l):(c<e&&o.push(l.slice(0,e-c,r)),i&&(o.push(i),i=void 0),u>n&&o.push(l.slice(n-c,l.size,r)))}return o}function ZR(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),o=i&&i.size==0,s=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let a=r.resolve(s),l,c;if(D_(n)){for(l=s;i&&!i.node;)i=i.parent;let d=i.node;if(i&&d.isAtom&&Ae.isSelectable(d)&&i.parent&&!(d.isInline&&b1e(n.focusNode,n.focusOffset,i.dom))){let f=i.posBefore;c=new Ae(s==f?a:r.resolve(f))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let d=s,f=s;for(let h=0;h<n.rangeCount;h++){let m=n.getRangeAt(h);d=Math.min(d,t.docView.posFromDOM(m.startContainer,m.startOffset,1)),f=Math.max(f,t.docView.posFromDOM(m.endContainer,m.endOffset,-1))}if(d<0)return null;[l,s]=f==t.state.selection.anchor?[f,d]:[d,f],a=r.resolve(s)}else l=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(l<0)return null}let u=r.resolve(l);if(!c){let d=e=="pointer"||t.state.selection.head<a.pos&&!o?1:-1;c=JR(t,u,a,d)}return c}function f7(t){return t.editable?t.hasFocus():p7(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Ka(t,e=!1){let n=t.state.selection;if(h7(t,n),!!f7(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Dr){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Dd(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)Y1e(t);else{let{anchor:r,head:i}=n,o,s;p4&&!(n instanceof We)&&(n.$from.parent.inlineContent||(o=m4(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(s=m4(t,n.to))),t.docView.setSelection(r,i,t,e),p4&&(o&&g4(o),s&&g4(s)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&K1e(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const p4=Qr||Dr&&e7<63;function m4(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(Qr&&i&&i.contentEditable=="false")return gP(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return gP(i);if(o)return gP(o)}}function gP(t){return t.contentEditable="true",Qr&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function g4(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function K1e(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!f7(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function Y1e(t){let e=t.domSelection(),n=document.createRange();if(!e)return;let r=t.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setStart(r.parentNode,hr(r)+1):n.setStart(r,0),n.collapse(!0),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&bi&&Ac<=11&&(r.disabled=!0,r.disabled=!1)}function h7(t,e){if(e instanceof Ae){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(v4(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else v4(t)}function v4(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function JR(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||We.between(e,n,r)}function y4(t){return t.editable&&!t.hasFocus()?!1:p7(t)}function p7(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function X1e(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Dd(e.node,e.offset,n.anchorNode,n.anchorOffset)}function nA(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),o=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return o&&ot.findFrom(o,e)}function Hl(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function b4(t,e,n){let r=t.state.selection;if(r instanceof We)if(n.indexOf("s")>-1){let{$head:i}=r,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let s=t.state.doc.resolve(i.pos+o.nodeSize*(e<0?-1:1));return Hl(t,new We(r.$anchor,s))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=nA(t.state,e);return i&&i instanceof Ae?Hl(t,i):!1}else if(!(fo&&n.indexOf("m")>-1)){let i=r.$head,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,s;if(!o||o.isText)return!1;let a=e<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(s=t.docView.descAt(a))&&!s.contentDOM?Ae.isSelectable(o)?Hl(t,new Ae(e<0?t.state.doc.resolve(i.pos-o.nodeSize):i)):_0?Hl(t,new We(t.state.doc.resolve(e<0?a:a+o.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Ae&&r.node.isInline)return Hl(t,new We(e>0?r.$to:r.$from));{let i=nA(t.state,e);return i?Hl(t,i):!1}}}function Xx(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Gg(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function vf(t,e){return e<0?Z1e(t):J1e(t)}function Z1e(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,o,s=!1;for(hs&&n.nodeType==1&&r<Xx(n)&&Gg(n.childNodes[r],-1)&&(s=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(Gg(a,-1))i=n,o=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(m7(n))break;{let a=n.previousSibling;for(;a&&Gg(a,-1);)i=n.parentNode,o=hr(a),a=a.previousSibling;if(a)n=a,r=Xx(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}s?rA(t,n,r):i&&rA(t,i,o)}function J1e(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=Xx(n),o,s;for(;;)if(r<i){if(n.nodeType!=1)break;let a=n.childNodes[r];if(Gg(a,1))o=n,s=++r;else break}else{if(m7(n))break;{let a=n.nextSibling;for(;a&&Gg(a,1);)o=a.parentNode,s=hr(a)+1,a=a.nextSibling;if(a)n=a,r=0,i=Xx(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}o&&rA(t,o,s)}function m7(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function Q1e(t,e){for(;t&&e==t.childNodes.length&&!S0(t);)e=hr(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function eSe(t,e){for(;t&&!e&&!S0(t);)e=hr(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function rA(t,e,n){if(e.nodeType!=3){let o,s;(s=Q1e(e,n))?(e=s,n=0):(o=eSe(e,n))&&(e=o,n=o.nodeValue.length)}let r=t.domSelection();if(!r)return;if(D_(r)){let o=document.createRange();o.setEnd(e,n),o.setStart(e,n),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&Ka(t)},50)}function w4(t,e){let n=t.state.doc.resolve(e);if(!(Dr||S1e)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let o=t.coordsAtPos(e-1),s=(o.top+o.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(o.left-i.left)>1)return o.left<i.left?"ltr":"rtl"}if(e<n.end()){let o=t.coordsAtPos(e+1),s=(o.top+o.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(o.left-i.left)>1)return o.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function x4(t,e,n){let r=t.state.selection;if(r instanceof We&&!r.empty||n.indexOf("s")>-1||fo&&n.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let s=nA(t.state,e);if(s&&s instanceof Ae)return Hl(t,s)}if(!i.parent.inlineContent){let s=e<0?i:o,a=r instanceof Wi?ot.near(s,e):ot.findFrom(s,e);return a?Hl(t,a):!1}return!1}function S4(t,e){if(!(t.state.selection instanceof We))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let s=t.state.tr;return e<0?s.delete(n.pos-o.nodeSize,n.pos):s.delete(n.pos,n.pos+o.nodeSize),t.dispatch(s),!0}return!1}function _4(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function tSe(t){if(!Qr||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;_4(t,r,"true"),setTimeout(()=>_4(t,r,"false"),20)}return!1}function nSe(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function rSe(t,e){let n=e.keyCode,r=nSe(e);if(n==8||fo&&n==72&&r=="c")return S4(t,-1)||vf(t,-1);if(n==46&&!e.shiftKey||fo&&n==68&&r=="c")return S4(t,1)||vf(t,1);if(n==13||n==27)return!0;if(n==37||fo&&n==66&&r=="c"){let i=n==37?w4(t,t.state.selection.from)=="ltr"?-1:1:-1;return b4(t,i,r)||vf(t,i)}else if(n==39||fo&&n==70&&r=="c"){let i=n==39?w4(t,t.state.selection.from)=="ltr"?1:-1:1;return b4(t,i,r)||vf(t,i)}else{if(n==38||fo&&n==80&&r=="c")return x4(t,-1,r)||vf(t,-1);if(n==40||fo&&n==78&&r=="c")return tSe(t)||x4(t,1,r)||vf(t,1);if(r==(fo?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function QR(t,e){t.someProp("transformCopied",h=>{e=h(e,t)});let n=[],{content:r,openStart:i,openEnd:o}=e;for(;i>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,o--;let h=r.firstChild;n.push(h.type.name,h.attrs!=h.type.defaultAttrs?h.attrs:null),r=h.content}let s=t.someProp("clipboardSerializer")||tf.fromSchema(t.state.schema),a=x7(),l=a.createElement("div");l.appendChild(s.serializeFragment(r,{document:a}));let c=l.firstChild,u,d=0;for(;c&&c.nodeType==1&&(u=w7[c.nodeName.toLowerCase()]);){for(let h=u.length-1;h>=0;h--){let m=a.createElement(u[h]);for(;l.firstChild;)m.appendChild(l.firstChild);l.appendChild(m),d++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${i} ${o}${d?` -${d}`:""} ${JSON.stringify(n)}`);let f=t.someProp("clipboardTextSerializer",h=>h(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:f,slice:e}}function g7(t,e,n,r,i){let o=i.parent.type.spec.code,s,a;if(!n&&!e)return null;let l=e&&(r||o||!n);if(l){if(t.someProp("transformPastedText",f=>{e=f(e,o||r,t)}),o)return e?new ge(ne.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):ge.empty;let d=t.someProp("clipboardTextParser",f=>f(e,i,r,t));if(d)a=d;else{let f=i.marks(),{schema:h}=t.state,m=tf.fromSchema(h);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(p=>{let g=s.appendChild(document.createElement("p"));p&&g.appendChild(m.serializeNode(h.text(p,f)))})}}else t.someProp("transformPastedHTML",d=>{n=d(n,t)}),s=aSe(n),_0&&lSe(s);let c=s&&s.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let d=+u[3];d>0;d--){let f=s.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;s=f}if(a||(a=(t.someProp("clipboardParser")||t.someProp("domParser")||Tc.fromSchema(t.state.schema)).parseSlice(s,{preserveWhitespace:!!(l||u),context:i,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!iSe.test(f.parentNode.nodeName)?{ignore:!0}:null}})),u)a=cSe(C4(a,+u[1],+u[2]),u[4]);else if(a=ge.maxOpen(oSe(a.content,i),!0),a.openStart||a.openEnd){let d=0,f=0;for(let h=a.content.firstChild;d<a.openStart&&!h.type.spec.isolating;d++,h=h.firstChild);for(let h=a.content.lastChild;f<a.openEnd&&!h.type.spec.isolating;f++,h=h.lastChild);a=C4(a,d,f)}return t.someProp("transformPasted",d=>{a=d(a,t)}),a}const iSe=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function oSe(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),o,s=[];if(t.forEach(a=>{if(!s)return;let l=i.findWrapping(a.type),c;if(!l)return s=null;if(c=s.length&&o.length&&y7(l,o,a,s[s.length-1],0))s[s.length-1]=c;else{s.length&&(s[s.length-1]=b7(s[s.length-1],o.length));let u=v7(a,l);s.push(u),i=i.matchType(u.type),o=l}}),s)return ne.from(s)}return t}function v7(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,ne.from(t));return t}function y7(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let o=y7(t,e,n,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(ne.from(v7(n,t,i+1))))}}function b7(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,b7(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(ne.empty,!0);return t.copy(n.append(r))}function iA(t,e,n,r,i,o){let s=e<0?t.firstChild:t.lastChild,a=s.content;return t.childCount>1&&(o=0),i<r-1&&(a=iA(a,e,n,r,i+1,o)),i>=n&&(a=e<0?s.contentMatchAt(0).fillBefore(a,o<=i).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(ne.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(a))}function C4(t,e,n){return e<t.openStart&&(t=new ge(iA(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new ge(iA(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const w7={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let k4=null;function x7(){return k4||(k4=document.implementation.createHTMLDocument("title"))}let vP=null;function sSe(t){let e=window.trustedTypes;return e?(vP||(vP=e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),vP.createHTML(t)):t}function aSe(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=x7().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&w7[r[1].toLowerCase()])&&(t=i.map(o=>"<"+o+">").join("")+t+i.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=sSe(t),i)for(let o=0;o<i.length;o++)n=n.querySelector(i[o])||n;return n}function lSe(t){let e=t.querySelectorAll(Dr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function cSe(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:o,openEnd:s}=t;for(let a=r.length-2;a>=0;a-=2){let l=n.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;i=ne.from(l.create(r[a+1],i)),o++,s++}return new ge(i,o,s)}const ei={},ti={},uSe={touchstart:!0,touchmove:!0};class dSe{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function fSe(t){for(let e in ei){let n=ei[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{pSe(t,r)&&!e$(t,r)&&(t.editable||!(r.type in ti))&&n(t,r)},uSe[e]?{passive:!0}:void 0)}Qr&&t.dom.addEventListener("input",()=>null),oA(t)}function fc(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function hSe(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function oA(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>e$(t,r))})}function e$(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function pSe(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function mSe(t,e){!e$(t,e)&&ei[e.type]&&(t.editable||!(e.type in ti))&&ei[e.type](t,e)}ti.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!_7(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Ia&&Dr&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),dp&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,Ru(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||rSe(t,n)?n.preventDefault():fc(t,"key")};ti.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};ti.keypress=(t,e)=>{let n=e;if(_7(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||fo&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof We)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",o=>o(t,r.$from.pos,r.$to.pos,i))&&t.dispatch(t.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function $_(t){return{left:t.clientX,top:t.clientY}}function gSe(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function t$(t,e,n,r,i){if(r==-1)return!1;let o=t.state.doc.resolve(r);for(let s=o.depth+1;s>0;s--)if(t.someProp(e,a=>s>o.depth?a(t,n,o.nodeAfter,o.before(s),i,!0):a(t,n,o.node(s),o.before(s),i,!1)))return!0;return!1}function xh(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function vSe(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&Ae.isSelectable(r)?(xh(t,new Ae(n)),!0):!1}function ySe(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof Ae&&(r=n.node);let o=t.state.doc.resolve(e);for(let s=o.depth+1;s>0;s--){let a=s>o.depth?o.nodeAfter:o.node(s);if(Ae.isSelectable(a)){r&&n.$from.depth>0&&s>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?i=o.before(n.$from.depth):i=o.before(s);break}}return i!=null?(xh(t,Ae.create(t.state.doc,i)),!0):!1}function bSe(t,e,n,r,i){return t$(t,"handleClickOn",e,n,r)||t.someProp("handleClick",o=>o(t,e,r))||(i?ySe(t,n):vSe(t,n))}function wSe(t,e,n,r){return t$(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function xSe(t,e,n,r){return t$(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||SSe(t,n,r)}function SSe(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(xh(t,We.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let o=i.depth+1;o>0;o--){let s=o>i.depth?i.nodeAfter:i.node(o),a=i.before(o);if(s.inlineContent)xh(t,We.create(r,a+1,a+1+s.content.size));else if(Ae.isSelectable(s))xh(t,Ae.create(r,a));else continue;return!0}}function n$(t){return Zx(t)}const S7=fo?"metaKey":"ctrlKey";ei.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=n$(t),i=Date.now(),o="singleClick";i-t.input.lastClick.time<500&&gSe(n,t.input.lastClick)&&!n[S7]&&(t.input.lastClick.type=="singleClick"?o="doubleClick":t.input.lastClick.type=="doubleClick"&&(o="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o};let s=t.posAtCoords($_(n));s&&(o=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new _Se(t,s,n,!!r)):(o=="doubleClick"?wSe:xSe)(t,s.pos,s.inside,n)?n.preventDefault():fc(t,"pointer"))};class _Se{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[S7],this.allowDefault=r.shiftKey;let o,s;if(n.inside>-1)o=e.state.doc.nodeAt(n.inside),s=n.inside;else{let u=e.state.doc.resolve(n.pos);o=u.parent,s=u.depth?u.before():0}const a=i?null:r.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:c}=e.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||c instanceof Ae&&c.from<=s&&c.to>s)&&(this.mightDrag={node:o,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&hs&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),fc(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Ka(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords($_(e))),this.updateAllowDefault(e),this.allowDefault||!n?fc(this.view,"pointer"):bSe(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Qr&&this.mightDrag&&!this.mightDrag.node.isAtom||Dr&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(xh(this.view,ot.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):fc(this.view,"pointer")}move(e){this.updateAllowDefault(e),fc(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}ei.touchstart=t=>{t.input.lastTouch=Date.now(),n$(t),fc(t,"pointer")};ei.touchmove=t=>{t.input.lastTouch=Date.now(),fc(t,"pointer")};ei.contextmenu=t=>n$(t);function _7(t,e){return t.composing?!0:Qr&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const CSe=Ia?5e3:-1;ti.compositionstart=ti.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof We&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),Zx(t,!0),t.markCursor=null;else if(Zx(t,!e.selection.empty),hs&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,o=r.focusOffset;i&&i.nodeType==1&&o!=0;){let s=o<0?i.lastChild:i.childNodes[o-1];if(!s)break;if(s.nodeType==3){let a=t.domSelection();a&&a.collapse(s,s.nodeValue.length);break}else i=s,o=-1}}t.input.composing=!0}C7(t,CSe)};ti.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,C7(t,20))};function C7(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Zx(t),e))}function k7(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=PSe());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function kSe(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=v1e(e.focusNode,e.focusOffset),r=y1e(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,o=t.domObserver.lastChangedTextNode;if(n==o||r==o)return o;if(!i||!i.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let s=n.pmViewDesc;if(!(!s||!s.isText(n.nodeValue)))return r}}return n||r}function PSe(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Zx(t,e=!1){if(!(Ia&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),k7(t),e||t.docView&&t.docView.dirty){let n=ZR(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!t.state.selection.empty?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function ESe(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const sy=bi&&Ac<15||dp&&_1e<604;ei.copy=ti.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let o=sy?null:n.clipboardData,s=r.content(),{dom:a,text:l}=QR(t,s);o?(n.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",l)):ESe(t,a),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function OSe(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function TSe(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?ay(t,r.value,null,i,e):ay(t,r.textContent,r.innerHTML,i,e)},50)}function ay(t,e,n,r,i){let o=g7(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,i,o||ge.empty)))return!0;if(!o)return!1;let s=OSe(o),a=s?t.state.tr.replaceSelectionWith(s,r):t.state.tr.replaceSelection(o);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function P7(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}ti.paste=(t,e)=>{let n=e;if(t.composing&&!Ia)return;let r=sy?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&ay(t,P7(r),r.getData("text/html"),i,n)?n.preventDefault():TSe(t,n)};class E7{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const ASe=fo?"altKey":"ctrlKey";function O7(t,e){let n=t.someProp("dragCopies",r=>!r(e));return n??!e[ASe]}ei.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,o=i.empty?null:t.posAtCoords($_(n)),s;if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof Ae?i.to-1:i.to))){if(r&&r.mightDrag)s=Ae.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let d=t.docView.nearestDesc(n.target,!0);d&&d.node.type.spec.draggable&&d!=t.docView&&(s=Ae.create(t.state.doc,d.posBefore))}}let a=(s||t.state.selection).content(),{dom:l,text:c,slice:u}=QR(t,a);(!n.dataTransfer.files.length||!Dr||e7>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(sy?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",sy||n.dataTransfer.setData("text/plain",c),t.dragging=new E7(u,O7(t,n),s)};ei.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};ti.dragover=ti.dragenter=(t,e)=>e.preventDefault();ti.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords($_(n));if(!i)return;let o=t.state.doc.resolve(i.pos),s=r&&r.slice;s?t.someProp("transformPasted",m=>{s=m(s,t)}):s=g7(t,P7(n.dataTransfer),sy?null:n.dataTransfer.getData("text/html"),!1,o);let a=!!(r&&O7(t,n));if(t.someProp("handleDrop",m=>m(t,n,s||ge.empty,a))){n.preventDefault();return}if(!s)return;n.preventDefault();let l=s?qK(t.state.doc,o.pos,s):o.pos;l==null&&(l=o.pos);let c=t.state.tr;if(a){let{node:m}=r;m?m.replace(c):c.deleteSelection()}let u=c.mapping.map(l),d=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,f=c.doc;if(d?c.replaceRangeWith(u,u,s.content.firstChild):c.replaceRange(u,u,s),c.doc.eq(f))return;let h=c.doc.resolve(u);if(d&&Ae.isSelectable(s.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(s.content.firstChild))c.setSelection(new Ae(h));else{let m=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((p,g,b,y)=>m=y),c.setSelection(JR(t,h,c.doc.resolve(m)))}t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))};ei.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Ka(t)},20))};ei.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};ei.beforeinput=(t,e)=>{if(Dr&&Ia&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",o=>o(t,Ru(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in ti)ei[t]=ti[t];function ly(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Jx{constructor(e,n){this.toDOM=e,this.spec=n||pd,this.side=this.spec.side||0}map(e,n,r,i){let{pos:o,deleted:s}=e.mapResult(n.from+i,this.side<0?-1:1);return s?null:new wo(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Jx&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&ly(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Nc{constructor(e,n){this.attrs=e,this.spec=n||pd}map(e,n,r,i){let o=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,s=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=s?null:new wo(o,s,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Nc&&ly(this.attrs,e.attrs)&&ly(this.spec,e.spec)}static is(e){return e.type instanceof Nc}destroy(){}}class r${constructor(e,n){this.attrs=e,this.spec=n||pd}map(e,n,r,i){let o=e.mapResult(n.from+i,1);if(o.deleted)return null;let s=e.mapResult(n.to+i,-1);return s.deleted||s.pos<=o.pos?null:new wo(o.pos-r,s.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),o;return i==n.from&&!(o=e.child(r)).isText&&i+o.nodeSize==n.to}eq(e){return this==e||e instanceof r$&&ly(this.attrs,e.attrs)&&ly(this.spec,e.spec)}destroy(){}}class wo{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new wo(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new wo(e,e,new Jx(n,r))}static inline(e,n,r,i){return new wo(e,n,new Nc(r,i))}static node(e,n,r,i){return new wo(e,n,new r$(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Nc}get widget(){return this.type instanceof Jx}}const Mf=[],pd={};class Fn{constructor(e,n){this.local=e.length?e:Mf,this.children=n.length?n:Mf}static create(e,n){return n.length?Qx(n,e,0,pd):kr}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,o){for(let s=0;s<this.local.length;s++){let a=this.local[s];a.from<=n&&a.to>=e&&(!o||o(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<n&&this.children[s+1]>e){let a=this.children[s]+1;this.children[s+2].findInner(e-a,n-a,r,i+a,o)}}map(e,n,r){return this==kr||e.maps.length==0?this:this.mapInner(e,n,0,0,r||pd)}mapInner(e,n,r,i,o){let s;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,r,i);l&&l.type.valid(n,l)?(s||(s=[])).push(l):o.onRemove&&o.onRemove(this.local[a].spec)}return this.children.length?MSe(this.children,s||[],e,n,r,i,o):s?new Fn(s.sort(md),Mf):kr}add(e,n){return n.length?this==kr?Fn.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,o=0;e.forEach((a,l)=>{let c=l+r,u;if(u=A7(n,a,c)){for(i||(i=this.children.slice());o<i.length&&i[o]<l;)o+=3;i[o]==l?i[o+2]=i[o+2].addInner(a,u,c+1):i.splice(o,0,l,l+a.nodeSize,Qx(u,a,c+1,pd)),o+=3}});let s=T7(o?M7(n):n,-r);for(let a=0;a<s.length;a++)s[a].type.valid(e,s[a])||s.splice(a--,1);return new Fn(s.length?this.local.concat(s).sort(md):this.local,i||this.children)}remove(e){return e.length==0||this==kr?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let s,a=r[o]+n,l=r[o+1]+n;for(let u=0,d;u<e.length;u++)(d=e[u])&&d.from>a&&d.to<l&&(e[u]=null,(s||(s=[])).push(d));if(!s)continue;r==this.children&&(r=this.children.slice());let c=r[o+2].removeInner(s,a+1);c!=kr?r[o+2]=c:(r.splice(o,3),o-=3)}if(i.length){for(let o=0,s;o<e.length;o++)if(s=e[o])for(let a=0;a<i.length;a++)i[a].eq(s,n)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new Fn(i,r):kr}forChild(e,n){if(this==kr)return this;if(n.isLeaf)return Fn.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(r=this.children[a+2]);break}let o=e+1,s=o+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<s&&l.to>o&&l.type instanceof Nc){let c=Math.max(o,l.from)-o,u=Math.min(s,l.to)-o;c<u&&(i||(i=[])).push(l.copy(c,u))}}if(i){let a=new Fn(i.sort(md),Mf);return r?new Zl([a,r]):a}return r||kr}eq(e){if(this==e)return!0;if(!(e instanceof Fn)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return i$(this.localsInner(e))}localsInner(e){if(this==kr)return Mf;if(e.inlineContent||!this.local.some(Nc.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Nc||n.push(this.local[r]);return n}forEachSet(e){e(this)}}Fn.empty=new Fn([],[]);Fn.removeOverlap=i$;const kr=Fn.empty;class Zl{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,pd));return Zl.from(r)}forChild(e,n){if(n.isLeaf)return Fn.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(e,n);o!=kr&&(o instanceof Zl?r=r.concat(o.members):r.push(o))}return Zl.from(r)}eq(e){if(!(e instanceof Zl)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(e);if(o.length)if(!n)n=o;else{r&&(n=n.slice(),r=!1);for(let s=0;s<o.length;s++)n.push(o[s])}}return n?i$(r?n:n.sort(md)):Mf}static from(e){switch(e.length){case 0:return kr;case 1:return e[0];default:return new Zl(e.every(n=>n instanceof Fn)?e:e.reduce((n,r)=>n.concat(r instanceof Fn?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function MSe(t,e,n,r,i,o,s){let a=t.slice();for(let c=0,u=o;c<n.maps.length;c++){let d=0;n.maps[c].forEach((f,h,m,p)=>{let g=p-m-(h-f);for(let b=0;b<a.length;b+=3){let y=a[b+1];if(y<0||f>y+u-d)continue;let w=a[b]+u-d;h>=w?a[b+1]=f<=w?-2:-1:f>=u&&g&&(a[b]+=g,a[b+1]+=g)}d+=g}),u=n.maps[c].map(u,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let u=n.map(t[c]+o),d=u-i;if(d<0||d>=r.content.size){l=!0;continue}let f=n.map(t[c+1]+o,-1),h=f-i,{index:m,offset:p}=r.content.findIndex(d),g=r.maybeChild(m);if(g&&p==d&&p+g.nodeSize==h){let b=a[c+2].mapInner(n,g,u+1,t[c]+o+1,s);b!=kr?(a[c]=d,a[c+1]=h,a[c+2]=b):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=NSe(a,t,e,n,i,o,s),u=Qx(c,r,0,s);e=u.local;for(let d=0;d<a.length;d+=3)a[d+1]<0&&(a.splice(d,3),d-=3);for(let d=0,f=0;d<u.children.length;d+=3){let h=u.children[d];for(;f<a.length&&a[f]<h;)f+=3;a.splice(f,0,u.children[d],u.children[d+1],u.children[d+2])}}return new Fn(e.sort(md),a)}function T7(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new wo(i.from+e,i.to+e,i.type))}return n}function NSe(t,e,n,r,i,o,s){function a(l,c){for(let u=0;u<l.local.length;u++){let d=l.local[u].map(r,i,c);d?n.push(d):s.onRemove&&s.onRemove(l.local[u].spec)}for(let u=0;u<l.children.length;u+=3)a(l.children[u+2],l.children[u]+c+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&a(t[l+2],e[l]+o+1);return n}function A7(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let o=0,s;o<t.length;o++)(s=t[o])&&s.from>n&&s.to<r&&((i||(i=[])).push(s),t[o]=null);return i}function M7(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Qx(t,e,n,r){let i=[],o=!1;e.forEach((a,l)=>{let c=A7(t,a,l+n);if(c){o=!0;let u=Qx(c,a,n+l+1,r);u!=kr&&i.push(l,l+a.nodeSize,u)}});let s=T7(o?M7(t):t,-n).sort(md);for(let a=0;a<s.length;a++)s[a].type.valid(e,s[a])||(r.onRemove&&r.onRemove(s[a].spec),s.splice(a--,1));return s.length||i.length?new Fn(s,i):kr}function md(t,e){return t.from-e.from||t.to-e.to}function i$(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let o=e[i];if(o.from==r.from){o.to!=r.to&&(e==t&&(e=t.slice()),e[i]=o.copy(o.from,r.to),P4(e,i+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,o.from),P4(e,i,r.copy(o.from,r.to)));break}}}return e}function P4(t,e,n){for(;e<t.length&&md(n,t[e])>0;)e++;t.splice(e,0,n)}function yP(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=kr&&e.push(r)}),t.cursorWrapper&&e.push(Fn.create(t.state.doc,[t.cursorWrapper.deco])),Zl.from(e)}const DSe={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},RSe=bi&&Ac<=11;class $Se{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class ISe{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new $Se,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);bi&&Ac<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),RSe&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,DSe)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(y4(this.view)){if(this.suppressingSelectionUpdates)return Ka(this.view);if(bi&&Ac<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Dd(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let o=e.focusNode;o;o=up(o))n.add(o);for(let o=e.anchorNode;o;o=up(o))if(n.has(o)){r=o;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&y4(e)&&!this.ignoreSelectionChange(r),o=-1,s=-1,a=!1,l=[];if(e.editable)for(let u=0;u<n.length;u++){let d=this.registerMutation(n[u],l);d&&(o=o<0?d.from:Math.min(d.from,o),s=s<0?d.to:Math.max(d.to,s),d.typeOver&&(a=!0))}if(hs&&l.length){let u=l.filter(d=>d.nodeName=="BR");if(u.length==2){let[d,f]=u;d.parentNode&&d.parentNode.parentNode==f.parentNode?f.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let f of u){let h=f.parentNode;h&&h.nodeName=="LI"&&(!d||FSe(e,d)!=h)&&f.remove()}}}let c=null;o<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&D_(r)&&(c=ZR(e))&&c.eq(ot.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Ka(e),this.currentSelection.set(r),e.scrollToSelection()):(o>-1||i)&&(o>-1&&(e.docView.markDirty(o,s),jSe(e)),this.handleDOMChange(o,s,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Ka(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let u=0;u<e.addedNodes.length;u++){let d=e.addedNodes[u];n.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,o=e.nextSibling;if(bi&&Ac<=11&&e.addedNodes.length)for(let u=0;u<e.addedNodes.length;u++){let{previousSibling:d,nextSibling:f}=e.addedNodes[u];(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(i=d),(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(o=f)}let s=i&&i.parentNode==e.target?hr(i)+1:0,a=r.localPosFromDOM(e.target,s,-1),l=o&&o.parentNode==e.target?hr(o):e.target.childNodes.length,c=r.localPosFromDOM(e.target,l,1);return{from:a,to:c}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let E4=new WeakMap,O4=!1;function jSe(t){if(!E4.has(t)&&(E4.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=hs,O4)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),O4=!0}}function T4(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset,s=t.domAtPos(t.state.selection.anchor);return Dd(s.node,s.offset,i,o)&&([n,r,i,o]=[i,o,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:o}}function LSe(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return T4(t,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?T4(t,n):null}function FSe(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function BSe(t,e,n){let{node:r,fromOffset:i,toOffset:o,from:s,to:a}=t.docView.parseRange(e,n),l=t.domSelectionRange(),c,u=l.anchorNode;if(u&&t.dom.contains(u.nodeType==1?u:u.parentNode)&&(c=[{node:u,offset:l.anchorOffset}],D_(l)||c.push({node:l.focusNode,offset:l.focusOffset})),Dr&&t.input.lastKeyCode===8)for(let g=o;g>i;g--){let b=r.childNodes[g-1],y=b.pmViewDesc;if(b.nodeName=="BR"&&!y){o=g;break}if(!y||y.size)break}let d=t.state.doc,f=t.someProp("domParser")||Tc.fromSchema(t.state.schema),h=d.resolve(s),m=null,p=f.parse(r,{topNode:h.parent,topMatch:h.parent.contentMatchAt(h.index()),topOpen:!0,from:i,to:o,preserveWhitespace:h.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:VSe,context:h});if(c&&c[0].pos!=null){let g=c[0].pos,b=c[1]&&c[1].pos;b==null&&(b=g),m={anchor:g+s,head:b+s}}return{doc:p,sel:m,from:s,to:a}}function VSe(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Qr&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Qr&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const zSe=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function USe(t,e,n,r,i){let o=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let T=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,M=ZR(t,T);if(M&&!t.state.selection.eq(M)){if(Dr&&Ia&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",N=>N(t,Ru(13,"Enter"))))return;let D=t.state.tr.setSelection(M);T=="pointer"?D.setMeta("pointer",!0):T=="key"&&D.scrollIntoView(),o&&D.setMeta("composition",o),t.dispatch(D)}return}let s=t.state.doc.resolve(e),a=s.sharedDepth(n);e=s.before(a+1),n=t.state.doc.resolve(n).after(a+1);let l=t.state.selection,c=BSe(t,e,n),u=t.state.doc,d=u.slice(c.from,c.to),f,h;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(f=t.state.selection.to,h="end"):(f=t.state.selection.from,h="start"),t.input.lastKeyCode=null;let m=qSe(d.content,c.doc.content,c.from,f,h);if(m&&t.input.domChangeCount++,(dp&&t.input.lastIOSEnter>Date.now()-225||Ia)&&i.some(T=>T.nodeType==1&&!zSe.test(T.nodeName))&&(!m||m.endA>=m.endB)&&t.someProp("handleKeyDown",T=>T(t,Ru(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!m)if(r&&l instanceof We&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))m={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let T=A4(t,t.state.doc,c.sel);if(T&&!T.eq(t.state.selection)){let M=t.state.tr.setSelection(T);o&&M.setMeta("composition",o),t.dispatch(M)}}return}t.state.selection.from<t.state.selection.to&&m.start==m.endB&&t.state.selection instanceof We&&(m.start>t.state.selection.from&&m.start<=t.state.selection.from+2&&t.state.selection.from>=c.from?m.start=t.state.selection.from:m.endA<t.state.selection.to&&m.endA>=t.state.selection.to-2&&t.state.selection.to<=c.to&&(m.endB+=t.state.selection.to-m.endA,m.endA=t.state.selection.to)),bi&&Ac<=11&&m.endB==m.start+1&&m.endA==m.start&&m.start>c.from&&c.doc.textBetween(m.start-c.from-1,m.start-c.from+1)==" "&&(m.start--,m.endA--,m.endB--);let p=c.doc.resolveNoCache(m.start-c.from),g=c.doc.resolveNoCache(m.endB-c.from),b=u.resolve(m.start),y=p.sameParent(g)&&p.parent.inlineContent&&b.end()>=m.endA,w;if((dp&&t.input.lastIOSEnter>Date.now()-225&&(!y||i.some(T=>T.nodeName=="DIV"||T.nodeName=="P"))||!y&&p.pos<c.doc.content.size&&(!p.sameParent(g)||!p.parent.inlineContent)&&(w=ot.findFrom(c.doc.resolve(p.pos+1),1,!0))&&w.head>p.pos)&&t.someProp("handleKeyDown",T=>T(t,Ru(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>m.start&&WSe(u,m.start,m.endA,p,g)&&t.someProp("handleKeyDown",T=>T(t,Ru(8,"Backspace")))){Ia&&Dr&&t.domObserver.suppressSelectionUpdates();return}Dr&&m.endB==m.start&&(t.input.lastChromeDelete=Date.now()),Ia&&!y&&p.start()!=g.start()&&g.parentOffset==0&&p.depth==g.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==m.endA&&(m.endB-=2,g=c.doc.resolveNoCache(m.endB-c.from),setTimeout(()=>{t.someProp("handleKeyDown",function(T){return T(t,Ru(13,"Enter"))})},20));let _=m.start,S=m.endA,C,k,E;if(y){if(p.pos==g.pos)bi&&Ac<=11&&p.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Ka(t),20)),C=t.state.tr.delete(_,S),k=u.resolve(m.start).marksAcross(u.resolve(m.endA));else if(m.endA==m.endB&&(E=HSe(p.parent.content.cut(p.parentOffset,g.parentOffset),b.parent.content.cut(b.parentOffset,m.endA-b.start()))))C=t.state.tr,E.type=="add"?C.addMark(_,S,E.mark):C.removeMark(_,S,E.mark);else if(p.parent.child(p.index()).isText&&p.index()==g.index()-(g.textOffset?0:1)){let T=p.parent.textBetween(p.parentOffset,g.parentOffset);if(t.someProp("handleTextInput",M=>M(t,_,S,T)))return;C=t.state.tr.insertText(T,_,S)}}if(C||(C=t.state.tr.replace(_,S,c.doc.slice(m.start-c.from,m.endB-c.from))),c.sel){let T=A4(t,C.doc,c.sel);T&&!(Dr&&t.composing&&T.empty&&(m.start!=m.endB||t.input.lastChromeDelete<Date.now()-100)&&(T.head==_||T.head==C.mapping.map(S)-1)||bi&&T.empty&&T.head==_)&&C.setSelection(T)}k&&C.ensureMarks(k),o&&C.setMeta("composition",o),t.dispatch(C.scrollIntoView())}function A4(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:JR(t,e.resolve(n.anchor),e.resolve(n.head))}function HSe(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,o=r,s,a,l;for(let u=0;u<r.length;u++)i=r[u].removeFromSet(i);for(let u=0;u<n.length;u++)o=n[u].removeFromSet(o);if(i.length==1&&o.length==0)a=i[0],s="add",l=u=>u.mark(a.addToSet(u.marks));else if(i.length==0&&o.length==1)a=o[0],s="remove",l=u=>u.mark(a.removeFromSet(u.marks));else return null;let c=[];for(let u=0;u<e.childCount;u++)c.push(l(e.child(u)));if(ne.from(c).eq(t))return{mark:a,type:s}}function WSe(t,e,n,r,i){if(n-e<=i.pos-r.pos||bP(r,!0,!1)<i.pos)return!1;let o=t.resolve(e);if(!r.parent.isTextblock){let a=o.nodeAfter;return a!=null&&n==e+a.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let s=t.resolve(bP(o,!0,!0));return!s.parent.isTextblock||s.pos>n||bP(s,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(s.parent.content)}function bP(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let o=t.node(r).maybeChild(t.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function qSe(t,e,n,r,i){let o=t.findDiffStart(e,n);if(o==null)return null;let{a:s,b:a}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let l=Math.max(0,o-Math.min(s,a));r-=s+l-o}if(s<o&&t.size<e.size){let l=r<=o&&r>=s?o-r:0;o-=l,o&&o<e.size&&M4(e.textBetween(o-1,o+1))&&(o+=l?1:-1),a=o+(a-s),s=o}else if(a<o){let l=r<=o&&r>=a?o-r:0;o-=l,o&&o<t.size&&M4(t.textBetween(o-1,o+1))&&(o+=l?1:-1),s=o+(s-a),a=o}return{start:o,endA:s,endB:a}}function M4(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class GSe{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new dSe,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(I4),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=R4(this),D4(this),this.nodeViews=$4(this),this.docView=f4(this.state.doc,N4(this),yP(this),this.dom,this),this.domObserver=new ISe(this,(r,i,o,s)=>USe(this,r,i,o,s)),this.domObserver.start(),fSe(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&oA(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(I4),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let i=this.state,o=!1,s=!1;e.storedMarks&&this.composing&&(k7(this),s=!0),this.state=e;let a=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(a||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let h=$4(this);YSe(h,this.nodeViews)&&(this.nodeViews=h,o=!0)}(a||n.handleDOMEvents!=this._props.handleDOMEvents)&&oA(this),this.editable=R4(this),D4(this);let l=yP(this),c=N4(this),u=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",d=o||!this.docView.matchesNode(e.doc,c,l);(d||!e.selection.eq(i.selection))&&(s=!0);let f=u=="preserve"&&s&&this.dom.style.overflowAnchor==null&&P1e(this);if(s){this.domObserver.stop();let h=d&&(bi||Dr)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&KSe(i.selection,e.selection);if(d){let m=Dr?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=kSe(this)),(o||!this.docView.update(e.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=f4(e.doc,c,l,this.dom,this)),m&&!this.trackWrites&&(h=!0)}h||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&X1e(this))?Ka(this,h):(h7(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():f&&E1e(f)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Ae){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&s4(this,n.getBoundingClientRect(),e)}else s4(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let o=r.from+(this.state.doc.content.size-n.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==r.node&&(i=o)}this.dragging=new E7(e.slice,e.move,i<0?void 0:Ae.create(this.state.doc,i))}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let s=0;s<this.directPlugins.length;s++){let a=this.directPlugins[s].props[e];if(a!=null&&(i=n?n(a):a))return i}let o=this.state.plugins;if(o)for(let s=0;s<o.length;s++){let a=o[s].props[e];if(a!=null&&(i=n?n(a):a))return i}}hasFocus(){if(bi){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&O1e(this.dom),Ka(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return D1e(this,e)}coordsAtPos(e,n=1){return o7(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return L1e(this,n||this.state,e)}pasteHTML(e,n){return ay(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return ay(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return QR(this,e)}destroy(){this.docView&&(hSe(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],yP(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,m1e())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return mSe(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?Qr&&this.root.nodeType===11&&w1e(this.dom.ownerDocument)==this.dom&&LSe(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function N4(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[wo.node(0,t.state.doc.content.size,e)]}function D4(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:wo.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function R4(t){return!t.someProp("editable",e=>e(t.state)===!1)}function KSe(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function $4(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function YSe(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function I4(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Gc={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},e1={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},XSe=typeof navigator<"u"&&/Mac/.test(navigator.platform),ZSe=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var pr=0;pr<10;pr++)Gc[48+pr]=Gc[96+pr]=String(pr);for(var pr=1;pr<=24;pr++)Gc[pr+111]="F"+pr;for(var pr=65;pr<=90;pr++)Gc[pr]=String.fromCharCode(pr+32),e1[pr]=String.fromCharCode(pr);for(var wP in Gc)e1.hasOwnProperty(wP)||(e1[wP]=Gc[wP]);function JSe(t){var e=XSe&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||ZSe&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?e1:Gc)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const QSe=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function e_e(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,o,s;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))QSe?s=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),s&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function t_e(t){let e=Object.create(null);for(let n in t)e[e_e(n)]=t[n];return e}function xP(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function n_e(t){return new Ci({props:{handleKeyDown:N7(t)}})}function N7(t){let e=t_e(t);return function(n,r){let i=JSe(r),o,s=e[xP(i,r)];if(s&&s(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let a=e[xP(i,r,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(o=Gc[r.keyCode])&&o!=i){let a=e[xP(o,r)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}const o$=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function D7(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const R7=(t,e,n)=>{let r=D7(t,n);if(!r)return!1;let i=s$(r);if(!i){let s=r.blockRange(),a=s&&dm(s);return a==null?!1:(e&&e(t.tr.lift(s,a).scrollIntoView()),!0)}let o=i.nodeBefore;if(U7(t,i,e,-1))return!0;if(r.parent.content.size==0&&(fp(o,"end")||Ae.isSelectable(o)))for(let s=r.depth;;s--){let a=M_(t.doc,r.before(s),r.after(s),ge.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=t.tr.step(a);l.setSelection(fp(o,"end")?ot.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):Ae.create(l.doc,i.pos-o.nodeSize)),e(l.scrollIntoView())}return!0}if(s==1||r.node(s-1).childCount>1)break}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1},r_e=(t,e,n)=>{let r=D7(t,n);if(!r)return!1;let i=s$(r);return i?$7(t,i,e):!1},i_e=(t,e,n)=>{let r=j7(t,n);if(!r)return!1;let i=a$(r);return i?$7(t,i,e):!1};function $7(t,e,n){let r=e.nodeBefore,i=r,o=e.pos-1;for(;!i.isTextblock;o--){if(i.type.spec.isolating)return!1;let u=i.lastChild;if(!u)return!1;i=u}let s=e.nodeAfter,a=s,l=e.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let u=a.firstChild;if(!u)return!1;a=u}let c=M_(t.doc,o,l,ge.empty);if(!c||c.from!=o||c instanceof Kn&&c.slice.size>=l-o)return!1;if(n){let u=t.tr.step(c);u.setSelection(We.create(u.doc,o)),n(u.scrollIntoView())}return!0}function fp(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const I7=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;o=s$(r)}let s=o&&o.nodeBefore;return!s||!Ae.isSelectable(s)?!1:(e&&e(t.tr.setSelection(Ae.create(t.doc,o.pos-s.nodeSize)).scrollIntoView()),!0)};function s$(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function j7(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const L7=(t,e,n)=>{let r=j7(t,n);if(!r)return!1;let i=a$(r);if(!i)return!1;let o=i.nodeAfter;if(U7(t,i,e,1))return!0;if(r.parent.content.size==0&&(fp(o,"start")||Ae.isSelectable(o))){let s=M_(t.doc,r.before(),r.after(),ge.empty);if(s&&s.slice.size<s.to-s.from){if(e){let a=t.tr.step(s);a.setSelection(fp(o,"start")?ot.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):Ae.create(a.doc,a.mapping.map(i.pos))),e(a.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},F7=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;o=a$(r)}let s=o&&o.nodeAfter;return!s||!Ae.isSelectable(s)?!1:(e&&e(t.tr.setSelection(Ae.create(t.doc,o.pos)).scrollIntoView()),!0)};function a$(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const o_e=(t,e)=>{let n=t.selection,r=n instanceof Ae,i;if(r){if(n.node.isTextblock||!ou(t.doc,n.from))return!1;i=n.from}else if(i=A_(t.doc,n.from,-1),i==null)return!1;if(e){let o=t.tr.join(i);r&&o.setSelection(Ae.create(o.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(o.scrollIntoView())}return!0},s_e=(t,e)=>{let n=t.selection,r;if(n instanceof Ae){if(n.node.isTextblock||!ou(t.doc,n.to))return!1;r=n.to}else if(r=A_(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},a_e=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),o=i&&dm(i);return o==null?!1:(e&&e(t.tr.lift(i,o).scrollIntoView()),!0)},B7=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function l$(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const l_e=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),o=n.indexAfter(-1),s=l$(i.contentMatchAt(o));if(!s||!i.canReplaceWith(o,o,s))return!1;if(e){let a=n.after(),l=t.tr.replaceWith(a,a,s.createAndFill());l.setSelection(ot.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},V7=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof Wi||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=l$(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let s=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=t.tr.insert(s,o.createAndFill());a.setSelection(We.create(a.doc,s+1)),e(a.scrollIntoView())}return!0},z7=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if(Ga(t.doc,o))return e&&e(t.tr.split(o).scrollIntoView()),!0}let r=n.blockRange(),i=r&&dm(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)};function c_e(t){return(e,n)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof Ae&&e.selection.node.isBlock)return!r.parentOffset||!Ga(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let o=[],s,a,l=!1,c=!1;for(let h=r.depth;;h--)if(r.node(h).isBlock){l=r.end(h)==r.pos+(r.depth-h),c=r.start(h)==r.pos-(r.depth-h),a=l$(r.node(h-1).contentMatchAt(r.indexAfter(h-1))),o.unshift(l&&a?{type:a}:null),s=h;break}else{if(h==1)return!1;o.unshift(null)}let u=e.tr;(e.selection instanceof We||e.selection instanceof Wi)&&u.deleteSelection();let d=u.mapping.map(r.pos),f=Ga(u.doc,d,o.length,o);if(f||(o[0]=a?{type:a}:null,f=Ga(u.doc,d,o.length,o)),!f)return!1;if(u.split(d,o.length,o),!l&&c&&r.node(s).type!=a){let h=u.mapping.map(r.before(s)),m=u.doc.resolve(h);a&&r.node(s-1).canReplaceWith(m.index(),m.index()+1,a)&&u.setNodeMarkup(u.mapping.map(r.before(s)),a)}return n&&n(u.scrollIntoView()),!0}}const u_e=c_e(),d_e=(t,e)=>{let{$from:n,to:r}=t.selection,i,o=n.sharedDepth(r);return o==0?!1:(i=n.before(o),e&&e(t.tr.setSelection(Ae.create(t.doc,i))),!0)};function f_e(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,o=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(o-1,o)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(i.isTextblock||ou(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function U7(t,e,n,r){let i=e.nodeBefore,o=e.nodeAfter,s,a,l=i.type.spec.isolating||o.type.spec.isolating;if(!l&&f_e(t,e,n))return!0;let c=!l&&e.parent.canReplace(e.index(),e.index()+1);if(c&&(s=(a=i.contentMatchAt(i.childCount)).findWrapping(o.type))&&a.matchType(s[0]||o.type).validEnd){if(n){let h=e.pos+o.nodeSize,m=ne.empty;for(let b=s.length-1;b>=0;b--)m=ne.from(s[b].create(null,m));m=ne.from(i.copy(m));let p=t.tr.step(new Jn(e.pos-1,h,e.pos,h,new ge(m,1,0),s.length,!0)),g=p.doc.resolve(h+2*s.length);g.nodeAfter&&g.nodeAfter.type==i.type&&ou(p.doc,g.pos)&&p.join(g.pos),n(p.scrollIntoView())}return!0}let u=o.type.spec.isolating||r>0&&l?null:ot.findFrom(e,1),d=u&&u.$from.blockRange(u.$to),f=d&&dm(d);if(f!=null&&f>=e.depth)return n&&n(t.tr.lift(d,f).scrollIntoView()),!0;if(c&&fp(o,"start",!0)&&fp(i,"end")){let h=i,m=[];for(;m.push(h),!h.isTextblock;)h=h.lastChild;let p=o,g=1;for(;!p.isTextblock;p=p.firstChild)g++;if(h.canReplace(h.childCount,h.childCount,p.content)){if(n){let b=ne.empty;for(let w=m.length-1;w>=0;w--)b=ne.from(m[w].copy(b));let y=t.tr.step(new Jn(e.pos-m.length,e.pos+o.nodeSize,e.pos+g,e.pos+o.nodeSize-g,new ge(b,m.length,0),0,!0));n(y.scrollIntoView())}return!0}}return!1}function H7(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(n&&n(e.tr.setSelection(We.create(e.doc,t<0?i.start(o):i.end(o)))),!0):!1}}const h_e=H7(-1),p_e=H7(1);function m_e(t,e=null){return function(n,r){let{$from:i,$to:o}=n.selection,s=i.blockRange(o),a=s&&KR(s,t,e);return a?(r&&r(n.tr.wrap(s,a).scrollIntoView()),!0):!1}}function j4(t,e=null){return function(n,r){let i=!1;for(let o=0;o<n.selection.ranges.length&&!i;o++){let{$from:{pos:s},$to:{pos:a}}=n.selection.ranges[o];n.doc.nodesBetween(s,a,(l,c)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)i=!0;else{let u=n.doc.resolve(c),d=u.index();i=u.parent.canReplaceWith(d,d+1,t)}})}if(!i)return!1;if(r){let o=n.tr;for(let s=0;s<n.selection.ranges.length;s++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[s];o.setBlockType(a,l,t,e)}r(o.scrollIntoView())}return!0}}function c$(...t){return function(e,n,r){for(let i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}c$(o$,R7,I7);c$(o$,L7,F7);c$(B7,V7,z7,u_e);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function g_e(t,e=null){return function(n,r){let{$from:i,$to:o}=n.selection,s=i.blockRange(o);if(!s)return!1;let a=r?n.tr:null;return v_e(a,s,t,e)?(r&&r(a.scrollIntoView()),!0):!1}}function v_e(t,e,n,r=null){let i=!1,o=e,s=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let l=s.resolve(e.start-2);o=new Gx(l,l,e.depth),e.endIndex<e.parent.childCount&&(e=new Gx(e.$from,s.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let a=KR(o,n,r,e);return a?(t&&y_e(t,e,a,i,n),!0):!1}function y_e(t,e,n,r,i){let o=ne.empty;for(let u=n.length-1;u>=0;u--)o=ne.from(n[u].type.create(n[u].attrs,o));t.step(new Jn(e.start-(r?2:0),e.end,e.start,e.end,new ge(o,0,0),n.length,!0));let s=0;for(let u=0;u<n.length;u++)n[u].type==i&&(s=u+1);let a=n.length-s,l=e.start+n.length-(r?2:0),c=e.parent;for(let u=e.startIndex,d=e.endIndex,f=!0;u<d;u++,f=!1)!f&&Ga(t.doc,l,a)&&(t.split(l,a),l+=2*a),l+=c.child(u).nodeSize;return t}function b_e(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,s=>s.childCount>0&&s.firstChild.type==t);return o?n?r.node(o.depth-1).type==t?w_e(e,n,t,o):x_e(e,n,o):!0:!1}}function w_e(t,e,n,r){let i=t.tr,o=r.end,s=r.$to.end(r.depth);o<s&&(i.step(new Jn(o-1,s,o,s,new ge(ne.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new Gx(i.doc.resolve(r.$from.pos),i.doc.resolve(s),r.depth));const a=dm(r);if(a==null)return!1;i.lift(r,a);let l=i.doc.resolve(i.mapping.map(o,-1)-1);return ou(i.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&i.join(l.pos),e(i.scrollIntoView()),!0}function x_e(t,e,n){let r=t.tr,i=n.parent;for(let h=n.end,m=n.endIndex-1,p=n.startIndex;m>p;m--)h-=i.child(m).nodeSize,r.delete(h-1,h+1);let o=r.doc.resolve(n.start),s=o.nodeAfter;if(r.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,l=n.endIndex==i.childCount,c=o.node(-1),u=o.index(-1);if(!c.canReplace(u+(a?0:1),u+1,s.content.append(l?ne.empty:ne.from(i))))return!1;let d=o.pos,f=d+s.nodeSize;return r.step(new Jn(d-(a?1:0),f+(l?1:0),d+1,f-1,new ge((a?ne.empty:ne.from(i.copy(ne.empty))).append(l?ne.empty:ne.from(i.copy(ne.empty))),a?0:1,l?0:1),a?0:1)),e(r.scrollIntoView()),!0}function S_e(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,c=>c.childCount>0&&c.firstChild.type==t);if(!o)return!1;let s=o.startIndex;if(s==0)return!1;let a=o.parent,l=a.child(s-1);if(l.type!=t)return!1;if(n){let c=l.lastChild&&l.lastChild.type==a.type,u=ne.from(c?t.create():null),d=new ge(ne.from(t.create(null,ne.from(a.type.create(null,u)))),c?3:1,0),f=o.start,h=o.end;n(e.tr.step(new Jn(f-(c?3:1),h,f,h,d,1,!0)).scrollIntoView())}return!0}}function I_(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:o}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return o},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,o=n.storedMarks,n}}}class j_{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:r}=this,{view:i}=n,{tr:o}=r,s=this.buildProps(o);return Object.fromEntries(Object.entries(e).map(([a,l])=>[a,(...u)=>{const d=l(...u)(s);return!o.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(o),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:r,editor:i,state:o}=this,{view:s}=i,a=[],l=!!e,c=e||o.tr,u=()=>(!l&&n&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(c),a.every(f=>f===!0)),d={...Object.fromEntries(Object.entries(r).map(([f,h])=>[f,(...p)=>{const g=this.buildProps(c,n),b=h(...p)(g);return a.push(b),d}])),run:u};return d}createCan(e){const{rawCommands:n,state:r}=this,i=!1,o=e||r.tr,s=this.buildProps(o,i);return{...Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...u)=>c(...u)({...s,dispatch:void 0})])),chain:()=>this.createChain(o,i)}}buildProps(e,n=!0){const{rawCommands:r,editor:i,state:o}=this,{view:s}=i,a={tr:e,editor:i,view:s,state:I_({state:o,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e,n),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([l,c])=>[l,(...u)=>c(...u)(a)]))}};return a}}let __e=class{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const r=this.callbacks[e];return r&&r.forEach(i=>i.apply(this,n)),this}off(e,n){const r=this.callbacks[e];return r&&(n?this.callbacks[e]=r.filter(i=>i!==n):delete this.callbacks[e]),this}once(e,n){const r=(...i)=>{this.off(e,r),n.apply(this,i)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}};function Pe(t,e,n){return t.config[e]===void 0&&t.parent?Pe(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?Pe(t.parent,e,n):null}):t.config[e]}function L_(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function W7(t){const e=[],{nodeExtensions:n,markExtensions:r}=L_(t),i=[...n,...r],o={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(s=>{const a={name:s.name,options:s.options,storage:s.storage,extensions:i},l=Pe(s,"addGlobalAttributes",a);if(!l)return;l().forEach(u=>{u.types.forEach(d=>{Object.entries(u.attributes).forEach(([f,h])=>{e.push({type:d,name:f,attribute:{...o,...h}})})})})}),i.forEach(s=>{const a={name:s.name,options:s.options,storage:s.storage},l=Pe(s,"addAttributes",a);if(!l)return;const c=l();Object.entries(c).forEach(([u,d])=>{const f={...o,...d};typeof(f==null?void 0:f.default)=="function"&&(f.default=f.default()),f!=null&&f.isRequired&&(f==null?void 0:f.default)===void 0&&delete f.default,e.push({type:s.name,name:u,attribute:f})})}),e}function er(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function ni(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,o])=>{if(!r[i]){r[i]=o;return}if(i==="class"){const a=o?String(o).split(" "):[],l=r[i]?r[i].split(" "):[],c=a.filter(u=>!l.includes(u));r[i]=[...l,...c].join(" ")}else if(i==="style"){const a=o?o.split(";").map(u=>u.trim()).filter(Boolean):[],l=r[i]?r[i].split(";").map(u=>u.trim()).filter(Boolean):[],c=new Map;l.forEach(u=>{const[d,f]=u.split(":").map(h=>h.trim());c.set(d,f)}),a.forEach(u=>{const[d,f]=u.split(":").map(h=>h.trim());c.set(d,f)}),r[i]=Array.from(c.entries()).map(([u,d])=>`${u}: ${d}`).join("; ")}else r[i]=o}),r},{})}function sA(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>ni(n,r),{})}function q7(t){return typeof t=="function"}function at(t,e=void 0,...n){return q7(t)?e?t.bind(e)(...n):t(...n):t}function C_e(t={}){return Object.keys(t).length===0&&t.constructor===Object}function k_e(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function L4(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((o,s)=>{const a=s.attribute.parseHTML?s.attribute.parseHTML(n):k_e(n.getAttribute(s.name));return a==null?o:{...o,[s.name]:a}},{});return{...r,...i}}}}function F4(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&C_e(n)?!1:n!=null))}function P_e(t,e){var n;const r=W7(t),{nodeExtensions:i,markExtensions:o}=L_(t),s=(n=i.find(c=>Pe(c,"topNode")))===null||n===void 0?void 0:n.name,a=Object.fromEntries(i.map(c=>{const u=r.filter(b=>b.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:e},f=t.reduce((b,y)=>{const w=Pe(y,"extendNodeSchema",d);return{...b,...w?w(c):{}}},{}),h=F4({...f,content:at(Pe(c,"content",d)),marks:at(Pe(c,"marks",d)),group:at(Pe(c,"group",d)),inline:at(Pe(c,"inline",d)),atom:at(Pe(c,"atom",d)),selectable:at(Pe(c,"selectable",d)),draggable:at(Pe(c,"draggable",d)),code:at(Pe(c,"code",d)),whitespace:at(Pe(c,"whitespace",d)),linebreakReplacement:at(Pe(c,"linebreakReplacement",d)),defining:at(Pe(c,"defining",d)),isolating:at(Pe(c,"isolating",d)),attrs:Object.fromEntries(u.map(b=>{var y;return[b.name,{default:(y=b==null?void 0:b.attribute)===null||y===void 0?void 0:y.default}]}))}),m=at(Pe(c,"parseHTML",d));m&&(h.parseDOM=m.map(b=>L4(b,u)));const p=Pe(c,"renderHTML",d);p&&(h.toDOM=b=>p({node:b,HTMLAttributes:sA(b,u)}));const g=Pe(c,"renderText",d);return g&&(h.toText=g),[c.name,h]})),l=Object.fromEntries(o.map(c=>{const u=r.filter(g=>g.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:e},f=t.reduce((g,b)=>{const y=Pe(b,"extendMarkSchema",d);return{...g,...y?y(c):{}}},{}),h=F4({...f,inclusive:at(Pe(c,"inclusive",d)),excludes:at(Pe(c,"excludes",d)),group:at(Pe(c,"group",d)),spanning:at(Pe(c,"spanning",d)),code:at(Pe(c,"code",d)),attrs:Object.fromEntries(u.map(g=>{var b;return[g.name,{default:(b=g==null?void 0:g.attribute)===null||b===void 0?void 0:b.default}]}))}),m=at(Pe(c,"parseHTML",d));m&&(h.parseDOM=m.map(g=>L4(g,u)));const p=Pe(c,"renderHTML",d);return p&&(h.toDOM=g=>p({mark:g,HTMLAttributes:sA(g,u)})),[c.name,h]}));return new $K({topNode:s,nodes:a,marks:l})}function SP(t,e){return e.nodes[t]||e.marks[t]||null}function B4(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function u$(t,e){const n=tf.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}const E_e=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(i,o,s,a)=>{var l,c;const u=((c=(l=i.type.spec).toText)===null||c===void 0?void 0:c.call(l,{node:i,pos:o,parent:s,index:a}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?u:u.slice(0,Math.max(0,r-o))}),n};function d$(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class F_{constructor(e){this.find=e.find,this.handler=e.handler}}const O_e=(t,e)=>{if(d$(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function Mb(t){var e;const{editor:n,from:r,to:i,text:o,rules:s,plugin:a}=t,{view:l}=n;if(l.composing)return!1;const c=l.state.doc.resolve(r);if(c.parent.type.spec.code||!((e=c.nodeBefore||c.nodeAfter)===null||e===void 0)&&e.marks.find(f=>f.type.spec.code))return!1;let u=!1;const d=E_e(c)+o;return s.forEach(f=>{if(u)return;const h=O_e(d,f.find);if(!h)return;const m=l.state.tr,p=I_({state:l.state,transaction:m}),g={from:r-(h[0].length-o.length),to:i},{commands:b,chain:y,can:w}=new j_({editor:n,state:p});f.handler({state:p,range:g,match:h,commands:b,chain:y,can:w})===null||!m.steps.length||(m.setMeta(a,{transform:m,from:r,to:i,text:o}),l.dispatch(m),u=!0)}),u}function T_e(t){const{editor:e,rules:n}=t,r=new Ci({state:{init(){return null},apply(i,o,s){const a=i.getMeta(r);if(a)return a;const l=i.getMeta("applyInputRules");return!!l&&setTimeout(()=>{let{text:u}=l;typeof u=="string"?u=u:u=u$(ne.from(u),s.schema);const{from:d}=l,f=d+u.length;Mb({editor:e,from:d,to:f,text:u,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:o}},props:{handleTextInput(i,o,s,a){return Mb({editor:e,from:o,to:s,text:a,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:o}=i.state.selection;o&&Mb({editor:e,from:o.pos,to:o.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,o){if(o.key!=="Enter")return!1;const{$cursor:s}=i.state.selection;return s?Mb({editor:e,from:s.pos,to:s.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function A_e(t){return Object.prototype.toString.call(t).slice(8,-1)}function Nb(t){return A_e(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function B_(t,e){const n={...t};return Nb(t)&&Nb(e)&&Object.keys(e).forEach(r=>{Nb(e[r])&&Nb(t[r])?n[r]=B_(t[r],e[r]):n[r]=e[r]}),n}class Kc{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=at(Pe(this,"addOptions",{name:this.name}))),this.storage=at(Pe(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Kc(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>B_(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new Kc(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=at(Pe(n,"addOptions",{name:n.name})),n.storage=at(Pe(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const s=i.marks();if(!!!s.find(c=>(c==null?void 0:c.type.name)===n.name))return!1;const l=s.find(c=>(c==null?void 0:c.type.name)===n.name);return l&&r.removeStoredMark(l),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}}function M_e(t){return typeof t=="number"}class N_e{constructor(e){this.find=e.find,this.handler=e.handler}}const D_e=(t,e,n)=>{if(d$(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(i=>{const o=[i.text];return o.index=i.index,o.input=t,o.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(i.replaceWith)),o}):[]};function R_e(t){const{editor:e,state:n,from:r,to:i,rule:o,pasteEvent:s,dropEvent:a}=t,{commands:l,chain:c,can:u}=new j_({editor:e,state:n}),d=[];return n.doc.nodesBetween(r,i,(h,m)=>{if(!h.isTextblock||h.type.spec.code)return;const p=Math.max(r,m),g=Math.min(i,m+h.content.size),b=h.textBetween(p-m,g-m,void 0,"");D_e(b,o.find,s).forEach(w=>{if(w.index===void 0)return;const _=p+w.index+1,S=_+w[0].length,C={from:n.tr.mapping.map(_),to:n.tr.mapping.map(S)},k=o.handler({state:n,range:C,match:w,commands:l,chain:c,can:u,pasteEvent:s,dropEvent:a});d.push(k)})}),d.every(h=>h!==null)}let Db=null;const $_e=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)===null||e===void 0||e.setData("text/html",t),n};function I_e(t){const{editor:e,rules:n}=t;let r=null,i=!1,o=!1,s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a;try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}const l=({state:u,from:d,to:f,rule:h,pasteEvt:m})=>{const p=u.tr,g=I_({state:u,transaction:p});if(!(!R_e({editor:e,state:g,from:Math.max(d-1,0),to:f.b-1,rule:h,pasteEvent:m,dropEvent:a})||!p.steps.length)){try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}return s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,p}};return n.map(u=>new Ci({view(d){const f=m=>{var p;r=!((p=d.dom.parentElement)===null||p===void 0)&&p.contains(m.target)?d.dom.parentElement:null,r&&(Db=e)},h=()=>{Db&&(Db=null)};return window.addEventListener("dragstart",f),window.addEventListener("dragend",h),{destroy(){window.removeEventListener("dragstart",f),window.removeEventListener("dragend",h)}}},props:{handleDOMEvents:{drop:(d,f)=>{if(o=r===d.dom.parentElement,a=f,!o){const h=Db;h&&setTimeout(()=>{const m=h.state.selection;m&&h.commands.deleteRange({from:m.from,to:m.to})},10)}return!1},paste:(d,f)=>{var h;const m=(h=f.clipboardData)===null||h===void 0?void 0:h.getData("text/html");return s=f,i=!!(m!=null&&m.includes("data-pm-slice")),!1}}},appendTransaction:(d,f,h)=>{const m=d[0],p=m.getMeta("uiEvent")==="paste"&&!i,g=m.getMeta("uiEvent")==="drop"&&!o,b=m.getMeta("applyPasteRules"),y=!!b;if(!p&&!g&&!y)return;if(y){let{text:S}=b;typeof S=="string"?S=S:S=u$(ne.from(S),h.schema);const{from:C}=b,k=C+S.length,E=$_e(S);return l({rule:u,state:h,from:C,to:{b:k},pasteEvt:E})}const w=f.doc.content.findDiffStart(h.doc.content),_=f.doc.content.findDiffEnd(h.doc.content);if(!(!M_e(w)||!_||w===_.b))return l({rule:u,state:h,from:w,to:_,pasteEvt:s})}}))}function j_e(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}class th{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=th.resolve(e),this.schema=P_e(this.extensions,n),this.setupExtensions()}static resolve(e){const n=th.sort(th.flatten(e)),r=j_e(n.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},i=Pe(n,"addExtensions",r);return i?[n,...this.flatten(i())]:n}).flat(10)}static sort(e){return e.sort((r,i)=>{const o=Pe(r,"priority")||100,s=Pe(i,"priority")||100;return o>s?-1:o<s?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:SP(n.name,this.schema)},i=Pe(n,"addCommands",r);return i?{...e,...i()}:e},{})}get plugins(){const{editor:e}=this,n=th.sort([...this.extensions].reverse()),r=[],i=[],o=n.map(s=>{const a={name:s.name,options:s.options,storage:s.storage,editor:e,type:SP(s.name,this.schema)},l=[],c=Pe(s,"addKeyboardShortcuts",a);let u={};if(s.type==="mark"&&Pe(s,"exitable",a)&&(u.ArrowRight=()=>Kc.handleExit({editor:e,mark:s})),c){const p=Object.fromEntries(Object.entries(c()).map(([g,b])=>[g,()=>b({editor:e})]));u={...u,...p}}const d=n_e(u);l.push(d);const f=Pe(s,"addInputRules",a);B4(s,e.options.enableInputRules)&&f&&r.push(...f());const h=Pe(s,"addPasteRules",a);B4(s,e.options.enablePasteRules)&&h&&i.push(...h());const m=Pe(s,"addProseMirrorPlugins",a);if(m){const p=m();l.push(...p)}return l}).flat();return[T_e({editor:e,rules:r}),...I_e({editor:e,rules:i}),...o]}get attributes(){return W7(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=L_(this.extensions);return Object.fromEntries(n.filter(r=>!!Pe(r,"addNodeView")).map(r=>{const i=this.attributes.filter(l=>l.type===r.name),o={name:r.name,options:r.options,storage:r.storage,editor:e,type:er(r.name,this.schema)},s=Pe(r,"addNodeView",o);if(!s)return[];const a=(l,c,u,d,f)=>{const h=sA(l,i);return s()({node:l,view:c,getPos:u,decorations:d,innerDecorations:f,editor:e,extension:r,HTMLAttributes:h})};return[r.name,a]}))}setupExtensions(){this.extensions.forEach(e=>{var n;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:SP(e.name,this.schema)};e.type==="mark"&&(!((n=at(Pe(e,"keepOnSplit",r)))!==null&&n!==void 0)||n)&&this.splittableMarks.push(e.name);const i=Pe(e,"onBeforeCreate",r),o=Pe(e,"onCreate",r),s=Pe(e,"onUpdate",r),a=Pe(e,"onSelectionUpdate",r),l=Pe(e,"onTransaction",r),c=Pe(e,"onFocus",r),u=Pe(e,"onBlur",r),d=Pe(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),o&&this.editor.on("create",o),s&&this.editor.on("update",s),a&&this.editor.on("selectionUpdate",a),l&&this.editor.on("transaction",l),c&&this.editor.on("focus",c),u&&this.editor.on("blur",u),d&&this.editor.on("destroy",d)})}}class ri{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=at(Pe(this,"addOptions",{name:this.name}))),this.storage=at(Pe(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new ri(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>B_(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new ri({...this.config,...e});return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=at(Pe(n,"addOptions",{name:n.name})),n.storage=at(Pe(n,"addStorage",{name:n.name,options:n.options})),n}}function G7(t,e,n){const{from:r,to:i}=e,{blockSeparator:o=`

`,textSerializers:s={}}=n||{};let a="";return t.nodesBetween(r,i,(l,c,u,d)=>{var f;l.isBlock&&c>r&&(a+=o);const h=s==null?void 0:s[l.type.name];if(h)return u&&(a+=h({node:l,pos:c,parent:u,index:d,range:e})),!1;l.isText&&(a+=(f=l==null?void 0:l.text)===null||f===void 0?void 0:f.slice(Math.max(r,c)-c,i-c))}),a}function K7(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const L_e=ri.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Ci({key:new pa("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:o}=i,s=Math.min(...o.map(u=>u.$from.pos)),a=Math.max(...o.map(u=>u.$to.pos)),l=K7(n);return G7(r,{from:s,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),F_e=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),B_e=(t=!1)=>({commands:e})=>e.setContent("",t),V_e=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:o,$to:s})=>{t.doc.nodesBetween(o.pos,s.pos,(a,l)=>{if(a.type.isText)return;const{doc:c,mapping:u}=e,d=c.resolve(u.map(l)),f=c.resolve(u.map(l+a.nodeSize)),h=d.blockRange(f);if(!h)return;const m=dm(h);if(a.type.isTextblock){const{defaultType:p}=d.parent.contentMatchAt(d.index());e.setNodeMarkup(h.start,p)}(m||m===0)&&e.lift(h,m)})}),!0},z_e=t=>e=>t(e),U_e=()=>({state:t,dispatch:e})=>V7(t,e),H_e=(t,e)=>({editor:n,tr:r})=>{const{state:i}=n,o=i.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const s=r.mapping.map(e);return r.insert(s,o.content),r.setSelection(new We(r.doc.resolve(s-1))),!0},W_e=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const i=t.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===r.type){if(e){const a=i.before(o),l=i.after(o);t.delete(a,l).scrollIntoView()}return!0}return!1},q_e=t=>({tr:e,state:n,dispatch:r})=>{const i=er(t,n.schema),o=e.selection.$anchor;for(let s=o.depth;s>0;s-=1)if(o.node(s).type===i){if(r){const l=o.before(s),c=o.after(s);e.delete(l,c).scrollIntoView()}return!0}return!1},G_e=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},K_e=()=>({state:t,dispatch:e})=>o$(t,e),Y_e=()=>({commands:t})=>t.keyboardShortcut("Enter"),X_e=()=>({state:t,dispatch:e})=>l_e(t,e);function t1(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:d$(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function Y7(t,e,n={}){return t.find(r=>r.type===e&&t1(Object.fromEntries(Object.keys(n).map(i=>[i,r.attrs[i]])),n))}function V4(t,e,n={}){return!!Y7(t,e,n)}function f$(t,e,n){var r;if(!t||!e)return;let i=t.parent.childAfter(t.parentOffset);if((!i.node||!i.node.marks.some(u=>u.type===e))&&(i=t.parent.childBefore(t.parentOffset)),!i.node||!i.node.marks.some(u=>u.type===e)||(n=n||((r=i.node.marks[0])===null||r===void 0?void 0:r.attrs),!Y7([...i.node.marks],e,n)))return;let s=i.index,a=t.start()+i.offset,l=s+1,c=a+i.node.nodeSize;for(;s>0&&V4([...t.parent.child(s-1).marks],e,n);)s-=1,a-=t.parent.child(s).nodeSize;for(;l<t.parent.childCount&&V4([...t.parent.child(l).marks],e,n);)c+=t.parent.child(l).nodeSize,l+=1;return{from:a,to:c}}function au(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const Z_e=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const o=au(t,r.schema),{doc:s,selection:a}=n,{$from:l,from:c,to:u}=a;if(i){const d=f$(l,o,e);if(d&&d.from<=c&&d.to>=u){const f=We.create(s,d.from,d.to);n.setSelection(f)}}return!0},J_e=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function X7(t){return t instanceof We}function qu(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function Z7(t,e=null){if(!e)return null;const n=ot.atStart(t),r=ot.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,o=r.to;return e==="all"?We.create(t,qu(0,i,o),qu(t.content.size,i,o)):We.create(t,qu(e,i,o),qu(e,i,o))}function Q_e(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function h$(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const eCe=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:o})=>{e={scrollIntoView:!0,...e};const s=()=>{(h$()||Q_e())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(o&&t===null&&!X7(n.state.selection))return s(),!0;const a=Z7(i.doc,t)||n.state.selection,l=n.state.selection.eq(a);return o&&(l||i.setSelection(a),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),s()),!0},tCe=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),nCe=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),J7=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&J7(r)}return t};function Rb(t){const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return J7(n)}function n1(t,e,n){if(t instanceof Oc||t instanceof ne)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,i=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return ne.fromArray(t.map(a=>e.nodeFromJSON(a)));const s=e.nodeFromJSON(t);return n.errorOnInvalidContent&&s.check(),s}catch(o){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:o});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",o),n1("",e,n)}if(i){if(n.errorOnInvalidContent){let s=!1,a="";const l=new $K({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(s=!0,a=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?Tc.fromSchema(l).parseSlice(Rb(t),n.parseOptions):Tc.fromSchema(l).parse(Rb(t),n.parseOptions),n.errorOnInvalidContent&&s)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const o=Tc.fromSchema(e);return n.slice?o.parseSlice(Rb(t),n.parseOptions).content:o.parse(Rb(t),n.parseOptions)}return n1("",e,n)}function rCe(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof Kn||i instanceof Jn))return;const o=t.mapping.maps[r];let s=0;o.forEach((a,l,c,u)=>{s===0&&(s=u)}),t.setSelection(ot.near(t.doc.resolve(s),n))}const iCe=t=>!("type"in t),oCe=(t,e,n)=>({tr:r,dispatch:i,editor:o})=>{var s;if(i){n={parseOptions:o.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let a;try{a=n1(e,o.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions},errorOnInvalidContent:(s=n.errorOnInvalidContent)!==null&&s!==void 0?s:o.options.enableContentCheck})}catch(m){return o.emit("contentError",{editor:o,error:m,disableCollaboration:()=>{o.storage.collaboration&&(o.storage.collaboration.isDisabled=!0)}}),!1}let{from:l,to:c}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},u=!0,d=!0;if((iCe(a)?a:[a]).forEach(m=>{m.check(),u=u?m.isText&&m.marks.length===0:!1,d=d?m.isBlock:!1}),l===c&&d){const{parent:m}=r.doc.resolve(l);m.isTextblock&&!m.type.spec.code&&!m.childCount&&(l-=1,c+=1)}let h;if(u){if(Array.isArray(e))h=e.map(m=>m.text||"").join("");else if(e instanceof ne){let m="";e.forEach(p=>{p.text&&(m+=p.text)}),h=m}else typeof e=="object"&&e&&e.text?h=e.text:h=e;r.insertText(h,l,c)}else h=a,r.replaceWith(l,c,h);n.updateSelection&&rCe(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:l,text:h}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:l,text:h})}return!0},sCe=()=>({state:t,dispatch:e})=>o_e(t,e),aCe=()=>({state:t,dispatch:e})=>s_e(t,e),lCe=()=>({state:t,dispatch:e})=>R7(t,e),cCe=()=>({state:t,dispatch:e})=>L7(t,e),uCe=()=>({state:t,dispatch:e,tr:n})=>{try{const r=A_(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},dCe=()=>({state:t,dispatch:e,tr:n})=>{try{const r=A_(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},fCe=()=>({state:t,dispatch:e})=>r_e(t,e),hCe=()=>({state:t,dispatch:e})=>i_e(t,e);function Q7(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function pCe(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,o,s;for(let a=0;a<e.length-1;a+=1){const l=e[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))h$()||Q7()?s=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),s&&(n=`Meta-${n}`),o&&(n=`Shift-${n}`),n}const mCe=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const o=pCe(t).split(/-(?!$)/),s=o.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),a=new KeyboardEvent("keydown",{key:s==="Space"?" ":s,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,a))});return l==null||l.steps.forEach(c=>{const u=c.map(r.mapping);u&&i&&r.maybeStep(u)}),!0};function cy(t,e,n={}){const{from:r,to:i,empty:o}=t.selection,s=e?er(e,t.schema):null,a=[];t.doc.nodesBetween(r,i,(d,f)=>{if(d.isText)return;const h=Math.max(r,f),m=Math.min(i,f+d.nodeSize);a.push({node:d,from:h,to:m})});const l=i-r,c=a.filter(d=>s?s.name===d.node.type.name:!0).filter(d=>t1(d.node.attrs,n,{strict:!1}));return o?!!c.length:c.reduce((d,f)=>d+f.to-f.from,0)>=l}const gCe=(t,e={})=>({state:n,dispatch:r})=>{const i=er(t,n.schema);return cy(n,i,e)?a_e(n,r):!1},vCe=()=>({state:t,dispatch:e})=>z7(t,e),yCe=t=>({state:e,dispatch:n})=>{const r=er(t,e.schema);return b_e(r)(e,n)},bCe=()=>({state:t,dispatch:e})=>B7(t,e);function V_(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function z4(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}const wCe=(t,e)=>({tr:n,state:r,dispatch:i})=>{let o=null,s=null;const a=V_(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(o=er(t,r.schema)),a==="mark"&&(s=au(t,r.schema)),i&&n.selection.ranges.forEach(l=>{r.doc.nodesBetween(l.$from.pos,l.$to.pos,(c,u)=>{o&&o===c.type&&n.setNodeMarkup(u,void 0,z4(c.attrs,e)),s&&c.marks.length&&c.marks.forEach(d=>{s===d.type&&n.addMark(u,u+c.nodeSize,s.create(z4(d.attrs,e)))})})}),!0):!1},xCe=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),SCe=()=>({tr:t,dispatch:e})=>{if(e){const n=new Wi(t.doc);t.setSelection(n)}return!0},_Ce=()=>({state:t,dispatch:e})=>I7(t,e),CCe=()=>({state:t,dispatch:e})=>F7(t,e),kCe=()=>({state:t,dispatch:e})=>d_e(t,e),PCe=()=>({state:t,dispatch:e})=>p_e(t,e),ECe=()=>({state:t,dispatch:e})=>h_e(t,e);function aA(t,e,n={},r={}){return n1(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}const OCe=(t,e=!1,n={},r={})=>({editor:i,tr:o,dispatch:s,commands:a})=>{var l,c;const{doc:u}=o;if(n.preserveWhitespace!=="full"){const d=aA(t,i.schema,n,{errorOnInvalidContent:(l=r.errorOnInvalidContent)!==null&&l!==void 0?l:i.options.enableContentCheck});return s&&o.replaceWith(0,u.content.size,d).setMeta("preventUpdate",!e),!0}return s&&o.setMeta("preventUpdate",!e),a.insertContentAt({from:0,to:u.content.size},t,{parseOptions:n,errorOnInvalidContent:(c=r.errorOnInvalidContent)!==null&&c!==void 0?c:i.options.enableContentCheck})};function eY(t,e){const n=au(e,t.schema),{from:r,to:i,empty:o}=t.selection,s=[];o?(t.storedMarks&&s.push(...t.storedMarks),s.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,l=>{s.push(...l.marks)});const a=s.find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function TCe(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function ACe(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function p$(t){return e=>ACe(e.$from,t)}function MCe(t,e){const n={from:0,to:t.content.size};return G7(t,n,e)}function NCe(t,e){const n=er(e,t.schema),{from:r,to:i}=t.selection,o=[];t.doc.nodesBetween(r,i,a=>{o.push(a)});const s=o.reverse().find(a=>a.type.name===n.name);return s?{...s.attrs}:{}}function DCe(t,e){const n=V_(typeof e=="string"?e:e.name,t.schema);return n==="node"?NCe(t,e):n==="mark"?eY(t,e):{}}function tY(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const o=n.resolve(t),s=f$(o,i.type);s&&r.push({mark:i,...s})}):n.nodesBetween(t,e,(i,o)=>{!i||(i==null?void 0:i.nodeSize)===void 0||r.push(...i.marks.map(s=>({from:o,to:o+i.nodeSize,mark:s})))}),r}function Rw(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(o=>o.type===e&&o.name===r);return i?i.attribute.keepOnSplit:!1}))}function lA(t,e,n={}){const{empty:r,ranges:i}=t.selection,o=e?au(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(d=>o?o.name===d.type.name:!0).find(d=>t1(d.attrs,n,{strict:!1}));let s=0;const a=[];if(i.forEach(({$from:d,$to:f})=>{const h=d.pos,m=f.pos;t.doc.nodesBetween(h,m,(p,g)=>{if(!p.isText&&!p.marks.length)return;const b=Math.max(h,g),y=Math.min(m,g+p.nodeSize),w=y-b;s+=w,a.push(...p.marks.map(_=>({mark:_,from:b,to:y})))})}),s===0)return!1;const l=a.filter(d=>o?o.name===d.mark.type.name:!0).filter(d=>t1(d.mark.attrs,n,{strict:!1})).reduce((d,f)=>d+f.to-f.from,0),c=a.filter(d=>o?d.mark.type!==o&&d.mark.type.excludes(o):!0).reduce((d,f)=>d+f.to-f.from,0);return(l>0?l+c:l)>=s}function RCe(t,e,n={}){if(!e)return cy(t,null,n)||lA(t,null,n);const r=V_(e,t.schema);return r==="node"?cy(t,e,n):r==="mark"?lA(t,e,n):!1}function U4(t,e){const{nodeExtensions:n}=L_(e),r=n.find(s=>s.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},o=at(Pe(r,"group",i));return typeof o!="string"?!1:o.split(" ").includes("list")}function m$(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!==null&&r!==void 0?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(o=>{i!==!1&&(m$(o,{ignoreWhitespace:n,checkChildren:e})||(i=!1))}),i}return!1}function $Ce(t){return t instanceof Ae}function ICe(t,e,n){var r;const{selection:i}=e;let o=null;if(X7(i)&&(o=i.$cursor),o){const a=(r=t.storedMarks)!==null&&r!==void 0?r:o.marks();return!!n.isInSet(a)||!a.some(l=>l.type.excludes(n))}const{ranges:s}=i;return s.some(({$from:a,$to:l})=>{let c=a.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(a.pos,l.pos,(u,d,f)=>{if(c)return!1;if(u.isInline){const h=!f||f.type.allowsMarkType(n),m=!!n.isInSet(u.marks)||!u.marks.some(p=>p.type.excludes(n));c=h&&m}return!c}),c})}const jCe=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:o}=n,{empty:s,ranges:a}=o,l=au(t,r.schema);if(i)if(s){const c=eY(r,l);n.addStoredMark(l.create({...c,...e}))}else a.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;r.doc.nodesBetween(u,d,(f,h)=>{const m=Math.max(h,u),p=Math.min(h+f.nodeSize,d);f.marks.find(b=>b.type===l)?f.marks.forEach(b=>{l===b.type&&n.addMark(m,p,l.create({...b.attrs,...e}))}):n.addMark(m,p,l.create(e))})});return ICe(r,n,l)},LCe=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),FCe=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const o=er(t,n.schema);let s;return n.selection.$anchor.sameParent(n.selection.$head)&&(s=n.selection.$anchor.parent.attrs),o.isTextblock?i().command(({commands:a})=>j4(o,{...s,...e})(n)?!0:a.clearNodes()).command(({state:a})=>j4(o,{...s,...e})(a,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},BCe=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=qu(t,0,r.content.size),o=Ae.create(r,i);e.setSelection(o)}return!0},VCe=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:o}=typeof t=="number"?{from:t,to:t}:t,s=We.atStart(r).from,a=We.atEnd(r).to,l=qu(i,s,a),c=qu(o,s,a),u=We.create(r,l,c);e.setSelection(u)}return!0},zCe=t=>({state:e,dispatch:n})=>{const r=er(t,e.schema);return S_e(r)(e,n)};function H4(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e==null?void 0:e.includes(i.type.name));t.tr.ensureMarks(r)}}const UCe=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:o,doc:s}=e,{$from:a,$to:l}=o,c=i.extensionManager.attributes,u=Rw(c,a.node().type.name,a.node().attrs);if(o instanceof Ae&&o.node.isBlock)return!a.parentOffset||!Ga(s,a.pos)?!1:(r&&(t&&H4(n,i.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const d=l.parentOffset===l.parent.content.size,f=a.depth===0?void 0:TCe(a.node(-1).contentMatchAt(a.indexAfter(-1)));let h=d&&f?[{type:f,attrs:u}]:void 0,m=Ga(e.doc,e.mapping.map(a.pos),1,h);if(!h&&!m&&Ga(e.doc,e.mapping.map(a.pos),1,f?[{type:f}]:void 0)&&(m=!0,h=f?[{type:f,attrs:u}]:void 0),r){if(m&&(o instanceof We&&e.deleteSelection(),e.split(e.mapping.map(a.pos),1,h),f&&!d&&!a.parentOffset&&a.parent.type!==f)){const p=e.mapping.map(a.before()),g=e.doc.resolve(p);a.node(-1).canReplaceWith(g.index(),g.index()+1,f)&&e.setNodeMarkup(e.mapping.map(a.before()),f)}t&&H4(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return m},HCe=(t,e={})=>({tr:n,state:r,dispatch:i,editor:o})=>{var s;const a=er(t,r.schema),{$from:l,$to:c}=r.selection,u=r.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const d=l.node(-1);if(d.type!==a)return!1;const f=o.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(i){let b=ne.empty;const y=l.index(-1)?1:l.index(-2)?2:3;for(let E=l.depth-y;E>=l.depth-3;E-=1)b=ne.from(l.node(E).copy(b));const w=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,_={...Rw(f,l.node().type.name,l.node().attrs),...e},S=((s=a.contentMatch.defaultType)===null||s===void 0?void 0:s.createAndFill(_))||void 0;b=b.append(ne.from(a.createAndFill(null,S)||void 0));const C=l.before(l.depth-(y-1));n.replace(C,l.after(-w),new ge(b,4-y,0));let k=-1;n.doc.nodesBetween(C,n.doc.content.size,(E,T)=>{if(k>-1)return!1;E.isTextblock&&E.content.size===0&&(k=T+1)}),k>-1&&n.setSelection(We.near(n.doc.resolve(k))),n.scrollIntoView()}return!0}const h=c.pos===l.end()?d.contentMatchAt(0).defaultType:null,m={...Rw(f,d.type.name,d.attrs),...e},p={...Rw(f,l.node().type.name,l.node().attrs),...e};n.delete(l.pos,c.pos);const g=h?[{type:a,attrs:m},{type:h,attrs:p}]:[{type:a,attrs:m}];if(!Ga(n.doc,l.pos,2))return!1;if(i){const{selection:b,storedMarks:y}=r,{splittableMarks:w}=o.extensionManager,_=y||b.$to.parentOffset&&b.$from.marks();if(n.split(l.pos,2,g).scrollIntoView(),!_||!i)return!0;const S=_.filter(C=>w.includes(C.type.name));n.ensureMarks(S)}return!0},_P=(t,e)=>{const n=p$(s=>s.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&ou(t.doc,n.pos)&&t.join(n.pos),!0},CP=(t,e)=>{const n=p$(s=>s.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&ou(t.doc,r)&&t.join(r),!0},WCe=(t,e,n,r={})=>({editor:i,tr:o,state:s,dispatch:a,chain:l,commands:c,can:u})=>{const{extensions:d,splittableMarks:f}=i.extensionManager,h=er(t,s.schema),m=er(e,s.schema),{selection:p,storedMarks:g}=s,{$from:b,$to:y}=p,w=b.blockRange(y),_=g||p.$to.parentOffset&&p.$from.marks();if(!w)return!1;const S=p$(C=>U4(C.type.name,d))(p);if(w.depth>=1&&S&&w.depth-S.depth<=1){if(S.node.type===h)return c.liftListItem(m);if(U4(S.node.type.name,d)&&h.validContent(S.node.content)&&a)return l().command(()=>(o.setNodeMarkup(S.pos,h),!0)).command(()=>_P(o,h)).command(()=>CP(o,h)).run()}return!n||!_||!a?l().command(()=>u().wrapInList(h,r)?!0:c.clearNodes()).wrapInList(h,r).command(()=>_P(o,h)).command(()=>CP(o,h)).run():l().command(()=>{const C=u().wrapInList(h,r),k=_.filter(E=>f.includes(E.type.name));return o.ensureMarks(k),C?!0:c.clearNodes()}).wrapInList(h,r).command(()=>_P(o,h)).command(()=>CP(o,h)).run()},qCe=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:o=!1}=n,s=au(t,r.schema);return lA(r,s,e)?i.unsetMark(s,{extendEmptyMarkRange:o}):i.setMark(s,e)},GCe=(t,e,n={})=>({state:r,commands:i})=>{const o=er(t,r.schema),s=er(e,r.schema),a=cy(r,o,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),a?i.setNode(s,l):i.setNode(o,{...l,...n})},KCe=(t,e={})=>({state:n,commands:r})=>{const i=er(t,n.schema);return cy(n,i,e)?r.lift(i):r.wrapIn(i,e)},YCe=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let o;if(i.spec.isInputRules&&(o=i.getState(t))){if(e){const s=t.tr,a=o.transform;for(let l=a.steps.length-1;l>=0;l-=1)s.step(a.steps[l].invert(a.docs[l]));if(o.text){const l=s.doc.resolve(o.from).marks();s.replaceWith(o.from,o.to,t.schema.text(o.text,l))}else s.delete(o.from,o.to)}return!0}}return!1},XCe=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(o=>{t.removeMark(o.$from.pos,o.$to.pos)}),!0},ZCe=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var o;const{extendEmptyMarkRange:s=!1}=e,{selection:a}=n,l=au(t,r.schema),{$from:c,empty:u,ranges:d}=a;if(!i)return!0;if(u&&s){let{from:f,to:h}=a;const m=(o=c.marks().find(g=>g.type===l))===null||o===void 0?void 0:o.attrs,p=f$(c,l,m);p&&(f=p.from,h=p.to),n.removeMark(f,h,l)}else d.forEach(f=>{n.removeMark(f.$from.pos,f.$to.pos,l)});return n.removeStoredMark(l),!0},JCe=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let o=null,s=null;const a=V_(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(o=er(t,r.schema)),a==="mark"&&(s=au(t,r.schema)),i&&n.selection.ranges.forEach(l=>{const c=l.$from.pos,u=l.$to.pos;let d,f,h,m;n.selection.empty?r.doc.nodesBetween(c,u,(p,g)=>{o&&o===p.type&&(h=Math.max(g,c),m=Math.min(g+p.nodeSize,u),d=g,f=p)}):r.doc.nodesBetween(c,u,(p,g)=>{g<c&&o&&o===p.type&&(h=Math.max(g,c),m=Math.min(g+p.nodeSize,u),d=g,f=p),g>=c&&g<=u&&(o&&o===p.type&&n.setNodeMarkup(g,void 0,{...p.attrs,...e}),s&&p.marks.length&&p.marks.forEach(b=>{if(s===b.type){const y=Math.max(g,c),w=Math.min(g+p.nodeSize,u);n.addMark(y,w,s.create({...b.attrs,...e}))}}))}),f&&(d!==void 0&&n.setNodeMarkup(d,void 0,{...f.attrs,...e}),s&&f.marks.length&&f.marks.forEach(p=>{s===p.type&&n.addMark(h,m,s.create({...p.attrs,...e}))}))}),!0):!1},QCe=(t,e={})=>({state:n,dispatch:r})=>{const i=er(t,n.schema);return m_e(i,e)(n,r)},eke=(t,e={})=>({state:n,dispatch:r})=>{const i=er(t,n.schema);return g_e(i,e)(n,r)};var tke=Object.freeze({__proto__:null,blur:F_e,clearContent:B_e,clearNodes:V_e,command:z_e,createParagraphNear:U_e,cut:H_e,deleteCurrentNode:W_e,deleteNode:q_e,deleteRange:G_e,deleteSelection:K_e,enter:Y_e,exitCode:X_e,extendMarkRange:Z_e,first:J_e,focus:eCe,forEach:tCe,insertContent:nCe,insertContentAt:oCe,joinBackward:lCe,joinDown:aCe,joinForward:cCe,joinItemBackward:uCe,joinItemForward:dCe,joinTextblockBackward:fCe,joinTextblockForward:hCe,joinUp:sCe,keyboardShortcut:mCe,lift:gCe,liftEmptyBlock:vCe,liftListItem:yCe,newlineInCode:bCe,resetAttributes:wCe,scrollIntoView:xCe,selectAll:SCe,selectNodeBackward:_Ce,selectNodeForward:CCe,selectParentNode:kCe,selectTextblockEnd:PCe,selectTextblockStart:ECe,setContent:OCe,setMark:jCe,setMeta:LCe,setNode:FCe,setNodeSelection:BCe,setTextSelection:VCe,sinkListItem:zCe,splitBlock:UCe,splitListItem:HCe,toggleList:WCe,toggleMark:qCe,toggleNode:GCe,toggleWrap:KCe,undoInputRule:YCe,unsetAllMarks:XCe,unsetMark:ZCe,updateAttributes:JCe,wrapIn:QCe,wrapInList:eke});const nke=ri.create({name:"commands",addCommands(){return{...tke}}}),rke=ri.create({name:"drop",addProseMirrorPlugins(){return[new Ci({key:new pa("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),ike=ri.create({name:"editable",addProseMirrorPlugins(){return[new Ci({key:new pa("editable"),props:{editable:()=>this.editor.options.editable}})]}}),oke=new pa("focusEvents"),ske=ri.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Ci({key:oke,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),ake=ri.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:s})=>[()=>s.undoInputRule(),()=>s.command(({tr:a})=>{const{selection:l,doc:c}=a,{empty:u,$anchor:d}=l,{pos:f,parent:h}=d,m=d.parent.isTextblock&&f>0?a.doc.resolve(f-1):d,p=m.parent.type.spec.isolating,g=d.pos-d.parentOffset,b=p&&m.parent.childCount===1?g===d.pos:ot.atStart(c).from===f;return!u||!h.type.isTextblock||h.textContent.length||!b||b&&d.parent.type.name==="paragraph"?!1:s.clearNodes()}),()=>s.deleteSelection(),()=>s.joinBackward(),()=>s.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:s})=>[()=>s.deleteSelection(),()=>s.deleteCurrentNode(),()=>s.joinForward(),()=>s.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:s})=>[()=>s.newlineInCode(),()=>s.createParagraphNear(),()=>s.liftEmptyBlock(),()=>s.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},o={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return h$()||Q7()?o:i},addProseMirrorPlugins(){return[new Ci({key:new pa("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(p=>p.getMeta("composition")))return;const r=t.some(p=>p.docChanged)&&!e.doc.eq(n.doc),i=t.some(p=>p.getMeta("preventClearDocument"));if(!r||i)return;const{empty:o,from:s,to:a}=e.selection,l=ot.atStart(e.doc).from,c=ot.atEnd(e.doc).to;if(o||!(s===l&&a===c)||!m$(n.doc))return;const f=n.tr,h=I_({state:n,transaction:f}),{commands:m}=new j_({editor:this.editor,state:h});if(m.clearNodes(),!!f.steps.length)return f}})]}}),lke=ri.create({name:"paste",addProseMirrorPlugins(){return[new Ci({key:new pa("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),cke=ri.create({name:"tabindex",addProseMirrorPlugins(){return[new Ci({key:new pa("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class $u{get name(){return this.node.type.name}constructor(e,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=i}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new $u(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new $u(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new $u(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,o=n.isAtom&&!n.isText,s=this.pos+r+(o?0:1),a=this.resolvedPos.doc.resolve(s);if(!i&&a.depth<=this.depth)return;const l=new $u(a,this.editor,i,i?n:null);i&&(l.actualDepth=this.depth+1),e.push(new $u(a,this.editor,i,i?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(n).length>0){const o=i.node.attrs,s=Object.keys(n);for(let a=0;a<s.length;a+=1){const l=s[a];if(o[l]!==n[l])break}}else r=i;i=i.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const o=Object.keys(n);return this.children.forEach(s=>{r&&i.length>0||(s.node.type.name===e&&o.every(l=>n[l]===s.node.attrs[l])&&i.push(s),!(r&&i.length>0)&&(i=i.concat(s.querySelectorAll(e,n,r))))}),i}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}}const uke=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function dke(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}class fke extends __e{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:r,moved:i})=>this.options.onDrop(n,r,i)),this.on("paste",({event:n,slice:r})=>this.options.onPaste(n,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=dke(uke,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,n=!0){this.setOptions({editable:e}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){const r=q7(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}unregisterPlugin(e){if(this.isDestroyed)return;const n=this.state.plugins;let r=n;if([].concat(e).forEach(o=>{const s=typeof o=="string"?`${o}$`:o.key;r=n.filter(a=>!a.key.startsWith(s))}),n.length===r.length)return;const i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}createExtensionManager(){var e,n;const i=[...this.options.enableCoreExtensions?[ike,L_e.configure({blockSeparator:(n=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||n===void 0?void 0:n.blockSeparator}),nke,ske,ake,cke,rke,lke].filter(o=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[o.name]!==!1:!0):[],...this.options.extensions].filter(o=>["extension","node","mark"].includes(o==null?void 0:o.type));this.extensionManager=new th(i,this)}createCommandManager(){this.commandManager=new j_({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let n;try{n=aA(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(s){if(!(s instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(s.message))throw s;this.emit("contentError",{editor:this,error:s,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(a=>a.name!=="collaboration"),this.createExtensionManager()}}),n=aA(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const r=Z7(n,this.options.autofocus);this.view=new GSe(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:eh.create({doc:n,selection:r||void 0})});const i=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(i),this.createNodeViews(),this.prependClass();const o=this.view.dom;o.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(s=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(s)});return}const n=this.state.apply(e),r=!this.state.selection.eq(n.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:n}),this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),o=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),o&&this.emit("blur",{editor:this,event:o.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return DCe(this.state,e)}isActive(e,n){const r=typeof e=="string"?e:null,i=typeof e=="string"?n:e;return RCe(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return u$(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:r={}}=e||{};return MCe(this.state.doc,{blockSeparator:n,textSerializers:{...K7(this.schema),...r}})}get isEmpty(){return m$(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,n))||null}$nodes(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,n))||null}$pos(e){const n=this.state.doc.resolve(e);return new $u(n,this)}get $doc(){return this.$pos(0)}}function hp(t){return new F_({find:t.find,handler:({state:e,range:n,match:r})=>{const i=at(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:o}=e,s=r[r.length-1],a=r[0];if(s){const l=a.search(/\S/),c=n.from+a.indexOf(s),u=c+s.length;if(tY(n.from,n.to,e.doc).filter(h=>h.mark.type.excluded.find(p=>p===t.type&&p!==h.mark.type)).filter(h=>h.to>c).length)return null;u<n.to&&o.delete(u,n.to),c>n.from&&o.delete(n.from+l,c);const f=n.from+l+s.length;o.addMark(n.from+l,f,t.type.create(i||{})),o.removeStoredMark(t.type)}}})}function hke(t){return new F_({find:t.find,handler:({state:e,range:n,match:r})=>{const i=at(t.getAttributes,void 0,r)||{},{tr:o}=e,s=n.from;let a=n.to;const l=t.type.create(i);if(r[1]){const c=r[0].lastIndexOf(r[1]);let u=s+c;u>a?u=a:a=u+r[1].length;const d=r[0][r[0].length-1];o.insertText(d,s+r[0].length-1),o.replaceWith(u,a,l)}else if(r[0]){const c=t.type.isInline?s:s-1;o.insert(c,t.type.create(i)).delete(o.mapping.map(s),o.mapping.map(a))}o.scrollIntoView()}})}function cA(t){return new F_({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),o=at(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,o)}})}function uy(t){return new F_({find:t.find,handler:({state:e,range:n,match:r,chain:i})=>{const o=at(t.getAttributes,void 0,r)||{},s=e.tr.delete(n.from,n.to),l=s.doc.resolve(n.from).blockRange(),c=l&&KR(l,t.type,o);if(!c)return null;if(s.wrap(l,c),t.keepMarks&&t.editor){const{selection:d,storedMarks:f}=e,{splittableMarks:h}=t.editor.extensionManager,m=f||d.$to.parentOffset&&d.$from.marks();if(m){const p=m.filter(g=>h.includes(g.type.name));s.ensureMarks(p)}}if(t.keepAttributes){const d=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(d,o).run()}const u=s.doc.resolve(n.from-1).nodeBefore;u&&u.type===t.type&&ou(s.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,u))&&s.join(n.from-1)}})}let ys=class uA{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=at(Pe(this,"addOptions",{name:this.name}))),this.storage=at(Pe(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new uA(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>B_(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new uA(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=at(Pe(n,"addOptions",{name:n.name})),n.storage=at(Pe(n,"addStorage",{name:n.name,options:n.options})),n}};function pp(t){return new N_e({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:i})=>{const o=at(t.getAttributes,void 0,r,i);if(o===!1||o===null)return null;const{tr:s}=e,a=r[r.length-1],l=r[0];let c=n.to;if(a){const u=l.search(/\S/),d=n.from+l.indexOf(a),f=d+a.length;if(tY(n.from,n.to,e.doc).filter(m=>m.mark.type.excluded.find(g=>g===t.type&&g!==m.mark.type)).filter(m=>m.to>d).length)return null;f<n.to&&s.delete(f,n.to),d>n.from&&s.delete(n.from+u,d),c=n.from+u+a.length,s.addMark(n.from+u,c,t.type.create(o||{})),s.removeStoredMark(t.type)}}})}function pke(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var nY={exports:{}},kP={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W4;function mke(){if(W4)return kP;W4=1;var t=A;function e(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,o=t.useLayoutEffect,s=t.useDebugValue;function a(d,f){var h=f(),m=r({inst:{value:h,getSnapshot:f}}),p=m[0].inst,g=m[1];return o(function(){p.value=h,p.getSnapshot=f,l(p)&&g({inst:p})},[d,h,f]),i(function(){return l(p)&&g({inst:p}),d(function(){l(p)&&g({inst:p})})},[d]),s(h),h}function l(d){var f=d.getSnapshot;d=d.value;try{var h=f();return!n(d,h)}catch{return!0}}function c(d,f){return f()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:a;return kP.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:u,kP}nY.exports=mke();var g$=nY.exports;const gke=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},vke=({contentComponent:t})=>{const e=g$.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return A.createElement(A.Fragment,null,Object.values(e))};function yke(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:hD.createPortal(r.reactElement,r.element,n)},t.forEach(i=>i())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(i=>i())}}}class bke extends A.Component{constructor(e){var n;super(e),this.editorContentRef=A.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((n=e.editor)===null||n===void 0)&&n.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.options.element.childNodes),e.setOptions({element:n}),e.contentComponent=yke(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const n=document.createElement("div");n.append(...e.options.element.childNodes),e.setOptions({element:n})}render(){const{editor:e,innerRef:n,...r}=this.props;return A.createElement(A.Fragment,null,A.createElement("div",{ref:gke(n,this.editorContentRef),...r}),(e==null?void 0:e.contentComponent)&&A.createElement(vke,{contentComponent:e.contentComponent}))}}const wke=x.forwardRef((t,e)=>{const n=A.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return A.createElement(bke,{key:n,innerRef:e,...t})}),xke=A.memo(wke);var Ske=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;for(i of e.entries())if(!t(i[1],n.get(i[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(e[i]!==n[i])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(o=Object.keys(e),r=o.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;i--!==0;){var s=o[i];if(!(s==="_owner"&&e.$$typeof)&&!t(e[s],n[s]))return!1}return!0}return e!==e&&n!==n},_ke=pke(Ske),rY={exports:{}},PP={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q4;function Cke(){if(q4)return PP;q4=1;var t=A,e=g$;function n(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,o=t.useRef,s=t.useEffect,a=t.useMemo,l=t.useDebugValue;return PP.useSyncExternalStoreWithSelector=function(c,u,d,f,h){var m=o(null);if(m.current===null){var p={hasValue:!1,value:null};m.current=p}else p=m.current;m=a(function(){function b(C){if(!y){if(y=!0,w=C,C=f(C),h!==void 0&&p.hasValue){var k=p.value;if(h(k,C))return _=k}return _=C}if(k=_,r(w,C))return k;var E=f(C);return h!==void 0&&h(k,E)?k:(w=C,_=E)}var y=!1,w,_,S=d===void 0?null:d;return[function(){return b(u())},S===null?void 0:function(){return b(S())}]},[u,d,f,h]);var g=i(c,m[0],m[1]);return s(function(){p.hasValue=!0,p.value=g},[g]),l(g),g},PP}rY.exports=Cke();var kke=rY.exports;const Pke=typeof window<"u"?x.useLayoutEffect:x.useEffect;class Eke{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const n=()=>{this.transactionNumber+=1,this.subscribers.forEach(i=>i())},r=this.editor;return r.on("transaction",n),()=>{r.off("transaction",n)}}}}function Oke(t){var e;const[n]=x.useState(()=>new Eke(t.editor)),r=kke.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!==null&&e!==void 0?e:_ke);return Pke(()=>n.watch(t.editor),[t.editor,n]),x.useDebugValue(r),r}const Tke=!1,dA=typeof window>"u",Ake=dA||!!(typeof window<"u"&&window.next);class v${constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?dA||Ake?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var i,o;return(o=(i=this.options.current).onBeforeCreate)===null||o===void 0?void 0:o.call(i,...r)},onBlur:(...r)=>{var i,o;return(o=(i=this.options.current).onBlur)===null||o===void 0?void 0:o.call(i,...r)},onCreate:(...r)=>{var i,o;return(o=(i=this.options.current).onCreate)===null||o===void 0?void 0:o.call(i,...r)},onDestroy:(...r)=>{var i,o;return(o=(i=this.options.current).onDestroy)===null||o===void 0?void 0:o.call(i,...r)},onFocus:(...r)=>{var i,o;return(o=(i=this.options.current).onFocus)===null||o===void 0?void 0:o.call(i,...r)},onSelectionUpdate:(...r)=>{var i,o;return(o=(i=this.options.current).onSelectionUpdate)===null||o===void 0?void 0:o.call(i,...r)},onTransaction:(...r)=>{var i,o;return(o=(i=this.options.current).onTransaction)===null||o===void 0?void 0:o.call(i,...r)},onUpdate:(...r)=>{var i,o;return(o=(i=this.options.current).onUpdate)===null||o===void 0?void 0:o.call(i,...r)},onContentError:(...r)=>{var i,o;return(o=(i=this.options.current).onContentError)===null||o===void 0?void 0:o.call(i,...r)},onDrop:(...r)=>{var i,o;return(o=(i=this.options.current).onDrop)===null||o===void 0?void 0:o.call(i,...r)},onPaste:(...r)=>{var i,o;return(o=(i=this.options.current).onPaste)===null||o===void 0?void 0:o.call(i,...r)}};return new fke(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((i,o)=>{var s;return i===((s=n.extensions)===null||s===void 0?void 0:s[o])}):e[r]===n[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?v$.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,i)=>r===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function Mke(t={},e=[]){const n=x.useRef(t);n.current=t;const[r]=x.useState(()=>new v$(n)),i=g$.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return x.useDebugValue(i),x.useEffect(r.onRender(e)),Oke({editor:i,selector:({transactionNumber:o})=>t.shouldRerenderOnTransaction===!1?null:t.immediatelyRender&&o===0?0:o+1}),i}const Nke=x.createContext({editor:null});Nke.Consumer;const Dke=x.createContext({onDragStart:void 0}),Rke=()=>x.useContext(Dke);A.forwardRef((t,e)=>{const{onDragStart:n}=Rke(),r=t.as||"div";return A.createElement(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});const $ke=/^\s*>\s$/,Ike=ys.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",ni(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[uy({find:$ke,type:this.type})]}}),jke=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,Lke=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,Fke=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,Bke=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,Vke=Kc.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",ni(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[hp({find:jke,type:this.type}),hp({find:Fke,type:this.type})]},addPasteRules(){return[pp({find:Lke,type:this.type}),pp({find:Bke,type:this.type})]}}),zke="listItem",G4="textStyle",K4=/^\s*([-+*])\s$/,Uke=ys.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",ni(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(zke,this.editor.getAttributes(G4)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=uy({find:K4,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=uy({find:K4,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(G4),editor:this.editor})),[t]}}),Hke=/(^|[^`])`([^`]+)`(?!`)/,Wke=/(^|[^`])`([^`]+)`(?!`)/g,qke=Kc.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",ni(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[hp({find:Hke,type:this.type})]},addPasteRules(){return[pp({find:Wke,type:this.type})]}}),Gke=/^```([a-z]+)?[\s\n]$/,Kke=/^~~~([a-z]+)?[\s\n]$/,Yke=ys.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,o=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(s=>s.startsWith(n)).map(s=>s.replace(n,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",ni(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const o=r.parentOffset===r.parent.nodeSize-2,s=r.parent.textContent.endsWith(`

`);return!o||!s?!1:t.chain().command(({tr:a})=>(a.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:o}=n;if(!o||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const a=i.after();return a===void 0?!1:r.nodeAt(a)?t.commands.command(({tr:c})=>(c.setSelection(ot.near(r.resolve(a))),!0)):t.commands.exitCode()}}},addInputRules(){return[cA({find:Gke,type:this.type,getAttributes:t=>({language:t[1]})}),cA({find:Kke,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Ci({key:new pa("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,o=i==null?void 0:i.mode;if(!n||!o)return!1;const{tr:s,schema:a}=t.state,l=a.text(n.replace(/\r\n?/g,`
`));return s.replaceSelectionWith(this.type.create({language:o},l)),s.selection.$from.parent.type!==this.type&&s.setSelection(We.near(s.doc.resolve(Math.max(0,s.selection.from-2)))),s.setMeta("paste",!0),t.dispatch(s),!0}}})]}}),Xke=ys.create({name:"doc",topNode:!0,content:"block+"});function Zke(t={}){return new Ci({view(e){return new Jke(e,t)}})}class Jke{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let o=s=>{this[i](s)};return e.dom.addEventListener(i,o),{name:i,handler:o}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r;if(n){let a=e.nodeBefore,l=e.nodeAfter;if(a||l){let c=this.editorView.nodeDOM(this.cursorPos-(a?a.nodeSize:0));if(c){let u=c.getBoundingClientRect(),d=a?u.bottom:u.top;a&&l&&(d=(d+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:u.left,right:u.right,top:d-this.width/2,bottom:d+this.width/2}}}}if(!r){let a=this.editorView.coordsAtPos(this.cursorPos);r={left:a.left-this.width/2,right:a.left+this.width/2,top:a.top,bottom:a.bottom}}let i=this.editorView.dom.offsetParent;this.element||(this.element=i.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let o,s;if(!i||i==document.body&&getComputedStyle(i).position=="static")o=-pageXOffset,s=-pageYOffset;else{let a=i.getBoundingClientRect();o=a.left-i.scrollLeft,s=a.top-i.scrollTop}this.element.style.left=r.left-o+"px",this.element.style.top=r.top-s+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,o=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!o){let s=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=qK(this.editorView.state.doc,s,this.editorView.dragging.slice);a!=null&&(s=a)}this.setCursor(s),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const Qke=ri.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[Zke(this.options)]}});class xn extends ot{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return xn.valid(r)?new xn(r):ot.near(r)}content(){return ge.empty}eq(e){return e instanceof xn&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new xn(e.resolve(n.pos))}getBookmark(){return new y$(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!ePe(e)||!tPe(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&xn.valid(e))return e;let i=e.pos,o=null;for(let s=e.depth;;s--){let a=e.node(s);if(n>0?e.indexAfter(s)<a.childCount:e.index(s)>0){o=a.child(n>0?e.indexAfter(s):e.index(s)-1);break}else if(s==0)return null;i+=n;let l=e.doc.resolve(i);if(xn.valid(l))return l}for(;;){let s=n>0?o.firstChild:o.lastChild;if(!s){if(o.isAtom&&!o.isText&&!Ae.isSelectable(o)){e=e.doc.resolve(i+o.nodeSize*n),r=!1;continue e}break}o=s,i+=n;let a=e.doc.resolve(i);if(xn.valid(a))return a}return null}}}xn.prototype.visible=!1;xn.findFrom=xn.findGapCursorFrom;ot.jsonID("gapcursor",xn);class y${constructor(e){this.pos=e}map(e){return new y$(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return xn.valid(n)?new xn(n):ot.near(n)}}function ePe(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function tPe(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function nPe(){return new Ci({props:{decorations:sPe,createSelectionBetween(t,e,n){return e.pos==n.pos&&xn.valid(n)?new xn(n):null},handleClick:iPe,handleKeyDown:rPe,handleDOMEvents:{beforeinput:oPe}}})}const rPe=N7({ArrowLeft:$b("horiz",-1),ArrowRight:$b("horiz",1),ArrowUp:$b("vert",-1),ArrowDown:$b("vert",1)});function $b(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,o){let s=r.selection,a=e>0?s.$to:s.$from,l=s.empty;if(s instanceof We){if(!o.endOfTextblock(n)||a.depth==0)return!1;l=!1,a=r.doc.resolve(e>0?a.after():a.before())}let c=xn.findGapCursorFrom(a,e,l);return c?(i&&i(r.tr.setSelection(new xn(c))),!0):!1}}function iPe(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!xn.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&Ae.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new xn(r))),!0)}function oPe(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof xn))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=ne.empty;for(let s=r.length-1;s>=0;s--)i=ne.from(r[s].createAndFill(null,i));let o=t.state.tr.replace(n.pos,n.pos,new ge(i,0,0));return o.setSelection(We.near(o.doc.resolve(n.pos+1))),t.dispatch(o),!1}function sPe(t){if(!(t.selection instanceof xn))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Fn.create(t.doc,[wo.widget(t.selection.head,e,{key:"gapcursor"})])}const aPe=ri.create({name:"gapCursor",addProseMirrorPlugins(){return[nPe()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=at(Pe(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}}),lPe=ys.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",ni(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:o}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:s}=this.options,{splittableMarks:a}=r.extensionManager,l=o||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:c,dispatch:u})=>{if(u&&l&&s){const d=l.filter(f=>a.includes(f.type.name));c.ensureMarks(d)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),cPe=ys.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,ni(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>cA({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var r1=200,Qn=function(){};Qn.prototype.append=function(e){return e.length?(e=Qn.from(e),!this.length&&e||e.length<r1&&this.leafAppend(e)||this.length<r1&&e.leafPrepend(this)||this.appendInner(e)):this};Qn.prototype.prepend=function(e){return e.length?Qn.from(e).append(this):this};Qn.prototype.appendInner=function(e){return new uPe(this,e)};Qn.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Qn.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Qn.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Qn.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};Qn.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(o,s){return i.push(e(o,s))},n,r),i};Qn.from=function(e){return e instanceof Qn?e:e&&e.length?new iY(e):Qn.empty};var iY=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new e(this.values.slice(i,o))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,o,s,a){for(var l=o;l<s;l++)if(i(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(i,o,s,a){for(var l=o-1;l>=s;l--)if(i(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=r1)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=r1)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(Qn);Qn.empty=new iY([]);var uPe=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,o,s){var a=this.left.length;if(i<a&&this.left.forEachInner(r,i,Math.min(o,a),s)===!1||o>a&&this.right.forEachInner(r,Math.max(i-a,0),Math.min(this.length,o)-a,s+a)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,o,s){var a=this.left.length;if(i>a&&this.right.forEachInvertedInner(r,i-a,Math.max(o,a)-a,s+a)===!1||o<a&&this.left.forEachInvertedInner(r,Math.min(i,a),o,s)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(r,i):r>=o?this.right.slice(r-o,i-o):this.left.slice(r,o).append(this.right.slice(0,i-o))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(Qn);const dPe=500;class Qo{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,o;n&&(i=this.remapping(r,this.items.length),o=i.maps.length);let s=e.tr,a,l,c=[],u=[];return this.items.forEach((d,f)=>{if(!d.step){i||(i=this.remapping(r,f+1),o=i.maps.length),o--,u.push(d);return}if(i){u.push(new Nl(d.map));let h=d.step.map(i.slice(o)),m;h&&s.maybeStep(h).doc&&(m=s.mapping.maps[s.mapping.maps.length-1],c.push(new Nl(m,void 0,void 0,c.length+u.length))),o--,m&&i.appendMap(m,o)}else s.maybeStep(d.step);if(d.selection)return a=i?d.selection.map(i.slice(o)):d.selection,l=new Qo(this.items.slice(0,r).append(u.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:s,selection:a}}addTransform(e,n,r,i){let o=[],s=this.eventCount,a=this.items,l=!i&&a.length?a.get(a.length-1):null;for(let u=0;u<e.steps.length;u++){let d=e.steps[u].invert(e.docs[u]),f=new Nl(e.mapping.maps[u],d,n),h;(h=l&&l.merge(f))&&(f=h,u?o.pop():a=a.slice(0,a.length-1)),o.push(f),n&&(s++,n=void 0),i||(l=f)}let c=s-r.depth;return c>hPe&&(a=fPe(a,c),s-=c),new Qo(a.append(o),s)}remapping(e,n){let r=new iy;return this.items.forEach((i,o)=>{let s=i.mirrorOffset!=null&&o-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,s)},e,n),r}addMaps(e){return this.eventCount==0?this:new Qo(this.items.append(e.map(n=>new Nl(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),o=e.mapping,s=e.steps.length,a=this.eventCount;this.items.forEach(f=>{f.selection&&a--},i);let l=n;this.items.forEach(f=>{let h=o.getMirror(--l);if(h==null)return;s=Math.min(s,h);let m=o.maps[h];if(f.step){let p=e.steps[h].invert(e.docs[h]),g=f.selection&&f.selection.map(o.slice(l+1,h));g&&a++,r.push(new Nl(m,p,g))}else r.push(new Nl(m))},i);let c=[];for(let f=n;f<s;f++)c.push(new Nl(o.maps[f]));let u=this.items.slice(0,i).append(c).append(r),d=new Qo(u,a);return d.emptyItemCount()>dPe&&(d=d.compress(this.items.length-r.length)),d}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],o=0;return this.items.forEach((s,a)=>{if(a>=e)i.push(s),s.selection&&o++;else if(s.step){let l=s.step.map(n.slice(r)),c=l&&l.getMap();if(r--,c&&n.appendMap(c,r),l){let u=s.selection&&s.selection.map(n.slice(r));u&&o++;let d=new Nl(c.invert(),l,u),f,h=i.length-1;(f=i.length&&i[h].merge(d))?i[h]=f:i.push(d)}}else s.map&&r--},this.items.length,0),new Qo(Qn.from(i.reverse()),o)}}Qo.empty=new Qo(Qn.empty,0);function fPe(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}let Nl=class oY{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new oY(n.getMap().invert(),n,this.selection)}}};class Wl{constructor(e,n,r,i,o){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=o}}const hPe=20;function pPe(t,e,n,r){let i=n.getMeta(gd),o;if(i)return i.historyState;n.getMeta(vPe)&&(t=new Wl(t.done,t.undone,null,0,-1));let s=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(s&&s.getMeta(gd))return s.getMeta(gd).redo?new Wl(t.done.addTransform(n,void 0,r,$w(e)),t.undone,Y4(n.mapping.maps),t.prevTime,t.prevComposition):new Wl(t.done,t.undone.addTransform(n,void 0,r,$w(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let a=n.getMeta("composition"),l=t.prevTime==0||!s&&t.prevComposition!=a&&(t.prevTime<(n.time||0)-r.newGroupDelay||!mPe(n,t.prevRanges)),c=s?EP(t.prevRanges,n.mapping):Y4(n.mapping.maps);return new Wl(t.done.addTransform(n,l?e.selection.getBookmark():void 0,r,$w(e)),Qo.empty,c,n.time,a??t.prevComposition)}else return(o=n.getMeta("rebased"))?new Wl(t.done.rebased(n,o),t.undone.rebased(n,o),EP(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Wl(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),EP(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function mPe(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let o=0;o<e.length;o+=2)r<=e[o+1]&&i>=e[o]&&(n=!0)}),n}function Y4(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,i,o,s)=>e.push(o,s));return e}function EP(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),o=e.map(t[r+1],-1);i<=o&&n.push(i,o)}return n}function gPe(t,e,n){let r=$w(e),i=gd.get(e).spec.config,o=(n?t.undone:t.done).popEvent(e,r);if(!o)return null;let s=o.selection.resolve(o.transform.doc),a=(n?t.done:t.undone).addTransform(o.transform,e.selection.getBookmark(),i,r),l=new Wl(n?a:o.remaining,n?o.remaining:a,null,0,-1);return o.transform.setSelection(s).setMeta(gd,{redo:n,historyState:l})}let OP=!1,X4=null;function $w(t){let e=t.plugins;if(X4!=e){OP=!1,X4=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){OP=!0;break}}return OP}const gd=new pa("history"),vPe=new pa("closeHistory");function yPe(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Ci({key:gd,state:{init(){return new Wl(Qo.empty,Qo.empty,null,0,-1)},apply(e,n,r){return pPe(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?aY:r=="historyRedo"?lY:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function sY(t,e){return(n,r)=>{let i=gd.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(r){let o=gPe(i,n,t);o&&r(e?o.scrollIntoView():o)}return!0}}const aY=sY(!1,!0),lY=sY(!0,!0),bPe=ri.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>aY(t,e),redo:()=>({state:t,dispatch:e})=>lY(t,e)}},addProseMirrorPlugins(){return[yPe(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),wPe=ys.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",ni(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{const{selection:n}=e,{$from:r,$to:i}=n,o=t();return r.parentOffset===0?o.insertContentAt({from:Math.max(r.pos-1,0),to:i.pos},{type:this.name}):$Ce(n)?o.insertContentAt(i.pos,{type:this.name}):o.insertContent({type:this.name}),o.command(({tr:s,dispatch:a})=>{var l;if(a){const{$to:c}=s.selection,u=c.end();if(c.nodeAfter)c.nodeAfter.isTextblock?s.setSelection(We.create(s.doc,c.pos+1)):c.nodeAfter.isBlock?s.setSelection(Ae.create(s.doc,c.pos)):s.setSelection(We.create(s.doc,c.pos));else{const d=(l=c.parent.type.contentMatch.defaultType)===null||l===void 0?void 0:l.create();d&&(s.insert(u,d),s.setSelection(We.create(s.doc,u+1)))}s.scrollIntoView()}return!0}).run()}}},addInputRules(){return[hke({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),xPe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,SPe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,_Pe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,CPe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,kPe=Kc.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",ni(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[hp({find:xPe,type:this.type}),hp({find:_Pe,type:this.type})]},addPasteRules(){return[pp({find:SPe,type:this.type}),pp({find:CPe,type:this.type})]}}),PPe=ys.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",ni(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),EPe="listItem",Z4="textStyle",J4=/^(\d+)\.\s$/,OPe=ys.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",ni(this.options.HTMLAttributes,n),0]:["ol",ni(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(EPe,this.editor.getAttributes(Z4)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=uy({find:J4,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=uy({find:J4,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(Z4)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),TPe=ys.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",ni(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),APe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,MPe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,NPe=Kc.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",ni(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[hp({find:APe,type:this.type})]},addPasteRules(){return[pp({find:MPe,type:this.type})]}}),DPe=ys.create({name:"text",group:"inline"}),RPe=ri.create({name:"starterKit",addExtensions(){const t=[];return this.options.bold!==!1&&t.push(Vke.configure(this.options.bold)),this.options.blockquote!==!1&&t.push(Ike.configure(this.options.blockquote)),this.options.bulletList!==!1&&t.push(Uke.configure(this.options.bulletList)),this.options.code!==!1&&t.push(qke.configure(this.options.code)),this.options.codeBlock!==!1&&t.push(Yke.configure(this.options.codeBlock)),this.options.document!==!1&&t.push(Xke.configure(this.options.document)),this.options.dropcursor!==!1&&t.push(Qke.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&t.push(aPe.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&t.push(lPe.configure(this.options.hardBreak)),this.options.heading!==!1&&t.push(cPe.configure(this.options.heading)),this.options.history!==!1&&t.push(bPe.configure(this.options.history)),this.options.horizontalRule!==!1&&t.push(wPe.configure(this.options.horizontalRule)),this.options.italic!==!1&&t.push(kPe.configure(this.options.italic)),this.options.listItem!==!1&&t.push(PPe.configure(this.options.listItem)),this.options.orderedList!==!1&&t.push(OPe.configure(this.options.orderedList)),this.options.paragraph!==!1&&t.push(TPe.configure(this.options.paragraph)),this.options.strike!==!1&&t.push(NPe.configure(this.options.strike)),this.options.text!==!1&&t.push(DPe.configure(this.options.text)),t}}),$Pe=({editor:t})=>t?P("div",{className:"flex flex-wrap gap-1 border-b p-1 mb-1",children:[v("button",{type:"button",onClick:()=>t.chain().focus().toggleBold().run(),disabled:!t.can().chain().focus().toggleBold().run(),className:q("p-1 rounded hover:bg-muted",t.isActive("bold")?"bg-muted":""),"aria-label":"Bold",children:"B"}),v("button",{type:"button",onClick:()=>t.chain().focus().toggleItalic().run(),disabled:!t.can().chain().focus().toggleItalic().run(),className:q("p-1 rounded hover:bg-muted",t.isActive("italic")?"bg-muted":""),"aria-label":"Italic",children:"I"})]}):null,cY=A.forwardRef(({value:t,onChange:e,className:n,placeholder:r},i)=>{const o=Mke({extensions:[RPe.configure({heading:{levels:[1,2,3]},bulletList:{keepMarks:!0,keepAttributes:!1},orderedList:{keepMarks:!0,keepAttributes:!1}})],content:t,editorProps:{attributes:{class:q("prose dark:prose-invert max-w-none","min-h-[100px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50",n)}},onUpdate:({editor:s})=>{e(s.getHTML())}});return P("div",{className:"rounded-md border border-input focus-within:ring-2 focus-within:ring-ring focus-within:ring-offset-2",children:[v($Pe,{editor:o}),v(xke,{editor:o,placeholder:r})]})});cY.displayName="RichTextEditor";var TP=0;function z_(){x.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Q4()),document.body.insertAdjacentElement("beforeend",t[1]??Q4()),TP++,()=>{TP===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),TP--}},[])}function Q4(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var AP="focusScope.autoFocusOnMount",MP="focusScope.autoFocusOnUnmount",eV={bubbles:!1,cancelable:!0},IPe="FocusScope",k0=x.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=t,[a,l]=x.useState(null),c=ln(i),u=ln(o),d=x.useRef(null),f=Qe(e,p=>l(p)),h=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(r){let p=function(w){if(h.paused||!a)return;const _=w.target;a.contains(_)?d.current=_:Fl(d.current,{select:!0})},g=function(w){if(h.paused||!a)return;const _=w.relatedTarget;_!==null&&(a.contains(_)||Fl(d.current,{select:!0}))},b=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&Fl(a)};document.addEventListener("focusin",p),document.addEventListener("focusout",g);const y=new MutationObserver(b);return a&&y.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",g),y.disconnect()}}},[r,a,h.paused]),x.useEffect(()=>{if(a){nV.add(h);const p=document.activeElement;if(!a.contains(p)){const b=new CustomEvent(AP,eV);a.addEventListener(AP,c),a.dispatchEvent(b),b.defaultPrevented||(jPe(zPe(uY(a)),{select:!0}),document.activeElement===p&&Fl(a))}return()=>{a.removeEventListener(AP,c),setTimeout(()=>{const b=new CustomEvent(MP,eV);a.addEventListener(MP,u),a.dispatchEvent(b),b.defaultPrevented||Fl(p??document.body,{select:!0}),a.removeEventListener(MP,u),nV.remove(h)},0)}}},[a,c,u,h]);const m=x.useCallback(p=>{if(!n&&!r||h.paused)return;const g=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,b=document.activeElement;if(g&&b){const y=p.currentTarget,[w,_]=LPe(y);w&&_?!p.shiftKey&&b===_?(p.preventDefault(),n&&Fl(w,{select:!0})):p.shiftKey&&b===w&&(p.preventDefault(),n&&Fl(_,{select:!0})):b===y&&p.preventDefault()}},[n,r,h.paused]);return O.jsx(pe.div,{tabIndex:-1,...s,ref:f,onKeyDown:m})});k0.displayName=IPe;function jPe(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Fl(r,{select:e}),document.activeElement!==n)return}function LPe(t){const e=uY(t),n=tV(e,t),r=tV(e.reverse(),t);return[n,r]}function uY(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function tV(t,e){for(const n of t)if(!FPe(n,{upTo:e}))return n}function FPe(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function BPe(t){return t instanceof HTMLInputElement&&"select"in t}function Fl(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&BPe(t)&&e&&t.select()}}var nV=VPe();function VPe(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=rV(t,e),t.unshift(e)},remove(e){var n;t=rV(t,e),(n=t[0])==null||n.resume()}}}function rV(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function zPe(t){return t.filter(e=>e.tagName!=="A")}function b$(t){const e=x.useRef({value:t,previous:t});return x.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var UPe=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},yf=new WeakMap,Ib=new WeakMap,jb={},NP=0,dY=function(t){return t&&(t.host||dY(t.parentNode))},HPe=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=dY(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},WPe=function(t,e,n,r){var i=HPe(e,Array.isArray(t)?t:[t]);jb[n]||(jb[n]=new WeakMap);var o=jb[n],s=[],a=new Set,l=new Set(i),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};i.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(f){if(a.has(f))u(f);else try{var h=f.getAttribute(r),m=h!==null&&h!=="false",p=(yf.get(f)||0)+1,g=(o.get(f)||0)+1;yf.set(f,p),o.set(f,g),s.push(f),p===1&&m&&Ib.set(f,!0),g===1&&f.setAttribute(n,"true"),m||f.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",f,b)}})};return u(e),a.clear(),NP++,function(){s.forEach(function(d){var f=yf.get(d)-1,h=o.get(d)-1;yf.set(d,f),o.set(d,h),f||(Ib.has(d)||d.removeAttribute(r),Ib.delete(d)),h||d.removeAttribute(n)}),NP--,NP||(yf=new WeakMap,yf=new WeakMap,Ib=new WeakMap,jb={})}},U_=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=UPe(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),WPe(r,i,n,"aria-hidden")):function(){return null}},Ns=function(){return Ns=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Ns.apply(this,arguments)};function fY(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function qPe(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var Iw="right-scroll-bar-position",jw="width-before-scroll-bar",GPe="with-scroll-bars-hidden",KPe="--removed-body-scroll-bar-size";function DP(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function YPe(t,e){var n=x.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var XPe=typeof window<"u"?x.useLayoutEffect:x.useEffect,iV=new WeakMap;function ZPe(t,e){var n=YPe(null,function(r){return t.forEach(function(i){return DP(i,r)})});return XPe(function(){var r=iV.get(n);if(r){var i=new Set(r),o=new Set(t),s=n.current;i.forEach(function(a){o.has(a)||DP(a,null)}),o.forEach(function(a){i.has(a)||DP(a,s)})}iV.set(n,t)},[t]),n}function JPe(t){return t}function QPe(t,e){e===void 0&&(e=JPe);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var s=e(o,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(o),s=n}var l=function(){var u=s;s=[],u.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){s.push(u),c()},filter:function(u){return s=s.filter(u),n}}}};return i}function eEe(t){t===void 0&&(t={});var e=QPe(null);return e.options=Ns({async:!0,ssr:!1},t),e}var hY=function(t){var e=t.sideCar,n=fY(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return x.createElement(r,Ns({},n))};hY.isSideCarExport=!0;function tEe(t,e){return t.useMedium(e),hY}var pY=eEe(),RP=function(){},H_=x.forwardRef(function(t,e){var n=x.useRef(null),r=x.useState({onScrollCapture:RP,onWheelCapture:RP,onTouchMoveCapture:RP}),i=r[0],o=r[1],s=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,d=t.shards,f=t.sideCar,h=t.noIsolation,m=t.inert,p=t.allowPinchZoom,g=t.as,b=g===void 0?"div":g,y=t.gapMode,w=fY(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=f,S=ZPe([n,e]),C=Ns(Ns({},w),i);return x.createElement(x.Fragment,null,u&&x.createElement(_,{sideCar:pY,removeScrollBar:c,shards:d,noIsolation:h,inert:m,setCallbacks:o,allowPinchZoom:!!p,lockRef:n,gapMode:y}),s?x.cloneElement(x.Children.only(a),Ns(Ns({},C),{ref:S})):x.createElement(b,Ns({},C,{className:l,ref:S}),a))});H_.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};H_.classNames={fullWidth:jw,zeroRight:Iw};var nEe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function rEe(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=nEe();return e&&t.setAttribute("nonce",e),t}function iEe(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function oEe(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var sEe=function(){var t=0,e=null;return{add:function(n){t==0&&(e=rEe())&&(iEe(e,n),oEe(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},aEe=function(){var t=sEe();return function(e,n){x.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},mY=function(){var t=aEe(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},lEe={left:0,top:0,right:0,gap:0},$P=function(t){return parseInt(t||"",10)||0},cEe=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[$P(n),$P(r),$P(i)]},uEe=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return lEe;var e=cEe(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},dEe=mY(),Sh="data-scroll-locked",fEe=function(t,e,n,r){var i=t.left,o=t.top,s=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(GPe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Sh,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Iw,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(jw,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Iw," .").concat(Iw,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(jw," .").concat(jw,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Sh,`] {
    `).concat(KPe,": ").concat(a,`px;
  }
`)},oV=function(){var t=parseInt(document.body.getAttribute(Sh)||"0",10);return isFinite(t)?t:0},hEe=function(){x.useEffect(function(){return document.body.setAttribute(Sh,(oV()+1).toString()),function(){var t=oV()-1;t<=0?document.body.removeAttribute(Sh):document.body.setAttribute(Sh,t.toString())}},[])},pEe=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;hEe();var o=x.useMemo(function(){return uEe(i)},[i]);return x.createElement(dEe,{styles:fEe(o,!e,i,n?"":"!important")})},fA=!1;if(typeof window<"u")try{var Lb=Object.defineProperty({},"passive",{get:function(){return fA=!0,!0}});window.addEventListener("test",Lb,Lb),window.removeEventListener("test",Lb,Lb)}catch{fA=!1}var bf=fA?{passive:!1}:!1,mEe=function(t){return t.tagName==="TEXTAREA"},gY=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!mEe(t)&&n[e]==="visible")},gEe=function(t){return gY(t,"overflowY")},vEe=function(t){return gY(t,"overflowX")},sV=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=vY(t,r);if(i){var o=yY(t,r),s=o[1],a=o[2];if(s>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},yEe=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},bEe=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},vY=function(t,e){return t==="v"?gEe(e):vEe(e)},yY=function(t,e){return t==="v"?yEe(e):bEe(e)},wEe=function(t,e){return t==="h"&&e==="rtl"?-1:1},xEe=function(t,e,n,r,i){var o=wEe(t,window.getComputedStyle(e).direction),s=o*r,a=n.target,l=e.contains(a),c=!1,u=s>0,d=0,f=0;do{var h=yY(t,a),m=h[0],p=h[1],g=h[2],b=p-g-o*m;(m||b)&&vY(t,a)&&(d+=b,f+=m),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&Math.abs(d)<1||!u&&Math.abs(f)<1)&&(c=!0),c},Fb=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},aV=function(t){return[t.deltaX,t.deltaY]},lV=function(t){return t&&"current"in t?t.current:t},SEe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},_Ee=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},CEe=0,wf=[];function kEe(t){var e=x.useRef([]),n=x.useRef([0,0]),r=x.useRef(),i=x.useState(CEe++)[0],o=x.useState(mY)[0],s=x.useRef(t);x.useEffect(function(){s.current=t},[t]),x.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var p=qPe([t.lockRef.current],(t.shards||[]).map(lV),!0).filter(Boolean);return p.forEach(function(g){return g.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),p.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=x.useCallback(function(p,g){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!s.current.allowPinchZoom;var b=Fb(p),y=n.current,w="deltaX"in p?p.deltaX:y[0]-b[0],_="deltaY"in p?p.deltaY:y[1]-b[1],S,C=p.target,k=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in p&&k==="h"&&C.type==="range")return!1;var E=sV(k,C);if(!E)return!0;if(E?S=k:(S=k==="v"?"h":"v",E=sV(k,C)),!E)return!1;if(!r.current&&"changedTouches"in p&&(w||_)&&(r.current=S),!S)return!0;var T=r.current||S;return xEe(T,g,p,T==="h"?w:_)},[]),l=x.useCallback(function(p){var g=p;if(!(!wf.length||wf[wf.length-1]!==o)){var b="deltaY"in g?aV(g):Fb(g),y=e.current.filter(function(S){return S.name===g.type&&(S.target===g.target||g.target===S.shadowParent)&&SEe(S.delta,b)})[0];if(y&&y.should){g.cancelable&&g.preventDefault();return}if(!y){var w=(s.current.shards||[]).map(lV).filter(Boolean).filter(function(S){return S.contains(g.target)}),_=w.length>0?a(g,w[0]):!s.current.noIsolation;_&&g.cancelable&&g.preventDefault()}}},[]),c=x.useCallback(function(p,g,b,y){var w={name:p,delta:g,target:b,should:y,shadowParent:PEe(b)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(_){return _!==w})},1)},[]),u=x.useCallback(function(p){n.current=Fb(p),r.current=void 0},[]),d=x.useCallback(function(p){c(p.type,aV(p),p.target,a(p,t.lockRef.current))},[]),f=x.useCallback(function(p){c(p.type,Fb(p),p.target,a(p,t.lockRef.current))},[]);x.useEffect(function(){return wf.push(o),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",l,bf),document.addEventListener("touchmove",l,bf),document.addEventListener("touchstart",u,bf),function(){wf=wf.filter(function(p){return p!==o}),document.removeEventListener("wheel",l,bf),document.removeEventListener("touchmove",l,bf),document.removeEventListener("touchstart",u,bf)}},[]);var h=t.removeScrollBar,m=t.inert;return x.createElement(x.Fragment,null,m?x.createElement(o,{styles:_Ee(i)}):null,h?x.createElement(pEe,{gapMode:t.gapMode}):null)}function PEe(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const EEe=tEe(pY,kEe);var P0=x.forwardRef(function(t,e){return x.createElement(H_,Ns({},t,{ref:e,sideCar:EEe}))});P0.classNames=H_.classNames;var OEe=[" ","Enter","ArrowUp","ArrowDown"],TEe=[" ","Enter"],E0="Select",[W_,q_,AEe]=KS(E0),[fm,Wot]=nr(E0,[AEe,nu]),G_=nu(),[MEe,lu]=fm(E0),[NEe,DEe]=fm(E0),bY=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:o,value:s,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:d,disabled:f,required:h,form:m}=t,p=G_(e),[g,b]=x.useState(null),[y,w]=x.useState(null),[_,S]=x.useState(!1),C=um(c),[k=!1,E]=_i({prop:r,defaultProp:i,onChange:o}),[T,M]=_i({prop:s,defaultProp:a,onChange:l}),D=x.useRef(null),N=g?m||!!g.closest("form"):!0,[L,I]=x.useState(new Set),z=Array.from(L).map(V=>V.props.value).join(";");return O.jsx(r_,{...p,children:O.jsxs(MEe,{required:h,scope:e,trigger:g,onTriggerChange:b,valueNode:y,onValueNodeChange:w,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:Zn(),value:T,onValueChange:M,open:k,onOpenChange:E,dir:C,triggerPointerDownPosRef:D,disabled:f,children:[O.jsx(W_.Provider,{scope:e,children:O.jsx(NEe,{scope:t.__scopeSelect,onNativeOptionAdd:x.useCallback(V=>{I(j=>new Set(j).add(V))},[]),onNativeOptionRemove:x.useCallback(V=>{I(j=>{const R=new Set(j);return R.delete(V),R})},[]),children:n})}),N?O.jsxs(HY,{"aria-hidden":!0,required:h,tabIndex:-1,name:u,autoComplete:d,value:T,onChange:V=>M(V.target.value),disabled:f,form:m,children:[T===void 0?O.jsx("option",{value:""}):null,Array.from(L)]},z):null]})})};bY.displayName=E0;var wY="SelectTrigger",xY=x.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,o=G_(n),s=lu(wY,n),a=s.disabled||r,l=Qe(e,s.onTriggerChange),c=q_(n),u=x.useRef("touch"),[d,f,h]=WY(p=>{const g=c().filter(w=>!w.disabled),b=g.find(w=>w.value===s.value),y=qY(g,p,b);y!==void 0&&s.onValueChange(y.value)}),m=p=>{a||(s.onOpenChange(!0),h()),p&&(s.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return O.jsx(u0,{asChild:!0,...o,children:O.jsx(pe.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":UY(s.value)?"":void 0,...i,ref:l,onClick:se(i.onClick,p=>{p.currentTarget.focus(),u.current!=="mouse"&&m(p)}),onPointerDown:se(i.onPointerDown,p=>{u.current=p.pointerType;const g=p.target;g.hasPointerCapture(p.pointerId)&&g.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(m(p),p.preventDefault())}),onKeyDown:se(i.onKeyDown,p=>{const g=d.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&f(p.key),!(g&&p.key===" ")&&OEe.includes(p.key)&&(m(),p.preventDefault())})})})});xY.displayName=wY;var SY="SelectValue",_Y=x.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:s="",...a}=t,l=lu(SY,n),{onValueNodeHasChildrenChange:c}=l,u=o!==void 0,d=Qe(e,l.onValueNodeChange);return Rn(()=>{c(u)},[c,u]),O.jsx(pe.span,{...a,ref:d,style:{pointerEvents:"none"},children:UY(l.value)?O.jsx(O.Fragment,{children:s}):o})});_Y.displayName=SY;var REe="SelectIcon",CY=x.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return O.jsx(pe.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});CY.displayName=REe;var $Ee="SelectPortal",kY=t=>O.jsx(Qp,{asChild:!0,...t});kY.displayName=$Ee;var $d="SelectContent",PY=x.forwardRef((t,e)=>{const n=lu($d,t.__scopeSelect),[r,i]=x.useState();if(Rn(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?Xd.createPortal(O.jsx(EY,{scope:t.__scopeSelect,children:O.jsx(W_.Slot,{scope:t.__scopeSelect,children:O.jsx("div",{children:t.children})})}),o):null}return O.jsx(OY,{...t,ref:e})});PY.displayName=$d;var Vo=10,[EY,cu]=fm($d),IEe="SelectContentImpl",jEe=jc("SelectContent.RemoveScroll"),OY=x.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:s,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:f,collisionPadding:h,sticky:m,hideWhenDetached:p,avoidCollisions:g,...b}=t,y=lu($d,n),[w,_]=x.useState(null),[S,C]=x.useState(null),k=Qe(e,Q=>_(Q)),[E,T]=x.useState(null),[M,D]=x.useState(null),N=q_(n),[L,I]=x.useState(!1),z=x.useRef(!1);x.useEffect(()=>{if(w)return U_(w)},[w]),z_();const V=x.useCallback(Q=>{const[ke,...Z]=N().map(K=>K.ref.current),[le]=Z.slice(-1),ue=document.activeElement;for(const K of Q)if(K===ue||(K==null||K.scrollIntoView({block:"nearest"}),K===ke&&S&&(S.scrollTop=0),K===le&&S&&(S.scrollTop=S.scrollHeight),K==null||K.focus(),document.activeElement!==ue))return},[N,S]),j=x.useCallback(()=>V([E,w]),[V,E,w]);x.useEffect(()=>{L&&j()},[L,j]);const{onOpenChange:R,triggerPointerDownPosRef:$}=y;x.useEffect(()=>{if(w){let Q={x:0,y:0};const ke=le=>{var ue,K;Q={x:Math.abs(Math.round(le.pageX)-(((ue=$.current)==null?void 0:ue.x)??0)),y:Math.abs(Math.round(le.pageY)-(((K=$.current)==null?void 0:K.y)??0))}},Z=le=>{Q.x<=10&&Q.y<=10?le.preventDefault():w.contains(le.target)||R(!1),document.removeEventListener("pointermove",ke),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",ke),document.addEventListener("pointerup",Z,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ke),document.removeEventListener("pointerup",Z,{capture:!0})}}},[w,R,$]),x.useEffect(()=>{const Q=()=>R(!1);return window.addEventListener("blur",Q),window.addEventListener("resize",Q),()=>{window.removeEventListener("blur",Q),window.removeEventListener("resize",Q)}},[R]);const[H,Y]=WY(Q=>{const ke=N().filter(ue=>!ue.disabled),Z=ke.find(ue=>ue.ref.current===document.activeElement),le=qY(ke,Q,Z);le&&setTimeout(()=>le.ref.current.focus())}),F=x.useCallback((Q,ke,Z)=>{const le=!z.current&&!Z;(y.value!==void 0&&y.value===ke||le)&&(T(Q),le&&(z.current=!0))},[y.value]),G=x.useCallback(()=>w==null?void 0:w.focus(),[w]),ee=x.useCallback((Q,ke,Z)=>{const le=!z.current&&!Z;(y.value!==void 0&&y.value===ke||le)&&D(Q)},[y.value]),te=r==="popper"?hA:TY,me=te===hA?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:f,collisionPadding:h,sticky:m,hideWhenDetached:p,avoidCollisions:g}:{};return O.jsx(EY,{scope:n,content:w,viewport:S,onViewportChange:C,itemRefCallback:F,selectedItem:E,onItemLeave:G,itemTextRefCallback:ee,focusSelectedItem:j,selectedItemText:M,position:r,isPositioned:L,searchRef:H,children:O.jsx(P0,{as:jEe,allowPinchZoom:!0,children:O.jsx(k0,{asChild:!0,trapped:y.open,onMountAutoFocus:Q=>{Q.preventDefault()},onUnmountAutoFocus:se(i,Q=>{var ke;(ke=y.trigger)==null||ke.focus({preventScroll:!0}),Q.preventDefault()}),children:O.jsx(Zd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:Q=>Q.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:O.jsx(te,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:Q=>Q.preventDefault(),...b,...me,onPlaced:()=>I(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:se(b.onKeyDown,Q=>{const ke=Q.ctrlKey||Q.altKey||Q.metaKey;if(Q.key==="Tab"&&Q.preventDefault(),!ke&&Q.key.length===1&&Y(Q.key),["ArrowUp","ArrowDown","Home","End"].includes(Q.key)){let le=N().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);if(["ArrowUp","End"].includes(Q.key)&&(le=le.slice().reverse()),["ArrowUp","ArrowDown"].includes(Q.key)){const ue=Q.target,K=le.indexOf(ue);le=le.slice(K+1)}setTimeout(()=>V(le)),Q.preventDefault()}})})})})})})});OY.displayName=IEe;var LEe="SelectItemAlignedPosition",TY=x.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,o=lu($d,n),s=cu($d,n),[a,l]=x.useState(null),[c,u]=x.useState(null),d=Qe(e,k=>u(k)),f=q_(n),h=x.useRef(!1),m=x.useRef(!0),{viewport:p,selectedItem:g,selectedItemText:b,focusSelectedItem:y}=s,w=x.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&c&&p&&g&&b){const k=o.trigger.getBoundingClientRect(),E=c.getBoundingClientRect(),T=o.valueNode.getBoundingClientRect(),M=b.getBoundingClientRect();if(o.dir!=="rtl"){const ue=M.left-E.left,K=T.left-ue,nt=k.left-K,Ie=k.width+nt,Mt=Math.max(Ie,E.width),_t=window.innerWidth-Vo,Zt=UT(K,[Vo,Math.max(Vo,_t-Mt)]);a.style.minWidth=Ie+"px",a.style.left=Zt+"px"}else{const ue=E.right-M.right,K=window.innerWidth-T.right-ue,nt=window.innerWidth-k.right-K,Ie=k.width+nt,Mt=Math.max(Ie,E.width),_t=window.innerWidth-Vo,Zt=UT(K,[Vo,Math.max(Vo,_t-Mt)]);a.style.minWidth=Ie+"px",a.style.right=Zt+"px"}const D=f(),N=window.innerHeight-Vo*2,L=p.scrollHeight,I=window.getComputedStyle(c),z=parseInt(I.borderTopWidth,10),V=parseInt(I.paddingTop,10),j=parseInt(I.borderBottomWidth,10),R=parseInt(I.paddingBottom,10),$=z+V+L+R+j,H=Math.min(g.offsetHeight*5,$),Y=window.getComputedStyle(p),F=parseInt(Y.paddingTop,10),G=parseInt(Y.paddingBottom,10),ee=k.top+k.height/2-Vo,te=N-ee,me=g.offsetHeight/2,Q=g.offsetTop+me,ke=z+V+Q,Z=$-ke;if(ke<=ee){const ue=D.length>0&&g===D[D.length-1].ref.current;a.style.bottom="0px";const K=c.clientHeight-p.offsetTop-p.offsetHeight,nt=Math.max(te,me+(ue?G:0)+K+j),Ie=ke+nt;a.style.height=Ie+"px"}else{const ue=D.length>0&&g===D[0].ref.current;a.style.top="0px";const nt=Math.max(ee,z+p.offsetTop+(ue?F:0)+me)+Z;a.style.height=nt+"px",p.scrollTop=ke-ee+p.offsetTop}a.style.margin=`${Vo}px 0`,a.style.minHeight=H+"px",a.style.maxHeight=N+"px",r==null||r(),requestAnimationFrame(()=>h.current=!0)}},[f,o.trigger,o.valueNode,a,c,p,g,b,o.dir,r]);Rn(()=>w(),[w]);const[_,S]=x.useState();Rn(()=>{c&&S(window.getComputedStyle(c).zIndex)},[c]);const C=x.useCallback(k=>{k&&m.current===!0&&(w(),y==null||y(),m.current=!1)},[w,y]);return O.jsx(BEe,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:h,onScrollButtonChange:C,children:O.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:O.jsx(pe.div,{...i,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});TY.displayName=LEe;var FEe="SelectPopperPosition",hA=x.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Vo,...o}=t,s=G_(n);return O.jsx(i_,{...s,...o,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});hA.displayName=FEe;var[BEe,w$]=fm($d,{}),pA="SelectViewport",AY=x.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,o=cu(pA,n),s=w$(pA,n),a=Qe(e,o.onViewportChange),l=x.useRef(0);return O.jsxs(O.Fragment,{children:[O.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),O.jsx(W_.Slot,{scope:n,children:O.jsx(pe.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:se(i.onScroll,c=>{const u=c.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:f}=s;if(f!=null&&f.current&&d){const h=Math.abs(l.current-u.scrollTop);if(h>0){const m=window.innerHeight-Vo*2,p=parseFloat(d.style.minHeight),g=parseFloat(d.style.height),b=Math.max(p,g);if(b<m){const y=b+h,w=Math.min(m,y),_=y-w;d.style.height=w+"px",d.style.bottom==="0px"&&(u.scrollTop=_>0?_:0,d.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});AY.displayName=pA;var MY="SelectGroup",[VEe,zEe]=fm(MY),UEe=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Zn();return O.jsx(VEe,{scope:n,id:i,children:O.jsx(pe.div,{role:"group","aria-labelledby":i,...r,ref:e})})});UEe.displayName=MY;var NY="SelectLabel",DY=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=zEe(NY,n);return O.jsx(pe.div,{id:i.id,...r,ref:e})});DY.displayName=NY;var i1="SelectItem",[HEe,RY]=fm(i1),$Y=x.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...s}=t,a=lu(i1,n),l=cu(i1,n),c=a.value===r,[u,d]=x.useState(o??""),[f,h]=x.useState(!1),m=Qe(e,y=>{var w;return(w=l.itemRefCallback)==null?void 0:w.call(l,y,r,i)}),p=Zn(),g=x.useRef("touch"),b=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return O.jsx(HEe,{scope:n,value:r,disabled:i,textId:p,isSelected:c,onItemTextChange:x.useCallback(y=>{d(w=>w||((y==null?void 0:y.textContent)??"").trim())},[]),children:O.jsx(W_.ItemSlot,{scope:n,value:r,disabled:i,textValue:u,children:O.jsx(pe.div,{role:"option","aria-labelledby":p,"data-highlighted":f?"":void 0,"aria-selected":c&&f,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...s,ref:m,onFocus:se(s.onFocus,()=>h(!0)),onBlur:se(s.onBlur,()=>h(!1)),onClick:se(s.onClick,()=>{g.current!=="mouse"&&b()}),onPointerUp:se(s.onPointerUp,()=>{g.current==="mouse"&&b()}),onPointerDown:se(s.onPointerDown,y=>{g.current=y.pointerType}),onPointerMove:se(s.onPointerMove,y=>{var w;g.current=y.pointerType,i?(w=l.onItemLeave)==null||w.call(l):g.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:se(s.onPointerLeave,y=>{var w;y.currentTarget===document.activeElement&&((w=l.onItemLeave)==null||w.call(l))}),onKeyDown:se(s.onKeyDown,y=>{var _;((_=l.searchRef)==null?void 0:_.current)!==""&&y.key===" "||(TEe.includes(y.key)&&b(),y.key===" "&&y.preventDefault())})})})})});$Y.displayName=i1;var xg="SelectItemText",IY=x.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...o}=t,s=lu(xg,n),a=cu(xg,n),l=RY(xg,n),c=DEe(xg,n),[u,d]=x.useState(null),f=Qe(e,b=>d(b),l.onItemTextChange,b=>{var y;return(y=a.itemTextRefCallback)==null?void 0:y.call(a,b,l.value,l.disabled)}),h=u==null?void 0:u.textContent,m=x.useMemo(()=>O.jsx("option",{value:l.value,disabled:l.disabled,children:h},l.value),[l.disabled,l.value,h]),{onNativeOptionAdd:p,onNativeOptionRemove:g}=c;return Rn(()=>(p(m),()=>g(m)),[p,g,m]),O.jsxs(O.Fragment,{children:[O.jsx(pe.span,{id:l.textId,...o,ref:f}),l.isSelected&&s.valueNode&&!s.valueNodeHasChildren?Xd.createPortal(o.children,s.valueNode):null]})});IY.displayName=xg;var jY="SelectItemIndicator",LY=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return RY(jY,n).isSelected?O.jsx(pe.span,{"aria-hidden":!0,...r,ref:e}):null});LY.displayName=jY;var mA="SelectScrollUpButton",FY=x.forwardRef((t,e)=>{const n=cu(mA,t.__scopeSelect),r=w$(mA,t.__scopeSelect),[i,o]=x.useState(!1),s=Qe(e,r.onScrollButtonChange);return Rn(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;o(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?O.jsx(VY,{...t,ref:s,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});FY.displayName=mA;var gA="SelectScrollDownButton",BY=x.forwardRef((t,e)=>{const n=cu(gA,t.__scopeSelect),r=w$(gA,t.__scopeSelect),[i,o]=x.useState(!1),s=Qe(e,r.onScrollButtonChange);return Rn(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;o(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?O.jsx(VY,{...t,ref:s,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});BY.displayName=gA;var VY=x.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,o=cu("SelectScrollButton",n),s=x.useRef(null),a=q_(n),l=x.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return x.useEffect(()=>()=>l(),[l]),Rn(()=>{var u;const c=a().find(d=>d.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[a]),O.jsx(pe.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:se(i.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(r,50))}),onPointerMove:se(i.onPointerMove,()=>{var c;(c=o.onItemLeave)==null||c.call(o),s.current===null&&(s.current=window.setInterval(r,50))}),onPointerLeave:se(i.onPointerLeave,()=>{l()})})}),WEe="SelectSeparator",zY=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return O.jsx(pe.div,{"aria-hidden":!0,...r,ref:e})});zY.displayName=WEe;var vA="SelectArrow",qEe=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=G_(n),o=lu(vA,n),s=cu(vA,n);return o.open&&s.position==="popper"?O.jsx(o_,{...i,...r,ref:e}):null});qEe.displayName=vA;function UY(t){return t===""||t===void 0}var HY=x.forwardRef((t,e)=>{const{value:n,...r}=t,i=x.useRef(null),o=Qe(e,i),s=b$(n);return x.useEffect(()=>{const a=i.current,l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(s!==n&&u){const d=new Event("change",{bubbles:!0});u.call(a,n),a.dispatchEvent(d)}},[s,n]),O.jsx(l0,{asChild:!0,children:O.jsx("select",{...r,ref:o,defaultValue:n})})});HY.displayName="BubbleSelect";function WY(t){const e=ln(t),n=x.useRef(""),r=x.useRef(0),i=x.useCallback(s=>{const a=n.current+s;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),o=x.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function qY(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let s=GEe(t,Math.max(o,0));i.length===1&&(s=s.filter(c=>c!==n));const l=s.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function GEe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var KEe=bY,GY=xY,YEe=_Y,XEe=CY,ZEe=kY,KY=PY,JEe=AY,YY=DY,XY=$Y,QEe=IY,eOe=LY,ZY=FY,JY=BY,QY=zY;const go=KEe,vo=YEe,ji=x.forwardRef(({className:t,children:e,...n},r)=>P(GY,{ref:r,className:q("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,v(XEe,{asChild:!0,children:v(wD,{className:"h-4 w-4 opacity-50"})})]}));ji.displayName=GY.displayName;const eX=x.forwardRef(({className:t,...e},n)=>v(ZY,{ref:n,className:q("flex cursor-default items-center justify-center py-1",t),...e,children:v(Ule,{className:"h-4 w-4"})}));eX.displayName=ZY.displayName;const tX=x.forwardRef(({className:t,...e},n)=>v(JY,{ref:n,className:q("flex cursor-default items-center justify-center py-1",t),...e,children:v(wD,{className:"h-4 w-4"})}));tX.displayName=JY.displayName;const Li=x.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>v(ZEe,{children:P(KY,{ref:i,className:q("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[v(eX,{}),v(JEe,{className:q("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),v(tX,{})]})}));Li.displayName=KY.displayName;const tOe=x.forwardRef(({className:t,...e},n)=>v(YY,{ref:n,className:q("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));tOe.displayName=YY.displayName;const Oe=x.forwardRef(({className:t,children:e,...n},r)=>P(XY,{ref:r,className:q("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[v("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:v(eOe,{children:v(ZS,{className:"h-4 w-4"})})}),v(QEe,{children:e})]}));Oe.displayName=XY.displayName;const nOe=x.forwardRef(({className:t,...e},n)=>v(QY,{ref:n,className:q("-mx-1 my-1 h-px bg-muted",t),...e}));nOe.displayName=QY.displayName;var rOe="Label",nX=x.forwardRef((t,e)=>O.jsx(pe.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));nX.displayName=rOe;var rX=nX;const iOe=em("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Zs=x.forwardRef(({className:t,...e},n)=>v(rX,{ref:n,className:q(iOe(),t),...e}));Zs.displayName=rX.displayName;const iX=Qme,oX=x.createContext({}),ft=({...t})=>v(oX.Provider,{value:{name:t.name},children:v(rge,{...t})}),K_=()=>{const t=x.useContext(oX),e=x.useContext(sX),{getFieldState:n,formState:r}=x_(),i=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:o}=e;return{id:o,name:t.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...i}},sX=x.createContext({}),Ke=x.forwardRef(({className:t,...e},n)=>{const r=x.useId();return v(sX.Provider,{value:{id:r},children:v("div",{ref:n,className:q("space-y-2",t),...e})})});Ke.displayName="FormItem";const He=x.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:i}=K_();return v(Zs,{ref:n,className:q(r&&"text-destructive",t),htmlFor:i,...e})});He.displayName="FormLabel";const Ye=x.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:i,formMessageId:o}=K_();return v(pD,{ref:e,id:r,"aria-describedby":n?`${i} ${o}`:`${i}`,"aria-invalid":!!n,...t})});Ye.displayName="FormControl";const oOe=x.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=K_();return v("p",{ref:n,id:r,className:q("text-sm text-muted-foreground",t),...e})});oOe.displayName="FormDescription";const lt=x.forwardRef(({className:t,children:e,...n},r)=>{const{error:i,formMessageId:o}=K_(),s=i?String(i==null?void 0:i.message):e;return s?v("p",{ref:r,id:o,className:q("text-sm font-medium text-destructive",t),...n,children:s}):null});lt.displayName="FormMessage";const or=[];for(let t=0;t<256;++t)or.push((t+256).toString(16).slice(1));function sOe(t,e=0){return(or[t[e+0]]+or[t[e+1]]+or[t[e+2]]+or[t[e+3]]+"-"+or[t[e+4]]+or[t[e+5]]+"-"+or[t[e+6]]+or[t[e+7]]+"-"+or[t[e+8]]+or[t[e+9]]+"-"+or[t[e+10]]+or[t[e+11]]+or[t[e+12]]+or[t[e+13]]+or[t[e+14]]+or[t[e+15]]).toLowerCase()}let IP;const aOe=new Uint8Array(16);function lOe(){if(!IP){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");IP=crypto.getRandomValues.bind(crypto)}return IP(aOe)}const cOe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),cV={randomUUID:cOe};function ja(t,e,n){var i;if(cV.randomUUID&&!t)return cV.randomUUID();t=t||{};const r=t.random??((i=t.rng)==null?void 0:i.call(t))??lOe();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,sOe(r)}const aX=jn.object({status:jn.enum(["not_started","in_progress","completed","blocked"]).optional(),notes:jn.string().min(20,"Rationale must be at least 20 characters").optional(),rationale:jn.string().min(20,"Rationale must be at least 20 characters").optional(),approvalStatus:jn.enum(["pending","approved","rejected"]).optional(),nextSteps:jn.string().min(10,"Next steps must be defined").optional()});aX.extend({stage:jn.enum(["G0","G1","G2","G3","G4"]),updatedAt:jn.string().datetime()});const Sg=["application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","image/png","image/jpeg","image/gif"],uOe=jn.object({id:jn.string().uuid(),projectId:jn.string().uuid(),fileName:jn.string().min(3,"File name must be at least 3 characters"),filePath:jn.string().min(1),fileType:jn.enum(Sg,{errorMap:()=>({message:"Invalid or unsupported file type."})}),fileSize:jn.number().positive("File size must be positive"),owner:jn.string().min(2,"Owner must be assigned"),tags:jn.array(jn.string()).default([]),uploadedAt:jn.string().datetime()}),dOe=uOe.omit({id:!0,uploadedAt:!0,projectId:!0}),La=WD((t,e)=>({projects:[],selectedProject:null,isLoading:!1,isUploadingDocument:!1,error:null,fetchProjects:async(n={includeDeleted:!1})=>{t({isLoading:!0,error:null});try{let r=Te.from("projects").select("*");try{n.includeDeleted||(r=r.eq("is_deleted",!1))}catch(a){console.warn('Soft delete column "is_deleted" not found. Fetching all projects.',a)}const{data:i,error:o}=await r;if(console.log("Fetched projects:",i),o)throw o;const s=await Promise.all(i.map(async a=>{const{data:l,error:c}=await Te.from("stage_gates").select("*").eq("project_id",a.id).order("stage");if(c)throw c;const{data:u,error:d}=await Te.from("milestones").select("*").eq("project_id",a.id);if(d)throw d;const{data:f,error:h}=await Te.from("risks").select("*").eq("project_id",a.id);if(h)throw h;const{data:m,error:p}=await Te.from("resources").select("*").eq("project_id",a.id);if(p)throw p;return{id:a.id,portfolioId:a.portfolio_id,name:a.name,description:a.description||"",projectCode:a.project_code||"",initiativeCode:a.initiative_code||"",phase:a.phase||void 0,startDate:a.start_date,endDate:a.end_date,status:a.status,budget:Number(a.budget),actualCost:Number(a.actual_cost),forecastedSpend:Number(a.forecasted_spend||0),managerId:a.manager_id||"",owningDepartment:a.owning_department||"",projectSponsor:a.project_sponsor||"",projectOwner:a.project_owner||"",strategicObjective:a.strategic_objective,corporateKPIs:a.corporate_kpis||[],deliverables:Array.isArray(a.deliverables)?a.deliverables.map(g=>({id:g.id||ja(),description:g.description||"",fromDate:g.fromDate||null,toDate:g.toDate||null})):[],stageGates:l.map(g=>({stage:g.stage,status:g.status,notes:g.notes||"",updatedAt:g.updated_at})),milestones:u.map(g=>({id:g.id,name:g.name,dueDate:g.due_date,status:g.status})),risks:f.map(g=>({id:g.id,description:g.description,impact:g.impact,status:g.status,mitigation:g.mitigation})),resources:m.map(g=>({id:g.id,userId:g.user_id||"",name:g.name,role:g.role})),createdAt:a.created_at,updatedAt:a.updated_at,documents:[],isDeleted:a.is_deleted||!1,deletedAt:a.deleted_at||void 0,deletedBy:a.deleted_by||void 0,restorationEligibleUntil:a.restoration_eligible_until||void 0}}));t({projects:s,isLoading:!1})}catch(r){console.error("Error fetching projects:",r),t({error:`Failed to load projects: ${r.message}.
        This may be due to missing soft delete columns in the database schema.
        Please run a database migration to add 'is_deleted', 'deleted_at', 'deleted_by', and 'restoration_eligible_until' columns to the 'projects' table.`,isLoading:!1}),xe.error("Database schema issue. Check console for details.")}},fetchProjectById:async n=>{t({isLoading:!0,error:null});try{const{data:r,error:i}=await Te.from("projects").select("*").eq("id",n).single();if(i)throw console.error("Error fetching project details:",i),new Error(`Failed to load project: ${i.message}`);if(!r)throw new Error("Project not found or you don't have access");const[o,s,a,l,c]=await Promise.all([Te.from("stage_gates").select("*").eq("project_id",n).order("stage"),Te.from("milestones").select("*").eq("project_id",n),Te.from("risks").select("*").eq("project_id",n),Te.from("resources").select("*").eq("project_id",n),Te.from("documents").select("*").eq("project_id",n)]);if(o.error)throw new Error(`Failed to load stage gates: ${o.error.message}`);if(s.error)throw new Error(`Failed to load milestones: ${s.error.message}`);if(a.error)throw new Error(`Failed to load risks: ${a.error.message}`);if(l.error)throw new Error(`Failed to load resources: ${l.error.message}`);if(c.error)throw new Error(`Failed to load documents: ${c.error.message}`);const u={id:r.id,portfolioId:r.portfolio_id,name:r.name,description:r.description||"",projectCode:r.project_code||"",initiativeCode:r.initiative_code||"",phase:r.phase||void 0,startDate:r.start_date,endDate:r.end_date,status:r.status,budget:Number(r.budget),actualCost:Number(r.actual_cost),forecastedSpend:Number(r.forecasted_spend||0),managerId:r.manager_id||"",owningDepartment:r.owning_department||"",projectSponsor:r.project_sponsor||"",projectOwner:r.project_owner||"",strategicObjective:r.strategic_objective,corporateKPIs:r.corporate_kpis||[],deliverables:Array.isArray(r.deliverables)?r.deliverables.map(d=>({id:d.id||ja(),description:d.description||"",fromDate:d.fromDate||null,toDate:d.toDate||null})):[],stageGates:(o.data||[]).map(d=>({stage:d.stage,status:d.status,notes:d.notes||"",updatedAt:d.updated_at})),milestones:(s.data||[]).map(d=>({id:d.id,name:d.name,dueDate:d.due_date,status:d.status})),risks:(a.data||[]).map(d=>({id:d.id,description:d.description,impact:d.impact,status:d.status,mitigation:d.mitigation})),resources:(l.data||[]).map(d=>({id:d.id,userId:d.user_id||"",name:d.name,role:d.role})),documents:(c.data||[]).map(d=>{const f=Sg.includes(d.file_type)?d.file_type:null;return f?{id:d.id,projectId:d.project_id,fileName:d.file_name,filePath:d.file_path,fileSize:d.file_size,fileType:f,owner:d.owner||"Unknown Owner",tags:Array.isArray(d.tags)?d.tags:[],uploadedAt:d.uploaded_at}:(console.warn(`Skipping document with unsupported file type '${d.file_type}':`,d),null)}).filter(d=>d!==null),created_at:r.created_at,updatedAt:r.updated_at,isDeleted:r.is_deleted||!1,deletedAt:r.deleted_at||void 0,deletedBy:r.deleted_by||void 0,restorationEligibleUntil:r.restoration_eligible_until||void 0};t({selectedProject:u,isLoading:!1})}catch(r){throw console.error("Error fetching project:",r),t({error:r.message,isLoading:!1,selectedProject:null}),xe.error(r.message||"Failed to load project details"),r}},addProject:async n=>{var r;t({isLoading:!0,error:null});try{const{data:i,error:o}=await Te.from("projects").insert({portfolio_id:n.portfolioId,name:n.name,description:n.description,project_code:n.projectCode,initiative_code:n.initiativeCode,phase:n.phase,start_date:n.startDate,end_date:n.endDate,status:n.status,budget:n.budget,actual_cost:n.actualCost,forecasted_spend:n.forecastedSpend,manager_id:n.managerId,owning_department:n.owningDepartment,project_sponsor:n.projectSponsor,project_owner:n.projectOwner,strategic_objective:n.strategicObjective,corporate_kpis:n.corporateKPIs,deliverables:((r=n.deliverables)==null?void 0:r.map(b=>({description:b.description,fromDate:b.fromDate,toDate:b.toDate})))||[]}).select().single();if(o)throw o;const s=n.stageGates.map(b=>({project_id:i.id,stage:b.stage,status:b.status,notes:b.notes})),{error:a}=await Te.from("stage_gates").insert(s);if(a)throw a;const l=n.milestones.map(b=>({project_id:i.id,name:b.name,due_date:b.dueDate,status:b.status})),{error:c}=await Te.from("milestones").insert(l);if(c)throw c;const u=n.risks.map(b=>({project_id:i.id,description:b.description,impact:b.impact,status:b.status,mitigation:b.mitigation})),{error:d}=await Te.from("risks").insert(u);if(d)throw d;const f=n.resources.map(b=>({project_id:i.id,user_id:b.userId,name:b.name,role:b.role})),{error:h}=await Te.from("resources").insert(f);if(h)throw h;const m=i,p=n,g={id:m.id,portfolioId:m.portfolio_id,name:m.name,description:m.description||"",projectCode:m.project_code||"",initiativeCode:m.initiative_code||"",phase:m.phase||void 0,startDate:m.start_date,endDate:m.end_date,status:m.status,budget:Number(m.budget),actualCost:Number(m.actual_cost),forecastedSpend:Number(m.forecasted_spend||0),managerId:m.manager_id||"",owningDepartment:m.owning_department||"",projectSponsor:m.project_sponsor||"",projectOwner:m.project_owner||"",strategicObjective:m.strategic_objective,corporateKPIs:m.corporate_kpis||[],deliverables:Array.isArray(m.deliverables)?m.deliverables.map(b=>({id:b.id||ja(),description:b.description||"",fromDate:b.fromDate||null,toDate:b.toDate||null})):[],stageGates:p.stageGates,milestones:p.milestones,risks:p.risks,resources:p.resources,documents:[],created_at:m.created_at,updatedAt:m.updated_at,isDeleted:!1,deletedAt:void 0,deletedBy:void 0,restorationEligibleUntil:void 0};t(b=>({projects:[g,...b.projects],isLoading:!1})),xe.success("Project created successfully")}catch(i){console.error("Error adding project:",i),t({error:i.message,isLoading:!1}),xe.error("Failed to create project")}},updateProject:async(n,r)=>{var i;t({isLoading:!0,error:null});try{const o={};r.name&&(o.name=r.name),r.description!==void 0&&(o.description=r.description),r.projectCode!==void 0&&(o.project_code=r.projectCode),r.initiativeCode!==void 0&&(o.initiative_code=r.initiativeCode),r.phase!==void 0&&(o.phase=r.phase),r.startDate&&(o.start_date=r.startDate),r.endDate&&(o.end_date=r.endDate),r.status&&(o.status=r.status),r.budget!==void 0&&(o.budget=r.budget),r.actualCost!==void 0&&(o.actual_cost=r.actualCost),r.forecastedSpend!==void 0&&(o.forecasted_spend=r.forecastedSpend),r.managerId&&(o.manager_id=r.managerId),r.portfolioId&&(o.portfolio_id=r.portfolioId),r.owningDepartment!==void 0&&(o.owning_department=r.owningDepartment),r.projectSponsor!==void 0&&(o.project_sponsor=r.projectSponsor),r.projectOwner!==void 0&&(o.project_owner=r.projectOwner),r.strategicObjective!==void 0&&(o.strategic_objective=r.strategicObjective),r.corporateKPIs!==void 0&&(o.corporate_kpis=r.corporateKPIs),r.deliverables!==void 0&&(o.deliverables=r.deliverables.map(a=>({id:a.id||ja(),description:a.description,fromDate:a.fromDate,toDate:a.toDate})));const{error:s}=await Te.from("projects").update(o).eq("id",n);if(s)throw s;((i=e().selectedProject)==null?void 0:i.id)===n?await e().fetchProjectById(n):await e().fetchProjects(),xe.success("Project updated successfully"),t({isLoading:!1})}catch(o){console.error("Error updating project:",o),console.error("Supabase error details:",o),t({error:o.message,isLoading:!1}),xe.error("Failed to update project")}},deleteProject:async(n,r={})=>{t({isLoading:!0,error:null});try{const{data:{user:i}}=await Te.auth.getUser();if(!i)throw new Error("User not authenticated");const o={is_deleted:!0,deleted_at:new Date().toISOString(),deleted_by:i.id,restoration_eligible_until:new Date(Date.now()+30*24*60*60*1e3).toISOString(),...r},{error:s}=await Te.from("projects").update(o).eq("id",n);if(s)throw s;t(a=>{var l;return{projects:a.projects.map(c=>c.id===n?{...c,isDeleted:!0,deletedAt:o.deleted_at,deletedBy:o.deleted_by,restorationEligibleUntil:o.restoration_eligible_until}:c),selectedProject:((l=a.selectedProject)==null?void 0:l.id)===n?{...a.selectedProject,isDeleted:!0,deletedAt:o.deleted_at,deletedBy:o.deleted_by,restorationEligibleUntil:o.restoration_eligible_until}:a.selectedProject,isLoading:!1}}),xe.success("Project soft-deleted. Restoration available for 30 days."),await Te.from("audit_logs").insert({action:"soft_delete",entity_type:"project",entity_id:n,user_id:i.id,metadata:JSON.stringify(o)})}catch(i){console.error("Error soft-deleting project:",i),t({error:i.message,isLoading:!1}),xe.error("Failed to soft-delete project")}},restoreProject:async n=>{t({isLoading:!0,error:null});try{const{data:{user:r}}=await Te.auth.getUser();if(!r)throw new Error("User not authenticated");const{data:i,error:o}=await Te.from("projects").select("*").eq("id",n).single();if(o)throw o;if(i.is_deleted!==!0)throw new Error("Project is not soft-deleted and cannot be restored");const s=i.restoration_eligible_until?new Date(i.restoration_eligible_until):null;if(s&&s<new Date)throw new Error("Project restoration window has expired.");const{error:a}=await Te.from("projects").update({is_deleted:!1,deleted_at:null,deleted_by:null,restoration_eligible_until:null}).eq("id",n);if(a)throw a;t(l=>{var c;return{projects:l.projects.map(u=>u.id===n?{...u,isDeleted:!1,deletedAt:null,deletedBy:null,restorationEligibleUntil:null}:u),selectedProject:((c=l.selectedProject)==null?void 0:c.id)===n?{...l.selectedProject,isDeleted:!1,deletedAt:null,deletedBy:null,restorationEligibleUntil:null}:l.selectedProject,isLoading:!1}}),await Te.from("audit_logs").insert({action:"restore",entity_type:"project",entity_id:n,user_id:r.id}),xe.success("Project successfully restored")}catch(r){throw console.error("Error restoring project:",r),t({error:r.message,isLoading:!1}),xe.error(r.message||"Failed to restore project"),r}},addRisk:async(n,r)=>{t({isLoading:!0,error:null});try{const{data:i,error:o}=await Te.from("risks").insert({project_id:n,description:r.description,impact:r.impact,status:r.status,mitigation:r.mitigation}).select().single();if(o)throw o;await e().fetchProjectById(n),xe.success("Risk added successfully")}catch(i){console.error("Error adding risk:",i),i instanceof Error?console.error("Supabase error message:",i.message):i&&typeof i=="object"&&console.error("Supabase error details:",JSON.stringify(i)),t({error:i.message??JSON.stringify(i),isLoading:!1}),xe.error("Failed to add risk")}},updateRisk:async(n,r,i)=>{t({isLoading:!0,error:null});try{const o={};i.description&&(o.description=i.description),i.impact&&(o.impact=i.impact),i.status&&(o.status=i.status),i.mitigation!==void 0&&(o.mitigation=i.mitigation);const{error:s}=await Te.from("risks").update(o).eq("id",r);if(s)throw s;t(a=>{var u;const l=a.projects.map(d=>d.id===n?{...d,risks:d.risks.map(f=>f.id===r?{...f,...i}:f),updatedAt:new Date().toISOString()}:d),c=((u=a.selectedProject)==null?void 0:u.id)===n?{...a.selectedProject,risks:a.selectedProject.risks.map(d=>d.id===r?{...d,...i}:d),updatedAt:new Date().toISOString()}:a.selectedProject;return{projects:l,selectedProject:c,isLoading:!1}}),xe.success(`Risk ${r} updated successfully`)}catch(o){const s=o.message;console.error(`Error updating risk ${r}:`,s),t({error:s,isLoading:!1}),xe.error(`Failed to update risk: ${s}`)}},addMilestone:async(n,r)=>{t({isLoading:!0,error:null});try{const{data:i,error:o}=await Te.from("milestones").insert({project_id:n,name:r.name,due_date:r.dueDate,status:r.status}).select().single();if(o)throw o;const s={id:i.id,name:i.name,dueDate:i.due_date,status:i.status};t(a=>{var u;const l=a.projects.map(d=>d.id===n?{...d,milestones:[...d.milestones,s],updatedAt:new Date().toISOString()}:d),c=((u=a.selectedProject)==null?void 0:u.id)===n?{...a.selectedProject,milestones:[...a.selectedProject.milestones,s],updatedAt:new Date().toISOString()}:a.selectedProject;return{projects:l,selectedProject:c,isLoading:!1}}),xe.success("Milestone added successfully")}catch(i){console.error("Error adding milestone:",i),t({error:i.message,isLoading:!1}),xe.error("Failed to add milestone")}},updateMilestone:async(n,r,i)=>{t({isLoading:!0,error:null});try{const o={};i.name&&(o.name=i.name),i.dueDate&&(o.due_date=i.dueDate),i.status&&(o.status=i.status);const{error:s}=await Te.from("milestones").update(o).eq("id",r);if(s)throw s;t(a=>{var u;const l=a.projects.map(d=>d.id===n?{...d,milestones:d.milestones.map(f=>f.id===r?{...f,...i}:f),updatedAt:new Date().toISOString()}:d),c=((u=a.selectedProject)==null?void 0:u.id)===n?{...a.selectedProject,milestones:a.selectedProject.milestones.map(d=>d.id===r?{...d,...i}:d),updatedAt:new Date().toISOString()}:a.selectedProject;return{projects:l,selectedProject:c,isLoading:!1}}),xe.success("Milestone updated successfully")}catch(o){console.error("Error updating milestone:",o),t({error:o.message,isLoading:!1}),xe.error("Failed to update milestone")}},updateStageGate:async(n,r,i)=>{var l;t({isLoading:!0,error:null});const o=e(),s=((l=o.selectedProject)==null?void 0:l.id)===n?o.selectedProject:o.projects.find(c=>c.id===n);if(!(s==null?void 0:s.stageGates.find(c=>c.stage===r))){const c=`Stage gate ${r} not found for project ${n}`;t({error:c,isLoading:!1}),xe.error(c);return}try{const c=aX.safeParse(i);if(!c.success){const b=c.error.errors.map(y=>`${y.path.join(".")}: ${y.message}`).join(", ");throw new Error(`Validation failed: ${b}`)}const u=c.data,d=["G0","G1","G2","G3","G4"],f=d.indexOf(r);if(f>0){const b=d[f-1],y=s==null?void 0:s.stageGates.find(w=>w.stage===b);if((y==null?void 0:y.status)!=="completed")throw new Error(`Cannot update ${r}: Prerequisite stage ${b} is not completed.`)}if(u.status==="completed"&&u.approvalStatus!=="approved")throw new Error(`Cannot mark ${r} as completed without 'approved' status.`);const h={};u.status&&(h.status=u.status),u.notes!==void 0&&(h.notes=u.notes),u.rationale!==void 0&&(h.rationale=u.rationale),u.approvalStatus!==void 0&&(h.approval_status=u.approvalStatus),u.nextSteps!==void 0&&(h.next_steps=u.nextSteps),h.updated_at=new Date().toISOString();const{data:m,error:p}=await Te.from("stage_gates").select("id").eq("project_id",n).eq("stage",r).single();if(p)throw new Error(`Failed to fetch stage gate ID: ${p.message}`);if(!m)throw new Error(`Stage gate record not found for ${r}`);const{error:g}=await Te.from("stage_gates").update(h).eq("id",m.id);if(g)throw new Error(`Supabase update failed: ${g.message}`);t(b=>{var _;const y=b.projects.map(S=>S.id===n?{...S,stageGates:S.stageGates.map(C=>C.stage===r?{...C,...u,updatedAt:h.updated_at}:C),updatedAt:h.updated_at}:S),w=((_=b.selectedProject)==null?void 0:_.id)===n?{...b.selectedProject,stageGates:b.selectedProject.stageGates.map(S=>S.stage===r?{...S,...u,updatedAt:h.updated_at}:S),updatedAt:h.updated_at}:b.selectedProject;return{projects:y,selectedProject:w,isLoading:!1}}),xe.success(`Stage gate ${r} updated successfully`)}catch(c){const u=c.message;console.error(`Error updating stage gate ${r}:`,u),t({error:u,isLoading:!1}),xe.error(`Failed to update stage gate: ${u}`)}},addResource:async(n,r)=>{t({isLoading:!0,error:null});try{const{data:i,error:o}=await Te.from("resources").insert({project_id:n,name:r.name,role:r.role}).select().single();if(o)throw o;await e().fetchProjectById(n),xe.success("Team member added successfully")}catch(i){throw console.error("Error adding resource:",i),i instanceof Error?console.error("Supabase error message:",i.message):i&&typeof i=="object"&&console.error("Supabase error details:",JSON.stringify(i)),t({error:i.message??JSON.stringify(i),isLoading:!1}),xe.error("Failed to add team member"),i}},fetchDocuments:async n=>{t({isLoading:!0});try{const{data:r,error:i}=await Te.from("documents").select("*").eq("project_id",n).order("uploaded_at",{ascending:!1});if(i)throw i;const o=r==null?void 0:r.map(s=>{if(!s.id||!s.project_id||!s.file_name||!s.file_path||!s.file_size||!s.file_type||!s.uploaded_at)return console.warn("Skipping incomplete document record from DB:",s),null;const a=Sg.includes(s.file_type)?s.file_type:null;return a?{id:s.id,projectId:s.project_id,fileName:s.file_name,filePath:s.file_path,fileSize:s.file_size,fileType:a,owner:s.owner||"Unknown Owner",tags:Array.isArray(s.tags)?s.tags:[],uploadedAt:s.uploaded_at}:(console.warn(`Skipping document with unsupported file type '${s.file_type}':`,s),null)}).filter(s=>s!==null);t(s=>{var a;return{selectedProject:((a=s.selectedProject)==null?void 0:a.id)===n?{...s.selectedProject,documents:o}:s.selectedProject,isLoading:!1,error:null}})}catch(r){console.error("Error fetching documents:",r),t({error:r.message,isLoading:!1}),xe.error("Failed to load documents")}},uploadDocument:async(n,r)=>{var i;t({isUploadingDocument:!0});try{if(!r)throw new Error("No file selected for upload.");if(!n)throw new Error("Project ID is missing.");if(!Sg.includes(r.type))throw new Error(`Unsupported file type: ${r.type}. Allowed: ${Sg.join(", ")}`);const s={id:"user-uuid-placeholder",name:"Current User"}.name;console.log(`[uploadDocument] Attempting upload for projectId: ${n}, File: ${r.name}, Size: ${r.size}, Type: ${r.type}, Owner: ${s}`);const a=(i=r.name.split(".").pop())==null?void 0:i.toLowerCase(),l=`${Date.now()}-${Math.random().toString(36).substring(2,8)}.${a}`,c=`${n}/${l}`,{error:u}=await Te.storage.from("project-documents").upload(c,r);if(u)throw console.error("Supabase Storage upload error:",u),new Error(`Storage Error: ${u.message}`);const d={fileName:r.name,filePath:c,fileSize:r.size,fileType:r.type,owner:s,tags:["uncategorized"]},f=dOe.safeParse(d);if(!f.success){await Te.storage.from("project-documents").remove([c]);const y=f.error.errors.map(w=>`${w.path.join(".")}: ${w.message}`).join(", ");throw new Error(`Document metadata validation failed: ${y}`)}const h=f.data;console.log(`[uploadDocument] Inserting validated metadata to documents table for path: ${c}`);const{data:m,error:p}=await Te.from("documents").insert({project_id:n,...h}).select().single();if(p)throw console.error("Supabase DB insert error:",p),await Te.storage.from("project-documents").remove([c]),new Error(`Database Error: ${p.message}`);if(!m)throw await Te.storage.from("project-documents").remove([c]),new Error("Failed to retrieve document record after insert.");const g=m,b={id:g.id,projectId:g.project_id,fileName:g.file_name,filePath:g.file_path,fileSize:g.file_size,fileType:g.file_type,owner:g.owner,tags:Array.isArray(g.tags)?g.tags:[],uploadedAt:g.uploaded_at};t(y=>{var _;return{selectedProject:((_=y.selectedProject)==null?void 0:_.id)===n?{...y.selectedProject,documents:[b,...y.selectedProject.documents||[]],updatedAt:new Date().toISOString()}:y.selectedProject,isUploadingDocument:!1,error:null}}),xe.success(`Document "${r.name}" uploaded successfully`)}catch(o){console.error("Error uploading document:",o),t({isUploadingDocument:!1}),t({error:o.message,isLoading:!1}),xe.error(`Failed to upload document: ${o.message}`)}}})),hm=WD(t=>({portfolios:[],isLoading:!1,error:null,fetchPortfolios:async()=>{t({isLoading:!0,error:null});try{const{data:e,error:n}=await Te.from("portfolios").select(`
          id, 
          name, 
          description, 
          type, 
          created_at,
          updated_at,
          projects:projects(id)
        `);if(n)throw n;const r=e.map(i=>({id:i.id,name:i.name,description:i.description||"",type:i.type,projectCount:Array.isArray(i.projects)?i.projects.length:0,createdAt:i.created_at,updatedAt:i.updated_at}));t({portfolios:r,isLoading:!1})}catch(e){console.error("Error fetching portfolios:",e),t({error:e.message,isLoading:!1}),xe.error("Failed to load portfolios")}},addPortfolio:async e=>{t({isLoading:!0,error:null});try{const{data:n,error:r}=await Te.from("portfolios").insert({name:e.name,description:e.description,type:e.type}).select().single();if(r)throw r;const i={id:n.id,name:n.name,description:n.description||"",type:n.type,projectCount:0,createdAt:n.created_at,updatedAt:n.updated_at};t(o=>({portfolios:[...o.portfolios,i],isLoading:!1})),xe.success("Portfolio created successfully")}catch(n){console.error("Error adding portfolio:",n),t({error:n.message,isLoading:!1}),xe.error("Failed to create portfolio")}},updatePortfolio:async(e,n)=>{t({isLoading:!0,error:null});try{const{error:r}=await Te.from("portfolios").update({name:n.name,description:n.description,type:n.type}).eq("id",e);if(r)throw r;t(i=>({portfolios:i.portfolios.map(o=>o.id===e?{...o,...n,updatedAt:new Date().toISOString()}:o),isLoading:!1})),xe.success("Portfolio updated successfully")}catch(r){console.error("Error updating portfolio:",r),t({error:r.message,isLoading:!1}),xe.error("Failed to update portfolio")}},deletePortfolio:async e=>{t({isLoading:!0,error:null});try{const{error:n}=await Te.from("portfolios").delete().eq("id",e);if(n)throw n;t(r=>({portfolios:r.portfolios.filter(i=>i.id!==e),isLoading:!1})),xe.success("Portfolio deleted successfully")}catch(n){console.error("Error deleting portfolio:",n),t({error:n.message,isLoading:!1}),xe.error("Failed to delete portfolio")}}}));var fOe="Separator",uV="horizontal",hOe=["horizontal","vertical"],lX=x.forwardRef((t,e)=>{const{decorative:n,orientation:r=uV,...i}=t,o=pOe(r)?r:uV,a=n?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return O.jsx(pe.div,{"data-orientation":o,...a,...i,ref:e})});lX.displayName=fOe;function pOe(t){return hOe.includes(t)}var cX=lX;const Id=x.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>v(cX,{ref:i,decorative:n,orientation:e,className:q("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));Id.displayName=cX.displayName;var x$="Popover",[uX,qot]=nr(x$,[nu]),O0=nu(),[mOe,uu]=uX(x$),dX=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:s=!1}=t,a=O0(e),l=x.useRef(null),[c,u]=x.useState(!1),[d=!1,f]=_i({prop:r,defaultProp:i,onChange:o});return O.jsx(r_,{...a,children:O.jsx(mOe,{scope:e,contentId:Zn(),triggerRef:l,open:d,onOpenChange:f,onOpenToggle:x.useCallback(()=>f(h=>!h),[f]),hasCustomAnchor:c,onCustomAnchorAdd:x.useCallback(()=>u(!0),[]),onCustomAnchorRemove:x.useCallback(()=>u(!1),[]),modal:s,children:n})})};dX.displayName=x$;var fX="PopoverAnchor",gOe=x.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=uu(fX,n),o=O0(n),{onCustomAnchorAdd:s,onCustomAnchorRemove:a}=i;return x.useEffect(()=>(s(),()=>a()),[s,a]),O.jsx(u0,{...o,...r,ref:e})});gOe.displayName=fX;var hX="PopoverTrigger",pX=x.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=uu(hX,n),o=O0(n),s=Qe(e,i.triggerRef),a=O.jsx(pe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":bX(i.open),...r,ref:s,onClick:se(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?a:O.jsx(u0,{asChild:!0,...o,children:a})});pX.displayName=hX;var S$="PopoverPortal",[vOe,yOe]=uX(S$,{forceMount:void 0}),mX=t=>{const{__scopePopover:e,forceMount:n,children:r,container:i}=t,o=uu(S$,e);return O.jsx(vOe,{scope:e,forceMount:n,children:O.jsx(rr,{present:n||o.open,children:O.jsx(Qp,{asChild:!0,container:i,children:r})})})};mX.displayName=S$;var mp="PopoverContent",gX=x.forwardRef((t,e)=>{const n=yOe(mp,t.__scopePopover),{forceMount:r=n.forceMount,...i}=t,o=uu(mp,t.__scopePopover);return O.jsx(rr,{present:r||o.open,children:o.modal?O.jsx(wOe,{...i,ref:e}):O.jsx(xOe,{...i,ref:e})})});gX.displayName=mp;var bOe=jc("PopoverContent.RemoveScroll"),wOe=x.forwardRef((t,e)=>{const n=uu(mp,t.__scopePopover),r=x.useRef(null),i=Qe(e,r),o=x.useRef(!1);return x.useEffect(()=>{const s=r.current;if(s)return U_(s)},[]),O.jsx(P0,{as:bOe,allowPinchZoom:!0,children:O.jsx(vX,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:se(t.onCloseAutoFocus,s=>{var a;s.preventDefault(),o.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:se(t.onPointerDownOutside,s=>{const a=s.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,c=a.button===2||l;o.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:se(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})})}),xOe=x.forwardRef((t,e)=>{const n=uu(mp,t.__scopePopover),r=x.useRef(!1),i=x.useRef(!1);return O.jsx(vX,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s,a;(s=t.onCloseAutoFocus)==null||s.call(t,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=o.target;((c=n.triggerRef.current)==null?void 0:c.contains(s))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),vX=x.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:s,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:u,...d}=t,f=uu(mp,n),h=O0(n);return z_(),O.jsx(k0,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:O.jsx(Zd,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:u,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>f.onOpenChange(!1),children:O.jsx(i_,{"data-state":bX(f.open),role:"dialog",id:f.contentId,...h,...d,ref:e,style:{...d.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),yX="PopoverClose",SOe=x.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=uu(yX,n);return O.jsx(pe.button,{type:"button",...r,ref:e,onClick:se(t.onClick,()=>i.onOpenChange(!1))})});SOe.displayName=yX;var _Oe="PopoverArrow",COe=x.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=O0(n);return O.jsx(o_,{...i,...r,ref:e})});COe.displayName=_Oe;function bX(t){return t?"open":"closed"}var kOe=dX,POe=pX,EOe=mX,wX=gX;const Fa=kOe,Ba=POe,Fs=x.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},i)=>v(EOe,{children:v(wX,{ref:i,align:e,sideOffset:n,className:q("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none dark:bg-dark-popover dark:text-dark-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));Fs.displayName=wX.displayName;function bt(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Zi(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Hr(t,e){const n=bt(t);return isNaN(e)?Zi(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function ps(t,e){const n=bt(t);if(isNaN(e))return Zi(t,NaN);if(!e)return n;const r=n.getDate(),i=Zi(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const o=i.getDate();return r>=o?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}const _$=6048e5,OOe=864e5,xX=6e4,SX=36e5;let TOe={};function T0(){return TOe}function sa(t,e){var a,l,c,u;const n=T0(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,i=bt(t),o=i.getDay(),s=(o<r?7:0)+o-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function jd(t){return sa(t,{weekStartsOn:1})}function _X(t){const e=bt(t),n=e.getFullYear(),r=Zi(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=jd(r),o=Zi(t,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const s=jd(o);return e.getTime()>=i.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function gp(t){const e=bt(t);return e.setHours(0,0,0,0),e}function o1(t){const e=bt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Bs(t,e){const n=gp(t),r=gp(e),i=+n-o1(n),o=+r-o1(r);return Math.round((i-o)/OOe)}function AOe(t){const e=_X(t),n=Zi(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),jd(n)}function yA(t,e){const n=e*7;return Hr(t,n)}function MOe(t,e){return ps(t,e*12)}function NOe(t){let e;return t.forEach(function(n){const r=bt(n);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function DOe(t){let e;return t.forEach(n=>{const r=bt(n);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function pi(t,e){const n=gp(t),r=gp(e);return+n==+r}function C$(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function _h(t){if(!C$(t)&&typeof t!="number")return!1;const e=bt(t);return!isNaN(Number(e))}function dy(t,e){const n=bt(t),r=bt(e),i=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return i*12+o}function ROe(t,e,n){const r=sa(t,n),i=sa(e,n),o=+r-o1(r),s=+i-o1(i);return Math.round((o-s)/_$)}function k$(t){const e=bt(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function wi(t){const e=bt(t);return e.setDate(1),e.setHours(0,0,0,0),e}function CX(t){const e=bt(t),n=Zi(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function P$(t,e){var a,l,c,u;const n=T0(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,i=bt(t),o=i.getDay(),s=(o<r?-7:0)+6-(o-r);return i.setDate(i.getDate()+s),i.setHours(23,59,59,999),i}function kX(t){return P$(t,{weekStartsOn:1})}const $Oe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},IOe=(t,e,n)=>{let r;const i=$Oe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function jP(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const jOe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},LOe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},FOe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},BOe={date:jP({formats:jOe,defaultWidth:"full"}),time:jP({formats:LOe,defaultWidth:"full"}),dateTime:jP({formats:FOe,defaultWidth:"full"})},VOe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},zOe=(t,e,n,r)=>VOe[t];function qm(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):s;i=t.formattingValues[a]||t.formattingValues[s]}else{const s=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[s]}const o=t.argumentCallback?t.argumentCallback(e):e;return i[o]}}const UOe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},HOe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},WOe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},qOe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},GOe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},KOe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},YOe=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},XOe={ordinalNumber:YOe,era:qm({values:UOe,defaultWidth:"wide"}),quarter:qm({values:HOe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:qm({values:WOe,defaultWidth:"wide"}),day:qm({values:qOe,defaultWidth:"wide"}),dayPeriod:qm({values:GOe,defaultWidth:"wide",formattingValues:KOe,defaultFormattingWidth:"wide"})};function Gm(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;const s=o[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?JOe(a,d=>d.test(s)):ZOe(a,d=>d.test(s));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=e.slice(s.length);return{value:c,rest:u}}}function ZOe(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function JOe(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function QOe(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],o=e.match(t.parsePattern);if(!o)return null;let s=t.valueCallback?t.valueCallback(o[0]):o[0];s=n.valueCallback?n.valueCallback(s):s;const a=e.slice(i.length);return{value:s,rest:a}}}const eTe=/^(\d+)(th|st|nd|rd)?/i,tTe=/\d+/i,nTe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},rTe={any:[/^b/i,/^(a|c)/i]},iTe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},oTe={any:[/1/i,/2/i,/3/i,/4/i]},sTe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},aTe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},lTe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},cTe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},uTe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},dTe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},fTe={ordinalNumber:QOe({matchPattern:eTe,parsePattern:tTe,valueCallback:t=>parseInt(t,10)}),era:Gm({matchPatterns:nTe,defaultMatchWidth:"wide",parsePatterns:rTe,defaultParseWidth:"any"}),quarter:Gm({matchPatterns:iTe,defaultMatchWidth:"wide",parsePatterns:oTe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Gm({matchPatterns:sTe,defaultMatchWidth:"wide",parsePatterns:aTe,defaultParseWidth:"any"}),day:Gm({matchPatterns:lTe,defaultMatchWidth:"wide",parsePatterns:cTe,defaultParseWidth:"any"}),dayPeriod:Gm({matchPatterns:uTe,defaultMatchWidth:"any",parsePatterns:dTe,defaultParseWidth:"any"})},PX={code:"en-US",formatDistance:IOe,formatLong:BOe,formatRelative:zOe,localize:XOe,match:fTe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function hTe(t){const e=bt(t);return Bs(e,CX(e))+1}function EX(t){const e=bt(t),n=+jd(e)-+AOe(e);return Math.round(n/_$)+1}function OX(t,e){var u,d,f,h;const n=bt(t),r=n.getFullYear(),i=T0(),o=(e==null?void 0:e.firstWeekContainsDate)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((h=(f=i.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??1,s=Zi(t,0);s.setFullYear(r+1,0,o),s.setHours(0,0,0,0);const a=sa(s,e),l=Zi(t,0);l.setFullYear(r,0,o),l.setHours(0,0,0,0);const c=sa(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function pTe(t,e){var a,l,c,u;const n=T0(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,i=OX(t,e),o=Zi(t,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),sa(o,e)}function TX(t,e){const n=bt(t),r=+sa(n,e)-+pTe(n,e);return Math.round(r/_$)+1}function Nt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Dl={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Nt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Nt(n+1,2)},d(t,e){return Nt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Nt(t.getHours()%12||12,e.length)},H(t,e){return Nt(t.getHours(),e.length)},m(t,e){return Nt(t.getMinutes(),e.length)},s(t,e){return Nt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Nt(i,e.length)}},xf={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},dV={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Dl.y(t,e)},Y:function(t,e,n,r){const i=OX(t,r),o=i>0?i:1-i;if(e==="YY"){const s=o%100;return Nt(s,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):Nt(o,e.length)},R:function(t,e){const n=_X(t);return Nt(n,e.length)},u:function(t,e){const n=t.getFullYear();return Nt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Nt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Nt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Dl.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Nt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=TX(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Nt(i,e.length)},I:function(t,e,n){const r=EX(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Nt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Dl.d(t,e)},D:function(t,e,n){const r=hTe(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Nt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return Nt(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return Nt(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Nt(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=xf.noon:r===0?i=xf.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=xf.evening:r>=12?i=xf.afternoon:r>=4?i=xf.morning:i=xf.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Dl.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Dl.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Nt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Nt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Dl.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Dl.s(t,e)},S:function(t,e){return Dl.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return hV(r);case"XXXX":case"XX":return Tu(r);case"XXXXX":case"XXX":default:return Tu(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return hV(r);case"xxxx":case"xx":return Tu(r);case"xxxxx":case"xxx":default:return Tu(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+fV(r,":");case"OOOO":default:return"GMT"+Tu(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+fV(r,":");case"zzzz":default:return"GMT"+Tu(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Nt(r,e.length)},T:function(t,e,n){const r=t.getTime();return Nt(r,e.length)}};function fV(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+e+Nt(o,2)}function hV(t,e){return t%60===0?(t>0?"-":"+")+Nt(Math.abs(t)/60,2):Tu(t,e)}function Tu(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Nt(Math.trunc(r/60),2),o=Nt(r%60,2);return n+i+e+o}const pV=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},AX=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},mTe=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return pV(t,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",pV(r,e)).replace("{{time}}",AX(i,e))},gTe={p:AX,P:mTe},vTe=/^D+$/,yTe=/^Y+$/,bTe=["D","DD","YY","YYYY"];function wTe(t){return vTe.test(t)}function xTe(t){return yTe.test(t)}function STe(t,e,n){const r=_Te(t,e,n);if(console.warn(r),bTe.includes(t))throw new RangeError(r)}function _Te(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const CTe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,kTe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,PTe=/^'([^]*?)'?$/,ETe=/''/g,OTe=/[a-zA-Z]/;function Ot(t,e,n){var u,d,f,h,m,p,g,b;const r=T0(),i=(n==null?void 0:n.locale)??r.locale??PX,o=(n==null?void 0:n.firstWeekContainsDate)??((d=(u=n==null?void 0:n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((h=(f=r.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??1,s=(n==null?void 0:n.weekStartsOn)??((p=(m=n==null?void 0:n.locale)==null?void 0:m.options)==null?void 0:p.weekStartsOn)??r.weekStartsOn??((b=(g=r.locale)==null?void 0:g.options)==null?void 0:b.weekStartsOn)??0,a=bt(t);if(!_h(a))throw new RangeError("Invalid time value");let l=e.match(kTe).map(y=>{const w=y[0];if(w==="p"||w==="P"){const _=gTe[w];return _(y,i.formatLong)}return y}).join("").match(CTe).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const w=y[0];if(w==="'")return{isToken:!1,value:TTe(y)};if(dV[w])return{isToken:!0,value:y};if(w.match(OTe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:y}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const c={firstWeekContainsDate:o,weekStartsOn:s,locale:i};return l.map(y=>{if(!y.isToken)return y.value;const w=y.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&xTe(w)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&wTe(w))&&STe(w,e,String(t));const _=dV[w[0]];return _(a,w,i.localize,c)}).join("")}function TTe(t){const e=t.match(PTe);return e?e[1].replace(ETe,"'"):t}function ATe(t){const e=bt(t),n=e.getFullYear(),r=e.getMonth(),i=Zi(t,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function MTe(t){return Math.trunc(+bt(t)/1e3)}function NTe(t){const e=bt(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function DTe(t,e){return ROe(NTe(t),wi(t),e)+1}function bA(t,e){const n=bt(t),r=bt(e);return n.getTime()>r.getTime()}function MX(t,e){const n=bt(t),r=bt(e);return+n<+r}function E$(t,e){const n=bt(t),r=bt(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function RTe(t,e){const n=bt(t),r=bt(e);return n.getFullYear()===r.getFullYear()}function LP(t,e){return Hr(t,-e)}function co(t,e){const r=LTe(t);let i;if(r.date){const l=FTe(r.date,2);i=BTe(l.restDateString,l.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const o=i.getTime();let s=0,a;if(r.time&&(s=VTe(r.time),isNaN(s)))return new Date(NaN);if(r.timezone){if(a=zTe(r.timezone),isNaN(a))return new Date(NaN)}else{const l=new Date(o+s),c=new Date(0);return c.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),c.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),c}return new Date(o+s+a)}const Bb={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},$Te=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,ITe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,jTe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function LTe(t){const e={},n=t.split(Bb.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Bb.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Bb.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const i=Bb.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function FTe(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?i:o*100,restDateString:t.slice((r[1]||r[2]).length)}}function BTe(t,e){if(e===null)return new Date(NaN);const n=t.match($Te);if(!n)return new Date(NaN);const r=!!n[4],i=Km(n[1]),o=Km(n[2])-1,s=Km(n[3]),a=Km(n[4]),l=Km(n[5])-1;if(r)return GTe(e,a,l)?UTe(e,a,l):new Date(NaN);{const c=new Date(0);return!WTe(e,o,s)||!qTe(e,i)?new Date(NaN):(c.setUTCFullYear(e,o,Math.max(i,s)),c)}}function Km(t){return t?parseInt(t):1}function VTe(t){const e=t.match(ITe);if(!e)return NaN;const n=FP(e[1]),r=FP(e[2]),i=FP(e[3]);return KTe(n,r,i)?n*SX+r*xX+i*1e3:NaN}function FP(t){return t&&parseFloat(t.replace(",","."))||0}function zTe(t){if(t==="Z")return 0;const e=t.match(jTe);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return YTe(r,i)?n*(r*SX+i*xX):NaN}function UTe(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const i=r.getUTCDay()||7,o=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+o),r}const HTe=[31,null,31,30,31,30,31,31,30,31,30,31];function NX(t){return t%400===0||t%4===0&&t%100!==0}function WTe(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(HTe[e]||(NX(t)?29:28))}function qTe(t,e){return e>=1&&e<=(NX(t)?366:365)}function GTe(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function KTe(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function YTe(t,e){return e>=0&&e<=59}function BP(t,e){const n=bt(t),r=n.getFullYear(),i=n.getDate(),o=Zi(t,0);o.setFullYear(r,e,15),o.setHours(0,0,0,0);const s=ATe(o);return n.setMonth(e,Math.min(i,s)),n}function mV(t,e){const n=bt(t);return isNaN(+n)?Zi(t,NaN):(n.setFullYear(e),n)}var Fe=function(){return Fe=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Fe.apply(this,arguments)};function XTe(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function DX(t,e,n){for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function A0(t){return t.mode==="multiple"}function M0(t){return t.mode==="range"}function Y_(t){return t.mode==="single"}var ZTe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function JTe(t,e){return Ot(t,"LLLL y",e)}function QTe(t,e){return Ot(t,"d",e)}function eAe(t,e){return Ot(t,"LLLL",e)}function tAe(t){return"".concat(t)}function nAe(t,e){return Ot(t,"cccccc",e)}function rAe(t,e){return Ot(t,"yyyy",e)}var iAe=Object.freeze({__proto__:null,formatCaption:JTe,formatDay:QTe,formatMonthCaption:eAe,formatWeekNumber:tAe,formatWeekdayName:nAe,formatYearCaption:rAe}),oAe=function(t,e,n){return Ot(t,"do MMMM (EEEE)",n)},sAe=function(){return"Month: "},aAe=function(){return"Go to next month"},lAe=function(){return"Go to previous month"},cAe=function(t,e){return Ot(t,"cccc",e)},uAe=function(t){return"Week n. ".concat(t)},dAe=function(){return"Year: "},fAe=Object.freeze({__proto__:null,labelDay:oAe,labelMonthDropdown:sAe,labelNext:aAe,labelPrevious:lAe,labelWeekNumber:uAe,labelWeekday:cAe,labelYearDropdown:dAe});function hAe(){var t="buttons",e=ZTe,n=PX,r={},i={},o=1,s={},a=new Date;return{captionLayout:t,classNames:e,formatters:iAe,labels:fAe,locale:n,modifiersClassNames:r,modifiers:i,numberOfMonths:o,styles:s,today:a,mode:"default"}}function pAe(t){var e=t.fromYear,n=t.toYear,r=t.fromMonth,i=t.toMonth,o=t.fromDate,s=t.toDate;return r?o=wi(r):e&&(o=new Date(e,0,1)),i?s=k$(i):n&&(s=new Date(n,11,31)),{fromDate:o?gp(o):void 0,toDate:s?gp(s):void 0}}var RX=x.createContext(void 0);function mAe(t){var e,n=t.initialProps,r=hAe(),i=pAe(n),o=i.fromDate,s=i.toDate,a=(e=n.captionLayout)!==null&&e!==void 0?e:r.captionLayout;a!=="buttons"&&(!o||!s)&&(a="buttons");var l;(Y_(n)||A0(n)||M0(n))&&(l=n.onSelect);var c=Fe(Fe(Fe({},r),n),{captionLayout:a,classNames:Fe(Fe({},r.classNames),n.classNames),components:Fe({},n.components),formatters:Fe(Fe({},r.formatters),n.formatters),fromDate:o,labels:Fe(Fe({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:Fe(Fe({},r.modifiers),n.modifiers),modifiersClassNames:Fe(Fe({},r.modifiersClassNames),n.modifiersClassNames),onSelect:l,styles:Fe(Fe({},r.styles),n.styles),toDate:s});return O.jsx(RX.Provider,{value:c,children:t.children})}function Xt(){var t=x.useContext(RX);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function $X(t){var e=Xt(),n=e.locale,r=e.classNames,i=e.styles,o=e.formatters.formatCaption;return O.jsx("div",{className:r.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:o(t.displayMonth,{locale:n})})}function gAe(t){return O.jsx("svg",Fe({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:O.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function IX(t){var e,n,r=t.onChange,i=t.value,o=t.children,s=t.caption,a=t.className,l=t.style,c=Xt(),u=(n=(e=c.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&n!==void 0?n:gAe;return O.jsxs("div",{className:a,style:l,children:[O.jsx("span",{className:c.classNames.vhidden,children:t["aria-label"]}),O.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:c.classNames.dropdown,style:c.styles.dropdown,value:i,onChange:r,children:o}),O.jsxs("div",{className:c.classNames.caption_label,style:c.styles.caption_label,"aria-hidden":"true",children:[s,O.jsx(u,{className:c.classNames.dropdown_icon,style:c.styles.dropdown_icon})]})]})}function vAe(t){var e,n=Xt(),r=n.fromDate,i=n.toDate,o=n.styles,s=n.locale,a=n.formatters.formatMonthCaption,l=n.classNames,c=n.components,u=n.labels.labelMonthDropdown;if(!r)return O.jsx(O.Fragment,{});if(!i)return O.jsx(O.Fragment,{});var d=[];if(RTe(r,i))for(var f=wi(r),h=r.getMonth();h<=i.getMonth();h++)d.push(BP(f,h));else for(var f=wi(new Date),h=0;h<=11;h++)d.push(BP(f,h));var m=function(g){var b=Number(g.target.value),y=BP(wi(t.displayMonth),b);t.onChange(y)},p=(e=c==null?void 0:c.Dropdown)!==null&&e!==void 0?e:IX;return O.jsx(p,{name:"months","aria-label":u(),className:l.dropdown_month,style:o.dropdown_month,onChange:m,value:t.displayMonth.getMonth(),caption:a(t.displayMonth,{locale:s}),children:d.map(function(g){return O.jsx("option",{value:g.getMonth(),children:a(g,{locale:s})},g.getMonth())})})}function yAe(t){var e,n=t.displayMonth,r=Xt(),i=r.fromDate,o=r.toDate,s=r.locale,a=r.styles,l=r.classNames,c=r.components,u=r.formatters.formatYearCaption,d=r.labels.labelYearDropdown,f=[];if(!i)return O.jsx(O.Fragment,{});if(!o)return O.jsx(O.Fragment,{});for(var h=i.getFullYear(),m=o.getFullYear(),p=h;p<=m;p++)f.push(mV(CX(new Date),p));var g=function(y){var w=mV(wi(n),Number(y.target.value));t.onChange(w)},b=(e=c==null?void 0:c.Dropdown)!==null&&e!==void 0?e:IX;return O.jsx(b,{name:"years","aria-label":d(),className:l.dropdown_year,style:a.dropdown_year,onChange:g,value:n.getFullYear(),caption:u(n,{locale:s}),children:f.map(function(y){return O.jsx("option",{value:y.getFullYear(),children:u(y,{locale:s})},y.getFullYear())})})}function bAe(t,e){var n=x.useState(t),r=n[0],i=n[1],o=e===void 0?r:e;return[o,i]}function wAe(t){var e=t.month,n=t.defaultMonth,r=t.today,i=e||n||r||new Date,o=t.toDate,s=t.fromDate,a=t.numberOfMonths,l=a===void 0?1:a;if(o&&dy(o,i)<0){var c=-1*(l-1);i=ps(o,c)}return s&&dy(i,s)<0&&(i=s),wi(i)}function xAe(){var t=Xt(),e=wAe(t),n=bAe(e,t.month),r=n[0],i=n[1],o=function(s){var a;if(!t.disableNavigation){var l=wi(s);i(l),(a=t.onMonthChange)===null||a===void 0||a.call(t,l)}};return[r,o]}function SAe(t,e){for(var n=e.reverseMonths,r=e.numberOfMonths,i=wi(t),o=wi(ps(i,r)),s=dy(o,i),a=[],l=0;l<s;l++){var c=ps(i,l);a.push(c)}return n&&(a=a.reverse()),a}function _Ae(t,e){if(!e.disableNavigation){var n=e.toDate,r=e.pagedNavigation,i=e.numberOfMonths,o=i===void 0?1:i,s=r?o:1,a=wi(t);if(!n)return ps(a,s);var l=dy(n,t);if(!(l<o))return ps(a,s)}}function CAe(t,e){if(!e.disableNavigation){var n=e.fromDate,r=e.pagedNavigation,i=e.numberOfMonths,o=i===void 0?1:i,s=r?o:1,a=wi(t);if(!n)return ps(a,-s);var l=dy(a,n);if(!(l<=0))return ps(a,-s)}}var jX=x.createContext(void 0);function kAe(t){var e=Xt(),n=xAe(),r=n[0],i=n[1],o=SAe(r,e),s=_Ae(r,e),a=CAe(r,e),l=function(d){return o.some(function(f){return E$(d,f)})},c=function(d,f){l(d)||(f&&MX(d,f)?i(ps(d,1+e.numberOfMonths*-1)):i(d))},u={currentMonth:r,displayMonths:o,goToMonth:i,goToDate:c,previousMonth:a,nextMonth:s,isDateDisplayed:l};return O.jsx(jX.Provider,{value:u,children:t.children})}function N0(){var t=x.useContext(jX);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function gV(t){var e,n=Xt(),r=n.classNames,i=n.styles,o=n.components,s=N0().goToMonth,a=function(u){s(ps(u,t.displayIndex?-t.displayIndex:0))},l=(e=o==null?void 0:o.CaptionLabel)!==null&&e!==void 0?e:$X,c=O.jsx(l,{id:t.id,displayMonth:t.displayMonth});return O.jsxs("div",{className:r.caption_dropdowns,style:i.caption_dropdowns,children:[O.jsx("div",{className:r.vhidden,children:c}),O.jsx(vAe,{onChange:a,displayMonth:t.displayMonth}),O.jsx(yAe,{onChange:a,displayMonth:t.displayMonth})]})}function PAe(t){return O.jsx("svg",Fe({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:O.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function EAe(t){return O.jsx("svg",Fe({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:O.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var s1=x.forwardRef(function(t,e){var n=Xt(),r=n.classNames,i=n.styles,o=[r.button_reset,r.button];t.className&&o.push(t.className);var s=o.join(" "),a=Fe(Fe({},i.button_reset),i.button);return t.style&&Object.assign(a,t.style),O.jsx("button",Fe({},t,{ref:e,type:"button",className:s,style:a}))});function OAe(t){var e,n,r=Xt(),i=r.dir,o=r.locale,s=r.classNames,a=r.styles,l=r.labels,c=l.labelPrevious,u=l.labelNext,d=r.components;if(!t.nextMonth&&!t.previousMonth)return O.jsx(O.Fragment,{});var f=c(t.previousMonth,{locale:o}),h=[s.nav_button,s.nav_button_previous].join(" "),m=u(t.nextMonth,{locale:o}),p=[s.nav_button,s.nav_button_next].join(" "),g=(e=d==null?void 0:d.IconRight)!==null&&e!==void 0?e:EAe,b=(n=d==null?void 0:d.IconLeft)!==null&&n!==void 0?n:PAe;return O.jsxs("div",{className:s.nav,style:a.nav,children:[!t.hidePrevious&&O.jsx(s1,{name:"previous-month","aria-label":f,className:h,style:a.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:i==="rtl"?O.jsx(g,{className:s.nav_icon,style:a.nav_icon}):O.jsx(b,{className:s.nav_icon,style:a.nav_icon})}),!t.hideNext&&O.jsx(s1,{name:"next-month","aria-label":m,className:p,style:a.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:i==="rtl"?O.jsx(b,{className:s.nav_icon,style:a.nav_icon}):O.jsx(g,{className:s.nav_icon,style:a.nav_icon})})]})}function vV(t){var e=Xt().numberOfMonths,n=N0(),r=n.previousMonth,i=n.nextMonth,o=n.goToMonth,s=n.displayMonths,a=s.findIndex(function(m){return E$(t.displayMonth,m)}),l=a===0,c=a===s.length-1,u=e>1&&(l||!c),d=e>1&&(c||!l),f=function(){r&&o(r)},h=function(){i&&o(i)};return O.jsx(OAe,{displayMonth:t.displayMonth,hideNext:u,hidePrevious:d,nextMonth:i,previousMonth:r,onPreviousClick:f,onNextClick:h})}function TAe(t){var e,n=Xt(),r=n.classNames,i=n.disableNavigation,o=n.styles,s=n.captionLayout,a=n.components,l=(e=a==null?void 0:a.CaptionLabel)!==null&&e!==void 0?e:$X,c;return i?c=O.jsx(l,{id:t.id,displayMonth:t.displayMonth}):s==="dropdown"?c=O.jsx(gV,{displayMonth:t.displayMonth,id:t.id}):s==="dropdown-buttons"?c=O.jsxs(O.Fragment,{children:[O.jsx(gV,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),O.jsx(vV,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):c=O.jsxs(O.Fragment,{children:[O.jsx(l,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),O.jsx(vV,{displayMonth:t.displayMonth,id:t.id})]}),O.jsx("div",{className:r.caption,style:o.caption,children:c})}function AAe(t){var e=Xt(),n=e.footer,r=e.styles,i=e.classNames.tfoot;return n?O.jsx("tfoot",{className:i,style:r.tfoot,children:O.jsx("tr",{children:O.jsx("td",{colSpan:8,children:n})})}):O.jsx(O.Fragment,{})}function MAe(t,e,n){for(var r=n?jd(new Date):sa(new Date,{locale:t,weekStartsOn:e}),i=[],o=0;o<7;o++){var s=Hr(r,o);i.push(s)}return i}function NAe(){var t=Xt(),e=t.classNames,n=t.styles,r=t.showWeekNumber,i=t.locale,o=t.weekStartsOn,s=t.ISOWeek,a=t.formatters.formatWeekdayName,l=t.labels.labelWeekday,c=MAe(i,o,s);return O.jsxs("tr",{style:n.head_row,className:e.head_row,children:[r&&O.jsx("td",{style:n.head_cell,className:e.head_cell}),c.map(function(u,d){return O.jsx("th",{scope:"col",className:e.head_cell,style:n.head_cell,"aria-label":l(u,{locale:i}),children:a(u,{locale:i})},d)})]})}function DAe(){var t,e=Xt(),n=e.classNames,r=e.styles,i=e.components,o=(t=i==null?void 0:i.HeadRow)!==null&&t!==void 0?t:NAe;return O.jsx("thead",{style:r.head,className:n.head,children:O.jsx(o,{})})}function RAe(t){var e=Xt(),n=e.locale,r=e.formatters.formatDay;return O.jsx(O.Fragment,{children:r(t.date,{locale:n})})}var O$=x.createContext(void 0);function $Ae(t){if(!A0(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return O.jsx(O$.Provider,{value:e,children:t.children})}return O.jsx(IAe,{initialProps:t.initialProps,children:t.children})}function IAe(t){var e=t.initialProps,n=t.children,r=e.selected,i=e.min,o=e.max,s=function(c,u,d){var f,h;(f=e.onDayClick)===null||f===void 0||f.call(e,c,u,d);var m=!!(u.selected&&i&&(r==null?void 0:r.length)===i);if(!m){var p=!!(!u.selected&&o&&(r==null?void 0:r.length)===o);if(!p){var g=r?DX([],r):[];if(u.selected){var b=g.findIndex(function(y){return pi(c,y)});g.splice(b,1)}else g.push(c);(h=e.onSelect)===null||h===void 0||h.call(e,g,c,u,d)}}},a={disabled:[]};r&&a.disabled.push(function(c){var u=o&&r.length>o-1,d=r.some(function(f){return pi(f,c)});return!!(u&&!d)});var l={selected:r,onDayClick:s,modifiers:a};return O.jsx(O$.Provider,{value:l,children:n})}function T$(){var t=x.useContext(O$);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function jAe(t,e){var n=e||{},r=n.from,i=n.to;return r&&i?pi(i,t)&&pi(r,t)?void 0:pi(i,t)?{from:i,to:void 0}:pi(r,t)?void 0:bA(r,t)?{from:t,to:i}:{from:r,to:t}:i?bA(t,i)?{from:i,to:t}:{from:t,to:i}:r?MX(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var A$=x.createContext(void 0);function LAe(t){if(!M0(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return O.jsx(A$.Provider,{value:e,children:t.children})}return O.jsx(FAe,{initialProps:t.initialProps,children:t.children})}function FAe(t){var e=t.initialProps,n=t.children,r=e.selected,i=r||{},o=i.from,s=i.to,a=e.min,l=e.max,c=function(h,m,p){var g,b;(g=e.onDayClick)===null||g===void 0||g.call(e,h,m,p);var y=jAe(h,r);(b=e.onSelect)===null||b===void 0||b.call(e,y,h,m,p)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(u.range_start=[o],s?(u.range_end=[s],pi(o,s)||(u.range_middle=[{after:o,before:s}])):u.range_end=[o]):s&&(u.range_start=[s],u.range_end=[s]),a&&(o&&!s&&u.disabled.push({after:LP(o,a-1),before:Hr(o,a-1)}),o&&s&&u.disabled.push({after:o,before:Hr(o,a-1)}),!o&&s&&u.disabled.push({after:LP(s,a-1),before:Hr(s,a-1)})),l){if(o&&!s&&(u.disabled.push({before:Hr(o,-l+1)}),u.disabled.push({after:Hr(o,l-1)})),o&&s){var d=Bs(s,o)+1,f=l-d;u.disabled.push({before:LP(o,f)}),u.disabled.push({after:Hr(s,f)})}!o&&s&&(u.disabled.push({before:Hr(s,-l+1)}),u.disabled.push({after:Hr(s,l-1)}))}return O.jsx(A$.Provider,{value:{selected:r,onDayClick:c,modifiers:u},children:n})}function M$(){var t=x.useContext(A$);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function Lw(t){return Array.isArray(t)?DX([],t):t!==void 0?[t]:[]}function BAe(t){var e={};return Object.entries(t).forEach(function(n){var r=n[0],i=n[1];e[r]=Lw(i)}),e}var ms;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(ms||(ms={}));var VAe=ms.Selected,Sa=ms.Disabled,zAe=ms.Hidden,UAe=ms.Today,VP=ms.RangeEnd,zP=ms.RangeMiddle,UP=ms.RangeStart,HAe=ms.Outside;function WAe(t,e,n){var r,i=(r={},r[VAe]=Lw(t.selected),r[Sa]=Lw(t.disabled),r[zAe]=Lw(t.hidden),r[UAe]=[t.today],r[VP]=[],r[zP]=[],r[UP]=[],r[HAe]=[],r);return t.fromDate&&i[Sa].push({before:t.fromDate}),t.toDate&&i[Sa].push({after:t.toDate}),A0(t)?i[Sa]=i[Sa].concat(e.modifiers[Sa]):M0(t)&&(i[Sa]=i[Sa].concat(n.modifiers[Sa]),i[UP]=n.modifiers[UP],i[zP]=n.modifiers[zP],i[VP]=n.modifiers[VP]),i}var LX=x.createContext(void 0);function qAe(t){var e=Xt(),n=T$(),r=M$(),i=WAe(e,n,r),o=BAe(e.modifiers),s=Fe(Fe({},i),o);return O.jsx(LX.Provider,{value:s,children:t.children})}function FX(){var t=x.useContext(LX);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function GAe(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function KAe(t){return!!(t&&typeof t=="object"&&"from"in t)}function YAe(t){return!!(t&&typeof t=="object"&&"after"in t)}function XAe(t){return!!(t&&typeof t=="object"&&"before"in t)}function ZAe(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function JAe(t,e){var n,r=e.from,i=e.to;if(r&&i){var o=Bs(i,r)<0;o&&(n=[i,r],r=n[0],i=n[1]);var s=Bs(t,r)>=0&&Bs(i,t)>=0;return s}return i?pi(i,t):r?pi(r,t):!1}function QAe(t){return C$(t)}function eMe(t){return Array.isArray(t)&&t.every(C$)}function tMe(t,e){return e.some(function(n){if(typeof n=="boolean")return n;if(QAe(n))return pi(t,n);if(eMe(n))return n.includes(t);if(KAe(n))return JAe(t,n);if(ZAe(n))return n.dayOfWeek.includes(t.getDay());if(GAe(n)){var r=Bs(n.before,t),i=Bs(n.after,t),o=r>0,s=i<0,a=bA(n.before,n.after);return a?s&&o:o||s}return YAe(n)?Bs(t,n.after)>0:XAe(n)?Bs(n.before,t)>0:typeof n=="function"?n(t):!1})}function N$(t,e,n){var r=Object.keys(e).reduce(function(o,s){var a=e[s];return tMe(t,a)&&o.push(s),o},[]),i={};return r.forEach(function(o){return i[o]=!0}),n&&!E$(t,n)&&(i.outside=!0),i}function nMe(t,e){for(var n=wi(t[0]),r=k$(t[t.length-1]),i,o,s=n;s<=r;){var a=N$(s,e),l=!a.disabled&&!a.hidden;if(!l){s=Hr(s,1);continue}if(a.selected)return s;a.today&&!o&&(o=s),i||(i=s),s=Hr(s,1)}return o||i}var rMe=365;function BX(t,e){var n=e.moveBy,r=e.direction,i=e.context,o=e.modifiers,s=e.retry,a=s===void 0?{count:0,lastFocused:t}:s,l=i.weekStartsOn,c=i.fromDate,u=i.toDate,d=i.locale,f={day:Hr,week:yA,month:ps,year:MOe,startOfWeek:function(g){return i.ISOWeek?jd(g):sa(g,{locale:d,weekStartsOn:l})},endOfWeek:function(g){return i.ISOWeek?kX(g):P$(g,{locale:d,weekStartsOn:l})}},h=f[n](t,r==="after"?1:-1);r==="before"&&c?h=NOe([c,h]):r==="after"&&u&&(h=DOe([u,h]));var m=!0;if(o){var p=N$(h,o);m=!p.disabled&&!p.hidden}return m?h:a.count>rMe?a.lastFocused:BX(h,{moveBy:n,direction:r,context:i,modifiers:o,retry:Fe(Fe({},a),{count:a.count+1})})}var VX=x.createContext(void 0);function iMe(t){var e=N0(),n=FX(),r=x.useState(),i=r[0],o=r[1],s=x.useState(),a=s[0],l=s[1],c=nMe(e.displayMonths,n),u=i??(a&&e.isDateDisplayed(a))?a:c,d=function(){l(i),o(void 0)},f=function(g){o(g)},h=Xt(),m=function(g,b){if(i){var y=BX(i,{moveBy:g,direction:b,context:h,modifiers:n});pi(i,y)||(e.goToDate(y,i),f(y))}},p={focusedDay:i,focusTarget:u,blur:d,focus:f,focusDayAfter:function(){return m("day","after")},focusDayBefore:function(){return m("day","before")},focusWeekAfter:function(){return m("week","after")},focusWeekBefore:function(){return m("week","before")},focusMonthBefore:function(){return m("month","before")},focusMonthAfter:function(){return m("month","after")},focusYearBefore:function(){return m("year","before")},focusYearAfter:function(){return m("year","after")},focusStartOfWeek:function(){return m("startOfWeek","before")},focusEndOfWeek:function(){return m("endOfWeek","after")}};return O.jsx(VX.Provider,{value:p,children:t.children})}function D$(){var t=x.useContext(VX);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function oMe(t,e){var n=FX(),r=N$(t,n,e);return r}var R$=x.createContext(void 0);function sMe(t){if(!Y_(t.initialProps)){var e={selected:void 0};return O.jsx(R$.Provider,{value:e,children:t.children})}return O.jsx(aMe,{initialProps:t.initialProps,children:t.children})}function aMe(t){var e=t.initialProps,n=t.children,r=function(o,s,a){var l,c,u;if((l=e.onDayClick)===null||l===void 0||l.call(e,o,s,a),s.selected&&!e.required){(c=e.onSelect)===null||c===void 0||c.call(e,void 0,o,s,a);return}(u=e.onSelect)===null||u===void 0||u.call(e,o,o,s,a)},i={selected:e.selected,onDayClick:r};return O.jsx(R$.Provider,{value:i,children:n})}function zX(){var t=x.useContext(R$);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function lMe(t,e){var n=Xt(),r=zX(),i=T$(),o=M$(),s=D$(),a=s.focusDayAfter,l=s.focusDayBefore,c=s.focusWeekAfter,u=s.focusWeekBefore,d=s.blur,f=s.focus,h=s.focusMonthBefore,m=s.focusMonthAfter,p=s.focusYearBefore,g=s.focusYearAfter,b=s.focusStartOfWeek,y=s.focusEndOfWeek,w=function(j){var R,$,H,Y;Y_(n)?(R=r.onDayClick)===null||R===void 0||R.call(r,t,e,j):A0(n)?($=i.onDayClick)===null||$===void 0||$.call(i,t,e,j):M0(n)?(H=o.onDayClick)===null||H===void 0||H.call(o,t,e,j):(Y=n.onDayClick)===null||Y===void 0||Y.call(n,t,e,j)},_=function(j){var R;f(t),(R=n.onDayFocus)===null||R===void 0||R.call(n,t,e,j)},S=function(j){var R;d(),(R=n.onDayBlur)===null||R===void 0||R.call(n,t,e,j)},C=function(j){var R;(R=n.onDayMouseEnter)===null||R===void 0||R.call(n,t,e,j)},k=function(j){var R;(R=n.onDayMouseLeave)===null||R===void 0||R.call(n,t,e,j)},E=function(j){var R;(R=n.onDayPointerEnter)===null||R===void 0||R.call(n,t,e,j)},T=function(j){var R;(R=n.onDayPointerLeave)===null||R===void 0||R.call(n,t,e,j)},M=function(j){var R;(R=n.onDayTouchCancel)===null||R===void 0||R.call(n,t,e,j)},D=function(j){var R;(R=n.onDayTouchEnd)===null||R===void 0||R.call(n,t,e,j)},N=function(j){var R;(R=n.onDayTouchMove)===null||R===void 0||R.call(n,t,e,j)},L=function(j){var R;(R=n.onDayTouchStart)===null||R===void 0||R.call(n,t,e,j)},I=function(j){var R;(R=n.onDayKeyUp)===null||R===void 0||R.call(n,t,e,j)},z=function(j){var R;switch(j.key){case"ArrowLeft":j.preventDefault(),j.stopPropagation(),n.dir==="rtl"?a():l();break;case"ArrowRight":j.preventDefault(),j.stopPropagation(),n.dir==="rtl"?l():a();break;case"ArrowDown":j.preventDefault(),j.stopPropagation(),c();break;case"ArrowUp":j.preventDefault(),j.stopPropagation(),u();break;case"PageUp":j.preventDefault(),j.stopPropagation(),j.shiftKey?p():h();break;case"PageDown":j.preventDefault(),j.stopPropagation(),j.shiftKey?g():m();break;case"Home":j.preventDefault(),j.stopPropagation(),b();break;case"End":j.preventDefault(),j.stopPropagation(),y();break}(R=n.onDayKeyDown)===null||R===void 0||R.call(n,t,e,j)},V={onClick:w,onFocus:_,onBlur:S,onKeyDown:z,onKeyUp:I,onMouseEnter:C,onMouseLeave:k,onPointerEnter:E,onPointerLeave:T,onTouchCancel:M,onTouchEnd:D,onTouchMove:N,onTouchStart:L};return V}function cMe(){var t=Xt(),e=zX(),n=T$(),r=M$(),i=Y_(t)?e.selected:A0(t)?n.selected:M0(t)?r.selected:void 0;return i}function uMe(t){return Object.values(ms).includes(t)}function dMe(t,e){var n=[t.classNames.day];return Object.keys(e).forEach(function(r){var i=t.modifiersClassNames[r];if(i)n.push(i);else if(uMe(r)){var o=t.classNames["day_".concat(r)];o&&n.push(o)}}),n}function fMe(t,e){var n=Fe({},t.styles.day);return Object.keys(e).forEach(function(r){var i;n=Fe(Fe({},n),(i=t.modifiersStyles)===null||i===void 0?void 0:i[r])}),n}function hMe(t,e,n){var r,i,o,s=Xt(),a=D$(),l=oMe(t,e),c=lMe(t,l),u=cMe(),d=!!(s.onDayClick||s.mode!=="default");x.useEffect(function(){var C;l.outside||a.focusedDay&&d&&pi(a.focusedDay,t)&&((C=n.current)===null||C===void 0||C.focus())},[a.focusedDay,t,n,d,l.outside]);var f=dMe(s,l).join(" "),h=fMe(s,l),m=!!(l.outside&&!s.showOutsideDays||l.hidden),p=(o=(i=s.components)===null||i===void 0?void 0:i.DayContent)!==null&&o!==void 0?o:RAe,g=O.jsx(p,{date:t,displayMonth:e,activeModifiers:l}),b={style:h,className:f,children:g,role:"gridcell"},y=a.focusTarget&&pi(a.focusTarget,t)&&!l.outside,w=a.focusedDay&&pi(a.focusedDay,t),_=Fe(Fe(Fe({},b),(r={disabled:l.disabled,role:"gridcell"},r["aria-selected"]=l.selected,r.tabIndex=w||y?0:-1,r)),c),S={isButton:d,isHidden:m,activeModifiers:l,selectedDays:u,buttonProps:_,divProps:b};return S}function pMe(t){var e=x.useRef(null),n=hMe(t.date,t.displayMonth,e);return n.isHidden?O.jsx("div",{role:"gridcell"}):n.isButton?O.jsx(s1,Fe({name:"day",ref:e},n.buttonProps)):O.jsx("div",Fe({},n.divProps))}function mMe(t){var e=t.number,n=t.dates,r=Xt(),i=r.onWeekNumberClick,o=r.styles,s=r.classNames,a=r.locale,l=r.labels.labelWeekNumber,c=r.formatters.formatWeekNumber,u=c(Number(e),{locale:a});if(!i)return O.jsx("span",{className:s.weeknumber,style:o.weeknumber,children:u});var d=l(Number(e),{locale:a}),f=function(h){i(e,n,h)};return O.jsx(s1,{name:"week-number","aria-label":d,className:s.weeknumber,style:o.weeknumber,onClick:f,children:u})}function gMe(t){var e,n,r=Xt(),i=r.styles,o=r.classNames,s=r.showWeekNumber,a=r.components,l=(e=a==null?void 0:a.Day)!==null&&e!==void 0?e:pMe,c=(n=a==null?void 0:a.WeekNumber)!==null&&n!==void 0?n:mMe,u;return s&&(u=O.jsx("td",{className:o.cell,style:i.cell,children:O.jsx(c,{number:t.weekNumber,dates:t.dates})})),O.jsxs("tr",{className:o.row,style:i.row,children:[u,t.dates.map(function(d){return O.jsx("td",{className:o.cell,style:i.cell,role:"presentation",children:O.jsx(l,{displayMonth:t.displayMonth,date:d})},MTe(d))})]})}function yV(t,e,n){for(var r=n!=null&&n.ISOWeek?kX(e):P$(e,n),i=n!=null&&n.ISOWeek?jd(t):sa(t,n),o=Bs(r,i),s=[],a=0;a<=o;a++)s.push(Hr(i,a));var l=s.reduce(function(c,u){var d=n!=null&&n.ISOWeek?EX(u):TX(u,n),f=c.find(function(h){return h.weekNumber===d});return f?(f.dates.push(u),c):(c.push({weekNumber:d,dates:[u]}),c)},[]);return l}function vMe(t,e){var n=yV(wi(t),k$(t),e);if(e!=null&&e.useFixedWeeks){var r=DTe(t,e);if(r<6){var i=n[n.length-1],o=i.dates[i.dates.length-1],s=yA(o,6-r),a=yV(yA(o,1),s,e);n.push.apply(n,a)}}return n}function yMe(t){var e,n,r,i=Xt(),o=i.locale,s=i.classNames,a=i.styles,l=i.hideHead,c=i.fixedWeeks,u=i.components,d=i.weekStartsOn,f=i.firstWeekContainsDate,h=i.ISOWeek,m=vMe(t.displayMonth,{useFixedWeeks:!!c,ISOWeek:h,locale:o,weekStartsOn:d,firstWeekContainsDate:f}),p=(e=u==null?void 0:u.Head)!==null&&e!==void 0?e:DAe,g=(n=u==null?void 0:u.Row)!==null&&n!==void 0?n:gMe,b=(r=u==null?void 0:u.Footer)!==null&&r!==void 0?r:AAe;return O.jsxs("table",{id:t.id,className:s.table,style:a.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!l&&O.jsx(p,{}),O.jsx("tbody",{className:s.tbody,style:a.tbody,children:m.map(function(y){return O.jsx(g,{displayMonth:t.displayMonth,dates:y.dates,weekNumber:y.weekNumber},y.weekNumber)})}),O.jsx(b,{displayMonth:t.displayMonth})]})}function bMe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var wMe=bMe()?x.useLayoutEffect:x.useEffect,HP=!1,xMe=0;function bV(){return"react-day-picker-".concat(++xMe)}function SMe(t){var e,n=t??(HP?bV():null),r=x.useState(n),i=r[0],o=r[1];return wMe(function(){i===null&&o(bV())},[]),x.useEffect(function(){HP===!1&&(HP=!0)},[]),(e=t??i)!==null&&e!==void 0?e:void 0}function _Me(t){var e,n,r=Xt(),i=r.dir,o=r.classNames,s=r.styles,a=r.components,l=N0().displayMonths,c=SMe(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),u=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,d=[o.month],f=s.month,h=t.displayIndex===0,m=t.displayIndex===l.length-1,p=!h&&!m;i==="rtl"&&(e=[h,m],m=e[0],h=e[1]),h&&(d.push(o.caption_start),f=Fe(Fe({},f),s.caption_start)),m&&(d.push(o.caption_end),f=Fe(Fe({},f),s.caption_end)),p&&(d.push(o.caption_between),f=Fe(Fe({},f),s.caption_between));var g=(n=a==null?void 0:a.Caption)!==null&&n!==void 0?n:TAe;return O.jsxs("div",{className:d.join(" "),style:f,children:[O.jsx(g,{id:c,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),O.jsx(yMe,{id:u,"aria-labelledby":c,displayMonth:t.displayMonth})]},t.displayIndex)}function CMe(t){var e=Xt(),n=e.classNames,r=e.styles;return O.jsx("div",{className:n.months,style:r.months,children:t.children})}function kMe(t){var e,n,r=t.initialProps,i=Xt(),o=D$(),s=N0(),a=x.useState(!1),l=a[0],c=a[1];x.useEffect(function(){i.initialFocus&&o.focusTarget&&(l||(o.focus(o.focusTarget),c(!0)))},[i.initialFocus,l,o.focus,o.focusTarget,o]);var u=[i.classNames.root,i.className];i.numberOfMonths>1&&u.push(i.classNames.multiple_months),i.showWeekNumber&&u.push(i.classNames.with_weeknumber);var d=Fe(Fe({},i.styles.root),i.style),f=Object.keys(r).filter(function(m){return m.startsWith("data-")}).reduce(function(m,p){var g;return Fe(Fe({},m),(g={},g[p]=r[p],g))},{}),h=(n=(e=r.components)===null||e===void 0?void 0:e.Months)!==null&&n!==void 0?n:CMe;return O.jsx("div",Fe({className:u.join(" "),style:d,dir:i.dir,id:i.id,nonce:r.nonce,title:r.title,lang:r.lang},f,{children:O.jsx(h,{children:s.displayMonths.map(function(m,p){return O.jsx(_Me,{displayIndex:p,displayMonth:m},p)})})}))}function PMe(t){var e=t.children,n=XTe(t,["children"]);return O.jsx(mAe,{initialProps:n,children:O.jsx(kAe,{children:O.jsx(sMe,{initialProps:n,children:O.jsx($Ae,{initialProps:n,children:O.jsx(LAe,{initialProps:n,children:O.jsx(qAe,{children:O.jsx(iMe,{children:e})})})})})})})}function EMe(t){return O.jsx(PMe,Fe({},t,{children:O.jsx(kMe,{initialProps:t})}))}function Va({className:t,classNames:e,showOutsideDays:n=!0,...r}){return v(EMe,{showOutsideDays:n,className:q("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:q(ty({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:q(ty({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({...i})=>v(h8,{className:"h-4 w-4"}),IconRight:({...i})=>v(Jd,{className:"h-4 w-4"})},...r})}Va.displayName="Calendar";const OMe=g0({id:qt(),description:qt().min(1,{message:"Description is required."}),fromDate:ll().nullable(),toDate:ll().nullable()}).refine(t=>!t.fromDate||!t.toDate||t.toDate>=t.fromDate,{message:"To Date cannot be earlier than From Date.",path:["toDate"]}),TMe=g0({name:qt().min(3,{message:"Project name must be at least 3 characters."}),projectCode:qt().optional(),initiativeCode:qt().optional(),phase:ud(["pre_initiation","initiation","planning","execution","closure"],{required_error:"Phase is required."}),description:qt().optional(),portfolioId:qt().uuid({message:"Invalid Portfolio ID format."}).nullable().optional(),managerId:qt().uuid({message:"Invalid Manager ID format."}).nullable().optional(),owningDepartment:qt().optional(),projectSponsor:qt().min(1,{message:"Project Sponsor is required."}),projectOwner:qt().min(1,{message:"Project Owner is required."}),strategicObjective:ud(["digital_transformation","operational_excellence","customer_experience","innovation","sustainability"],{required_error:"Strategic Objective is required."}),corporateKPIs:iR(qt()).max(5,{message:"Maximum 5 KPIs allowed"}).optional(),startDate:ll({required_error:"Start date is required."}),endDate:ll({required_error:"End date is required."}),status:ud(["not_started","in_progress","on_hold","completed","cancelled","on_track","delayed","at_risk"],{required_error:"Status is required."}),budget:Ec({invalid_type_error:"Budget must be a number."}).nonnegative({message:"Budget cannot be negative."}).default(0),actualCost:Ec({invalid_type_error:"Actual cost must be a number."}).nonnegative({message:"Actual cost cannot be negative."}).default(0),forecastedSpend:Ec({invalid_type_error:"Forecast must be a number."}).nonnegative({message:"Forecast cannot be negative."}).optional()}).refine(t=>t.endDate>=t.startDate,{message:"End date cannot be earlier than start date.",path:["endDate"]}),AMe=()=>{const{id:t}=HD(),e=vl(),{updateProject:n,fetchProjectById:r,selectedProject:i}=La(),{portfolios:o,fetchPortfolios:s}=hm(),[a,l]=x.useState([]),[c,u]=x.useState(!1),[d,f]=x.useState([]),h=nR({resolver:fq(TMe),defaultValues:{name:"",projectCode:"",initiativeCode:"",phase:"planning",description:"",portfolioId:"",managerId:"",owningDepartment:"",projectSponsor:"",projectOwner:"",strategicObjective:"digital_transformation",corporateKPIs:[],startDate:new Date,endDate:new Date(new Date().setMonth(new Date().getMonth()+3)),status:"not_started",budget:0,actualCost:0,forecastedSpend:0}}),m=()=>{f([...d,{id:ja(),description:"",fromDate:null,toDate:null}])},p=y=>{f(d.filter(w=>w.id!==y))},g=(y,w,_)=>{f(d.map(S=>S.id===y?{...S,[w]:_}:S))};x.useEffect(()=>{s(),(async()=>{xe.info("Fetching managers from Supabase...");try{const{data:w,error:_}=await Te.from("users").select("id, display_name").eq("role","pm");if(_)throw _;l(w?w.filter(S=>S.id&&S.display_name).map(S=>({id:S.id,full_name:S.display_name})):[])}catch(w){console.error("Error fetching managers:",w),xe.error("Failed to load project managers."),l([])}})()},[s]),x.useEffect(()=>{t&&r(t)},[t,r]),x.useEffect(()=>{if(i){const y=i;h.reset({name:y.name,projectCode:y.projectCode||"",initiativeCode:y.initiativeCode||"",phase:y.phase||"planning",description:y.description||"",portfolioId:y.portfolioId||"none",managerId:y.managerId||"none",owningDepartment:y.owningDepartment||"",projectSponsor:y.projectSponsor||"",projectOwner:y.projectOwner||"",strategicObjective:y.strategicObjective||"digital_transformation",corporateKPIs:y.corporateKPIs||[],startDate:new Date(y.startDate),endDate:new Date(y.endDate),status:y.status,budget:y.budget,actualCost:y.actualCost,forecastedSpend:y.forecastedSpend??0});const w=Array.isArray(y.deliverables)?y.deliverables.map(_=>({id:_.id||ja(),description:_.description||_.name||"",fromDate:_.fromDate&&_h(co(_.fromDate))?co(_.fromDate):null,toDate:_.toDate&&_h(co(_.toDate))?co(_.toDate):null})):[];f(w)}},[i,h]);const b=async y=>{u(!0);try{const w=d.map(S=>OMe.safeParse(S)).filter(S=>{if(!S.success){const C=S.error.errors[0];return xe.error(`Deliverable Error: ${C.path.join(".")} - ${C.message}`),!1}return!0}).map(S=>S.data);if(w.length!==d.length){xe.error("Please fix the errors in the deliverables section."),u(!1);return}const _={name:y.name,projectCode:y.projectCode||null,initiativeCode:y.initiativeCode||null,phase:y.phase,description:y.description??"",portfolioId:y.portfolioId==="none"?null:y.portfolioId,managerId:y.managerId==="none"?null:y.managerId,owningDepartment:y.owningDepartment||null,projectSponsor:y.projectSponsor||null,projectOwner:y.projectOwner||null,startDate:y.startDate.toISOString().split("T")[0],endDate:y.endDate.toISOString().split("T")[0],status:y.status,budget:y.budget,actualCost:y.actualCost,forecastedSpend:y.forecastedSpend??null,strategicObjective:y.strategicObjective,corporateKPIs:y.corporateKPIs,deliverables:w.map(S=>({id:S.id,description:S.description,fromDate:S.fromDate?S.fromDate.toISOString().split("T")[0]:null,toDate:S.toDate?S.toDate.toISOString().split("T")[0]:null}))};t?(await n(t,_),xe.success("Project updated successfully"),e("/projects")):xe.error("Project ID is missing.")}catch(w){console.error("Error updating project in EditProject.tsx:",w),console.error("Error details:",w),xe.error("Failed to update project")}finally{u(!1)}};return i?v(qa,{children:v(Nr,{title:"Edit Project",children:v("div",{className:"max-w-4xl mx-auto",children:P(Ve,{children:[v(Xe,{children:v(wt,{children:"Edit Project Details"})}),v(Ze,{children:v(iX,{...h,children:P("form",{onSubmit:h.handleSubmit(b),className:"space-y-6",children:[P("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v(ft,{control:h.control,name:"name",render:({field:y})=>P(Ke,{children:[" ",v(He,{children:"Project Name*"})," ",v(Ye,{children:v(un,{placeholder:"Enter project name",...y})})," ",v(lt,{})," "]})}),v(ft,{control:h.control,name:"portfolioId",render:({field:y})=>P(Ke,{children:[" ",v(He,{children:"Portfolio"})," ",P(go,{onValueChange:y.onChange,value:y.value??"none",defaultValue:"none",children:[" ",v(Ye,{children:v(ji,{children:v(vo,{placeholder:"Select portfolio"})})})," ",P(Li,{children:[" ",v(Oe,{value:"none",children:"-- None --"})," ",o.map(w=>v(Oe,{value:w.id,children:w.name},w.id))," "]})," "]})," ",v(lt,{})," "]})}),v(ft,{control:h.control,name:"projectCode",render:({field:y})=>P(Ke,{children:[" ",v(He,{children:"Project Code"})," ",v(Ye,{children:v(un,{placeholder:"e.g., PRJ-2025-003",...y,value:y.value??""})})," ",v(lt,{})," "]})})]}),v(ft,{control:h.control,name:"initiativeCode",render:({field:y})=>P(Ke,{children:[" ",v(He,{children:"Initiative Code"})," ",v(Ye,{children:v(un,{placeholder:"e.g., PRJ-DEPT-001",...y,value:y.value??""})})," ",v(lt,{})," "]})}),v(ft,{control:h.control,name:"phase",render:({field:y})=>P(Ke,{children:[" ",v(He,{children:"Phase*"})," ",P(go,{onValueChange:y.onChange,value:y.value,children:[" ",v(Ye,{children:v(ji,{children:v(vo,{placeholder:"Select phase"})})})," ",P(Li,{children:[" ",v(Oe,{value:"pre_initiation",children:"Pre-Initiation"})," ",v(Oe,{value:"initiation",children:"Initiation"})," ",v(Oe,{value:"planning",children:"Planning"})," ",v(Oe,{value:"execution",children:"Execution"})," ",v(Oe,{value:"closure",children:"Closure"})," "]})," "]})," ",v(lt,{})," "]})}),v(ft,{control:h.control,name:"managerId",render:({field:y})=>P(Ke,{children:[" ",v(He,{children:"Project Manager"})," ",P(go,{onValueChange:y.onChange,value:y.value??"none",defaultValue:"none",children:[" ",v(Ye,{children:v(ji,{children:v(vo,{placeholder:"Select project manager"})})})," ",P(Li,{children:[" ",v(Oe,{value:"none",children:"-- None --"})," ",a.length===0?v(Oe,{value:"loading",disabled:!0,children:"Loading..."}):null," ",a.map(w=>v(Oe,{value:w.id,children:w.full_name},w.id))," "]})," "]})," ",v(lt,{})," "]})}),v(ft,{control:h.control,name:"owningDepartment",render:({field:y})=>P(Ke,{children:[" ",v(He,{children:"Owning Department"})," ",v(Ye,{children:v(un,{placeholder:"e.g., CSR, Strategy, IT",...y,value:y.value??""})})," ",v(lt,{})," "]})}),v(ft,{control:h.control,name:"description",render:({field:y})=>P(Ke,{children:[" ",v(He,{children:"Project Description"})," ",v(Ye,{children:v(cY,{placeholder:"Describe the project objectives and scope...",value:y.value??"",onChange:y.onChange})})," ",v(lt,{})," "]})}),v(ft,{control:h.control,name:"projectSponsor",render:({field:y})=>P(Ke,{children:[" ",v(He,{children:"Project Sponsor*"})," ",v(Ye,{children:v(un,{placeholder:"e.g., Tarik Khalifah",...y,value:y.value??""})})," ",v(lt,{})," "]})}),v(ft,{control:h.control,name:"projectOwner",render:({field:y})=>P(Ke,{children:[" ",v(He,{children:"Project Owner*"})," ",v(Ye,{children:v(un,{placeholder:"e.g., Reem Almeshari",...y,value:y.value??""})})," ",v(lt,{})," "]})}),P("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v(ft,{control:h.control,name:"startDate",render:({field:y})=>P(Ke,{className:"flex flex-col",children:[" ",v(He,{children:"Start Date*"})," ",P(Fa,{children:[" ",P(Ba,{asChild:!0,children:[" ",P(Ye,{children:[" ",P(Ce,{variant:"outline",className:q("w-full pl-3 text-left font-normal",!y.value&&"text-muted-foreground"),children:[" ",y.value?Ot(y.value,"PPP"):v("span",{children:"Pick a date"})," ",v(Is,{className:"ml-auto h-4 w-4 opacity-50"})," "]})," "]})," "]})," ",P(Fs,{className:"w-auto p-0",align:"start",children:[" ",v(Va,{mode:"single",selected:y.value,onSelect:y.onChange,initialFocus:!0})," "]})," "]})," ",v(lt,{})," "]})}),v(ft,{control:h.control,name:"endDate",render:({field:y})=>P(Ke,{className:"flex flex-col",children:[" ",v(He,{children:"End Date*"})," ",P(Fa,{children:[" ",P(Ba,{asChild:!0,children:[" ",P(Ye,{children:[" ",P(Ce,{variant:"outline",className:q("w-full pl-3 text-left font-normal",!y.value&&"text-muted-foreground"),children:[" ",y.value?Ot(y.value,"PPP"):v("span",{children:"Pick a date"})," ",v(Is,{className:"ml-auto h-4 w-4 opacity-50"})," "]})," "]})," "]})," ",P(Fs,{className:"w-auto p-0",align:"start",children:[" ",v(Va,{mode:"single",selected:y.value,onSelect:y.onChange,initialFocus:!0})," "]})," "]})," ",v(lt,{})," "]})})]}),P("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[v(ft,{control:h.control,name:"status",render:({field:y})=>P(Ke,{children:[" ",v(He,{children:"Status"})," ",P(go,{onValueChange:y.onChange,value:y.value,defaultValue:"not_started",children:[" ",v(Ye,{children:v(ji,{children:v(vo,{placeholder:"Select status"})})})," ",P(Li,{children:[" ",v(Oe,{value:"not_started",children:"Not Started"})," ",v(Oe,{value:"in_progress",children:"In Progress"})," ",v(Oe,{value:"on_track",children:"On Track"})," ",v(Oe,{value:"delayed",children:"Delayed"})," ",v(Oe,{value:"at_risk",children:"At Risk"})," ",v(Oe,{value:"on_hold",children:"On Hold"})," ",v(Oe,{value:"completed",children:"Completed"})," ",v(Oe,{value:"cancelled",children:"Cancelled"})," "]})," "]})," ",v(lt,{})," "]})}),v(ft,{control:h.control,name:"budget",render:({field:y})=>P(Ke,{children:[" ",v(He,{children:"Budget"})," ",v(Ye,{children:v(un,{type:"number",placeholder:"0.00",...y,value:y.value??0,onChange:w=>y.onChange(parseFloat(w.target.value)||0)})})," ",v(lt,{})," "]})}),v(ft,{control:h.control,name:"actualCost",render:({field:y})=>P(Ke,{children:[" ",v(He,{children:"Actual Cost"})," ",v(Ye,{children:v(un,{type:"number",placeholder:"0.00",...y,value:y.value??0,onChange:w=>y.onChange(parseFloat(w.target.value)||0)})})," ",v(lt,{})," "]})}),v(ft,{control:h.control,name:"forecastedSpend",render:({field:y})=>P(Ke,{children:[" ",v(He,{children:"Forecasted Spend"})," ",v(Ye,{children:v(un,{type:"number",placeholder:"0.00",...y,value:y.value??0,onChange:w=>y.onChange(parseFloat(w.target.value)||0)})})," ",v(lt,{})," "]})})]}),P("div",{className:"col-span-1 md:col-span-2 space-y-4",children:[v(He,{children:"Deliverables"}),d.map((y,w)=>v(Ve,{className:"p-4 relative",children:P("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[P(Ke,{className:"md:col-span-3",children:[v(He,{children:"Description"}),v(Ye,{children:v(un,{placeholder:"Deliverable description",value:y.description,onChange:_=>g(y.id,"description",_.target.value)})}),y.description===""&&v("p",{className:"text-sm text-destructive mt-1",children:"Description is required."})]}),P(Ke,{className:"flex flex-col",children:[v(He,{children:"From Date"}),P(Fa,{children:[v(Ba,{asChild:!0,children:v(Ye,{children:P(Ce,{variant:"outline",className:q("w-full pl-3 text-left font-normal",!y.fromDate&&"text-muted-foreground"),children:[y.fromDate?Ot(y.fromDate,"PPP"):v("span",{children:"Pick a date"}),v(Is,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),v(Fs,{className:"w-auto p-0",align:"start",children:v(Va,{mode:"single",selected:y.fromDate??void 0,onSelect:_=>g(y.id,"fromDate",_??null),initialFocus:!0})})]})]}),P(Ke,{className:"flex flex-col",children:[v(He,{children:"To Date"}),P(Fa,{children:[v(Ba,{asChild:!0,children:v(Ye,{children:P(Ce,{variant:"outline",className:q("w-full pl-3 text-left font-normal",!y.toDate&&"text-muted-foreground"),children:[y.toDate?Ot(y.toDate,"PPP"):v("span",{children:"Pick a date"}),v(Is,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),v(Fs,{className:"w-auto p-0",align:"start",children:v(Va,{mode:"single",selected:y.toDate??void 0,onSelect:_=>g(y.id,"toDate",_??null),disabled:_=>y.fromDate?_<y.fromDate:!1,initialFocus:!0})})]}),y.fromDate&&y.toDate&&y.toDate<y.fromDate&&v("p",{className:"text-sm text-destructive mt-1",children:"To Date cannot be before From Date."})]}),v("div",{className:"flex items-end justify-end",children:d.length>0&&P(Ce,{type:"button",variant:"destructive",size:"icon",onClick:()=>p(y.id),className:"h-9 w-9",children:[v(JS,{className:"h-4 w-4"}),v("span",{className:"sr-only",children:"Remove Deliverable"})]})})]})},y.id)),v(Ce,{type:"button",variant:"outline",onClick:m,className:"mt-2",children:"Add Deliverable"})]}),P("div",{className:"space-y-4 pt-6",children:[v("h3",{className:"text-lg font-semibold",children:"Strategic Alignment"}),P("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v(ft,{control:h.control,name:"strategicObjective",render:({field:y})=>P(Ke,{children:[" ",v(He,{children:"Strategic Objective*"})," ",P(go,{onValueChange:y.onChange,value:y.value,children:[" ",v(Ye,{children:v(ji,{children:v(vo,{placeholder:"Select strategic objective"})})})," ",P(Li,{children:[" ",v(Oe,{value:"digital_transformation",children:"Digital Transformation"})," ",v(Oe,{value:"operational_excellence",children:"Operational Excellence"})," ",v(Oe,{value:"customer_experience",children:"Customer Experience"})," ",v(Oe,{value:"innovation",children:"Innovation"})," ",v(Oe,{value:"sustainability",children:"Sustainability"})," "]})," "]})," ",v(lt,{})," "]})}),v(ft,{control:h.control,name:"corporateKPIs",render:({field:y})=>{var w;return P(Ke,{children:[" ",v(He,{children:"Corporate KPIs"})," ",P(Ye,{children:[" ",v(un,{placeholder:"Enter KPIs (max 5)",value:((w=y.value)==null?void 0:w.join(", "))??"",onChange:_=>{const S=_.target.value.split(",").map(C=>C.trim()).filter(C=>C);y.onChange(S.slice(0,5))}})," "]})," ",v(lt,{})," "]})}})]})]}),v(Id,{}),P("div",{className:"flex justify-end gap-4",children:[v(Ce,{variant:"outline",type:"button",onClick:()=>e("/projects"),disabled:h.formState.isSubmitting||c,children:"Cancel"}),v(Ce,{type:"submit",disabled:h.formState.isSubmitting||c,children:h.formState.isSubmitting||c?P(ts,{children:[" ",v("span",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-primary-foreground border-t-transparent"})," Updating... "]}):"Update Project"})]})]})})})]})})})}):v(qa,{children:v(Nr,{title:"Edit Project",children:P("div",{className:"grid grid-cols-12 gap-6",children:[v("div",{className:"col-span-12 lg:col-span-8",children:P(Ve,{children:[P(Xe,{children:[v(ct,{className:"h-8 w-3/4 mb-2"}),v(ct,{className:"h-4 w-1/2"})]}),P(Ze,{className:"grid gap-4",children:[P("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v(ct,{className:"h-10 w-full"}),v(ct,{className:"h-10 w-full"})]}),v(ct,{className:"h-24 w-full"}),v(Id,{}),v(ct,{className:"h-10 w-1/3"}),v(ct,{className:"h-40 w-full"})]})]})}),v("div",{className:"col-span-12 lg:col-span-4",children:P(Ve,{children:[P(Xe,{children:[v(ct,{className:"h-6 w-1/2 mb-2"}),v(ct,{className:"h-4 w-1/3"})]}),v(Ze,{children:v(ct,{className:"h-20 w-full"})})]})})]})})})},MMe=()=>{const t=fa(),e=vl();return x.useEffect(()=>{if(t.pathname==="/projects/new"){e("/projects/new",{replace:!0});return}console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname,e]),v("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:v("div",{className:"max-w-md w-full mx-auto text-center px-4",children:P("div",{className:"bg-white rounded-lg shadow-md p-8",children:[v("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-red-100 mb-6",children:v(Jle,{className:"h-8 w-8 text-red-600"})}),v("h1",{className:"text-3xl font-bold mb-2",children:"Page Not Found"}),v("p",{className:"text-gray-600 mb-6",children:"The page you are looking for doesn't exist or you may not have access to it."}),P("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[v(Ce,{variant:"outline",asChild:!0,children:P(rn,{to:"/",className:"inline-flex items-center",children:[v(tce,{className:"mr-2 h-4 w-4"}),"Go to Home"]})}),v(Ce,{asChild:!0,children:P(rn,{to:"/projects",className:"inline-flex items-center",children:[v(Fle,{className:"mr-2 h-4 w-4"}),"Back to Projects"]})})]})]})})})},NMe=em("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),UX=x.forwardRef(({className:t,variant:e,...n},r)=>v("div",{ref:r,role:"alert",className:q(NMe({variant:e}),t),...n}));UX.displayName="Alert";const DMe=x.forwardRef(({className:t,...e},n)=>v("h5",{ref:n,className:q("mb-1 font-medium leading-none tracking-tight",t),...e}));DMe.displayName="AlertTitle";const HX=x.forwardRef(({className:t,...e},n)=>v("div",{ref:n,className:q("text-sm [&_p]:leading-relaxed",t),...e}));HX.displayName="AlertDescription";const RMe=()=>{var h;const{register:t,handleSubmit:e,formState:{errors:n}}=nR({mode:"onBlur"}),[r,i]=A.useState(!1),[o,s]=A.useState(""),a=vl(),l=fa(),{login:c,isAuthenticated:u}=ZD(),d=((h=l.state)==null?void 0:h.from)||"/dashboard";return x.useEffect(()=>{u&&a(d,{replace:!0});const{data:{subscription:m}}=Te.auth.onAuthStateChange((p,g)=>{p==="SIGNED_IN"&&g&&a(d,{replace:!0})});return()=>{m.unsubscribe()}},[u,a,d]),v("div",{className:"flex min-h-screen flex-col items-center justify-center bg-background p-4",children:P(Ve,{className:"w-full max-w-md",children:[P(Xe,{className:"space-y-1 text-center",children:[v("div",{className:"flex justify-center mb-2",children:v("div",{className:"bg-primary p-2 rounded-full",children:v(xD,{className:"h-6 w-6 text-primary-foreground"})})}),v(wt,{className:"text-2xl",children:"Sign in to Harmony Suite"}),v(ap,{children:"Enter your credentials to access your account"})]}),P("form",{onSubmit:e(async({email:m,password:p})=>{i(!0),s("");try{await c(m,p),a(d,{replace:!0})}catch(g){const b=g instanceof Error?g.message:"Login failed";s(b)}finally{i(!1)}}),"aria-label":"Login form",children:[P(Ze,{className:"space-y-4",children:[o&&P(UX,{variant:"destructive",role:"alert","aria-live":"assertive",children:[v(p8,{className:"h-4 w-4"}),v(HX,{children:o})]}),P("div",{className:"space-y-2",children:[v(Zs,{htmlFor:"email",children:"Email"}),v(un,{id:"email",type:"email",placeholder:"name@example.com","aria-required":"true","aria-label":"Email address",...t("email",{required:"Email is required",pattern:{value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Invalid email address"}})}),n.email&&v("p",{className:"text-sm text-red-600",children:n.email.message})]}),P("div",{className:"space-y-2",children:[P("div",{className:"flex items-center justify-between",children:[v(Zs,{htmlFor:"password",children:"Password"}),v(Ce,{variant:"link",className:"p-0 h-auto text-xs",type:"button",disabled:!0,"aria-disabled":"true",children:"Forgot password?"})]}),v(un,{id:"password",type:"password","aria-required":"true","aria-label":"Password",...t("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}})}),n.password&&v("p",{className:"text-sm text-red-600",children:n.password.message})]}),!1]}),v(x0,{children:v(Ce,{className:"w-full",type:"submit",disabled:r,"aria-busy":r,children:r?P(ts,{children:[v("span",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-primary-foreground border-t-transparent"}),"Signing in..."]}):"Sign in"})})]})]})})},$Me=()=>v(RMe,{});/*! shepherd.js 14.5.0 */function IMe(t){return t instanceof Element}function vp(t){return t instanceof HTMLElement}function Yc(t){return typeof t=="function"}function fy(t){return typeof t=="string"}function Tr(t){return t===void 0}class $${on(e,n,r,i=!1){var o;return Tr(this.bindings)&&(this.bindings={}),Tr(this.bindings[e])&&(this.bindings[e]=[]),(o=this.bindings[e])==null||o.push({handler:n,ctx:r,once:i}),this}once(e,n,r){return this.on(e,n,r,!0)}off(e,n){if(Tr(this.bindings)||Tr(this.bindings[e]))return this;if(Tr(n))delete this.bindings[e];else{var r;(r=this.bindings[e])==null||r.forEach((i,o)=>{if(i.handler===n){var s;(s=this.bindings[e])==null||s.splice(o,1)}})}return this}trigger(e,...n){if(!Tr(this.bindings)&&this.bindings[e]){var r;(r=this.bindings[e])==null||r.forEach((i,o)=>{const{ctx:s,handler:a,once:l}=i,c=s||this;if(a.apply(c,n),l){var u;(u=this.bindings[e])==null||u.splice(o,1)}})}return this}}function xi(){return xi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xi.apply(null,arguments)}function I$(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}const du={defaultMerge:Symbol("deepmerge-ts: default merge"),skip:Symbol("deepmerge-ts: skip")};du.defaultMerge;function jMe(t,e){return e}function LMe(t,e){return t.filter(n=>n!==void 0)}var wV;(function(t){t[t.NOT=0]="NOT",t[t.RECORD=1]="RECORD",t[t.ARRAY=2]="ARRAY",t[t.SET=3]="SET",t[t.MAP=4]="MAP",t[t.OTHER=5]="OTHER"})(wV||(wV={}));function xV(t){return typeof t!="object"||t===null?0:Array.isArray(t)?2:VMe(t)?1:t instanceof Set?3:t instanceof Map?4:5}function FMe(t){const e=new Set;for(const n of t)for(const r of[...Object.keys(n),...Object.getOwnPropertySymbols(n)])e.add(r);return e}function BMe(t,e){return typeof t=="object"&&Object.prototype.propertyIsEnumerable.call(t,e)}function WX(t){return{*[Symbol.iterator](){for(const e of t)for(const n of e)yield n}}}const SV=new Set(["[object Object]","[object Module]"]);function VMe(t){if(!SV.has(Object.prototype.toString.call(t)))return!1;const{constructor:e}=t;if(e===void 0)return!0;const n=e.prototype;return!(n===null||typeof n!="object"||!SV.has(Object.prototype.toString.call(n))||!n.hasOwnProperty("isPrototypeOf"))}function zMe(t,e,n){const r={};for(const i of FMe(t)){const o=[];for(const l of t)BMe(l,i)&&o.push(l[i]);if(o.length===0)continue;const s=e.metaDataUpdater(n,{key:i,parents:t}),a=qX(o,e,s);a!==du.skip&&(i==="__proto__"?Object.defineProperty(r,i,{value:a,configurable:!0,enumerable:!0,writable:!0}):r[i]=a)}return r}function UMe(t){return t.flat()}function HMe(t){return new Set(WX(t))}function WMe(t){return new Map(WX(t))}function qMe(t){return t.at(-1)}const Vb={mergeRecords:zMe,mergeArrays:UMe,mergeSets:HMe,mergeMaps:WMe,mergeOthers:qMe};function j$(...t){return GMe({})(...t)}function GMe(t,e){const n=KMe(t,r);function r(...i){return qX(i,n,e)}return r}function KMe(t,e){var n,r,i;return{defaultMergeFunctions:Vb,mergeFunctions:xi({},Vb,Object.fromEntries(Object.entries(t).filter(([o,s])=>Object.hasOwn(Vb,o)).map(([o,s])=>s===!1?[o,Vb.mergeOthers]:[o,s]))),metaDataUpdater:(n=t.metaDataUpdater)!=null?n:jMe,deepmerge:e,useImplicitDefaultMerging:(r=t.enableImplicitDefaultMerging)!=null?r:!1,filterValues:t.filterValues===!1?void 0:(i=t.filterValues)!=null?i:LMe,actions:du}}function qX(t,e,n){var r;const i=(r=e.filterValues==null?void 0:e.filterValues(t,n))!=null?r:t;if(i.length===0)return;if(i.length===1)return WP(i,e,n);const o=xV(i[0]);if(o!==0&&o!==5){for(let s=1;s<i.length;s++)if(xV(i[s])!==o)return WP(i,e,n)}switch(o){case 1:return YMe(i,e,n);case 2:return XMe(i,e,n);case 3:return ZMe(i,e,n);case 4:return JMe(i,e,n);default:return WP(i,e,n)}}function YMe(t,e,n){const r=e.mergeFunctions.mergeRecords(t,e,n);return r===du.defaultMerge||e.useImplicitDefaultMerging&&r===void 0&&e.mergeFunctions.mergeRecords!==e.defaultMergeFunctions.mergeRecords?e.defaultMergeFunctions.mergeRecords(t,e,n):r}function XMe(t,e,n){const r=e.mergeFunctions.mergeArrays(t,e,n);return r===du.defaultMerge||e.useImplicitDefaultMerging&&r===void 0&&e.mergeFunctions.mergeArrays!==e.defaultMergeFunctions.mergeArrays?e.defaultMergeFunctions.mergeArrays(t):r}function ZMe(t,e,n){const r=e.mergeFunctions.mergeSets(t,e,n);return r===du.defaultMerge||e.useImplicitDefaultMerging&&r===void 0&&e.mergeFunctions.mergeSets!==e.defaultMergeFunctions.mergeSets?e.defaultMergeFunctions.mergeSets(t):r}function JMe(t,e,n){const r=e.mergeFunctions.mergeMaps(t,e,n);return r===du.defaultMerge||e.useImplicitDefaultMerging&&r===void 0&&e.mergeFunctions.mergeMaps!==e.defaultMergeFunctions.mergeMaps?e.defaultMergeFunctions.mergeMaps(t):r}function WP(t,e,n){const r=e.mergeFunctions.mergeOthers(t,e,n);return r===du.defaultMerge||e.useImplicitDefaultMerging&&r===void 0&&e.mergeFunctions.mergeOthers!==e.defaultMergeFunctions.mergeOthers?e.defaultMergeFunctions.mergeOthers(t):r}function L$(t){const e=Object.getOwnPropertyNames(t.constructor.prototype);for(let n=0;n<e.length;n++){const r=e[n],i=t[r];r!=="constructor"&&typeof i=="function"&&(t[r]=i.bind(t))}return t}function QMe(t,e){return n=>{if(t.isOpen()){const r=t.el&&n.currentTarget===t.el;(!Tr(e)&&n.currentTarget.matches(e)||r)&&t.tour.next()}}}function eNe(t){const{event:e,selector:n}=t.options.advanceOn||{};if(e){const r=QMe(t,n);let i=null;if(!Tr(n)&&(i=document.querySelector(n),!i))return console.error(`No element was found for the selector supplied to advanceOn: ${n}`);i?(i.addEventListener(e,r),t.on("destroy",()=>i.removeEventListener(e,r))):(document.body.addEventListener(e,r,!0),t.on("destroy",()=>document.body.removeEventListener(e,r,!0)))}else return console.error("advanceOn was defined, but no event name was passed.")}class tNe{constructor(e){}}class nNe{constructor(e,n){}}function GX(t){return!fy(t)||t===""?"":t.charAt(t.length-1)!=="-"?`${t}-`:t}function rNe(t){const e=t.options.attachTo||{},n=Object.assign({},e);if(Yc(n.element)&&(n.element=n.element.call(t)),fy(n.element)){try{n.element=document.querySelector(n.element)}catch{}n.element||console.error(`The element for this Shepherd step was not found ${e.element}`)}return n}function iNe(t){return t.options.extraHighlights?t.options.extraHighlights.flatMap(e=>Array.from(document.querySelectorAll(e))):[]}function KX(t){return t==null?!0:!t.element||!t.on}function YX(){let t=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const n=(t+Math.random()*16)%16|0;return t=Math.floor(t/16),(e=="x"?n:n&3|8).toString(16)})}const oNe=["top","right","bottom","left"],_V=["start","end"],CV=oNe.reduce((t,e)=>t.concat(e,e+"-"+_V[0],e+"-"+_V[1]),[]),yp=Math.min,vd=Math.max,a1=Math.round,zb=Math.floor,Js=t=>({x:t,y:t}),sNe={left:"right",right:"left",bottom:"top",top:"bottom"},aNe={start:"end",end:"start"};function wA(t,e,n){return vd(t,yp(e,n))}function Ld(t,e){return typeof t=="function"?t(e):t}function ul(t){return t.split("-")[0]}function Ya(t){return t.split("-")[1]}function F$(t){return t==="x"?"y":"x"}function B$(t){return t==="y"?"height":"width"}function bp(t){return["top","bottom"].includes(ul(t))?"y":"x"}function V$(t){return F$(bp(t))}function XX(t,e,n){n===void 0&&(n=!1);const r=Ya(t),i=V$(t),o=B$(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=c1(s)),[s,c1(s)]}function lNe(t){const e=c1(t);return[l1(t),e,l1(e)]}function l1(t){return t.replace(/start|end/g,e=>aNe[e])}function cNe(t,e,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?o:s;default:return[]}}function uNe(t,e,n,r){const i=Ya(t);let o=cNe(ul(t),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),e&&(o=o.concat(o.map(l1)))),o}function c1(t){return t.replace(/left|right|bottom|top/g,e=>sNe[e])}function dNe(t){return xi({top:0,right:0,bottom:0,left:0},t)}function ZX(t){return typeof t!="number"?dNe(t):{top:t,right:t,bottom:t,left:t}}function u1(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}const fNe=["crossAxis","alignment","allowedPlacements","autoAlignment"],hNe=["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"],pNe=["mainAxis","crossAxis","limiter"];function kV(t,e,n){let{reference:r,floating:i}=t;const o=bp(e),s=V$(e),a=B$(s),l=ul(e),c=o==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let h;switch(l){case"top":h={x:u,y:r.y-i.height};break;case"bottom":h={x:u,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:d};break;case"left":h={x:r.x-i.width,y:d};break;default:h={x:r.x,y:r.y}}switch(Ya(e)){case"start":h[s]-=f*(n&&c?-1:1);break;case"end":h[s]+=f*(n&&c?-1:1);break}return h}const mNe=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:d}=kV(c,r,l),f=r,h={},m=0;for(let p=0;p<a.length;p++){const{name:g,fn:b}=a[p],{x:y,y:w,data:_,reset:S}=await b({x:u,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:h,rects:c,platform:s,elements:{reference:t,floating:e}});u=y??u,d=w??d,h=xi({},h,{[g]:xi({},h[g],_)}),S&&m<=50&&(m++,typeof S=="object"&&(S.placement&&(f=S.placement),S.rects&&(c=S.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):S.rects),{x:u,y:d}=kV(c,f,l)),p=-1)}return{x:u,y:d,placement:f,strategy:i,middlewareData:h}};async function z$(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=Ld(e,t),m=ZX(h),g=a[f?d==="floating"?"reference":"floating":d],b=u1(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(g)))==null||n?g:g.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),y=d==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),_=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},S=u1(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:w,strategy:l}):y);return{top:(b.top-S.top+m.top)/_.y,bottom:(S.bottom-b.bottom+m.bottom)/_.y,left:(b.left-S.left+m.left)/_.x,right:(S.right-b.right+m.right)/_.x}}const gNe=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=Ld(t,e)||{};if(c==null)return{};const d=ZX(u),f={x:n,y:r},h=V$(i),m=B$(h),p=await s.getDimensions(c),g=h==="y",b=g?"top":"left",y=g?"bottom":"right",w=g?"clientHeight":"clientWidth",_=o.reference[m]+o.reference[h]-f[h]-o.floating[m],S=f[h]-o.reference[h],C=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let k=C?C[w]:0;(!k||!await(s.isElement==null?void 0:s.isElement(C)))&&(k=a.floating[w]||o.floating[m]);const E=_/2-S/2,T=k/2-p[m]/2-1,M=yp(d[b],T),D=yp(d[y],T),N=M,L=k-p[m]-D,I=k/2-p[m]/2+E,z=wA(N,I,L),V=!l.arrow&&Ya(i)!=null&&I!==z&&o.reference[m]/2-(I<N?M:D)-p[m]/2<0,j=V?I<N?I-N:I-L:0;return{[h]:f[h]+j,data:xi({[h]:z,centerOffset:I-z-j},V&&{alignmentOffset:j}),reset:V}}});function vNe(t,e,n){return(t?[...n.filter(i=>Ya(i)===t),...n.filter(i=>Ya(i)!==t)]:n.filter(i=>ul(i)===i)).filter(i=>t?Ya(i)===t||(e?l1(i)!==i:!1):!0)}const yNe=function(e){return e===void 0&&(e={}),{name:"autoPlacement",options:e,async fn(n){var r,i,o;const{rects:s,middlewareData:a,placement:l,platform:c,elements:u}=n,d=Ld(e,n),{crossAxis:f=!1,alignment:h,allowedPlacements:m=CV,autoAlignment:p=!0}=d,g=I$(d,fNe),b=h!==void 0||m===CV?vNe(h||null,p,m):m,y=await z$(n,g),w=((r=a.autoPlacement)==null?void 0:r.index)||0,_=b[w];if(_==null)return{};const S=XX(_,s,await(c.isRTL==null?void 0:c.isRTL(u.floating)));if(l!==_)return{reset:{placement:b[0]}};const C=[y[ul(_)],y[S[0]],y[S[1]]],k=[...((i=a.autoPlacement)==null?void 0:i.overflows)||[],{placement:_,overflows:C}],E=b[w+1];if(E)return{data:{index:w+1,overflows:k},reset:{placement:E}};const T=k.map(N=>{const L=Ya(N.placement);return[N.placement,L&&f?N.overflows.slice(0,2).reduce((I,z)=>I+z,0):N.overflows[0],N.overflows]}).sort((N,L)=>N[1]-L[1]),D=((o=T.filter(N=>N[2].slice(0,Ya(N[0])?2:3).every(L=>L<=0))[0])==null?void 0:o[0])||T[0][0];return D!==l?{data:{index:w+1,overflows:k},reset:{placement:D}}:{}}}},bNe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(n){var r,i;const{placement:o,middlewareData:s,rects:a,initialPlacement:l,platform:c,elements:u}=n,d=Ld(e,n),{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:b=!0}=d,y=I$(d,hNe);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const w=ul(o),_=bp(l),S=ul(l)===l,C=await(c.isRTL==null?void 0:c.isRTL(u.floating)),k=m||(S||!b?[c1(l)]:lNe(l)),E=g!=="none";!m&&E&&k.push(...uNe(l,b,g,C));const T=[l,...k],M=await z$(n,y),D=[];let N=((i=s.flip)==null?void 0:i.overflows)||[];if(f&&D.push(M[w]),h){const V=XX(o,a,C);D.push(M[V[0]],M[V[1]])}if(N=[...N,{placement:o,overflows:D}],!D.every(V=>V<=0)){var L,I;const V=(((L=s.flip)==null?void 0:L.index)||0)+1,j=T[V];if(j)return{data:{index:V,overflows:N},reset:{placement:j}};let R=(I=N.filter($=>$.overflows[0]<=0).sort(($,H)=>$.overflows[1]-H.overflows[1])[0])==null?void 0:I.placement;if(!R)switch(p){case"bestFit":{var z;const $=(z=N.filter(H=>{if(E){const Y=bp(H.placement);return Y===_||Y==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(Y=>Y>0).reduce((Y,F)=>Y+F,0)]).sort((H,Y)=>H[1]-Y[1])[0])==null?void 0:z[0];$&&(R=$);break}case"initialPlacement":R=l;break}if(o!==R)return{reset:{placement:R}}}return{}}}},wNe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(n){const{x:r,y:i,placement:o}=n,s=Ld(e,n),{mainAxis:a=!0,crossAxis:l=!1,limiter:c={fn:y=>{let{x:w,y:_}=y;return{x:w,y:_}}}}=s,u=I$(s,pNe),d={x:r,y:i},f=await z$(n,u),h=bp(ul(o)),m=F$(h);let p=d[m],g=d[h];if(a){const y=m==="y"?"top":"left",w=m==="y"?"bottom":"right",_=p+f[y],S=p-f[w];p=wA(_,p,S)}if(l){const y=h==="y"?"top":"left",w=h==="y"?"bottom":"right",_=g+f[y],S=g-f[w];g=wA(_,g,S)}const b=c.fn(xi({},n,{[m]:p,[h]:g}));return xi({},b,{data:{x:b.x-r,y:b.y-i}})}}},xNe=function(e){return e===void 0&&(e={}),{options:e,fn(n){const{x:r,y:i,placement:o,rects:s,middlewareData:a}=n,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Ld(e,n),d={x:r,y:i},f=bp(o),h=F$(f);let m=d[h],p=d[f];const g=Ld(l,n),b=typeof g=="number"?{mainAxis:g,crossAxis:0}:xi({mainAxis:0,crossAxis:0},g);if(c){const _=h==="y"?"height":"width",S=s.reference[h]-s.floating[_]+b.mainAxis,C=s.reference[h]+s.reference[_]-b.mainAxis;m<S?m=S:m>C&&(m=C)}if(u){var y,w;const _=h==="y"?"width":"height",S=["top","left"].includes(ul(o)),C=s.reference[f]-s.floating[_]+(S&&((y=a.offset)==null?void 0:y[f])||0)+(S?0:b.crossAxis),k=s.reference[f]+s.reference[_]+(S?0:((w=a.offset)==null?void 0:w[f])||0)-(S?b.crossAxis:0);p<C?p=C:p>k&&(p=k)}return{[h]:m,[f]:p}}}};function X_(){return typeof window<"u"}function pm(t){return JX(t)?(t.nodeName||"").toLowerCase():"#document"}function qi(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ma(t){var e;return(e=(JX(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function JX(t){return X_()?t instanceof Node||t instanceof qi(t).Node:!1}function gs(t){return X_()?t instanceof Element||t instanceof qi(t).Element:!1}function aa(t){return X_()?t instanceof HTMLElement||t instanceof qi(t).HTMLElement:!1}function PV(t){return!X_()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof qi(t).ShadowRoot}function D0(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=vs(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function SNe(t){return["table","td","th"].includes(pm(t))}function Z_(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function U$(t){const e=H$(),n=gs(t)?vs(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function _Ne(t){let e=Xc(t);for(;aa(e)&&!wp(e);){if(U$(e))return e;if(Z_(e))return null;e=Xc(e)}return null}function H$(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function wp(t){return["html","body","#document"].includes(pm(t))}function vs(t){return qi(t).getComputedStyle(t)}function J_(t){return gs(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Xc(t){if(pm(t)==="html")return t;const e=t.assignedSlot||t.parentNode||PV(t)&&t.host||ma(t);return PV(e)?e.host:e}function QX(t){const e=Xc(t);return wp(e)?t.ownerDocument?t.ownerDocument.body:t.body:aa(e)&&D0(e)?e:QX(e)}function hy(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=QX(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),s=qi(i);if(o){const a=xA(s);return e.concat(s,s.visualViewport||[],D0(i)?i:[],a&&n?hy(a):[])}return e.concat(i,hy(i,[],n))}function xA(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function eZ(t){const e=vs(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=aa(t),o=i?t.offsetWidth:n,s=i?t.offsetHeight:r,a=a1(n)!==o||a1(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function W$(t){return gs(t)?t:t.contextElement}function Ch(t){const e=W$(t);if(!aa(e))return Js(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=eZ(e);let s=(o?a1(n.width):n.width)/r,a=(o?a1(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const CNe=Js(0);function tZ(t){const e=qi(t);return!H$()||!e.visualViewport?CNe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function kNe(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==qi(t)?!1:e}function Fd(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=W$(t);let s=Js(1);e&&(r?gs(r)&&(s=Ch(r)):s=Ch(t));const a=kNe(o,n,r)?tZ(o):Js(0);let l=(i.left+a.x)/s.x,c=(i.top+a.y)/s.y,u=i.width/s.x,d=i.height/s.y;if(o){const f=qi(o),h=r&&gs(r)?qi(r):r;let m=f,p=xA(m);for(;p&&r&&h!==m;){const g=Ch(p),b=p.getBoundingClientRect(),y=vs(p),w=b.left+(p.clientLeft+parseFloat(y.paddingLeft))*g.x,_=b.top+(p.clientTop+parseFloat(y.paddingTop))*g.y;l*=g.x,c*=g.y,u*=g.x,d*=g.y,l+=w,c+=_,m=qi(p),p=xA(m)}}return u1({width:u,height:d,x:l,y:c})}function q$(t,e){const n=J_(t).scrollLeft;return e?e.left+n:Fd(ma(t)).left+n}function nZ(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:q$(t,r)),o=r.top+e.scrollTop;return{x:i,y:o}}function PNe(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",s=ma(r),a=e?Z_(e.floating):!1;if(r===s||a&&o)return n;let l={scrollLeft:0,scrollTop:0},c=Js(1);const u=Js(0),d=aa(r);if((d||!d&&!o)&&((pm(r)!=="body"||D0(s))&&(l=J_(r)),aa(r))){const h=Fd(r);c=Ch(r),u.x=h.x+r.clientLeft,u.y=h.y+r.clientTop}const f=s&&!d&&!o?nZ(s,l,!0):Js(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+f.x,y:n.y*c.y-l.scrollTop*c.y+u.y+f.y}}function ENe(t){return Array.from(t.getClientRects())}function ONe(t){const e=ma(t),n=J_(t),r=t.ownerDocument.body,i=vd(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=vd(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+q$(t);const a=-n.scrollTop;return vs(r).direction==="rtl"&&(s+=vd(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function TNe(t,e){const n=qi(t),r=ma(t),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const c=H$();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}function ANe(t,e){const n=Fd(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=aa(t)?Ch(t):Js(1),s=t.clientWidth*o.x,a=t.clientHeight*o.y,l=i*o.x,c=r*o.y;return{width:s,height:a,x:l,y:c}}function EV(t,e,n){let r;if(e==="viewport")r=TNe(t,n);else if(e==="document")r=ONe(ma(t));else if(gs(e))r=ANe(e,n);else{const i=tZ(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return u1(r)}function rZ(t,e){const n=Xc(t);return n===e||!gs(n)||wp(n)?!1:vs(n).position==="fixed"||rZ(n,e)}function MNe(t,e){const n=e.get(t);if(n)return n;let r=hy(t,[],!1).filter(a=>gs(a)&&pm(a)!=="body"),i=null;const o=vs(t).position==="fixed";let s=o?Xc(t):t;for(;gs(s)&&!wp(s);){const a=vs(s),l=U$(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||D0(s)&&!l&&rZ(t,s))?r=r.filter(u=>u!==s):i=a,s=Xc(s)}return e.set(t,r),r}function NNe(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const s=[...n==="clippingAncestors"?Z_(e)?[]:MNe(e,this._c):[].concat(n),r],a=s[0],l=s.reduce((c,u)=>{const d=EV(e,u,i);return c.top=vd(d.top,c.top),c.right=yp(d.right,c.right),c.bottom=yp(d.bottom,c.bottom),c.left=vd(d.left,c.left),c},EV(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function DNe(t){const{width:e,height:n}=eZ(t);return{width:e,height:n}}function RNe(t,e,n){const r=aa(e),i=ma(e),o=n==="fixed",s=Fd(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const l=Js(0);if(r||!r&&!o)if((pm(e)!=="body"||D0(i))&&(a=J_(e)),r){const f=Fd(e,!0,o,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else i&&(l.x=q$(i));const c=i&&!r&&!o?nZ(i,a):Js(0),u=s.left+a.scrollLeft-l.x-c.x,d=s.top+a.scrollTop-l.y-c.y;return{x:u,y:d,width:s.width,height:s.height}}function qP(t){return vs(t).position==="static"}function OV(t,e){if(!aa(t)||vs(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ma(t)===n&&(n=n.ownerDocument.body),n}function iZ(t,e){const n=qi(t);if(Z_(t))return n;if(!aa(t)){let i=Xc(t);for(;i&&!wp(i);){if(gs(i)&&!qP(i))return i;i=Xc(i)}return n}let r=OV(t,e);for(;r&&SNe(r)&&qP(r);)r=OV(r,e);return r&&wp(r)&&qP(r)&&!U$(r)?n:r||_Ne(t)||n}const $Ne=async function(e){const n=this.getOffsetParent||iZ,r=this.getDimensions,i=await r(e.floating);return{reference:RNe(e.reference,await n(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function INe(t){return vs(t).direction==="rtl"}const jNe={convertOffsetParentRelativeRectToViewportRelativeRect:PNe,getDocumentElement:ma,getClippingRect:NNe,getOffsetParent:iZ,getElementRects:$Ne,getClientRects:ENe,getDimensions:DNe,getScale:Ch,isElement:gs,isRTL:INe};function LNe(t,e){let n=null,r;const i=ma(t);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const{left:c,top:u,width:d,height:f}=t.getBoundingClientRect();if(a||e(),!d||!f)return;const h=zb(u),m=zb(i.clientWidth-(c+d)),p=zb(i.clientHeight-(u+f)),g=zb(c),y={rootMargin:-h+"px "+-m+"px "+-p+"px "+-g+"px",threshold:vd(0,yp(1,l))||1};let w=!0;function _(S){const C=S[0].intersectionRatio;if(C!==l){if(!w)return s();C?s(!1,C):r=setTimeout(()=>{s(!1,1e-7)},1e3)}w=!1}try{n=new IntersectionObserver(_,xi({},y,{root:i.ownerDocument}))}catch{n=new IntersectionObserver(_,y)}n.observe(t)}return s(!0),o}function FNe(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=W$(t),u=i||o?[...c?hy(c):[],...hy(e)]:[];u.forEach(b=>{i&&b.addEventListener("scroll",n,{passive:!0}),o&&b.addEventListener("resize",n)});const d=c&&a?LNe(c,n):null;let f=-1,h=null;s&&(h=new ResizeObserver(b=>{let[y]=b;y&&y.target===c&&h&&(h.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;(w=h)==null||w.observe(e)})),n()}),c&&!l&&h.observe(c),h.observe(e));let m,p=l?Fd(t):null;l&&g();function g(){const b=Fd(t);p&&(b.x!==p.x||b.y!==p.y||b.width!==p.width||b.height!==p.height)&&n(),p=b,m=requestAnimationFrame(g)}return n(),()=>{var b;u.forEach(y=>{i&&y.removeEventListener("scroll",n),o&&y.removeEventListener("resize",n)}),d==null||d(),(b=h)==null||b.disconnect(),h=null,l&&cancelAnimationFrame(m)}}const BNe=yNe,VNe=wNe,zNe=bNe,UNe=gNe,HNe=xNe,WNe=(t,e,n)=>{const r=new Map,i=xi({platform:jNe},n),o=xi({},i.platform,{_c:r});return mNe(t,e,xi({},i,{platform:o}))};function qNe(t){t.cleanup&&t.cleanup();const e=t._getResolvedAttachToOptions();let n=e.element;const r=JNe(e,t),i=KX(e);return i&&(n=document.body,t.shepherdElementComponent.getElement().classList.add("shepherd-centered")),t.cleanup=FNe(n,t.el,()=>{if(!t.el){t.cleanup==null||t.cleanup();return}YNe(n,t,r,i)}),t.target=e.element,r}function GNe(t,e){return{floatingUIOptions:j$(t.floatingUIOptions||{},e.floatingUIOptions||{})}}function KNe(t){t.cleanup&&t.cleanup(),t.cleanup=null}function YNe(t,e,n,r){return WNe(t,e.el,n).then(XNe(e,r)).then(i=>new Promise(o=>{setTimeout(()=>o(i),300)})).then(i=>{i!=null&&i.el&&i.el.focus({preventScroll:!0})})}function XNe(t,e){return({x:n,y:r,placement:i,middlewareData:o})=>(t.el&&(e?Object.assign(t.el.style,{position:"fixed",left:"50%",top:"50%",transform:"translate(-50%, -50%)"}):Object.assign(t.el.style,{position:"absolute",left:`${n}px`,top:`${r}px`}),t.el.dataset.popperPlacement=i,ZNe(t.el,o)),t)}function ZNe(t,e){const n=t.querySelector(".shepherd-arrow");if(vp(n)&&e.arrow){const{x:r,y:i}=e.arrow;Object.assign(n.style,{left:r!=null?`${r}px`:"",top:i!=null?`${i}px`:""})}}function JNe(t,e){var n,r,i;const o={strategy:"absolute"};o.middleware=[];const s=QNe(e),a=KX(t),l=(n=t.on)==null?void 0:n.includes("auto"),c=(t==null||(r=t.on)==null?void 0:r.includes("-start"))||(t==null||(i=t.on)==null?void 0:i.includes("-end"));if(!a){if(l){var u;o.middleware.push(BNe({crossAxis:!0,alignment:c?t==null||(u=t.on)==null?void 0:u.split("-").pop():null}))}else o.middleware.push(zNe());if(o.middleware.push(VNe({limiter:HNe(),crossAxis:!0})),s){const d=typeof e.options.arrow=="object"?e.options.arrow:{padding:4};o.middleware.push(UNe({element:s,padding:c?d.padding:0}))}l||(o.placement=t.on)}return j$(o,e.options.floatingUIOptions||{})}function QNe(t){return t.options.arrow&&t.el?t.el.querySelector(".shepherd-arrow"):!1}function Ji(){}function eDe(t,e){for(const n in e)t[n]=e[n];return t}function oZ(t){return t()}function TV(){return Object.create(null)}function R0(t){t.forEach(oZ)}function G$(t){return typeof t=="function"}function yl(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function tDe(t){return Object.keys(t).length===0}function xp(t,e){t.appendChild(e)}function bs(t,e,n){t.insertBefore(e,n||null)}function Ao(t){t.parentNode&&t.parentNode.removeChild(t)}function nDe(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function la(t){return document.createElement(t)}function AV(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function sZ(t){return document.createTextNode(t)}function d1(){return sZ(" ")}function rDe(){return sZ("")}function Q_(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function Bt(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const iDe=["width","height"];function MV(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const r in e)e[r]==null?t.removeAttribute(r):r==="style"?t.style.cssText=e[r]:r==="__value"?t.value=t[r]=e[r]:n[r]&&n[r].set&&iDe.indexOf(r)===-1?t[r]=e[r]:Bt(t,r,e[r])}function oDe(t){return Array.from(t.childNodes)}function Sf(t,e,n){t.classList.toggle(e,!!n)}let py;function Kg(t){py=t}function aZ(){if(!py)throw new Error("Function called outside component initialization");return py}function sDe(t){aZ().$$.on_mount.push(t)}function K$(t){aZ().$$.after_update.push(t)}const Nf=[],Sp=[];let kh=[];const NV=[],aDe=Promise.resolve();let SA=!1;function lDe(){SA||(SA=!0,aDe.then(lZ))}function _A(t){kh.push(t)}const GP=new Set;let _f=0;function lZ(){if(_f!==0)return;const t=py;do{try{for(;_f<Nf.length;){const e=Nf[_f];_f++,Kg(e),cDe(e.$$)}}catch(e){throw Nf.length=0,_f=0,e}for(Kg(null),Nf.length=0,_f=0;Sp.length;)Sp.pop()();for(let e=0;e<kh.length;e+=1){const n=kh[e];GP.has(n)||(GP.add(n),n())}kh.length=0}while(Nf.length);for(;NV.length;)NV.pop()();SA=!1,GP.clear(),Kg(t)}function cDe(t){if(t.fragment!==null){t.update(),R0(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(_A)}}function uDe(t){const e=[],n=[];kh.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),kh=e}const Fw=new Set;let Gu;function yd(){Gu={r:0,c:[],p:Gu}}function bd(){Gu.r||R0(Gu.c),Gu=Gu.p}function Dt(t,e){t&&t.i&&(Fw.delete(t),t.i(e))}function kn(t,e,n,r){if(t&&t.o){if(Fw.has(t))return;Fw.add(t),Gu.c.push(()=>{Fw.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function DV(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function dDe(t,e){const n={},r={},i={$$scope:1};let o=t.length;for(;o--;){const s=t[o],a=e[o];if(a){for(const l in s)l in a||(r[l]=1);for(const l in a)i[l]||(n[l]=a[l],i[l]=1);t[o]=a}else for(const l in s)i[l]=1}for(const s in r)s in n||(n[s]=void 0);return n}function nf(t){t&&t.c()}function fu(t,e,n){const{fragment:r,after_update:i}=t.$$;r&&r.m(e,n),_A(()=>{const o=t.$$.on_mount.map(oZ).filter(G$);t.$$.on_destroy?t.$$.on_destroy.push(...o):R0(o),t.$$.on_mount=[]}),i.forEach(_A)}function hu(t,e){const n=t.$$;n.fragment!==null&&(uDe(n.after_update),R0(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function fDe(t,e){t.$$.dirty[0]===-1&&(Nf.push(t),lDe(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function bl(t,e,n,r,i,o,s=null,a=[-1]){const l=py;Kg(t);const c=t.$$={fragment:null,ctx:[],props:o,update:Ji,not_equal:i,bound:TV(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:TV(),dirty:a,skip_bound:!1,root:e.target||l.$$.root};s&&s(c.root);let u=!1;if(c.ctx=n?n(t,e.props||{},(d,f,...h)=>{const m=h.length?h[0]:f;return c.ctx&&i(c.ctx[d],c.ctx[d]=m)&&(!c.skip_bound&&c.bound[d]&&c.bound[d](m),u&&fDe(t,d)),f}):[],c.update(),u=!0,R0(c.before_update),c.fragment=r?r(c.ctx):!1,e.target){if(e.hydrate){const d=oDe(e.target);c.fragment&&c.fragment.l(d),d.forEach(Ao)}else c.fragment&&c.fragment.c();e.intro&&Dt(t.$$.fragment),fu(t,e.target,e.anchor),lZ()}Kg(l)}class wl{constructor(){this.$$=void 0,this.$$set=void 0}$destroy(){hu(this,1),this.$destroy=Ji}$on(e,n){if(!G$(n))return Ji;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!tDe(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const hDe="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(hDe);function pDe(t){let e,n,r,i,o;return{c(){e=la("button"),Bt(e,"aria-label",n=t[3]?t[3]:null),Bt(e,"class",r=`${t[1]||""} shepherd-button ${t[4]?"shepherd-button-secondary":""}`),e.disabled=t[2],Bt(e,"tabindex","0"),Bt(e,"type","button")},m(s,a){bs(s,e,a),e.innerHTML=t[5],i||(o=Q_(e,"click",function(){G$(t[0])&&t[0].apply(this,arguments)}),i=!0)},p(s,[a]){t=s,a&32&&(e.innerHTML=t[5]),a&8&&n!==(n=t[3]?t[3]:null)&&Bt(e,"aria-label",n),a&18&&r!==(r=`${t[1]||""} shepherd-button ${t[4]?"shepherd-button-secondary":""}`)&&Bt(e,"class",r),a&4&&(e.disabled=t[2])},i:Ji,o:Ji,d(s){s&&Ao(e),i=!1,o()}}}function mDe(t,e,n){let{config:r,step:i}=e,o,s,a,l,c,u;function d(f){return Yc(f)?f=f.call(i):f}return t.$$set=f=>{"config"in f&&n(6,r=f.config),"step"in f&&n(7,i=f.step)},t.$$.update=()=>{t.$$.dirty&192&&(n(0,o=r.action?r.action.bind(i.tour):null),n(1,s=r.classes),n(2,a=r.disabled?d(r.disabled):!1),n(3,l=r.label?d(r.label):null),n(4,c=r.secondary),n(5,u=r.text?d(r.text):null))},[o,s,a,l,c,u,r,i]}class gDe extends wl{constructor(e){super(),bl(this,e,mDe,pDe,yl,{config:6,step:7})}}function RV(t,e,n){const r=t.slice();return r[2]=e[n],r}function $V(t){let e,n,r=DV(t[1]),i=[];for(let s=0;s<r.length;s+=1)i[s]=IV(RV(t,r,s));const o=s=>kn(i[s],1,1,()=>{i[s]=null});return{c(){for(let s=0;s<i.length;s+=1)i[s].c();e=rDe()},m(s,a){for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(s,a);bs(s,e,a),n=!0},p(s,a){if(a&3){r=DV(s[1]);let l;for(l=0;l<r.length;l+=1){const c=RV(s,r,l);i[l]?(i[l].p(c,a),Dt(i[l],1)):(i[l]=IV(c),i[l].c(),Dt(i[l],1),i[l].m(e.parentNode,e))}for(yd(),l=r.length;l<i.length;l+=1)o(l);bd()}},i(s){if(!n){for(let a=0;a<r.length;a+=1)Dt(i[a]);n=!0}},o(s){i=i.filter(Boolean);for(let a=0;a<i.length;a+=1)kn(i[a]);n=!1},d(s){s&&Ao(e),nDe(i,s)}}}function IV(t){let e,n;return e=new gDe({props:{config:t[2],step:t[0]}}),{c(){nf(e.$$.fragment)},m(r,i){fu(e,r,i),n=!0},p(r,i){const o={};i&2&&(o.config=r[2]),i&1&&(o.step=r[0]),e.$set(o)},i(r){n||(Dt(e.$$.fragment,r),n=!0)},o(r){kn(e.$$.fragment,r),n=!1},d(r){hu(e,r)}}}function vDe(t){let e,n,r=t[1]&&$V(t);return{c(){e=la("footer"),r&&r.c(),Bt(e,"class","shepherd-footer")},m(i,o){bs(i,e,o),r&&r.m(e,null),n=!0},p(i,[o]){i[1]?r?(r.p(i,o),o&2&&Dt(r,1)):(r=$V(i),r.c(),Dt(r,1),r.m(e,null)):r&&(yd(),kn(r,1,1,()=>{r=null}),bd())},i(i){n||(Dt(r),n=!0)},o(i){kn(r),n=!1},d(i){i&&Ao(e),r&&r.d()}}}function yDe(t,e,n){let r,{step:i}=e;return t.$$set=o=>{"step"in o&&n(0,i=o.step)},t.$$.update=()=>{t.$$.dirty&1&&n(1,r=i.options.buttons)},[i,r]}class bDe extends wl{constructor(e){super(),bl(this,e,yDe,vDe,yl,{step:0})}}function wDe(t){let e,n,r,i,o;return{c(){e=la("button"),n=la("span"),n.textContent="",Bt(n,"aria-hidden","true"),Bt(e,"aria-label",r=t[0].label?t[0].label:"Close Tour"),Bt(e,"class","shepherd-cancel-icon"),Bt(e,"type","button")},m(s,a){bs(s,e,a),xp(e,n),i||(o=Q_(e,"click",t[1]),i=!0)},p(s,[a]){a&1&&r!==(r=s[0].label?s[0].label:"Close Tour")&&Bt(e,"aria-label",r)},i:Ji,o:Ji,d(s){s&&Ao(e),i=!1,o()}}}function xDe(t,e,n){let{cancelIcon:r,step:i}=e;const o=s=>{s.preventDefault(),i.cancel()};return t.$$set=s=>{"cancelIcon"in s&&n(0,r=s.cancelIcon),"step"in s&&n(2,i=s.step)},[r,o,i]}class SDe extends wl{constructor(e){super(),bl(this,e,xDe,wDe,yl,{cancelIcon:0,step:2})}}function _De(t){let e;return{c(){e=la("h3"),Bt(e,"id",t[1]),Bt(e,"class","shepherd-title")},m(n,r){bs(n,e,r),t[3](e)},p(n,[r]){r&2&&Bt(e,"id",n[1])},i:Ji,o:Ji,d(n){n&&Ao(e),t[3](null)}}}function CDe(t,e,n){let{labelId:r,element:i,title:o}=e;K$(()=>{Yc(o)&&n(2,o=o()),n(0,i.innerHTML=o,i)});function s(a){Sp[a?"unshift":"push"](()=>{i=a,n(0,i)})}return t.$$set=a=>{"labelId"in a&&n(1,r=a.labelId),"element"in a&&n(0,i=a.element),"title"in a&&n(2,o=a.title)},[i,r,o,s]}class kDe extends wl{constructor(e){super(),bl(this,e,CDe,_De,yl,{labelId:1,element:0,title:2})}}function jV(t){let e,n;return e=new kDe({props:{labelId:t[0],title:t[2]}}),{c(){nf(e.$$.fragment)},m(r,i){fu(e,r,i),n=!0},p(r,i){const o={};i&1&&(o.labelId=r[0]),i&4&&(o.title=r[2]),e.$set(o)},i(r){n||(Dt(e.$$.fragment,r),n=!0)},o(r){kn(e.$$.fragment,r),n=!1},d(r){hu(e,r)}}}function LV(t){let e,n;return e=new SDe({props:{cancelIcon:t[3],step:t[1]}}),{c(){nf(e.$$.fragment)},m(r,i){fu(e,r,i),n=!0},p(r,i){const o={};i&8&&(o.cancelIcon=r[3]),i&2&&(o.step=r[1]),e.$set(o)},i(r){n||(Dt(e.$$.fragment,r),n=!0)},o(r){kn(e.$$.fragment,r),n=!1},d(r){hu(e,r)}}}function PDe(t){let e,n,r,i=t[2]&&jV(t),o=t[3]&&t[3].enabled&&LV(t);return{c(){e=la("header"),i&&i.c(),n=d1(),o&&o.c(),Bt(e,"class","shepherd-header")},m(s,a){bs(s,e,a),i&&i.m(e,null),xp(e,n),o&&o.m(e,null),r=!0},p(s,[a]){s[2]?i?(i.p(s,a),a&4&&Dt(i,1)):(i=jV(s),i.c(),Dt(i,1),i.m(e,n)):i&&(yd(),kn(i,1,1,()=>{i=null}),bd()),s[3]&&s[3].enabled?o?(o.p(s,a),a&8&&Dt(o,1)):(o=LV(s),o.c(),Dt(o,1),o.m(e,null)):o&&(yd(),kn(o,1,1,()=>{o=null}),bd())},i(s){r||(Dt(i),Dt(o),r=!0)},o(s){kn(i),kn(o),r=!1},d(s){s&&Ao(e),i&&i.d(),o&&o.d()}}}function EDe(t,e,n){let{labelId:r,step:i}=e,o,s;return t.$$set=a=>{"labelId"in a&&n(0,r=a.labelId),"step"in a&&n(1,i=a.step)},t.$$.update=()=>{t.$$.dirty&2&&(n(2,o=i.options.title),n(3,s=i.options.cancelIcon))},[r,i,o,s]}class ODe extends wl{constructor(e){super(),bl(this,e,EDe,PDe,yl,{labelId:0,step:1})}}function TDe(t){let e;return{c(){e=la("div"),Bt(e,"class","shepherd-text"),Bt(e,"id",t[1])},m(n,r){bs(n,e,r),t[3](e)},p(n,[r]){r&2&&Bt(e,"id",n[1])},i:Ji,o:Ji,d(n){n&&Ao(e),t[3](null)}}}function ADe(t,e,n){let{descriptionId:r,element:i,step:o}=e;K$(()=>{let{text:a}=o.options;Yc(a)&&(a=a.call(o)),vp(a)?i.appendChild(a):n(0,i.innerHTML=a,i)});function s(a){Sp[a?"unshift":"push"](()=>{i=a,n(0,i)})}return t.$$set=a=>{"descriptionId"in a&&n(1,r=a.descriptionId),"element"in a&&n(0,i=a.element),"step"in a&&n(2,o=a.step)},[i,r,o,s]}class MDe extends wl{constructor(e){super(),bl(this,e,ADe,TDe,yl,{descriptionId:1,element:0,step:2})}}function FV(t){let e,n;return e=new ODe({props:{labelId:t[1],step:t[2]}}),{c(){nf(e.$$.fragment)},m(r,i){fu(e,r,i),n=!0},p(r,i){const o={};i&2&&(o.labelId=r[1]),i&4&&(o.step=r[2]),e.$set(o)},i(r){n||(Dt(e.$$.fragment,r),n=!0)},o(r){kn(e.$$.fragment,r),n=!1},d(r){hu(e,r)}}}function BV(t){let e,n;return e=new MDe({props:{descriptionId:t[0],step:t[2]}}),{c(){nf(e.$$.fragment)},m(r,i){fu(e,r,i),n=!0},p(r,i){const o={};i&1&&(o.descriptionId=r[0]),i&4&&(o.step=r[2]),e.$set(o)},i(r){n||(Dt(e.$$.fragment,r),n=!0)},o(r){kn(e.$$.fragment,r),n=!1},d(r){hu(e,r)}}}function VV(t){let e,n;return e=new bDe({props:{step:t[2]}}),{c(){nf(e.$$.fragment)},m(r,i){fu(e,r,i),n=!0},p(r,i){const o={};i&4&&(o.step=r[2]),e.$set(o)},i(r){n||(Dt(e.$$.fragment,r),n=!0)},o(r){kn(e.$$.fragment,r),n=!1},d(r){hu(e,r)}}}function NDe(t){let e,n=!Tr(t[2].options.title)||t[2].options.cancelIcon&&t[2].options.cancelIcon.enabled,r,i=!Tr(t[2].options.text),o,s=Array.isArray(t[2].options.buttons)&&t[2].options.buttons.length,a,l=n&&FV(t),c=i&&BV(t),u=s&&VV(t);return{c(){e=la("div"),l&&l.c(),r=d1(),c&&c.c(),o=d1(),u&&u.c(),Bt(e,"class","shepherd-content")},m(d,f){bs(d,e,f),l&&l.m(e,null),xp(e,r),c&&c.m(e,null),xp(e,o),u&&u.m(e,null),a=!0},p(d,[f]){f&4&&(n=!Tr(d[2].options.title)||d[2].options.cancelIcon&&d[2].options.cancelIcon.enabled),n?l?(l.p(d,f),f&4&&Dt(l,1)):(l=FV(d),l.c(),Dt(l,1),l.m(e,r)):l&&(yd(),kn(l,1,1,()=>{l=null}),bd()),f&4&&(i=!Tr(d[2].options.text)),i?c?(c.p(d,f),f&4&&Dt(c,1)):(c=BV(d),c.c(),Dt(c,1),c.m(e,o)):c&&(yd(),kn(c,1,1,()=>{c=null}),bd()),f&4&&(s=Array.isArray(d[2].options.buttons)&&d[2].options.buttons.length),s?u?(u.p(d,f),f&4&&Dt(u,1)):(u=VV(d),u.c(),Dt(u,1),u.m(e,null)):u&&(yd(),kn(u,1,1,()=>{u=null}),bd())},i(d){a||(Dt(l),Dt(c),Dt(u),a=!0)},o(d){kn(l),kn(c),kn(u),a=!1},d(d){d&&Ao(e),l&&l.d(),c&&c.d(),u&&u.d()}}}function DDe(t,e,n){let{descriptionId:r,labelId:i,step:o}=e;return t.$$set=s=>{"descriptionId"in s&&n(0,r=s.descriptionId),"labelId"in s&&n(1,i=s.labelId),"step"in s&&n(2,o=s.step)},[r,i,o]}class RDe extends wl{constructor(e){super(),bl(this,e,DDe,NDe,yl,{descriptionId:0,labelId:1,step:2})}}function zV(t){let e;return{c(){e=la("div"),Bt(e,"class","shepherd-arrow"),Bt(e,"data-popper-arrow","")},m(n,r){bs(n,e,r)},d(n){n&&Ao(e)}}}function $De(t){let e,n,r,i,o,s,a,l,c=t[4].options.arrow&&t[4].options.attachTo&&t[4].options.attachTo.element&&t[4].options.attachTo.on&&zV();r=new RDe({props:{descriptionId:t[2],labelId:t[3],step:t[4]}});let u=[{"aria-describedby":i=Tr(t[4].options.text)?null:t[2]},{"aria-labelledby":o=t[4].options.title?t[3]:null},t[1],{open:"true"}],d={};for(let f=0;f<u.length;f+=1)d=eDe(d,u[f]);return{c(){e=la("dialog"),c&&c.c(),n=d1(),nf(r.$$.fragment),MV(e,d),Sf(e,"shepherd-has-cancel-icon",t[5]),Sf(e,"shepherd-has-title",t[6]),Sf(e,"shepherd-element",!0)},m(f,h){bs(f,e,h),c&&c.m(e,null),xp(e,n),fu(r,e,null),t[13](e),s=!0,a||(l=Q_(e,"keydown",t[7]),a=!0)},p(f,[h]){f[4].options.arrow&&f[4].options.attachTo&&f[4].options.attachTo.element&&f[4].options.attachTo.on?c||(c=zV(),c.c(),c.m(e,n)):c&&(c.d(1),c=null);const m={};h&4&&(m.descriptionId=f[2]),h&8&&(m.labelId=f[3]),h&16&&(m.step=f[4]),r.$set(m),MV(e,d=dDe(u,[(!s||h&20&&i!==(i=Tr(f[4].options.text)?null:f[2]))&&{"aria-describedby":i},(!s||h&24&&o!==(o=f[4].options.title?f[3]:null))&&{"aria-labelledby":o},h&2&&f[1],{open:"true"}])),Sf(e,"shepherd-has-cancel-icon",f[5]),Sf(e,"shepherd-has-title",f[6]),Sf(e,"shepherd-element",!0)},i(f){s||(Dt(r.$$.fragment,f),s=!0)},o(f){kn(r.$$.fragment,f),s=!1},d(f){f&&Ao(e),c&&c.d(),hu(r),t[13](null),a=!1,l()}}}const IDe=9,jDe=27,LDe=37,FDe=39;function UV(t){return t.split(" ").filter(e=>!!e.length)}function BDe(t,e,n){let{classPrefix:r,element:i,descriptionId:o,firstFocusableElement:s,focusableElements:a,labelId:l,lastFocusableElement:c,step:u,dataStepId:d}=e,f,h,m;const p=()=>i;sDe(()=>{n(1,d={[`data-${r}shepherd-step-id`]:u.id}),n(9,a=i.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]')),n(8,s=a[0]),n(10,c=a[a.length-1])}),K$(()=>{m!==u.options.classes&&g()});function g(){b(m),m=u.options.classes,y(m)}function b(S){if(fy(S)){const C=UV(S);C.length&&i.classList.remove(...C)}}function y(S){if(fy(S)){const C=UV(S);C.length&&i.classList.add(...C)}}const w=S=>{const{tour:C}=u;switch(S.keyCode){case IDe:if(a.length===0){S.preventDefault();break}S.shiftKey?(document.activeElement===s||document.activeElement.classList.contains("shepherd-element"))&&(S.preventDefault(),c.focus()):document.activeElement===c&&(S.preventDefault(),s.focus());break;case jDe:C.options.exitOnEsc&&(S.preventDefault(),S.stopPropagation(),u.cancel());break;case LDe:C.options.keyboardNavigation&&(S.preventDefault(),S.stopPropagation(),C.back());break;case FDe:C.options.keyboardNavigation&&(S.preventDefault(),S.stopPropagation(),C.next());break}};function _(S){Sp[S?"unshift":"push"](()=>{i=S,n(0,i)})}return t.$$set=S=>{"classPrefix"in S&&n(11,r=S.classPrefix),"element"in S&&n(0,i=S.element),"descriptionId"in S&&n(2,o=S.descriptionId),"firstFocusableElement"in S&&n(8,s=S.firstFocusableElement),"focusableElements"in S&&n(9,a=S.focusableElements),"labelId"in S&&n(3,l=S.labelId),"lastFocusableElement"in S&&n(10,c=S.lastFocusableElement),"step"in S&&n(4,u=S.step),"dataStepId"in S&&n(1,d=S.dataStepId)},t.$$.update=()=>{t.$$.dirty&16&&(n(5,f=u.options&&u.options.cancelIcon&&u.options.cancelIcon.enabled),n(6,h=u.options&&u.options.title))},[i,d,o,l,u,f,h,w,s,a,c,r,p,_]}class VDe extends wl{constructor(e){super(),bl(this,e,BDe,$De,yl,{classPrefix:11,element:0,descriptionId:2,firstFocusableElement:8,focusableElements:9,labelId:3,lastFocusableElement:10,step:4,dataStepId:1,getElement:12})}get getElement(){return this.$$.ctx[12]}}let CA=class extends $${constructor(e,n={}){return super(),this._resolvedAttachTo=void 0,this._resolvedExtraHighlightElements=void 0,this.classPrefix=void 0,this.el=void 0,this.target=void 0,this.tour=void 0,this.tour=e,this.classPrefix=this.tour.options?GX(this.tour.options.classPrefix):"",this.styles=e.styles,this._resolvedAttachTo=null,L$(this),this._setOptions(n),this}cancel(){this.tour.cancel(),this.trigger("cancel")}complete(){this.tour.complete(),this.trigger("complete")}destroy(){KNe(this),vp(this.el)&&(this.el.remove(),this.el=null),this._updateStepTargetOnHide(),this.trigger("destroy")}getTour(){return this.tour}hide(){var e;(e=this.tour.modal)==null||e.hide(),this.trigger("before-hide"),this.el&&(this.el.hidden=!0),this._updateStepTargetOnHide(),this.trigger("hide")}_resolveExtraHiglightElements(){return this._resolvedExtraHighlightElements=iNe(this),this._resolvedExtraHighlightElements}_resolveAttachToOptions(){return this._resolvedAttachTo=rNe(this),this._resolvedAttachTo}_getResolvedAttachToOptions(){return this._resolvedAttachTo===null?this._resolveAttachToOptions():this._resolvedAttachTo}isOpen(){return!!(this.el&&!this.el.hidden)}show(){return Yc(this.options.beforeShowPromise)?Promise.resolve(this.options.beforeShowPromise()).then(()=>this._show()):Promise.resolve(this._show())}updateStepOptions(e){Object.assign(this.options,e),this.shepherdElementComponent&&this.shepherdElementComponent.$set({step:this})}getElement(){return this.el}getTarget(){return this.target}_createTooltipContent(){const e=`${this.id}-description`,n=`${this.id}-label`;return this.shepherdElementComponent=new VDe({target:this.tour.options.stepsContainer||document.body,props:{classPrefix:this.classPrefix,descriptionId:e,labelId:n,step:this,styles:this.styles}}),this.shepherdElementComponent.getElement()}_scrollTo(e){const{element:n}=this._getResolvedAttachToOptions();Yc(this.options.scrollToHandler)?this.options.scrollToHandler(n):IMe(n)&&typeof n.scrollIntoView=="function"&&n.scrollIntoView(e)}_getClassOptions(e){const n=this.tour&&this.tour.options&&this.tour.options.defaultStepOptions,r=e.classes?e.classes:"",i=n&&n.classes?n.classes:"",o=[...r.split(" "),...i.split(" ")],s=new Set(o);return Array.from(s).join(" ").trim()}_setOptions(e={}){let n=this.tour&&this.tour.options&&this.tour.options.defaultStepOptions;n=j$({},n||{}),this.options=Object.assign({arrow:!0},n,e,GNe(n,e));const{when:r}=this.options;this.options.classes=this._getClassOptions(e),this.destroy(),this.id=this.options.id||`step-${YX()}`,r&&Object.keys(r).forEach(i=>{this.on(i,r[i],this)})}_setupElements(){Tr(this.el)||this.destroy(),this.el=this._createTooltipContent(),this.options.advanceOn&&eNe(this),qNe(this)}_show(){var e;this.trigger("before-show"),this._resolveAttachToOptions(),this._resolveExtraHiglightElements(),this._setupElements(),this.tour.modal||this.tour.setupModal(),(e=this.tour.modal)==null||e.setupForStep(this),this._styleTargetElementForStep(this),this.el&&(this.el.hidden=!1),this.options.scrollTo&&setTimeout(()=>{this._scrollTo(this.options.scrollTo)}),this.el&&(this.el.hidden=!1);const n=this.shepherdElementComponent.getElement(),r=this.target||document.body,i=this._resolvedExtraHighlightElements;r.classList.add(`${this.classPrefix}shepherd-enabled`),r.classList.add(`${this.classPrefix}shepherd-target`),n.classList.add("shepherd-enabled"),i==null||i.forEach(o=>{o.classList.add(`${this.classPrefix}shepherd-enabled`),o.classList.add(`${this.classPrefix}shepherd-target`)}),this.trigger("show")}_styleTargetElementForStep(e){const n=e.target,r=e._resolvedExtraHighlightElements;if(!n)return;const i=e.options.highlightClass;i&&(n.classList.add(i),r==null||r.forEach(o=>o.classList.add(i))),n.classList.remove("shepherd-target-click-disabled"),r==null||r.forEach(o=>o.classList.remove("shepherd-target-click-disabled")),e.options.canClickTarget===!1&&(n.classList.add("shepherd-target-click-disabled"),r==null||r.forEach(o=>o.classList.add("shepherd-target-click-disabled")))}_updateStepTargetOnHide(){const e=this.target||document.body,n=this._resolvedExtraHighlightElements,r=this.options.highlightClass;r&&(e.classList.remove(r),n==null||n.forEach(i=>i.classList.remove(r))),e.classList.remove("shepherd-target-click-disabled",`${this.classPrefix}shepherd-enabled`,`${this.classPrefix}shepherd-target`),n==null||n.forEach(i=>{i.classList.remove("shepherd-target-click-disabled",`${this.classPrefix}shepherd-enabled`,`${this.classPrefix}shepherd-target`)})}};function zDe(t){if(t){const{steps:e}=t;e.forEach(n=>{n.options&&n.options.canClickTarget===!1&&n.options.attachTo&&(vp(n.target)&&n.target.classList.remove("shepherd-target-click-disabled"),n._resolvedExtraHighlightElements&&n._resolvedExtraHighlightElements.forEach(r=>{vp(r)&&r.classList.remove("shepherd-target-click-disabled")}))})}}function UDe(t){let e="";const{innerWidth:n,innerHeight:r}=window;return t.forEach(i=>{const{width:o,height:s,x:a=0,y:l=0,r:c=0}=i,{topLeft:u=0,topRight:d=0,bottomRight:f=0,bottomLeft:h=0}=typeof c=="number"?{topLeft:c,topRight:c,bottomRight:c,bottomLeft:c}:c;e+=`M${a+u},${l}      a${u},${u},0,0,0-${u},${u}      V${s+l-h}      a${h},${h},0,0,0,${h},${h}      H${o+a-f}      a${f},${f},0,0,0,${f}-${f}      V${l+d}      a${d},${d},0,0,0-${d}-${d}      Z`}),`M${n},${r}          H0          V0          H${n}          V${r}          Z          ${e}`.replace(/\s/g,"")}function HDe(t){let e,n,r,i,o;return{c(){e=AV("svg"),n=AV("path"),Bt(n,"d",t[2]),Bt(e,"class",r=`${t[1]?"shepherd-modal-is-visible":""} shepherd-modal-overlay-container`)},m(s,a){bs(s,e,a),xp(e,n),t[11](e),i||(o=Q_(e,"touchmove",t[3]),i=!0)},p(s,[a]){a&4&&Bt(n,"d",s[2]),a&2&&r!==(r=`${s[1]?"shepherd-modal-is-visible":""} shepherd-modal-overlay-container`)&&Bt(e,"class",r)},i:Ji,o:Ji,d(s){s&&Ao(e),t[11](null),i=!1,o()}}}function cZ(t){if(!t)return null;const n=t instanceof HTMLElement&&window.getComputedStyle(t).overflowY;return n!=="hidden"&&n!=="visible"&&t.scrollHeight>=t.clientHeight?t:cZ(t.parentElement)}function WDe(t){let e={top:0,left:0};if(!t)return e;let n=t.ownerDocument.defaultView;for(;n!==window.top;){var r;const s=(r=n)==null?void 0:r.frameElement;if(s){var i,o;const a=s.getBoundingClientRect();e.top+=a.top+((i=a.scrollTop)!=null?i:0),e.left+=a.left+((o=a.scrollLeft)!=null?o:0)}n=n.parent}return e}function qDe(t,e){const n=t.getBoundingClientRect();let r=n.y||n.top,i=n.bottom||r+n.height;if(e){const s=e.getBoundingClientRect(),a=s.y||s.top,l=s.bottom||a+s.height;r=Math.max(r,a),i=Math.min(i,l)}const o=Math.max(i-r,0);return{y:r,height:o}}function GDe(t,e,n){let{element:r,openingProperties:i}=e,o=!1,s,a;c();const l=()=>r;function c(){n(4,i=[{width:0,height:0,x:0,y:0,r:0}])}function u(){n(1,o=!1),b()}function d(_=0,S=0,C=0,k=0,E,T,M){if(T){const D=[T,...M||[]];n(4,i=[]);for(const N of D){if(!N||D.indexOf(N)!==D.lastIndexOf(N))continue;const{y:L,height:I}=qDe(N,E),{x:z,width:V,left:j}=N.getBoundingClientRect();D.some($=>{if($===N)return!1;const H=$.getBoundingClientRect();return z>=H.left&&z+V<=H.right&&L>=H.top&&L+I<=H.bottom})||i.push({width:V+_*2,height:I+_*2,x:(z||j)+C-_,y:L+k-_,r:S})}}else c()}function f(_){b(),_.tour.options.useModalOverlay?(y(_),h()):u()}function h(){n(1,o=!0)}const m=_=>{_.preventDefault()},p=_=>{_.stopPropagation()};function g(){window.addEventListener("touchmove",m,{passive:!1})}function b(){s&&(cancelAnimationFrame(s),s=void 0),window.removeEventListener("touchmove",m,{passive:!1})}function y(_){const{modalOverlayOpeningPadding:S,modalOverlayOpeningRadius:C,modalOverlayOpeningXOffset:k=0,modalOverlayOpeningYOffset:E=0}=_.options,T=WDe(_.target),M=cZ(_.target),D=()=>{s=void 0,d(S,C,k+T.left,E+T.top,M,_.target,_._resolvedExtraHighlightElements),s=requestAnimationFrame(D)};D(),g()}function w(_){Sp[_?"unshift":"push"](()=>{r=_,n(0,r)})}return t.$$set=_=>{"element"in _&&n(0,r=_.element),"openingProperties"in _&&n(4,i=_.openingProperties)},t.$$.update=()=>{t.$$.dirty&16&&n(2,a=UDe(i))},[r,o,a,p,i,l,c,u,d,f,h,w]}class KDe extends wl{constructor(e){super(),bl(this,e,GDe,HDe,yl,{element:0,openingProperties:4,getElement:5,closeModalOpening:6,hide:7,positionModal:8,setupForStep:9,show:10})}get getElement(){return this.$$.ctx[5]}get closeModalOpening(){return this.$$.ctx[6]}get hide(){return this.$$.ctx[7]}get positionModal(){return this.$$.ctx[8]}get setupForStep(){return this.$$.ctx[9]}get show(){return this.$$.ctx[10]}}class YDe extends $${constructor(){super(),this.activeTour=void 0,L$(this)}}class XDe extends $${constructor(e={}){super(),this.trackedEvents=["active","cancel","complete","show"],this.classPrefix=void 0,this.currentStep=void 0,this.focusedElBeforeOpen=void 0,this.id=void 0,this.modal=void 0,this.options=void 0,this.steps=void 0,L$(this);const n={exitOnEsc:!0,keyboardNavigation:!0};return this.options=Object.assign({},n,e),this.classPrefix=GX(this.options.classPrefix),this.steps=[],this.addSteps(this.options.steps),["active","cancel","complete","inactive","show","start"].map(i=>{(o=>{this.on(o,s=>{s=s||{},s.tour=this,Ku.trigger(o,s)})})(i)}),this._setTourID(e.id),this}addStep(e,n){let r=e;return r instanceof CA?r.tour=this:r=new CA(this,r),Tr(n)?this.steps.push(r):this.steps.splice(n,0,r),r}addSteps(e){return Array.isArray(e)&&e.forEach(n=>{this.addStep(n)}),this}back(){const e=this.steps.indexOf(this.currentStep);this.show(e-1,!1)}async cancel(){if(this.options.confirmCancel){const e=this.options.confirmCancelMessage||"Are you sure you want to stop the tour?";let n;Yc(this.options.confirmCancel)?n=await this.options.confirmCancel():n=window.confirm(e),n&&this._done("cancel")}else this._done("cancel")}complete(){this._done("complete")}getById(e){return this.steps.find(n=>n.id===e)}getCurrentStep(){return this.currentStep}hide(){const e=this.getCurrentStep();if(e)return e.hide()}isActive(){return Ku.activeTour===this}next(){const e=this.steps.indexOf(this.currentStep);e===this.steps.length-1?this.complete():this.show(e+1,!0)}removeStep(e){const n=this.getCurrentStep();this.steps.some((r,i)=>{if(r.id===e)return r.isOpen()&&r.hide(),r.destroy(),this.steps.splice(i,1),!0}),n&&n.id===e&&(this.currentStep=void 0,this.steps.length?this.show(0):this.cancel())}show(e=0,n=!0){const r=fy(e)?this.getById(e):this.steps[e];r&&(this._updateStateBeforeShow(),Yc(r.options.showOn)&&!r.options.showOn()?this._skipStep(r,n):(this.currentStep=r,this.trigger("show",{step:r,previous:this.currentStep}),r.show()))}async start(){this.trigger("start"),this.focusedElBeforeOpen=document.activeElement,this.currentStep=null,this.setupModal(),this._setupActiveTour(),this.next()}_done(e){const n=this.steps.indexOf(this.currentStep);if(Array.isArray(this.steps)&&this.steps.forEach(r=>r.destroy()),zDe(this),this.trigger(e,{index:n}),Ku.activeTour=null,this.trigger("inactive",{tour:this}),this.modal&&this.modal.hide(),(e==="cancel"||e==="complete")&&this.modal){const r=document.querySelector(".shepherd-modal-overlay-container");r&&(r.remove(),this.modal=null)}vp(this.focusedElBeforeOpen)&&this.focusedElBeforeOpen.focus()}_setupActiveTour(){this.trigger("active",{tour:this}),Ku.activeTour=this}setupModal(){this.modal=new KDe({target:this.options.modalContainer||document.body,props:{styles:this.styles}})}_skipStep(e,n){const r=this.steps.indexOf(e);if(r===this.steps.length-1)this.complete();else{const i=n?r+1:r-1;this.show(i,n)}}_updateStateBeforeShow(){this.currentStep&&this.currentStep.hide(),this.isActive()||this._setupActiveTour()}_setTourID(e){const n=this.options.tourName||"tour",r=e||YX();this.id=`${n}--${r}`}}const Ku=new YDe,uZ=typeof window>"u";Ku.Step=uZ?tNe:CA;Ku.Tour=uZ?nNe:XDe;function ZDe(){const t=new Ku.Tour({defaultStepOptions:{cancelIcon:{enabled:!0},classes:"shadow-md bg-white rounded-lg",scrollTo:{behavior:"smooth",block:"center"}},useModalOverlay:!0});return t.addStep({id:"welcome",text:"Welcome to the Harmony Suite Dashboard! Let me guide you through the key features.",buttons:[{text:"Next",action:t.next}]}),t.addStep({id:"kpis",attachTo:{element:".grid-cols-4",on:"bottom"},text:"Here are your key performance indicators for portfolios, projects, budget, and risks.",buttons:[{text:"Back",action:t.back},{text:"Next",action:t.next}]}),t.addStep({id:"charts",attachTo:{element:'[aria-label="Project status and budget charts"]',on:"top"},text:"Visualize project status and budget allocation with these charts.",buttons:[{text:"Back",action:t.back},{text:"Next",action:t.next}]}),t.addStep({id:"portfolios",attachTo:{element:'[aria-label="Portfolios overview"]',on:"top"},text:"Manage your portfolios here.",buttons:[{text:"Back",action:t.back},{text:"Next",action:t.next}]}),t.addStep({id:"projects",attachTo:{element:'[aria-label="Recent projects overview"]',on:"top"},text:"Access and manage your projects here.",buttons:[{text:"Back",action:t.back},{text:"Next",action:t.next}]}),t.addStep({id:"milestones",attachTo:{element:'[aria-label="Upcoming project milestones"]',on:"top"},text:"Track upcoming milestones across projects.",buttons:[{text:"Back",action:t.back},{text:"Finish",action:t.complete}]}),t}function dZ(){return m9({queryKey:["projects"],queryFn:async()=>{const{data:t,error:e}=await Te.from("projects").select(`
          *,
          risks (*),
          milestones (*),
          stage_gates (*),
          resources (*)
        `);if(e)throw e;return t==null?void 0:t.map(n=>({...n,actualCost:n.actual_cost,portfolioId:n.portfolio_id,startDate:n.start_date,endDate:n.end_date,createdAt:n.created_at,updatedAt:n.updated_at,managerId:n.manager_id,status:n.status,risks:(n.risks||[]).map(r=>({...r,impact:r.impact,status:r.status})),milestones:(n.milestones||[]).map(r=>({...r,dueDate:r.due_date,status:r.status})),stageGates:(n.stage_gates||[]).map(r=>({...r,updatedAt:r.updated_at,stage:r.stage,status:r.status})),resources:(n.resources||[]).map(r=>({...r,userId:r.user_id}))}))}})}function fZ(){return m9({queryKey:["portfolios"],queryFn:async()=>{const{data:t,error:e}=await Te.from("portfolios").select("*");if(e)throw e;return t==null?void 0:t.map(n=>({...n,createdAt:n.created_at,updatedAt:n.updated_at,type:n.type,projectCount:0}))}})}const Ub=({title:t,value:e,icon:n,description:r,trend:i,className:o})=>P(Ve,{className:q("transition-all duration-200 ease-in-out hover:shadow-md hover:scale-[1.02] dark:hover:bg-muted/30",o),children:[P(Xe,{className:"flex flex-row items-center justify-between pb-2 space-y-0",children:[v(wt,{className:"text-sm font-medium",children:t}),v("div",{className:"h-8 w-8 bg-secondary rounded-full flex items-center justify-center",children:n})]}),P(Ze,{children:[v("div",{className:"text-2xl font-bold",children:e}),r&&v("p",{className:"text-xs text-muted-foreground",children:r}),i&&P("div",{className:q("text-xs mt-1 flex items-center font-medium",i.positive?"text-risk-low":"text-risk-high"),children:[i.positive?"+":"-",Math.abs(i.value),"%",v("span",{className:"text-muted-foreground ml-1",children:"from last month"})]})]})]});var JDe=Array.isArray,ki=JDe,QDe=typeof Pn=="object"&&Pn&&Pn.Object===Object&&Pn,hZ=QDe,eRe=hZ,tRe=typeof self=="object"&&self&&self.Object===Object&&self,nRe=eRe||tRe||Function("return this")(),ga=nRe,rRe=ga,iRe=rRe.Symbol,$0=iRe,HV=$0,pZ=Object.prototype,oRe=pZ.hasOwnProperty,sRe=pZ.toString,Ym=HV?HV.toStringTag:void 0;function aRe(t){var e=oRe.call(t,Ym),n=t[Ym];try{t[Ym]=void 0;var r=!0}catch{}var i=sRe.call(t);return r&&(e?t[Ym]=n:delete t[Ym]),i}var lRe=aRe,cRe=Object.prototype,uRe=cRe.toString;function dRe(t){return uRe.call(t)}var fRe=dRe,WV=$0,hRe=lRe,pRe=fRe,mRe="[object Null]",gRe="[object Undefined]",qV=WV?WV.toStringTag:void 0;function vRe(t){return t==null?t===void 0?gRe:mRe:qV&&qV in Object(t)?hRe(t):pRe(t)}var xl=vRe;function yRe(t){return t!=null&&typeof t=="object"}var Sl=yRe,bRe=xl,wRe=Sl,xRe="[object Symbol]";function SRe(t){return typeof t=="symbol"||wRe(t)&&bRe(t)==xRe}var mm=SRe,_Re=ki,CRe=mm,kRe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,PRe=/^\w*$/;function ERe(t,e){if(_Re(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||CRe(t)?!0:PRe.test(t)||!kRe.test(t)||e!=null&&t in Object(e)}var Y$=ERe;function ORe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var pu=ORe;const gm=At(pu);var TRe=xl,ARe=pu,MRe="[object AsyncFunction]",NRe="[object Function]",DRe="[object GeneratorFunction]",RRe="[object Proxy]";function $Re(t){if(!ARe(t))return!1;var e=TRe(t);return e==NRe||e==DRe||e==MRe||e==RRe}var X$=$Re;const ze=At(X$);var IRe=ga,jRe=IRe["__core-js_shared__"],LRe=jRe,KP=LRe,GV=function(){var t=/[^.]+$/.exec(KP&&KP.keys&&KP.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function FRe(t){return!!GV&&GV in t}var BRe=FRe,VRe=Function.prototype,zRe=VRe.toString;function URe(t){if(t!=null){try{return zRe.call(t)}catch{}try{return t+""}catch{}}return""}var mZ=URe,HRe=X$,WRe=BRe,qRe=pu,GRe=mZ,KRe=/[\\^$.*+?()[\]{}|]/g,YRe=/^\[object .+?Constructor\]$/,XRe=Function.prototype,ZRe=Object.prototype,JRe=XRe.toString,QRe=ZRe.hasOwnProperty,e$e=RegExp("^"+JRe.call(QRe).replace(KRe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function t$e(t){if(!qRe(t)||WRe(t))return!1;var e=HRe(t)?e$e:YRe;return e.test(GRe(t))}var n$e=t$e;function r$e(t,e){return t==null?void 0:t[e]}var i$e=r$e,o$e=n$e,s$e=i$e;function a$e(t,e){var n=s$e(t,e);return o$e(n)?n:void 0}var rf=a$e,l$e=rf,c$e=l$e(Object,"create"),eC=c$e,KV=eC;function u$e(){this.__data__=KV?KV(null):{},this.size=0}var d$e=u$e;function f$e(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var h$e=f$e,p$e=eC,m$e="__lodash_hash_undefined__",g$e=Object.prototype,v$e=g$e.hasOwnProperty;function y$e(t){var e=this.__data__;if(p$e){var n=e[t];return n===m$e?void 0:n}return v$e.call(e,t)?e[t]:void 0}var b$e=y$e,w$e=eC,x$e=Object.prototype,S$e=x$e.hasOwnProperty;function _$e(t){var e=this.__data__;return w$e?e[t]!==void 0:S$e.call(e,t)}var C$e=_$e,k$e=eC,P$e="__lodash_hash_undefined__";function E$e(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=k$e&&e===void 0?P$e:e,this}var O$e=E$e,T$e=d$e,A$e=h$e,M$e=b$e,N$e=C$e,D$e=O$e;function vm(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}vm.prototype.clear=T$e;vm.prototype.delete=A$e;vm.prototype.get=M$e;vm.prototype.has=N$e;vm.prototype.set=D$e;var R$e=vm;function $$e(){this.__data__=[],this.size=0}var I$e=$$e;function j$e(t,e){return t===e||t!==t&&e!==e}var Z$=j$e,L$e=Z$;function F$e(t,e){for(var n=t.length;n--;)if(L$e(t[n][0],e))return n;return-1}var tC=F$e,B$e=tC,V$e=Array.prototype,z$e=V$e.splice;function U$e(t){var e=this.__data__,n=B$e(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():z$e.call(e,n,1),--this.size,!0}var H$e=U$e,W$e=tC;function q$e(t){var e=this.__data__,n=W$e(e,t);return n<0?void 0:e[n][1]}var G$e=q$e,K$e=tC;function Y$e(t){return K$e(this.__data__,t)>-1}var X$e=Y$e,Z$e=tC;function J$e(t,e){var n=this.__data__,r=Z$e(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var Q$e=J$e,eIe=I$e,tIe=H$e,nIe=G$e,rIe=X$e,iIe=Q$e;function ym(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ym.prototype.clear=eIe;ym.prototype.delete=tIe;ym.prototype.get=nIe;ym.prototype.has=rIe;ym.prototype.set=iIe;var nC=ym,oIe=rf,sIe=ga,aIe=oIe(sIe,"Map"),J$=aIe,YV=R$e,lIe=nC,cIe=J$;function uIe(){this.size=0,this.__data__={hash:new YV,map:new(cIe||lIe),string:new YV}}var dIe=uIe;function fIe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var hIe=fIe,pIe=hIe;function mIe(t,e){var n=t.__data__;return pIe(e)?n[typeof e=="string"?"string":"hash"]:n.map}var rC=mIe,gIe=rC;function vIe(t){var e=gIe(this,t).delete(t);return this.size-=e?1:0,e}var yIe=vIe,bIe=rC;function wIe(t){return bIe(this,t).get(t)}var xIe=wIe,SIe=rC;function _Ie(t){return SIe(this,t).has(t)}var CIe=_Ie,kIe=rC;function PIe(t,e){var n=kIe(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var EIe=PIe,OIe=dIe,TIe=yIe,AIe=xIe,MIe=CIe,NIe=EIe;function bm(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}bm.prototype.clear=OIe;bm.prototype.delete=TIe;bm.prototype.get=AIe;bm.prototype.has=MIe;bm.prototype.set=NIe;var Q$=bm,gZ=Q$,DIe="Expected a function";function eI(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(DIe);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(eI.Cache||gZ),n}eI.Cache=gZ;var vZ=eI;const RIe=At(vZ);var $Ie=vZ,IIe=500;function jIe(t){var e=$Ie(t,function(r){return n.size===IIe&&n.clear(),r}),n=e.cache;return e}var LIe=jIe,FIe=LIe,BIe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,VIe=/\\(\\)?/g,zIe=FIe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(BIe,function(n,r,i,o){e.push(i?o.replace(VIe,"$1"):r||n)}),e}),UIe=zIe;function HIe(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var tI=HIe,XV=$0,WIe=tI,qIe=ki,GIe=mm,ZV=XV?XV.prototype:void 0,JV=ZV?ZV.toString:void 0;function yZ(t){if(typeof t=="string")return t;if(qIe(t))return WIe(t,yZ)+"";if(GIe(t))return JV?JV.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var KIe=yZ,YIe=KIe;function XIe(t){return t==null?"":YIe(t)}var bZ=XIe,ZIe=ki,JIe=Y$,QIe=UIe,eje=bZ;function tje(t,e){return ZIe(t)?t:JIe(t,e)?[t]:QIe(eje(t))}var wZ=tje,nje=mm;function rje(t){if(typeof t=="string"||nje(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var iC=rje,ije=wZ,oje=iC;function sje(t,e){e=ije(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[oje(e[n++])];return n&&n==r?t:void 0}var nI=sje,aje=nI;function lje(t,e,n){var r=t==null?void 0:aje(t,e);return r===void 0?n:r}var xZ=lje;const Gi=At(xZ);function cje(t){return t==null}var uje=cje;const Je=At(uje);var dje=xl,fje=ki,hje=Sl,pje="[object String]";function mje(t){return typeof t=="string"||!fje(t)&&hje(t)&&dje(t)==pje}var gje=mje;const I0=At(gje);var SZ={exports:{}},It={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rI=Symbol.for("react.element"),iI=Symbol.for("react.portal"),oC=Symbol.for("react.fragment"),sC=Symbol.for("react.strict_mode"),aC=Symbol.for("react.profiler"),lC=Symbol.for("react.provider"),cC=Symbol.for("react.context"),vje=Symbol.for("react.server_context"),uC=Symbol.for("react.forward_ref"),dC=Symbol.for("react.suspense"),fC=Symbol.for("react.suspense_list"),hC=Symbol.for("react.memo"),pC=Symbol.for("react.lazy"),yje=Symbol.for("react.offscreen"),_Z;_Z=Symbol.for("react.module.reference");function Mo(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case rI:switch(t=t.type,t){case oC:case aC:case sC:case dC:case fC:return t;default:switch(t=t&&t.$$typeof,t){case vje:case cC:case uC:case pC:case hC:case lC:return t;default:return e}}case iI:return e}}}It.ContextConsumer=cC;It.ContextProvider=lC;It.Element=rI;It.ForwardRef=uC;It.Fragment=oC;It.Lazy=pC;It.Memo=hC;It.Portal=iI;It.Profiler=aC;It.StrictMode=sC;It.Suspense=dC;It.SuspenseList=fC;It.isAsyncMode=function(){return!1};It.isConcurrentMode=function(){return!1};It.isContextConsumer=function(t){return Mo(t)===cC};It.isContextProvider=function(t){return Mo(t)===lC};It.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===rI};It.isForwardRef=function(t){return Mo(t)===uC};It.isFragment=function(t){return Mo(t)===oC};It.isLazy=function(t){return Mo(t)===pC};It.isMemo=function(t){return Mo(t)===hC};It.isPortal=function(t){return Mo(t)===iI};It.isProfiler=function(t){return Mo(t)===aC};It.isStrictMode=function(t){return Mo(t)===sC};It.isSuspense=function(t){return Mo(t)===dC};It.isSuspenseList=function(t){return Mo(t)===fC};It.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===oC||t===aC||t===sC||t===dC||t===fC||t===yje||typeof t=="object"&&t!==null&&(t.$$typeof===pC||t.$$typeof===hC||t.$$typeof===lC||t.$$typeof===cC||t.$$typeof===uC||t.$$typeof===_Z||t.getModuleId!==void 0)};It.typeOf=Mo;SZ.exports=It;var bje=SZ.exports,wje=xl,xje=Sl,Sje="[object Number]";function _je(t){return typeof t=="number"||xje(t)&&wje(t)==Sje}var CZ=_je;const Cje=At(CZ);var kje=CZ;function Pje(t){return kje(t)&&t!=+t}var Eje=Pje;const j0=At(Eje);var Kr=function(e){return e===0?0:e>0?1:-1},Yu=function(e){return I0(e)&&e.indexOf("%")===e.length-1},ce=function(e){return Cje(e)&&!j0(e)},zn=function(e){return ce(e)||I0(e)},Oje=0,wm=function(e){var n=++Oje;return"".concat(e||"").concat(n)},Yr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ce(e)&&!I0(e))return r;var o;if(Yu(e)){var s=e.indexOf("%");o=n*parseFloat(e.slice(0,s))/100}else o=+e;return j0(o)&&(o=r),i&&o>n&&(o=n),o},Jl=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Tje=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},$i=function(e,n){return ce(e)&&ce(n)?function(r){return e+r*(n-e)}:function(){return n}};function f1(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Gi(r,e))===n})}function Ph(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function kA(t){"@babel/helpers - typeof";return kA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kA(t)}var Aje=["viewBox","children"],Mje=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],QV=["points","pathLength"],YP={svg:Aje,polygon:QV,polyline:QV},oI=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],h1=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(x.isValidElement(e)&&(r=e.props),!gm(r))return null;var i={};return Object.keys(r).forEach(function(o){oI.includes(o)&&(i[o]=n||function(s){return r[o](r,s)})}),i},Nje=function(e,n,r){return function(i){return e(n,r,i),null}},Bd=function(e,n,r){if(!gm(e)||kA(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var s=e[o];oI.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=Nje(s,n,r))}),i},Dje=["children"],Rje=["children"];function e3(t,e){if(t==null)return{};var n=$je(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $je(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function PA(t){"@babel/helpers - typeof";return PA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PA(t)}var t3={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Xa=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},n3=null,XP=null,sI=function t(e){if(e===n3&&Array.isArray(XP))return XP;var n=[];return x.Children.forEach(e,function(r){Je(r)||(bje.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),XP=n,n3=e,n};function Ki(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Xa(i)}):r=[Xa(e)],sI(t).forEach(function(i){var o=Gi(i,"type.displayName")||Gi(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Ni(t,e){var n=Ki(t,e);return n&&n[0]}var r3=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!ce(r)||r<=0||!ce(i)||i<=0)},Ije=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],jje=function(e){return e&&e.type&&I0(e.type)&&Ije.indexOf(e.type)>=0},Lje=function(e){return e&&PA(e)==="object"&&"clipDot"in e},Fje=function(e,n,r,i){var o,s=(o=YP==null?void 0:YP[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!ze(e)&&(i&&s.includes(n)||Mje.includes(n))||r&&oI.includes(n)},Me=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(x.isValidElement(e)&&(i=e.props),!gm(i))return null;var o={};return Object.keys(i).forEach(function(s){var a;Fje((a=i)===null||a===void 0?void 0:a[s],s,n,r)&&(o[s]=i[s])}),o},EA=function t(e,n){if(e===n)return!0;var r=x.Children.count(e);if(r!==x.Children.count(n))return!1;if(r===0)return!0;if(r===1)return i3(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],s=n[i];if(Array.isArray(o)||Array.isArray(s)){if(!t(o,s))return!1}else if(!i3(o,s))return!1}return!0},i3=function(e,n){if(Je(e)&&Je(n))return!0;if(!Je(e)&&!Je(n)){var r=e.props||{},i=r.children,o=e3(r,Dje),s=n.props||{},a=s.children,l=e3(s,Rje);return i&&a?Ph(o,l)&&EA(i,a):!i&&!a?Ph(o,l):!1}return!1},o3=function(e,n){var r=[],i={};return sI(e).forEach(function(o,s){if(jje(o))r.push(o);else if(o){var a=Xa(o.type),l=n[a]||{},c=l.handler,u=l.once;if(c&&(!u||!i[a])){var d=c(o,a,s);r.push(d),i[a]=!0}}}),r},Bje=function(e){var n=e&&e.type;return n&&t3[n]?t3[n]:null},Vje=function(e,n){return sI(n).indexOf(e)},zje=["children","width","height","viewBox","className","style","title","desc"];function OA(){return OA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},OA.apply(this,arguments)}function Uje(t,e){if(t==null)return{};var n=Hje(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Hje(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function TA(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,s=t.style,a=t.title,l=t.desc,c=Uje(t,zje),u=i||{width:n,height:r,x:0,y:0},d=tt("recharts-surface",o);return A.createElement("svg",OA({},Me(c,!0,"svg"),{className:d,width:n,height:r,style:s,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),A.createElement("title",null,a),A.createElement("desc",null,l),e)}var Wje=["children","className"];function AA(){return AA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},AA.apply(this,arguments)}function qje(t,e){if(t==null)return{};var n=Gje(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Gje(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var xt=A.forwardRef(function(t,e){var n=t.children,r=t.className,i=qje(t,Wje),o=tt("recharts-layer",r);return A.createElement("g",AA({className:o},Me(i,!0),{ref:e}),n)}),as=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function Kje(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var Yje=Kje,Xje=Yje;function Zje(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:Xje(t,e,n)}var Jje=Zje,Qje="\\ud800-\\udfff",e2e="\\u0300-\\u036f",t2e="\\ufe20-\\ufe2f",n2e="\\u20d0-\\u20ff",r2e=e2e+t2e+n2e,i2e="\\ufe0e\\ufe0f",o2e="\\u200d",s2e=RegExp("["+o2e+Qje+r2e+i2e+"]");function a2e(t){return s2e.test(t)}var kZ=a2e;function l2e(t){return t.split("")}var c2e=l2e,PZ="\\ud800-\\udfff",u2e="\\u0300-\\u036f",d2e="\\ufe20-\\ufe2f",f2e="\\u20d0-\\u20ff",h2e=u2e+d2e+f2e,p2e="\\ufe0e\\ufe0f",m2e="["+PZ+"]",MA="["+h2e+"]",NA="\\ud83c[\\udffb-\\udfff]",g2e="(?:"+MA+"|"+NA+")",EZ="[^"+PZ+"]",OZ="(?:\\ud83c[\\udde6-\\uddff]){2}",TZ="[\\ud800-\\udbff][\\udc00-\\udfff]",v2e="\\u200d",AZ=g2e+"?",MZ="["+p2e+"]?",y2e="(?:"+v2e+"(?:"+[EZ,OZ,TZ].join("|")+")"+MZ+AZ+")*",b2e=MZ+AZ+y2e,w2e="(?:"+[EZ+MA+"?",MA,OZ,TZ,m2e].join("|")+")",x2e=RegExp(NA+"(?="+NA+")|"+w2e+b2e,"g");function S2e(t){return t.match(x2e)||[]}var _2e=S2e,C2e=c2e,k2e=kZ,P2e=_2e;function E2e(t){return k2e(t)?P2e(t):C2e(t)}var O2e=E2e,T2e=Jje,A2e=kZ,M2e=O2e,N2e=bZ;function D2e(t){return function(e){e=N2e(e);var n=A2e(e)?M2e(e):void 0,r=n?n[0]:e.charAt(0),i=n?T2e(n,1).join(""):e.slice(1);return r[t]()+i}}var R2e=D2e,$2e=R2e,I2e=$2e("toUpperCase"),j2e=I2e;const mC=At(j2e);function Wt(t){return function(){return t}}const NZ=Math.cos,p1=Math.sin,ws=Math.sqrt,m1=Math.PI,gC=2*m1,DA=Math.PI,RA=2*DA,Au=1e-6,L2e=RA-Au;function DZ(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function F2e(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return DZ;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class B2e{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?DZ:F2e(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-e,c=i-n,u=s-e,d=a-n,f=u*u+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(f>Au)if(!(Math.abs(d*l-c*u)>Au)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let h=r-s,m=i-a,p=l*l+c*c,g=h*h+m*m,b=Math.sqrt(p),y=Math.sqrt(f),w=o*Math.tan((DA-Math.acos((p+f-g)/(2*b*y)))/2),_=w/y,S=w/b;Math.abs(_-1)>Au&&this._append`L${e+_*u},${n+_*d}`,this._append`A${o},${o},0,0,${+(d*h>u*m)},${this._x1=e+S*l},${this._y1=n+S*c}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),c=e+a,u=n+l,d=1^s,f=s?i-o:o-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Au||Math.abs(this._y1-u)>Au)&&this._append`L${c},${u}`,r&&(f<0&&(f=f%RA+RA),f>L2e?this._append`A${r},${r},0,1,${d},${e-a},${n-l}A${r},${r},0,1,${d},${this._x1=c},${this._y1=u}`:f>Au&&this._append`A${r},${r},0,${+(f>=DA)},${d},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function aI(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new B2e(e)}function lI(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function RZ(t){this._context=t}RZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function vC(t){return new RZ(t)}function $Z(t){return t[0]}function IZ(t){return t[1]}function jZ(t,e){var n=Wt(!0),r=null,i=vC,o=null,s=aI(a);t=typeof t=="function"?t:t===void 0?$Z:Wt(t),e=typeof e=="function"?e:e===void 0?IZ:Wt(e);function a(l){var c,u=(l=lI(l)).length,d,f=!1,h;for(r==null&&(o=i(h=s())),c=0;c<=u;++c)!(c<u&&n(d=l[c],c,l))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+t(d,c,l),+e(d,c,l));if(h)return o=null,h+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:Wt(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:Wt(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Wt(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}function Hb(t,e,n){var r=null,i=Wt(!0),o=null,s=vC,a=null,l=aI(c);t=typeof t=="function"?t:t===void 0?$Z:Wt(+t),e=typeof e=="function"?e:Wt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?IZ:Wt(+n);function c(d){var f,h,m,p=(d=lI(d)).length,g,b=!1,y,w=new Array(p),_=new Array(p);for(o==null&&(a=s(y=l())),f=0;f<=p;++f){if(!(f<p&&i(g=d[f],f,d))===b)if(b=!b)h=f,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),m=f-1;m>=h;--m)a.point(w[m],_[m]);a.lineEnd(),a.areaEnd()}b&&(w[f]=+t(g,f,d),_[f]=+e(g,f,d),a.point(r?+r(g,f,d):w[f],n?+n(g,f,d):_[f]))}if(y)return a=null,y+""||null}function u(){return jZ().defined(i).curve(s).context(o)}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:Wt(+d),r=null,c):t},c.x0=function(d){return arguments.length?(t=typeof d=="function"?d:Wt(+d),c):t},c.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Wt(+d),c):r},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:Wt(+d),n=null,c):e},c.y0=function(d){return arguments.length?(e=typeof d=="function"?d:Wt(+d),c):e},c.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Wt(+d),c):n},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(n)},c.lineX1=function(){return u().x(r).y(e)},c.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Wt(!!d),c):i},c.curve=function(d){return arguments.length?(s=d,o!=null&&(a=s(o)),c):s},c.context=function(d){return arguments.length?(d==null?o=a=null:a=s(o=d),c):o},c}class LZ{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function V2e(t){return new LZ(t,!0)}function z2e(t){return new LZ(t,!1)}const cI={draw(t,e){const n=ws(e/m1);t.moveTo(n,0),t.arc(0,0,n,0,gC)}},U2e={draw(t,e){const n=ws(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},FZ=ws(1/3),H2e=FZ*2,W2e={draw(t,e){const n=ws(e/H2e),r=n*FZ;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},q2e={draw(t,e){const n=ws(e),r=-n/2;t.rect(r,r,n,n)}},G2e=.8908130915292852,BZ=p1(m1/10)/p1(7*m1/10),K2e=p1(gC/10)*BZ,Y2e=-NZ(gC/10)*BZ,X2e={draw(t,e){const n=ws(e*G2e),r=K2e*n,i=Y2e*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const s=gC*o/5,a=NZ(s),l=p1(s);t.lineTo(l*n,-a*n),t.lineTo(a*r-l*i,l*r+a*i)}t.closePath()}},ZP=ws(3),Z2e={draw(t,e){const n=-ws(e/(ZP*3));t.moveTo(0,n*2),t.lineTo(-ZP*n,-n),t.lineTo(ZP*n,-n),t.closePath()}},io=-.5,oo=ws(3)/2,$A=1/ws(12),J2e=($A/2+1)*3,Q2e={draw(t,e){const n=ws(e/J2e),r=n/2,i=n*$A,o=r,s=n*$A+n,a=-o,l=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(a,l),t.lineTo(io*r-oo*i,oo*r+io*i),t.lineTo(io*o-oo*s,oo*o+io*s),t.lineTo(io*a-oo*l,oo*a+io*l),t.lineTo(io*r+oo*i,io*i-oo*r),t.lineTo(io*o+oo*s,io*s-oo*o),t.lineTo(io*a+oo*l,io*l-oo*a),t.closePath()}};function eLe(t,e){let n=null,r=aI(i);t=typeof t=="function"?t:Wt(t||cI),e=typeof e=="function"?e:Wt(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Wt(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Wt(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function g1(){}function v1(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function VZ(t){this._context=t}VZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:v1(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:v1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function tLe(t){return new VZ(t)}function zZ(t){this._context=t}zZ.prototype={areaStart:g1,areaEnd:g1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:v1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function nLe(t){return new zZ(t)}function UZ(t){this._context=t}UZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:v1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function rLe(t){return new UZ(t)}function HZ(t){this._context=t}HZ.prototype={areaStart:g1,areaEnd:g1,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function iLe(t){return new HZ(t)}function s3(t){return t<0?-1:1}function a3(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(s3(o)+s3(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function l3(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function JP(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*e,o-a,s-a*n,o,s)}function y1(t){this._context=t}y1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:JP(this,this._t0,l3(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,JP(this,l3(this,n=a3(this,t,e)),n);break;default:JP(this,this._t0,n=a3(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function WZ(t){this._context=new qZ(t)}(WZ.prototype=Object.create(y1.prototype)).point=function(t,e){y1.prototype.point.call(this,e,t)};function qZ(t){this._context=t}qZ.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function oLe(t){return new y1(t)}function sLe(t){return new WZ(t)}function GZ(t){this._context=t}GZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=c3(t),i=c3(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function c3(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function aLe(t){return new GZ(t)}function yC(t,e){this._context=t,this._t=e}yC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function lLe(t){return new yC(t,.5)}function cLe(t){return new yC(t,0)}function uLe(t){return new yC(t,1)}function _p(t,e){if((s=t.length)>1)for(var n=1,r,i,o=t[e[0]],s,a=o.length;n<s;++n)for(i=o,o=t[e[n]],r=0;r<a;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function IA(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function dLe(t,e){return t[e]}function fLe(t){const e=[];return e.key=t,e}function hLe(){var t=Wt([]),e=IA,n=_p,r=dLe;function i(o){var s=Array.from(t.apply(this,arguments),fLe),a,l=s.length,c=-1,u;for(const d of o)for(a=0,++c;a<l;++a)(s[a][c]=[0,+r(d,s[a].key,c,o)]).data=d;for(a=0,u=lI(e(s));a<l;++a)s[u[a]].index=a;return n(s,u),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Wt(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Wt(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?IA:typeof o=="function"?o:Wt(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??_p,i):n},i}function pLe(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}_p(t,e)}}function mLe(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var s=0,a=0;s<i;++s)a+=t[s][n][1]||0;r[n][1]+=r[n][0]=-a/2}_p(t,e)}}function gLe(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var a=0,l=0,c=0;a<s;++a){for(var u=t[e[a]],d=u[r][1]||0,f=u[r-1][1]||0,h=(d-f)/2,m=0;m<a;++m){var p=t[e[m]],g=p[r][1]||0,b=p[r-1][1]||0;h+=g-b}l+=d,c+=h*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,_p(t,e)}}function my(t){"@babel/helpers - typeof";return my=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},my(t)}var vLe=["type","size","sizeType"];function jA(){return jA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jA.apply(this,arguments)}function u3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function d3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u3(Object(n),!0).forEach(function(r){yLe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yLe(t,e,n){return e=bLe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bLe(t){var e=wLe(t,"string");return my(e)=="symbol"?e:e+""}function wLe(t,e){if(my(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(my(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xLe(t,e){if(t==null)return{};var n=SLe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function SLe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var KZ={symbolCircle:cI,symbolCross:U2e,symbolDiamond:W2e,symbolSquare:q2e,symbolStar:X2e,symbolTriangle:Z2e,symbolWye:Q2e},_Le=Math.PI/180,CLe=function(e){var n="symbol".concat(mC(e));return KZ[n]||cI},kLe=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*_Le;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},PLe=function(e,n){KZ["symbol".concat(mC(e))]=n},uI=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,s=e.sizeType,a=s===void 0?"area":s,l=xLe(e,vLe),c=d3(d3({},l),{},{type:r,size:o,sizeType:a}),u=function(){var g=CLe(r),b=eLe().type(g).size(kLe(o,a,r));return b()},d=c.className,f=c.cx,h=c.cy,m=Me(c,!0);return f===+f&&h===+h&&o===+o?A.createElement("path",jA({},m,{className:tt("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(h,")"),d:u()})):null};uI.registerSymbol=PLe;function Cp(t){"@babel/helpers - typeof";return Cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cp(t)}function LA(){return LA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},LA.apply(this,arguments)}function f3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ELe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f3(Object(n),!0).forEach(function(r){gy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TLe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,XZ(r.key),r)}}function ALe(t,e,n){return e&&TLe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function MLe(t,e,n){return e=b1(e),NLe(t,YZ()?Reflect.construct(e,n||[],b1(t).constructor):e.apply(t,n))}function NLe(t,e){if(e&&(Cp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DLe(t)}function DLe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YZ=function(){return!!t})()}function b1(t){return b1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},b1(t)}function RLe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&FA(t,e)}function FA(t,e){return FA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},FA(t,e)}function gy(t,e,n){return e=XZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XZ(t){var e=$Le(t,"string");return Cp(e)=="symbol"?e:e+""}function $Le(t,e){if(Cp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Lo=32,dI=function(t){function e(){return OLe(this,e),MLe(this,e,arguments)}return RLe(e,t),ALe(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=Lo/2,s=Lo/6,a=Lo/3,l=r.inactive?i:r.color;if(r.type==="plainline")return A.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:Lo,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return A.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(o,`
            H`).concat(Lo,"M").concat(2*a,",").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return A.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Lo/8,"h").concat(Lo,"v").concat(Lo*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(A.isValidElement(r.legendIcon)){var c=ELe({},r);return delete c.legendIcon,A.cloneElement(r.legendIcon,c)}return A.createElement(uI,{fill:l,cx:o,cy:o,size:Lo,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,s=i.iconSize,a=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:Lo,height:Lo},d={display:a==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(h,m){var p=h.formatter||l,g=tt(gy(gy({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",h.inactive));if(h.type==="none")return null;var b=ze(h.value)?null:h.value;as(!ze(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=h.inactive?c:h.color;return A.createElement("li",LA({className:g,style:d,key:"legend-item-".concat(m)},Bd(r.props,h,m)),A.createElement(TA,{width:s,height:s,viewBox:u,style:f},r.renderIcon(h)),A.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},p?p(b,h,m):b))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,s=r.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:o==="horizontal"?s:"left"};return A.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])}(x.PureComponent);gy(dI,"displayName","Legend");gy(dI,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var ILe=nC;function jLe(){this.__data__=new ILe,this.size=0}var LLe=jLe;function FLe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var BLe=FLe;function VLe(t){return this.__data__.get(t)}var zLe=VLe;function ULe(t){return this.__data__.has(t)}var HLe=ULe,WLe=nC,qLe=J$,GLe=Q$,KLe=200;function YLe(t,e){var n=this.__data__;if(n instanceof WLe){var r=n.__data__;if(!qLe||r.length<KLe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new GLe(r)}return n.set(t,e),this.size=n.size,this}var XLe=YLe,ZLe=nC,JLe=LLe,QLe=BLe,eFe=zLe,tFe=HLe,nFe=XLe;function xm(t){var e=this.__data__=new ZLe(t);this.size=e.size}xm.prototype.clear=JLe;xm.prototype.delete=QLe;xm.prototype.get=eFe;xm.prototype.has=tFe;xm.prototype.set=nFe;var ZZ=xm,rFe="__lodash_hash_undefined__";function iFe(t){return this.__data__.set(t,rFe),this}var oFe=iFe;function sFe(t){return this.__data__.has(t)}var aFe=sFe,lFe=Q$,cFe=oFe,uFe=aFe;function w1(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new lFe;++e<n;)this.add(t[e])}w1.prototype.add=w1.prototype.push=cFe;w1.prototype.has=uFe;var JZ=w1;function dFe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var QZ=dFe;function fFe(t,e){return t.has(e)}var eJ=fFe,hFe=JZ,pFe=QZ,mFe=eJ,gFe=1,vFe=2;function yFe(t,e,n,r,i,o){var s=n&gFe,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(t),u=o.get(e);if(c&&u)return c==e&&u==t;var d=-1,f=!0,h=n&vFe?new hFe:void 0;for(o.set(t,e),o.set(e,t);++d<a;){var m=t[d],p=e[d];if(r)var g=s?r(p,m,d,e,t,o):r(m,p,d,t,e,o);if(g!==void 0){if(g)continue;f=!1;break}if(h){if(!pFe(e,function(b,y){if(!mFe(h,y)&&(m===b||i(m,b,n,r,o)))return h.push(y)})){f=!1;break}}else if(!(m===p||i(m,p,n,r,o))){f=!1;break}}return o.delete(t),o.delete(e),f}var tJ=yFe,bFe=ga,wFe=bFe.Uint8Array,xFe=wFe;function SFe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var _Fe=SFe;function CFe(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var fI=CFe,h3=$0,p3=xFe,kFe=Z$,PFe=tJ,EFe=_Fe,OFe=fI,TFe=1,AFe=2,MFe="[object Boolean]",NFe="[object Date]",DFe="[object Error]",RFe="[object Map]",$Fe="[object Number]",IFe="[object RegExp]",jFe="[object Set]",LFe="[object String]",FFe="[object Symbol]",BFe="[object ArrayBuffer]",VFe="[object DataView]",m3=h3?h3.prototype:void 0,QP=m3?m3.valueOf:void 0;function zFe(t,e,n,r,i,o,s){switch(n){case VFe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case BFe:return!(t.byteLength!=e.byteLength||!o(new p3(t),new p3(e)));case MFe:case NFe:case $Fe:return kFe(+t,+e);case DFe:return t.name==e.name&&t.message==e.message;case IFe:case LFe:return t==e+"";case RFe:var a=EFe;case jFe:var l=r&TFe;if(a||(a=OFe),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;r|=AFe,s.set(t,e);var u=PFe(a(t),a(e),r,i,o,s);return s.delete(t),u;case FFe:if(QP)return QP.call(t)==QP.call(e)}return!1}var UFe=zFe;function HFe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var nJ=HFe,WFe=nJ,qFe=ki;function GFe(t,e,n){var r=e(t);return qFe(t)?r:WFe(r,n(t))}var KFe=GFe;function YFe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var XFe=YFe;function ZFe(){return[]}var JFe=ZFe,QFe=XFe,eBe=JFe,tBe=Object.prototype,nBe=tBe.propertyIsEnumerable,g3=Object.getOwnPropertySymbols,rBe=g3?function(t){return t==null?[]:(t=Object(t),QFe(g3(t),function(e){return nBe.call(t,e)}))}:eBe,iBe=rBe;function oBe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var sBe=oBe,aBe=xl,lBe=Sl,cBe="[object Arguments]";function uBe(t){return lBe(t)&&aBe(t)==cBe}var dBe=uBe,v3=dBe,fBe=Sl,rJ=Object.prototype,hBe=rJ.hasOwnProperty,pBe=rJ.propertyIsEnumerable,mBe=v3(function(){return arguments}())?v3:function(t){return fBe(t)&&hBe.call(t,"callee")&&!pBe.call(t,"callee")},hI=mBe,x1={exports:{}};function gBe(){return!1}var vBe=gBe;x1.exports;(function(t,e){var n=ga,r=vBe,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||r;t.exports=c})(x1,x1.exports);var iJ=x1.exports,yBe=9007199254740991,bBe=/^(?:0|[1-9]\d*)$/;function wBe(t,e){var n=typeof t;return e=e??yBe,!!e&&(n=="number"||n!="symbol"&&bBe.test(t))&&t>-1&&t%1==0&&t<e}var pI=wBe,xBe=9007199254740991;function SBe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=xBe}var mI=SBe,_Be=xl,CBe=mI,kBe=Sl,PBe="[object Arguments]",EBe="[object Array]",OBe="[object Boolean]",TBe="[object Date]",ABe="[object Error]",MBe="[object Function]",NBe="[object Map]",DBe="[object Number]",RBe="[object Object]",$Be="[object RegExp]",IBe="[object Set]",jBe="[object String]",LBe="[object WeakMap]",FBe="[object ArrayBuffer]",BBe="[object DataView]",VBe="[object Float32Array]",zBe="[object Float64Array]",UBe="[object Int8Array]",HBe="[object Int16Array]",WBe="[object Int32Array]",qBe="[object Uint8Array]",GBe="[object Uint8ClampedArray]",KBe="[object Uint16Array]",YBe="[object Uint32Array]",tn={};tn[VBe]=tn[zBe]=tn[UBe]=tn[HBe]=tn[WBe]=tn[qBe]=tn[GBe]=tn[KBe]=tn[YBe]=!0;tn[PBe]=tn[EBe]=tn[FBe]=tn[OBe]=tn[BBe]=tn[TBe]=tn[ABe]=tn[MBe]=tn[NBe]=tn[DBe]=tn[RBe]=tn[$Be]=tn[IBe]=tn[jBe]=tn[LBe]=!1;function XBe(t){return kBe(t)&&CBe(t.length)&&!!tn[_Be(t)]}var ZBe=XBe;function JBe(t){return function(e){return t(e)}}var oJ=JBe,S1={exports:{}};S1.exports;(function(t,e){var n=hZ,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(S1,S1.exports);var QBe=S1.exports,e4e=ZBe,t4e=oJ,y3=QBe,b3=y3&&y3.isTypedArray,n4e=b3?t4e(b3):e4e,sJ=n4e,r4e=sBe,i4e=hI,o4e=ki,s4e=iJ,a4e=pI,l4e=sJ,c4e=Object.prototype,u4e=c4e.hasOwnProperty;function d4e(t,e){var n=o4e(t),r=!n&&i4e(t),i=!n&&!r&&s4e(t),o=!n&&!r&&!i&&l4e(t),s=n||r||i||o,a=s?r4e(t.length,String):[],l=a.length;for(var c in t)(e||u4e.call(t,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||a4e(c,l)))&&a.push(c);return a}var f4e=d4e,h4e=Object.prototype;function p4e(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||h4e;return t===n}var m4e=p4e;function g4e(t,e){return function(n){return t(e(n))}}var aJ=g4e,v4e=aJ,y4e=v4e(Object.keys,Object),b4e=y4e,w4e=m4e,x4e=b4e,S4e=Object.prototype,_4e=S4e.hasOwnProperty;function C4e(t){if(!w4e(t))return x4e(t);var e=[];for(var n in Object(t))_4e.call(t,n)&&n!="constructor"&&e.push(n);return e}var k4e=C4e,P4e=X$,E4e=mI;function O4e(t){return t!=null&&E4e(t.length)&&!P4e(t)}var L0=O4e,T4e=f4e,A4e=k4e,M4e=L0;function N4e(t){return M4e(t)?T4e(t):A4e(t)}var bC=N4e,D4e=KFe,R4e=iBe,$4e=bC;function I4e(t){return D4e(t,$4e,R4e)}var j4e=I4e,w3=j4e,L4e=1,F4e=Object.prototype,B4e=F4e.hasOwnProperty;function V4e(t,e,n,r,i,o){var s=n&L4e,a=w3(t),l=a.length,c=w3(e),u=c.length;if(l!=u&&!s)return!1;for(var d=l;d--;){var f=a[d];if(!(s?f in e:B4e.call(e,f)))return!1}var h=o.get(t),m=o.get(e);if(h&&m)return h==e&&m==t;var p=!0;o.set(t,e),o.set(e,t);for(var g=s;++d<l;){f=a[d];var b=t[f],y=e[f];if(r)var w=s?r(y,b,f,e,t,o):r(b,y,f,t,e,o);if(!(w===void 0?b===y||i(b,y,n,r,o):w)){p=!1;break}g||(g=f=="constructor")}if(p&&!g){var _=t.constructor,S=e.constructor;_!=S&&"constructor"in t&&"constructor"in e&&!(typeof _=="function"&&_ instanceof _&&typeof S=="function"&&S instanceof S)&&(p=!1)}return o.delete(t),o.delete(e),p}var z4e=V4e,U4e=rf,H4e=ga,W4e=U4e(H4e,"DataView"),q4e=W4e,G4e=rf,K4e=ga,Y4e=G4e(K4e,"Promise"),X4e=Y4e,Z4e=rf,J4e=ga,Q4e=Z4e(J4e,"Set"),lJ=Q4e,eVe=rf,tVe=ga,nVe=eVe(tVe,"WeakMap"),rVe=nVe,BA=q4e,VA=J$,zA=X4e,UA=lJ,HA=rVe,cJ=xl,Sm=mZ,x3="[object Map]",iVe="[object Object]",S3="[object Promise]",_3="[object Set]",C3="[object WeakMap]",k3="[object DataView]",oVe=Sm(BA),sVe=Sm(VA),aVe=Sm(zA),lVe=Sm(UA),cVe=Sm(HA),Mu=cJ;(BA&&Mu(new BA(new ArrayBuffer(1)))!=k3||VA&&Mu(new VA)!=x3||zA&&Mu(zA.resolve())!=S3||UA&&Mu(new UA)!=_3||HA&&Mu(new HA)!=C3)&&(Mu=function(t){var e=cJ(t),n=e==iVe?t.constructor:void 0,r=n?Sm(n):"";if(r)switch(r){case oVe:return k3;case sVe:return x3;case aVe:return S3;case lVe:return _3;case cVe:return C3}return e});var uVe=Mu,eE=ZZ,dVe=tJ,fVe=UFe,hVe=z4e,P3=uVe,E3=ki,O3=iJ,pVe=sJ,mVe=1,T3="[object Arguments]",A3="[object Array]",Wb="[object Object]",gVe=Object.prototype,M3=gVe.hasOwnProperty;function vVe(t,e,n,r,i,o){var s=E3(t),a=E3(e),l=s?A3:P3(t),c=a?A3:P3(e);l=l==T3?Wb:l,c=c==T3?Wb:c;var u=l==Wb,d=c==Wb,f=l==c;if(f&&O3(t)){if(!O3(e))return!1;s=!0,u=!1}if(f&&!u)return o||(o=new eE),s||pVe(t)?dVe(t,e,n,r,i,o):fVe(t,e,l,n,r,i,o);if(!(n&mVe)){var h=u&&M3.call(t,"__wrapped__"),m=d&&M3.call(e,"__wrapped__");if(h||m){var p=h?t.value():t,g=m?e.value():e;return o||(o=new eE),i(p,g,n,r,o)}}return f?(o||(o=new eE),hVe(t,e,n,r,i,o)):!1}var yVe=vVe,bVe=yVe,N3=Sl;function uJ(t,e,n,r,i){return t===e?!0:t==null||e==null||!N3(t)&&!N3(e)?t!==t&&e!==e:bVe(t,e,n,r,uJ,i)}var gI=uJ,wVe=ZZ,xVe=gI,SVe=1,_Ve=2;function CVe(t,e,n,r){var i=n.length,o=i,s=!r;if(t==null)return!o;for(t=Object(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=n[i];var l=a[0],c=t[l],u=a[1];if(s&&a[2]){if(c===void 0&&!(l in t))return!1}else{var d=new wVe;if(r)var f=r(c,u,l,t,e,d);if(!(f===void 0?xVe(u,c,SVe|_Ve,r,d):f))return!1}}return!0}var kVe=CVe,PVe=pu;function EVe(t){return t===t&&!PVe(t)}var dJ=EVe,OVe=dJ,TVe=bC;function AVe(t){for(var e=TVe(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,OVe(i)]}return e}var MVe=AVe;function NVe(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var fJ=NVe,DVe=kVe,RVe=MVe,$Ve=fJ;function IVe(t){var e=RVe(t);return e.length==1&&e[0][2]?$Ve(e[0][0],e[0][1]):function(n){return n===t||DVe(n,t,e)}}var jVe=IVe;function LVe(t,e){return t!=null&&e in Object(t)}var FVe=LVe,BVe=wZ,VVe=hI,zVe=ki,UVe=pI,HVe=mI,WVe=iC;function qVe(t,e,n){e=BVe(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=WVe(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&HVe(i)&&UVe(s,i)&&(zVe(t)||VVe(t)))}var GVe=qVe,KVe=FVe,YVe=GVe;function XVe(t,e){return t!=null&&YVe(t,e,KVe)}var ZVe=XVe,JVe=gI,QVe=xZ,e3e=ZVe,t3e=Y$,n3e=dJ,r3e=fJ,i3e=iC,o3e=1,s3e=2;function a3e(t,e){return t3e(t)&&n3e(e)?r3e(i3e(t),e):function(n){var r=QVe(n,t);return r===void 0&&r===e?e3e(n,t):JVe(e,r,o3e|s3e)}}var l3e=a3e;function c3e(t){return t}var _m=c3e;function u3e(t){return function(e){return e==null?void 0:e[t]}}var d3e=u3e,f3e=nI;function h3e(t){return function(e){return f3e(e,t)}}var p3e=h3e,m3e=d3e,g3e=p3e,v3e=Y$,y3e=iC;function b3e(t){return v3e(t)?m3e(y3e(t)):g3e(t)}var w3e=b3e,x3e=jVe,S3e=l3e,_3e=_m,C3e=ki,k3e=w3e;function P3e(t){return typeof t=="function"?t:t==null?_3e:typeof t=="object"?C3e(t)?S3e(t[0],t[1]):x3e(t):k3e(t)}var va=P3e;function E3e(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var hJ=E3e;function O3e(t){return t!==t}var T3e=O3e;function A3e(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var M3e=A3e,N3e=hJ,D3e=T3e,R3e=M3e;function $3e(t,e,n){return e===e?R3e(t,e,n):N3e(t,D3e,n)}var I3e=$3e,j3e=I3e;function L3e(t,e){var n=t==null?0:t.length;return!!n&&j3e(t,e,0)>-1}var F3e=L3e;function B3e(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var V3e=B3e;function z3e(){}var U3e=z3e,tE=lJ,H3e=U3e,W3e=fI,q3e=1/0,G3e=tE&&1/W3e(new tE([,-0]))[1]==q3e?function(t){return new tE(t)}:H3e,K3e=G3e,Y3e=JZ,X3e=F3e,Z3e=V3e,J3e=eJ,Q3e=K3e,e5e=fI,t5e=200;function n5e(t,e,n){var r=-1,i=X3e,o=t.length,s=!0,a=[],l=a;if(n)s=!1,i=Z3e;else if(o>=t5e){var c=e?null:Q3e(t);if(c)return e5e(c);s=!1,i=J3e,l=new Y3e}else l=e?[]:a;e:for(;++r<o;){var u=t[r],d=e?e(u):u;if(u=n||u!==0?u:0,s&&d===d){for(var f=l.length;f--;)if(l[f]===d)continue e;e&&l.push(d),a.push(u)}else i(l,d,n)||(l!==a&&l.push(d),a.push(u))}return a}var r5e=n5e,i5e=va,o5e=r5e;function s5e(t,e){return t&&t.length?o5e(t,i5e(e)):[]}var a5e=s5e;const D3=At(a5e);function pJ(t,e,n){return e===!0?D3(t,n):ze(e)?D3(t,e):t}function kp(t){"@babel/helpers - typeof";return kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kp(t)}var l5e=["ref"];function R3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _a(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R3(Object(n),!0).forEach(function(r){wC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function c5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gJ(r.key),r)}}function u5e(t,e,n){return e&&$3(t.prototype,e),n&&$3(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function d5e(t,e,n){return e=_1(e),f5e(t,mJ()?Reflect.construct(e,n||[],_1(t).constructor):e.apply(t,n))}function f5e(t,e){if(e&&(kp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h5e(t)}function h5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mJ=function(){return!!t})()}function _1(t){return _1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_1(t)}function p5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WA(t,e)}function WA(t,e){return WA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},WA(t,e)}function wC(t,e,n){return e=gJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gJ(t){var e=m5e(t,"string");return kp(e)=="symbol"?e:e+""}function m5e(t,e){if(kp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function g5e(t,e){if(t==null)return{};var n=v5e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function v5e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function y5e(t){return t.value}function b5e(t,e){if(A.isValidElement(t))return A.cloneElement(t,e);if(typeof t=="function")return A.createElement(t,e);e.ref;var n=g5e(e,l5e);return A.createElement(dI,n)}var I3=1,Er=function(t){function e(){var n;c5e(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=d5e(this,e,[].concat(i)),wC(n,"lastBoundingBox",{width:-1,height:-1}),n}return p5e(e,t),u5e(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>I3||Math.abs(i.height-this.lastBoundingBox.height)>I3)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?_a({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,s=i.align,a=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,d,f;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&o==="vertical"){var h=this.getBBoxSnapshot();d={left:((c||0)-h.width)/2}}else d=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(a==="middle"){var m=this.getBBoxSnapshot();f={top:((u||0)-m.height)/2}}else f=a==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return _a(_a({},d),f)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,s=i.width,a=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,d=_a(_a({position:"absolute",width:s||"auto",height:a||"auto"},this.getDefaultPosition(l)),l);return A.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(h){r.wrapperNode=h}},b5e(o,_a(_a({},this.props),{},{payload:pJ(u,c,y5e)})))}}],[{key:"getWithHeight",value:function(r,i){var o=_a(_a({},this.defaultProps),r.props),s=o.layout;return s==="vertical"&&ce(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}(x.PureComponent);wC(Er,"displayName","Legend");wC(Er,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var j3=$0,w5e=hI,x5e=ki,L3=j3?j3.isConcatSpreadable:void 0;function S5e(t){return x5e(t)||w5e(t)||!!(L3&&t&&t[L3])}var _5e=S5e,C5e=nJ,k5e=_5e;function vJ(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=k5e),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?vJ(a,e-1,n,r,i):C5e(i,a):r||(i[i.length]=a)}return i}var yJ=vJ;function P5e(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[t?a:++i];if(n(o[l],l,o)===!1)break}return e}}var E5e=P5e,O5e=E5e,T5e=O5e(),A5e=T5e,M5e=A5e,N5e=bC;function D5e(t,e){return t&&M5e(t,e,N5e)}var bJ=D5e,R5e=L0;function $5e(t,e){return function(n,r){if(n==null)return n;if(!R5e(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Object(n);(e?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var I5e=$5e,j5e=bJ,L5e=I5e,F5e=L5e(j5e),vI=F5e,B5e=vI,V5e=L0;function z5e(t,e){var n=-1,r=V5e(t)?Array(t.length):[];return B5e(t,function(i,o,s){r[++n]=e(i,o,s)}),r}var wJ=z5e;function U5e(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var H5e=U5e,F3=mm;function W5e(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=F3(t),s=e!==void 0,a=e===null,l=e===e,c=F3(e);if(!a&&!c&&!o&&t>e||o&&s&&l&&!a&&!c||r&&s&&l||!n&&l||!i)return 1;if(!r&&!o&&!c&&t<e||c&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!l)return-1}return 0}var q5e=W5e,G5e=q5e;function K5e(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;++r<s;){var l=G5e(i[r],o[r]);if(l){if(r>=a)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}var Y5e=K5e,nE=tI,X5e=nI,Z5e=va,J5e=wJ,Q5e=H5e,eze=oJ,tze=Y5e,nze=_m,rze=ki;function ize(t,e,n){e.length?e=nE(e,function(o){return rze(o)?function(s){return X5e(s,o.length===1?o[0]:o)}:o}):e=[nze];var r=-1;e=nE(e,eze(Z5e));var i=J5e(t,function(o,s,a){var l=nE(e,function(c){return c(o)});return{criteria:l,index:++r,value:o}});return Q5e(i,function(o,s){return tze(o,s,n)})}var oze=ize;function sze(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var aze=sze,lze=aze,B3=Math.max;function cze(t,e,n){return e=B3(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=B3(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),lze(t,this,a)}}var uze=cze;function dze(t){return function(){return t}}var fze=dze,hze=rf,pze=function(){try{var t=hze(Object,"defineProperty");return t({},"",{}),t}catch{}}(),xJ=pze,mze=fze,V3=xJ,gze=_m,vze=V3?function(t,e){return V3(t,"toString",{configurable:!0,enumerable:!1,value:mze(e),writable:!0})}:gze,yze=vze,bze=800,wze=16,xze=Date.now;function Sze(t){var e=0,n=0;return function(){var r=xze(),i=wze-(r-n);if(n=r,i>0){if(++e>=bze)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var _ze=Sze,Cze=yze,kze=_ze,Pze=kze(Cze),Eze=Pze,Oze=_m,Tze=uze,Aze=Eze;function Mze(t,e){return Aze(Tze(t,e,Oze),t+"")}var Nze=Mze,Dze=Z$,Rze=L0,$ze=pI,Ize=pu;function jze(t,e,n){if(!Ize(n))return!1;var r=typeof e;return(r=="number"?Rze(n)&&$ze(e,n.length):r=="string"&&e in n)?Dze(n[e],t):!1}var xC=jze,Lze=yJ,Fze=oze,Bze=Nze,z3=xC,Vze=Bze(function(t,e){if(t==null)return[];var n=e.length;return n>1&&z3(t,e[0],e[1])?e=[]:n>2&&z3(e[0],e[1],e[2])&&(e=[e[0]]),Fze(t,Lze(e,1),[])}),zze=Vze;const yI=At(zze);function vy(t){"@babel/helpers - typeof";return vy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vy(t)}function qA(){return qA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qA.apply(this,arguments)}function Uze(t,e){return Gze(t)||qze(t,e)||Wze(t,e)||Hze()}function Hze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wze(t,e){if(t){if(typeof t=="string")return U3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U3(t,e)}}function U3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qze(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function Gze(t){if(Array.isArray(t))return t}function H3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H3(Object(n),!0).forEach(function(r){Kze(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kze(t,e,n){return e=Yze(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yze(t){var e=Xze(t,"string");return vy(e)=="symbol"?e:e+""}function Xze(t,e){if(vy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zze(t){return Array.isArray(t)&&zn(t[0])&&zn(t[1])?t.join(" ~ "):t}var Jze=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,s=e.itemStyle,a=s===void 0?{}:s,l=e.labelStyle,c=l===void 0?{}:l,u=e.payload,d=e.formatter,f=e.itemSorter,h=e.wrapperClassName,m=e.labelClassName,p=e.label,g=e.labelFormatter,b=e.accessibilityLayer,y=b===void 0?!1:b,w=function(){if(u&&u.length){var N={padding:0,margin:0},L=(f?yI(u,f):u).map(function(I,z){if(I.type==="none")return null;var V=rE({display:"block",paddingTop:4,paddingBottom:4,color:I.color||"#000"},a),j=I.formatter||d||Zze,R=I.value,$=I.name,H=R,Y=$;if(j&&H!=null&&Y!=null){var F=j(R,$,I,z,u);if(Array.isArray(F)){var G=Uze(F,2);H=G[0],Y=G[1]}else H=F}return A.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:V},zn(Y)?A.createElement("span",{className:"recharts-tooltip-item-name"},Y):null,zn(Y)?A.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,A.createElement("span",{className:"recharts-tooltip-item-value"},H),A.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return A.createElement("ul",{className:"recharts-tooltip-item-list",style:N},L)}return null},_=rE({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),S=rE({margin:0},c),C=!Je(p),k=C?p:"",E=tt("recharts-default-tooltip",h),T=tt("recharts-tooltip-label",m);C&&g&&u!==void 0&&u!==null&&(k=g(p,u));var M=y?{role:"status","aria-live":"assertive"}:{};return A.createElement("div",qA({className:E,style:_},M),A.createElement("p",{className:T,style:S},A.isValidElement(k)?k:"".concat(k)),w())};function yy(t){"@babel/helpers - typeof";return yy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yy(t)}function qb(t,e,n){return e=Qze(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qze(t){var e=eUe(t,"string");return yy(e)=="symbol"?e:e+""}function eUe(t,e){if(yy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xm="recharts-tooltip-wrapper",tUe={visibility:"hidden"};function nUe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return tt(Xm,qb(qb(qb(qb({},"".concat(Xm,"-right"),ce(n)&&e&&ce(e.x)&&n>=e.x),"".concat(Xm,"-left"),ce(n)&&e&&ce(e.x)&&n<e.x),"".concat(Xm,"-bottom"),ce(r)&&e&&ce(e.y)&&r>=e.y),"".concat(Xm,"-top"),ce(r)&&e&&ce(e.y)&&r<e.y))}function W3(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,s=t.reverseDirection,a=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(o&&ce(o[r]))return o[r];var u=n[r]-a-i,d=n[r]+i;if(e[r])return s[r]?u:d;if(s[r]){var f=u,h=l[r];return f<h?Math.max(d,l[r]):Math.max(u,l[r])}var m=d+a,p=l[r]+c;return m>p?Math.max(u,l[r]):Math.max(d,l[r])}function rUe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function iUe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,s=t.tooltipBox,a=t.useTranslate3d,l=t.viewBox,c,u,d;return s.height>0&&s.width>0&&n?(u=W3({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),d=W3({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=rUe({translateX:u,translateY:d,useTranslate3d:a})):c=tUe,{cssProperties:c,cssClasses:nUe({translateX:u,translateY:d,coordinate:n})}}function Pp(t){"@babel/helpers - typeof";return Pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pp(t)}function q3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function G3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q3(Object(n),!0).forEach(function(r){KA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sUe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_J(r.key),r)}}function aUe(t,e,n){return e&&sUe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lUe(t,e,n){return e=C1(e),cUe(t,SJ()?Reflect.construct(e,n||[],C1(t).constructor):e.apply(t,n))}function cUe(t,e){if(e&&(Pp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uUe(t)}function uUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SJ=function(){return!!t})()}function C1(t){return C1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},C1(t)}function dUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GA(t,e)}function GA(t,e){return GA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},GA(t,e)}function KA(t,e,n){return e=_J(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _J(t){var e=fUe(t,"string");return Pp(e)=="symbol"?e:e+""}function fUe(t,e){if(Pp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var K3=1,hUe=function(t){function e(){var n;oUe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=lUe(this,e,[].concat(i)),KA(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),KA(n,"handleKeyDown",function(s){if(s.key==="Escape"){var a,l,c,u;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&a!==void 0?a:0,y:(c=(u=n.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),n}return dUe(e,t),aUe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>K3||Math.abs(r.height-this.state.lastBoundingBox.height)>K3)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,d=i.hasPayload,f=i.isAnimationActive,h=i.offset,m=i.position,p=i.reverseDirection,g=i.useTranslate3d,b=i.viewBox,y=i.wrapperStyle,w=iUe({allowEscapeViewBox:s,coordinate:u,offsetTopLeft:h,position:m,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:b}),_=w.cssClasses,S=w.cssProperties,C=G3(G3({transition:f&&o?"transform ".concat(a,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&d?"visible":"hidden",position:"absolute",top:0,left:0},y);return A.createElement("div",{tabIndex:-1,className:_,style:C,ref:function(E){r.wrapperNode=E}},c)}}])}(x.PureComponent),pUe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},of={isSsr:pUe()};function Ep(t){"@babel/helpers - typeof";return Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ep(t)}function Y3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function X3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y3(Object(n),!0).forEach(function(r){bI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gUe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kJ(r.key),r)}}function vUe(t,e,n){return e&&gUe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yUe(t,e,n){return e=k1(e),bUe(t,CJ()?Reflect.construct(e,n||[],k1(t).constructor):e.apply(t,n))}function bUe(t,e){if(e&&(Ep(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wUe(t)}function wUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CJ=function(){return!!t})()}function k1(t){return k1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},k1(t)}function xUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YA(t,e)}function YA(t,e){return YA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},YA(t,e)}function bI(t,e,n){return e=kJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kJ(t){var e=SUe(t,"string");return Ep(e)=="symbol"?e:e+""}function SUe(t,e){if(Ep(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ep(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function _Ue(t){return t.dataKey}function CUe(t,e){return A.isValidElement(t)?A.cloneElement(t,e):typeof t=="function"?A.createElement(t,e):A.createElement(Jze,e)}var Tn=function(t){function e(){return mUe(this,e),yUe(this,e,arguments)}return xUe(e,t),vUe(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,d=i.filterNull,f=i.isAnimationActive,h=i.offset,m=i.payload,p=i.payloadUniqBy,g=i.position,b=i.reverseDirection,y=i.useTranslate3d,w=i.viewBox,_=i.wrapperStyle,S=m??[];d&&S.length&&(S=pJ(m.filter(function(k){return k.value!=null&&(k.hide!==!0||r.props.includeHidden)}),p,_Ue));var C=S.length>0;return A.createElement(hUe,{allowEscapeViewBox:s,animationDuration:a,animationEasing:l,isAnimationActive:f,active:o,coordinate:u,hasPayload:C,offset:h,position:g,reverseDirection:b,useTranslate3d:y,viewBox:w,wrapperStyle:_},CUe(c,X3(X3({},this.props),{},{payload:S})))}}])}(x.PureComponent);bI(Tn,"displayName","Tooltip");bI(Tn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!of.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var kUe=ga,PUe=function(){return kUe.Date.now()},EUe=PUe,OUe=/\s/;function TUe(t){for(var e=t.length;e--&&OUe.test(t.charAt(e)););return e}var AUe=TUe,MUe=AUe,NUe=/^\s+/;function DUe(t){return t&&t.slice(0,MUe(t)+1).replace(NUe,"")}var RUe=DUe,$Ue=RUe,Z3=pu,IUe=mm,J3=NaN,jUe=/^[-+]0x[0-9a-f]+$/i,LUe=/^0b[01]+$/i,FUe=/^0o[0-7]+$/i,BUe=parseInt;function VUe(t){if(typeof t=="number")return t;if(IUe(t))return J3;if(Z3(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Z3(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=$Ue(t);var n=LUe.test(t);return n||FUe.test(t)?BUe(t.slice(2),n?2:8):jUe.test(t)?J3:+t}var PJ=VUe,zUe=pu,iE=EUe,Q3=PJ,UUe="Expected a function",HUe=Math.max,WUe=Math.min;function qUe(t,e,n){var r,i,o,s,a,l,c=0,u=!1,d=!1,f=!0;if(typeof t!="function")throw new TypeError(UUe);e=Q3(e)||0,zUe(n)&&(u=!!n.leading,d="maxWait"in n,o=d?HUe(Q3(n.maxWait)||0,e):o,f="trailing"in n?!!n.trailing:f);function h(C){var k=r,E=i;return r=i=void 0,c=C,s=t.apply(E,k),s}function m(C){return c=C,a=setTimeout(b,e),u?h(C):s}function p(C){var k=C-l,E=C-c,T=e-k;return d?WUe(T,o-E):T}function g(C){var k=C-l,E=C-c;return l===void 0||k>=e||k<0||d&&E>=o}function b(){var C=iE();if(g(C))return y(C);a=setTimeout(b,p(C))}function y(C){return a=void 0,f&&r?h(C):(r=i=void 0,s)}function w(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function _(){return a===void 0?s:y(iE())}function S(){var C=iE(),k=g(C);if(r=arguments,i=this,l=C,k){if(a===void 0)return m(l);if(d)return clearTimeout(a),a=setTimeout(b,e),h(l)}return a===void 0&&(a=setTimeout(b,e)),s}return S.cancel=w,S.flush=_,S}var GUe=qUe,KUe=GUe,YUe=pu,XUe="Expected a function";function ZUe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(XUe);return YUe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),KUe(t,e,{leading:r,maxWait:e,trailing:i})}var JUe=ZUe;const EJ=At(JUe);function by(t){"@babel/helpers - typeof";return by=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},by(t)}function e5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e5(Object(n),!0).forEach(function(r){QUe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QUe(t,e,n){return e=e6e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e6e(t){var e=t6e(t,"string");return by(e)=="symbol"?e:e+""}function t6e(t,e){if(by(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(by(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function n6e(t,e){return s6e(t)||o6e(t,e)||i6e(t,e)||r6e()}function r6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i6e(t,e){if(t){if(typeof t=="string")return t5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t5(t,e)}}function t5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function o6e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function s6e(t){if(Array.isArray(t))return t}var uo=x.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,s=o===void 0?"100%":o,a=t.height,l=a===void 0?"100%":a,c=t.minWidth,u=c===void 0?0:c,d=t.minHeight,f=t.maxHeight,h=t.children,m=t.debounce,p=m===void 0?0:m,g=t.id,b=t.className,y=t.onResize,w=t.style,_=w===void 0?{}:w,S=x.useRef(null),C=x.useRef();C.current=y,x.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var k=x.useState({containerWidth:i.width,containerHeight:i.height}),E=n6e(k,2),T=E[0],M=E[1],D=x.useCallback(function(L,I){M(function(z){var V=Math.round(L),j=Math.round(I);return z.containerWidth===V&&z.containerHeight===j?z:{containerWidth:V,containerHeight:j}})},[]);x.useEffect(function(){var L=function($){var H,Y=$[0].contentRect,F=Y.width,G=Y.height;D(F,G),(H=C.current)===null||H===void 0||H.call(C,F,G)};p>0&&(L=EJ(L,p,{trailing:!0,leading:!1}));var I=new ResizeObserver(L),z=S.current.getBoundingClientRect(),V=z.width,j=z.height;return D(V,j),I.observe(S.current),function(){I.disconnect()}},[D,p]);var N=x.useMemo(function(){var L=T.containerWidth,I=T.containerHeight;if(L<0||I<0)return null;as(Yu(s)||Yu(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),as(!n||n>0,"The aspect(%s) must be greater than zero.",n);var z=Yu(s)?L:s,V=Yu(l)?I:l;n&&n>0&&(z?V=z/n:V&&(z=V*n),f&&V>f&&(V=f)),as(z>0||V>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,z,V,s,l,u,d,n);var j=!Array.isArray(h)&&Xa(h.type).endsWith("Chart");return A.Children.map(h,function(R){return A.isValidElement(R)?x.cloneElement(R,Gb({width:z,height:V},j?{style:Gb({height:"100%",width:"100%",maxHeight:V,maxWidth:z},R.props.style)}:{})):R})},[n,h,l,f,d,u,T,s]);return A.createElement("div",{id:g?"".concat(g):void 0,className:tt("recharts-responsive-container",b),style:Gb(Gb({},_),{},{width:s,height:l,minWidth:u,minHeight:d,maxHeight:f}),ref:S},N)}),hc=function(e){return null};hc.displayName="Cell";function wy(t){"@babel/helpers - typeof";return wy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wy(t)}function n5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n5(Object(n),!0).forEach(function(r){a6e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function a6e(t,e,n){return e=l6e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l6e(t){var e=c6e(t,"string");return wy(e)=="symbol"?e:e+""}function c6e(t,e){if(wy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cf={widthCache:{},cacheCount:0},u6e=2e3,d6e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},r5="recharts_measurement_span";function f6e(t){var e=XA({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Yg=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||of.isSsr)return{width:0,height:0};var r=f6e(n),i=JSON.stringify({text:e,copyStyle:r});if(Cf.widthCache[i])return Cf.widthCache[i];try{var o=document.getElementById(r5);o||(o=document.createElement("span"),o.setAttribute("id",r5),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=XA(XA({},d6e),r);Object.assign(o.style,s),o.textContent="".concat(e);var a=o.getBoundingClientRect(),l={width:a.width,height:a.height};return Cf.widthCache[i]=l,++Cf.cacheCount>u6e&&(Cf.cacheCount=0,Cf.widthCache={}),l}catch{return{width:0,height:0}}},h6e=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function xy(t){"@babel/helpers - typeof";return xy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xy(t)}function P1(t,e){return v6e(t)||g6e(t,e)||m6e(t,e)||p6e()}function p6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m6e(t,e){if(t){if(typeof t=="string")return i5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i5(t,e)}}function i5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function g6e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function v6e(t){if(Array.isArray(t))return t}function y6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,w6e(r.key),r)}}function b6e(t,e,n){return e&&o5(t.prototype,e),n&&o5(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function w6e(t){var e=x6e(t,"string");return xy(e)=="symbol"?e:e+""}function x6e(t,e){if(xy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var s5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,a5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,S6e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,_6e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,OJ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},C6e=Object.keys(OJ),nh="NaN";function k6e(t,e){return t*OJ[e]}var Kb=function(){function t(e,n){y6e(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!S6e.test(n)&&(this.num=NaN,this.unit=""),C6e.includes(n)&&(this.num=k6e(e,n),this.unit="px")}return b6e(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=_6e.exec(n))!==null&&r!==void 0?r:[],o=P1(i,3),s=o[1],a=o[2];return new t(parseFloat(s),a??"")}}])}();function TJ(t){if(t.includes(nh))return nh;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=s5.exec(e))!==null&&n!==void 0?n:[],i=P1(r,4),o=i[1],s=i[2],a=i[3],l=Kb.parse(o??""),c=Kb.parse(a??""),u=s==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return nh;e=e.replace(s5,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,f=(d=a5.exec(e))!==null&&d!==void 0?d:[],h=P1(f,4),m=h[1],p=h[2],g=h[3],b=Kb.parse(m??""),y=Kb.parse(g??""),w=p==="+"?b.add(y):b.subtract(y);if(w.isNaN())return nh;e=e.replace(a5,w.toString())}return e}var l5=/\(([^()]*)\)/;function P6e(t){for(var e=t;e.includes("(");){var n=l5.exec(e),r=P1(n,2),i=r[1];e=e.replace(l5,TJ(i))}return e}function E6e(t){var e=t.replace(/\s+/g,"");return e=P6e(e),e=TJ(e),e}function O6e(t){try{return E6e(t)}catch{return nh}}function oE(t){var e=O6e(t.slice(5,-1));return e===nh?"":e}var T6e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],A6e=["dx","dy","angle","className","breakAll"];function ZA(){return ZA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ZA.apply(this,arguments)}function c5(t,e){if(t==null)return{};var n=M6e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function M6e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function u5(t,e){return $6e(t)||R6e(t,e)||D6e(t,e)||N6e()}function N6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D6e(t,e){if(t){if(typeof t=="string")return d5(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d5(t,e)}}function d5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function R6e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function $6e(t){if(Array.isArray(t))return t}var AJ=/[ \f\n\r\t\v\u2028\u2029]+/,MJ=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];Je(n)||(r?o=n.toString().split(""):o=n.toString().split(AJ));var s=o.map(function(l){return{word:l,width:Yg(l,i).width}}),a=r?0:Yg("",i).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},I6e=function(e,n,r,i,o){var s=e.maxLines,a=e.children,l=e.style,c=e.breakAll,u=ce(s),d=a,f=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return z.reduce(function(V,j){var R=j.word,$=j.width,H=V[V.length-1];if(H&&(i==null||o||H.width+$+r<Number(i)))H.words.push(R),H.width+=$+r;else{var Y={words:[R],width:$};V.push(Y)}return V},[])},h=f(n),m=function(z){return z.reduce(function(V,j){return V.width>j.width?V:j})};if(!u)return h;for(var p="",g=function(z){var V=d.slice(0,z),j=MJ({breakAll:c,style:l,children:V+p}).wordsWithComputedWidth,R=f(j),$=R.length>s||m(R).width>Number(i);return[$,R]},b=0,y=d.length-1,w=0,_;b<=y&&w<=d.length-1;){var S=Math.floor((b+y)/2),C=S-1,k=g(C),E=u5(k,2),T=E[0],M=E[1],D=g(S),N=u5(D,1),L=N[0];if(!T&&!L&&(b=S+1),T&&L&&(y=S-1),!T&&L){_=M;break}w++}return _||h},f5=function(e){var n=Je(e)?[]:e.toString().split(AJ);return[{words:n}]},j6e=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,s=e.breakAll,a=e.maxLines;if((n||r)&&!of.isSsr){var l,c,u=MJ({breakAll:s,children:i,style:o});if(u){var d=u.wordsWithComputedWidth,f=u.spaceWidth;l=d,c=f}else return f5(i);return I6e({breakAll:s,children:i,maxLines:a,style:o},l,c,n,r)}return f5(i)},h5="#808080",Vd=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.lineHeight,a=s===void 0?"1em":s,l=e.capHeight,c=l===void 0?"0.71em":l,u=e.scaleToFit,d=u===void 0?!1:u,f=e.textAnchor,h=f===void 0?"start":f,m=e.verticalAnchor,p=m===void 0?"end":m,g=e.fill,b=g===void 0?h5:g,y=c5(e,T6e),w=x.useMemo(function(){return j6e({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:d,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,d,y.style,y.width]),_=y.dx,S=y.dy,C=y.angle,k=y.className,E=y.breakAll,T=c5(y,A6e);if(!zn(r)||!zn(o))return null;var M=r+(ce(_)?_:0),D=o+(ce(S)?S:0),N;switch(p){case"start":N=oE("calc(".concat(c,")"));break;case"middle":N=oE("calc(".concat((w.length-1)/2," * -").concat(a," + (").concat(c," / 2))"));break;default:N=oE("calc(".concat(w.length-1," * -").concat(a,")"));break}var L=[];if(d){var I=w[0].width,z=y.width;L.push("scale(".concat((ce(z)?z/I:1)/I,")"))}return C&&L.push("rotate(".concat(C,", ").concat(M,", ").concat(D,")")),L.length&&(T.transform=L.join(" ")),A.createElement("text",ZA({},Me(T,!0),{x:M,y:D,className:tt("recharts-text",k),textAnchor:h,fill:b.includes("url")?h5:b}),w.map(function(V,j){var R=V.words.join(E?"":" ");return A.createElement("tspan",{x:M,dy:j===0?N:a,key:"".concat(R,"-").concat(j)},R)}))};function Dc(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function L6e(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function wI(t){let e,n,r;t.length!==2?(e=Dc,n=(a,l)=>Dc(t(a),l),r=(a,l)=>t(a)-l):(e=t===Dc||t===L6e?t:F6e,n=t,r=t);function i(a,l,c=0,u=a.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;n(a[d],l)<0?c=d+1:u=d}while(c<u)}return c}function o(a,l,c=0,u=a.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;n(a[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function s(a,l,c=0,u=a.length){const d=i(a,l,c,u-1);return d>c&&r(a[d-1],l)>-r(a[d],l)?d-1:d}return{left:i,center:s,right:o}}function F6e(){return 0}function NJ(t){return t===null?NaN:+t}function*B6e(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const V6e=wI(Dc),F0=V6e.right;wI(NJ).center;class p5 extends Map{constructor(e,n=H6e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(m5(this,e))}has(e){return super.has(m5(this,e))}set(e,n){return super.set(z6e(this,e),n)}delete(e){return super.delete(U6e(this,e))}}function m5({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function z6e({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function U6e({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function H6e(t){return t!==null&&typeof t=="object"?t.valueOf():t}function W6e(t=Dc){if(t===Dc)return DJ;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function DJ(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const q6e=Math.sqrt(50),G6e=Math.sqrt(10),K6e=Math.sqrt(2);function E1(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=q6e?10:o>=G6e?5:o>=K6e?2:1;let a,l,c;return i<0?(c=Math.pow(10,-i)/s,a=Math.round(t*c),l=Math.round(e*c),a/c<t&&++a,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*s,a=Math.round(t/c),l=Math.round(e/c),a*c<t&&++a,l*c>e&&--l),l<a&&.5<=n&&n<2?E1(t,e,n*2):[a,l,c]}function JA(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?E1(e,t,n):E1(t,e,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let c=0;c<a;++c)l[c]=(o-c)/-s;else for(let c=0;c<a;++c)l[c]=(o-c)*s;else if(s<0)for(let c=0;c<a;++c)l[c]=(i+c)/-s;else for(let c=0;c<a;++c)l[c]=(i+c)*s;return l}function QA(t,e,n){return e=+e,t=+t,n=+n,E1(t,e,n)[2]}function eM(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?QA(e,t,n):QA(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function g5(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function v5(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function RJ(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?DJ:W6e(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,u=Math.log(l),d=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*d*(l-d)/l)*(c-l/2<0?-1:1),h=Math.max(n,Math.floor(e-c*d/l+f)),m=Math.min(r,Math.floor(e+(l-c)*d/l+f));RJ(t,e,h,m,i)}const o=t[e];let s=n,a=r;for(Zm(t,n,e),i(t[r],o)>0&&Zm(t,n,r);s<a;){for(Zm(t,s,a),++s,--a;i(t[s],o)<0;)++s;for(;i(t[a],o)>0;)--a}i(t[n],o)===0?Zm(t,n,a):(++a,Zm(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function Zm(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Y6e(t,e,n){if(t=Float64Array.from(B6e(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return v5(t);if(e>=1)return g5(t);var r,i=(r-1)*e,o=Math.floor(i),s=g5(RJ(t,o).subarray(0,o+1)),a=v5(t.subarray(o+1));return s+(a-s)*(i-o)}}function X6e(t,e,n=NJ){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),a=+n(t[o+1],o+1,t);return s+(a-s)*(i-o)}}function Z6e(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function No(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function _l(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const tM=Symbol("implicit");function xI(){var t=new p5,e=[],n=[],r=tM;function i(o){let s=t.get(o);if(s===void 0){if(r!==tM)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new p5;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return xI(e,n).unknown(r)},No.apply(i,arguments),i}function Sy(){var t=xI().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,a=!1,l=0,c=0,u=.5;delete t.unknown;function d(){var f=e().length,h=i<r,m=h?i:r,p=h?r:i;o=(p-m)/Math.max(1,f-l+c*2),a&&(o=Math.floor(o)),m+=(p-m-o*(f-l))*u,s=o*(1-l),a&&(m=Math.round(m),s=Math.round(s));var g=Z6e(f).map(function(b){return m+o*b});return n(h?g.reverse():g)}return t.domain=function(f){return arguments.length?(e(f),d()):e()},t.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,a=!0,d()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(f){return arguments.length?(a=!!f,d()):a},t.padding=function(f){return arguments.length?(l=Math.min(1,c=+f),d()):l},t.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),d()):l},t.paddingOuter=function(f){return arguments.length?(c=+f,d()):c},t.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),d()):u},t.copy=function(){return Sy(e(),[r,i]).round(a).paddingInner(l).paddingOuter(c).align(u)},No.apply(d(),arguments)}function $J(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return $J(e())},t}function Xg(){return $J(Sy.apply(null,arguments).paddingInner(1))}function SI(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function IJ(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function B0(){}var _y=.7,O1=1/_y,Eh="\\s*([+-]?\\d+)\\s*",Cy="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",J6e=/^#([0-9a-f]{3,8})$/,Q6e=new RegExp(`^rgb\\(${Eh},${Eh},${Eh}\\)$`),eHe=new RegExp(`^rgb\\(${Qs},${Qs},${Qs}\\)$`),tHe=new RegExp(`^rgba\\(${Eh},${Eh},${Eh},${Cy}\\)$`),nHe=new RegExp(`^rgba\\(${Qs},${Qs},${Qs},${Cy}\\)$`),rHe=new RegExp(`^hsl\\(${Cy},${Qs},${Qs}\\)$`),iHe=new RegExp(`^hsla\\(${Cy},${Qs},${Qs},${Cy}\\)$`),y5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};SI(B0,ky,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:b5,formatHex:b5,formatHex8:oHe,formatHsl:sHe,formatRgb:w5,toString:w5});function b5(){return this.rgb().formatHex()}function oHe(){return this.rgb().formatHex8()}function sHe(){return jJ(this).formatHsl()}function w5(){return this.rgb().formatRgb()}function ky(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=J6e.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?x5(e):n===3?new mi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Yb(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Yb(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Q6e.exec(t))?new mi(e[1],e[2],e[3],1):(e=eHe.exec(t))?new mi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=tHe.exec(t))?Yb(e[1],e[2],e[3],e[4]):(e=nHe.exec(t))?Yb(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=rHe.exec(t))?C5(e[1],e[2]/100,e[3]/100,1):(e=iHe.exec(t))?C5(e[1],e[2]/100,e[3]/100,e[4]):y5.hasOwnProperty(t)?x5(y5[t]):t==="transparent"?new mi(NaN,NaN,NaN,0):null}function x5(t){return new mi(t>>16&255,t>>8&255,t&255,1)}function Yb(t,e,n,r){return r<=0&&(t=e=n=NaN),new mi(t,e,n,r)}function aHe(t){return t instanceof B0||(t=ky(t)),t?(t=t.rgb(),new mi(t.r,t.g,t.b,t.opacity)):new mi}function nM(t,e,n,r){return arguments.length===1?aHe(t):new mi(t,e,n,r??1)}function mi(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}SI(mi,nM,IJ(B0,{brighter(t){return t=t==null?O1:Math.pow(O1,t),new mi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?_y:Math.pow(_y,t),new mi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new mi(wd(this.r),wd(this.g),wd(this.b),T1(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:S5,formatHex:S5,formatHex8:lHe,formatRgb:_5,toString:_5}));function S5(){return`#${Xu(this.r)}${Xu(this.g)}${Xu(this.b)}`}function lHe(){return`#${Xu(this.r)}${Xu(this.g)}${Xu(this.b)}${Xu((isNaN(this.opacity)?1:this.opacity)*255)}`}function _5(){const t=T1(this.opacity);return`${t===1?"rgb(":"rgba("}${wd(this.r)}, ${wd(this.g)}, ${wd(this.b)}${t===1?")":`, ${t})`}`}function T1(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function wd(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Xu(t){return t=wd(t),(t<16?"0":"")+t.toString(16)}function C5(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new es(t,e,n,r)}function jJ(t){if(t instanceof es)return new es(t.h,t.s,t.l,t.opacity);if(t instanceof B0||(t=ky(t)),!t)return new es;if(t instanceof es)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new es(s,a,l,t.opacity)}function cHe(t,e,n,r){return arguments.length===1?jJ(t):new es(t,e,n,r??1)}function es(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}SI(es,cHe,IJ(B0,{brighter(t){return t=t==null?O1:Math.pow(O1,t),new es(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?_y:Math.pow(_y,t),new es(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new mi(sE(t>=240?t-240:t+120,i,r),sE(t,i,r),sE(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new es(k5(this.h),Xb(this.s),Xb(this.l),T1(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=T1(this.opacity);return`${t===1?"hsl(":"hsla("}${k5(this.h)}, ${Xb(this.s)*100}%, ${Xb(this.l)*100}%${t===1?")":`, ${t})`}`}}));function k5(t){return t=(t||0)%360,t<0?t+360:t}function Xb(t){return Math.max(0,Math.min(1,t||0))}function sE(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const _I=t=>()=>t;function uHe(t,e){return function(n){return t+n*e}}function dHe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function fHe(t){return(t=+t)==1?LJ:function(e,n){return n-e?dHe(e,n,t):_I(isNaN(e)?n:e)}}function LJ(t,e){var n=e-t;return n?uHe(t,n):_I(isNaN(t)?e:t)}const P5=function t(e){var n=fHe(e);function r(i,o){var s=n((i=nM(i)).r,(o=nM(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),c=LJ(i.opacity,o.opacity);return function(u){return i.r=s(u),i.g=a(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r}(1);function hHe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function pHe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function mHe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Cm(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function gHe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function A1(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function vHe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Cm(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var rM=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,aE=new RegExp(rM.source,"g");function yHe(t){return function(){return t}}function bHe(t){return function(e){return t(e)+""}}function wHe(t,e){var n=rM.lastIndex=aE.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(t=t+"",e=e+"";(r=rM.exec(t))&&(i=aE.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:A1(r,i)})),n=aE.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?bHe(l[0].x):yHe(e):(e=l.length,function(c){for(var u=0,d;u<e;++u)a[(d=l[u]).i]=d.x(c);return a.join("")})}function Cm(t,e){var n=typeof e,r;return e==null||n==="boolean"?_I(e):(n==="number"?A1:n==="string"?(r=ky(e))?(e=r,P5):wHe:e instanceof ky?P5:e instanceof Date?gHe:pHe(e)?hHe:Array.isArray(e)?mHe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?vHe:A1)(t,e)}function CI(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function xHe(t,e){e===void 0&&(e=t,t=Cm);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function SHe(t){return function(){return t}}function M1(t){return+t}var E5=[0,1];function Xr(t){return t}function iM(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:SHe(isNaN(e)?NaN:.5)}function _He(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function CHe(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=iM(i,r),o=n(s,o)):(r=iM(r,i),o=n(o,s)),function(a){return o(r(a))}}function kHe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=iM(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(a){var l=F0(t,a,1,r)-1;return o[l](i[l](a))}}function V0(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function SC(){var t=E5,e=E5,n=Cm,r,i,o,s=Xr,a,l,c;function u(){var f=Math.min(t.length,e.length);return s!==Xr&&(s=_He(t[0],t[f-1])),a=f>2?kHe:CHe,l=c=null,d}function d(f){return f==null||isNaN(f=+f)?o:(l||(l=a(t.map(r),e,n)))(r(s(f)))}return d.invert=function(f){return s(i((c||(c=a(e,t.map(r),A1)))(f)))},d.domain=function(f){return arguments.length?(t=Array.from(f,M1),u()):t.slice()},d.range=function(f){return arguments.length?(e=Array.from(f),u()):e.slice()},d.rangeRound=function(f){return e=Array.from(f),n=CI,u()},d.clamp=function(f){return arguments.length?(s=f?!0:Xr,u()):s!==Xr},d.interpolate=function(f){return arguments.length?(n=f,u()):n},d.unknown=function(f){return arguments.length?(o=f,d):o},function(f,h){return r=f,i=h,u()}}function kI(){return SC()(Xr,Xr)}function PHe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function N1(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Op(t){return t=N1(Math.abs(t)),t?t[1]:NaN}function EHe(t,e){return function(n,r){for(var i=n.length,o=[],s=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function OHe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var THe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Py(t){if(!(e=THe.exec(t)))throw new Error("invalid format: "+t);var e;return new PI({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Py.prototype=PI.prototype;function PI(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}PI.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function AHe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var FJ;function MHe(t,e){var n=N1(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(FJ=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+N1(t,Math.max(0,e+o-1))[0]}function O5(t,e){var n=N1(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const T5={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:PHe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>O5(t*100,e),r:O5,s:MHe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function A5(t){return t}var M5=Array.prototype.map,N5=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function NHe(t){var e=t.grouping===void 0||t.thousands===void 0?A5:EHe(M5.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?A5:OHe(M5.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(d){d=Py(d);var f=d.fill,h=d.align,m=d.sign,p=d.symbol,g=d.zero,b=d.width,y=d.comma,w=d.precision,_=d.trim,S=d.type;S==="n"?(y=!0,S="g"):T5[S]||(w===void 0&&(w=12),_=!0,S="g"),(g||f==="0"&&h==="=")&&(g=!0,f="0",h="=");var C=p==="$"?n:p==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",k=p==="$"?r:/[%p]/.test(S)?s:"",E=T5[S],T=/[defgprs%]/.test(S);w=w===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function M(D){var N=C,L=k,I,z,V;if(S==="c")L=E(D)+L,D="";else{D=+D;var j=D<0||1/D<0;if(D=isNaN(D)?l:E(Math.abs(D),w),_&&(D=AHe(D)),j&&+D==0&&m!=="+"&&(j=!1),N=(j?m==="("?m:a:m==="-"||m==="("?"":m)+N,L=(S==="s"?N5[8+FJ/3]:"")+L+(j&&m==="("?")":""),T){for(I=-1,z=D.length;++I<z;)if(V=D.charCodeAt(I),48>V||V>57){L=(V===46?i+D.slice(I+1):D.slice(I))+L,D=D.slice(0,I);break}}}y&&!g&&(D=e(D,1/0));var R=N.length+D.length+L.length,$=R<b?new Array(b-R+1).join(f):"";switch(y&&g&&(D=e($+D,$.length?b-L.length:1/0),$=""),h){case"<":D=N+D+L+$;break;case"=":D=N+$+D+L;break;case"^":D=$.slice(0,R=$.length>>1)+N+D+L+$.slice(R);break;default:D=$+N+D+L;break}return o(D)}return M.toString=function(){return d+""},M}function u(d,f){var h=c((d=Py(d),d.type="f",d)),m=Math.max(-8,Math.min(8,Math.floor(Op(f)/3)))*3,p=Math.pow(10,-m),g=N5[8+m/3];return function(b){return h(p*b)+g}}return{format:c,formatPrefix:u}}var Zb,EI,BJ;DHe({thousands:",",grouping:[3],currency:["$",""]});function DHe(t){return Zb=NHe(t),EI=Zb.format,BJ=Zb.formatPrefix,Zb}function RHe(t){return Math.max(0,-Op(Math.abs(t)))}function $He(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Op(e)/3)))*3-Op(Math.abs(t)))}function IHe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Op(e)-Op(t))+1}function VJ(t,e,n,r){var i=eM(t,e,n),o;switch(r=Py(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=$He(i,s))&&(r.precision=o),BJ(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=IHe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=RHe(i))&&(r.precision=o-(r.type==="%")*2);break}}return EI(r)}function mu(t){var e=t.domain;return t.ticks=function(n){var r=e();return JA(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return VJ(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],a=r[o],l,c,u=10;for(a<s&&(c=s,s=a,a=c,c=i,i=o,o=c);u-- >0;){if(c=QA(s,a,n),c===l)return r[i]=s,r[o]=a,e(r);if(c>0)s=Math.floor(s/c)*c,a=Math.ceil(a/c)*c;else if(c<0)s=Math.ceil(s*c)/c,a=Math.floor(a*c)/c;else break;l=c}return t},t}function D1(){var t=kI();return t.copy=function(){return V0(t,D1())},No.apply(t,arguments),mu(t)}function zJ(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,M1),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return zJ(t).unknown(e)},t=arguments.length?Array.from(t,M1):[0,1],mu(n)}function UJ(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function D5(t){return Math.log(t)}function R5(t){return Math.exp(t)}function jHe(t){return-Math.log(-t)}function LHe(t){return-Math.exp(-t)}function FHe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function BHe(t){return t===10?FHe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function VHe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function $5(t){return(e,n)=>-t(-e,n)}function OI(t){const e=t(D5,R5),n=e.domain;let r=10,i,o;function s(){return i=VHe(r),o=BHe(r),n()[0]<0?(i=$5(i),o=$5(o),t(jHe,LHe)):t(D5,R5),e}return e.base=function(a){return arguments.length?(r=+a,s()):r},e.domain=function(a){return arguments.length?(n(a),s()):n()},e.ticks=a=>{const l=n();let c=l[0],u=l[l.length-1];const d=u<c;d&&([c,u]=[u,c]);let f=i(c),h=i(u),m,p;const g=a==null?10:+a;let b=[];if(!(r%1)&&h-f<g){if(f=Math.floor(f),h=Math.ceil(h),c>0){for(;f<=h;++f)for(m=1;m<r;++m)if(p=f<0?m/o(-f):m*o(f),!(p<c)){if(p>u)break;b.push(p)}}else for(;f<=h;++f)for(m=r-1;m>=1;--m)if(p=f>0?m/o(-f):m*o(f),!(p<c)){if(p>u)break;b.push(p)}b.length*2<g&&(b=JA(c,u,g))}else b=JA(f,h,Math.min(h-f,g)).map(o);return d?b.reverse():b},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Py(l)).precision==null&&(l.trim=!0),l=EI(l)),a===1/0)return l;const c=Math.max(1,r*a/e.ticks().length);return u=>{let d=u/o(Math.round(i(u)));return d*r<r-.5&&(d*=r),d<=c?l(u):""}},e.nice=()=>n(UJ(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),e}function HJ(){const t=OI(SC()).domain([1,10]);return t.copy=()=>V0(t,HJ()).base(t.base()),No.apply(t,arguments),t}function I5(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function j5(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function TI(t){var e=1,n=t(I5(e),j5(e));return n.constant=function(r){return arguments.length?t(I5(e=+r),j5(e)):e},mu(n)}function WJ(){var t=TI(SC());return t.copy=function(){return V0(t,WJ()).constant(t.constant())},No.apply(t,arguments)}function L5(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function zHe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function UHe(t){return t<0?-t*t:t*t}function AI(t){var e=t(Xr,Xr),n=1;function r(){return n===1?t(Xr,Xr):n===.5?t(zHe,UHe):t(L5(n),L5(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},mu(e)}function MI(){var t=AI(SC());return t.copy=function(){return V0(t,MI()).exponent(t.exponent())},No.apply(t,arguments),t}function HHe(){return MI.apply(null,arguments).exponent(.5)}function F5(t){return Math.sign(t)*t*t}function WHe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function qJ(){var t=kI(),e=[0,1],n=!1,r;function i(o){var s=WHe(t(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return t.invert(F5(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,M1)).map(F5)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return qJ(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},No.apply(i,arguments),mu(i)}function GJ(){var t=[],e=[],n=[],r;function i(){var s=0,a=Math.max(1,e.length);for(n=new Array(a-1);++s<a;)n[s-1]=X6e(t,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:e[F0(n,s)]}return o.invertExtent=function(s){var a=e.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let a of s)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Dc),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return GJ().domain(t).range(e).unknown(r)},No.apply(o,arguments)}function KJ(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[F0(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return KJ().domain([t,e]).range(i).unknown(o)},No.apply(mu(s),arguments)}function YJ(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[F0(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return YJ().domain(t).range(e).unknown(n)},No.apply(i,arguments)}const lE=new Date,cE=new Date;function Un(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let c;do l.push(c=new Date(+o)),e(o,a),t(o);while(c<o&&o<s);return l},i.filter=o=>Un(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;e(s,-1),!o(s););else for(;--a>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(lE.setTime(+o),cE.setTime(+s),t(lE),t(cE),Math.floor(n(lE,cE))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const R1=Un(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);R1.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Un(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):R1);R1.range;const za=1e3,xo=za*60,Ua=xo*60,dl=Ua*24,NI=dl*7,B5=dl*30,uE=dl*365,Zu=Un(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*za)},(t,e)=>(e-t)/za,t=>t.getUTCSeconds());Zu.range;const DI=Un(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*za)},(t,e)=>{t.setTime(+t+e*xo)},(t,e)=>(e-t)/xo,t=>t.getMinutes());DI.range;const RI=Un(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*xo)},(t,e)=>(e-t)/xo,t=>t.getUTCMinutes());RI.range;const $I=Un(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*za-t.getMinutes()*xo)},(t,e)=>{t.setTime(+t+e*Ua)},(t,e)=>(e-t)/Ua,t=>t.getHours());$I.range;const II=Un(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ua)},(t,e)=>(e-t)/Ua,t=>t.getUTCHours());II.range;const z0=Un(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*xo)/dl,t=>t.getDate()-1);z0.range;const _C=Un(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/dl,t=>t.getUTCDate()-1);_C.range;const XJ=Un(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/dl,t=>Math.floor(t/dl));XJ.range;function sf(t){return Un(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*xo)/NI)}const CC=sf(0),$1=sf(1),qHe=sf(2),GHe=sf(3),Tp=sf(4),KHe=sf(5),YHe=sf(6);CC.range;$1.range;qHe.range;GHe.range;Tp.range;KHe.range;YHe.range;function af(t){return Un(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/NI)}const kC=af(0),I1=af(1),XHe=af(2),ZHe=af(3),Ap=af(4),JHe=af(5),QHe=af(6);kC.range;I1.range;XHe.range;ZHe.range;Ap.range;JHe.range;QHe.range;const jI=Un(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());jI.range;const LI=Un(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());LI.range;const fl=Un(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());fl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Un(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});fl.range;const hl=Un(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());hl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Un(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});hl.range;function ZJ(t,e,n,r,i,o){const s=[[Zu,1,za],[Zu,5,5*za],[Zu,15,15*za],[Zu,30,30*za],[o,1,xo],[o,5,5*xo],[o,15,15*xo],[o,30,30*xo],[i,1,Ua],[i,3,3*Ua],[i,6,6*Ua],[i,12,12*Ua],[r,1,dl],[r,2,2*dl],[n,1,NI],[e,1,B5],[e,3,3*B5],[t,1,uE]];function a(c,u,d){const f=u<c;f&&([c,u]=[u,c]);const h=d&&typeof d.range=="function"?d:l(c,u,d),m=h?h.range(c,+u+1):[];return f?m.reverse():m}function l(c,u,d){const f=Math.abs(u-c)/d,h=wI(([,,g])=>g).right(s,f);if(h===s.length)return t.every(eM(c/uE,u/uE,d));if(h===0)return R1.every(Math.max(eM(c,u,d),1));const[m,p]=s[f/s[h-1][2]<s[h][2]/f?h-1:h];return m.every(p)}return[a,l]}const[eWe,tWe]=ZJ(hl,LI,kC,XJ,II,RI),[nWe,rWe]=ZJ(fl,jI,CC,z0,$I,DI);function dE(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function fE(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Jm(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function iWe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,a=t.months,l=t.shortMonths,c=Qm(i),u=eg(i),d=Qm(o),f=eg(o),h=Qm(s),m=eg(s),p=Qm(a),g=eg(a),b=Qm(l),y=eg(l),w={a:j,A:R,b:$,B:H,c:null,d:q5,e:q5,f:EWe,g:jWe,G:FWe,H:CWe,I:kWe,j:PWe,L:JJ,m:OWe,M:TWe,p:Y,q:F,Q:Y5,s:X5,S:AWe,u:MWe,U:NWe,V:DWe,w:RWe,W:$We,x:null,X:null,y:IWe,Y:LWe,Z:BWe,"%":K5},_={a:G,A:ee,b:te,B:me,c:null,d:G5,e:G5,f:HWe,g:e8e,G:n8e,H:VWe,I:zWe,j:UWe,L:eQ,m:WWe,M:qWe,p:Q,q:ke,Q:Y5,s:X5,S:GWe,u:KWe,U:YWe,V:XWe,w:ZWe,W:JWe,x:null,X:null,y:QWe,Y:t8e,Z:r8e,"%":K5},S={a:M,A:D,b:N,B:L,c:I,d:H5,e:H5,f:wWe,g:U5,G:z5,H:W5,I:W5,j:gWe,L:bWe,m:mWe,M:vWe,p:T,q:pWe,Q:SWe,s:_We,S:yWe,u:cWe,U:uWe,V:dWe,w:lWe,W:fWe,x:z,X:V,y:U5,Y:z5,Z:hWe,"%":xWe};w.x=C(n,w),w.X=C(r,w),w.c=C(e,w),_.x=C(n,_),_.X=C(r,_),_.c=C(e,_);function C(Z,le){return function(ue){var K=[],nt=-1,Ie=0,Mt=Z.length,_t,Zt,vr;for(ue instanceof Date||(ue=new Date(+ue));++nt<Mt;)Z.charCodeAt(nt)===37&&(K.push(Z.slice(Ie,nt)),(Zt=V5[_t=Z.charAt(++nt)])!=null?_t=Z.charAt(++nt):Zt=_t==="e"?" ":"0",(vr=le[_t])&&(_t=vr(ue,Zt)),K.push(_t),Ie=nt+1);return K.push(Z.slice(Ie,nt)),K.join("")}}function k(Z,le){return function(ue){var K=Jm(1900,void 0,1),nt=E(K,Z,ue+="",0),Ie,Mt;if(nt!=ue.length)return null;if("Q"in K)return new Date(K.Q);if("s"in K)return new Date(K.s*1e3+("L"in K?K.L:0));if(le&&!("Z"in K)&&(K.Z=0),"p"in K&&(K.H=K.H%12+K.p*12),K.m===void 0&&(K.m="q"in K?K.q:0),"V"in K){if(K.V<1||K.V>53)return null;"w"in K||(K.w=1),"Z"in K?(Ie=fE(Jm(K.y,0,1)),Mt=Ie.getUTCDay(),Ie=Mt>4||Mt===0?I1.ceil(Ie):I1(Ie),Ie=_C.offset(Ie,(K.V-1)*7),K.y=Ie.getUTCFullYear(),K.m=Ie.getUTCMonth(),K.d=Ie.getUTCDate()+(K.w+6)%7):(Ie=dE(Jm(K.y,0,1)),Mt=Ie.getDay(),Ie=Mt>4||Mt===0?$1.ceil(Ie):$1(Ie),Ie=z0.offset(Ie,(K.V-1)*7),K.y=Ie.getFullYear(),K.m=Ie.getMonth(),K.d=Ie.getDate()+(K.w+6)%7)}else("W"in K||"U"in K)&&("w"in K||(K.w="u"in K?K.u%7:"W"in K?1:0),Mt="Z"in K?fE(Jm(K.y,0,1)).getUTCDay():dE(Jm(K.y,0,1)).getDay(),K.m=0,K.d="W"in K?(K.w+6)%7+K.W*7-(Mt+5)%7:K.w+K.U*7-(Mt+6)%7);return"Z"in K?(K.H+=K.Z/100|0,K.M+=K.Z%100,fE(K)):dE(K)}}function E(Z,le,ue,K){for(var nt=0,Ie=le.length,Mt=ue.length,_t,Zt;nt<Ie;){if(K>=Mt)return-1;if(_t=le.charCodeAt(nt++),_t===37){if(_t=le.charAt(nt++),Zt=S[_t in V5?le.charAt(nt++):_t],!Zt||(K=Zt(Z,ue,K))<0)return-1}else if(_t!=ue.charCodeAt(K++))return-1}return K}function T(Z,le,ue){var K=c.exec(le.slice(ue));return K?(Z.p=u.get(K[0].toLowerCase()),ue+K[0].length):-1}function M(Z,le,ue){var K=h.exec(le.slice(ue));return K?(Z.w=m.get(K[0].toLowerCase()),ue+K[0].length):-1}function D(Z,le,ue){var K=d.exec(le.slice(ue));return K?(Z.w=f.get(K[0].toLowerCase()),ue+K[0].length):-1}function N(Z,le,ue){var K=b.exec(le.slice(ue));return K?(Z.m=y.get(K[0].toLowerCase()),ue+K[0].length):-1}function L(Z,le,ue){var K=p.exec(le.slice(ue));return K?(Z.m=g.get(K[0].toLowerCase()),ue+K[0].length):-1}function I(Z,le,ue){return E(Z,e,le,ue)}function z(Z,le,ue){return E(Z,n,le,ue)}function V(Z,le,ue){return E(Z,r,le,ue)}function j(Z){return s[Z.getDay()]}function R(Z){return o[Z.getDay()]}function $(Z){return l[Z.getMonth()]}function H(Z){return a[Z.getMonth()]}function Y(Z){return i[+(Z.getHours()>=12)]}function F(Z){return 1+~~(Z.getMonth()/3)}function G(Z){return s[Z.getUTCDay()]}function ee(Z){return o[Z.getUTCDay()]}function te(Z){return l[Z.getUTCMonth()]}function me(Z){return a[Z.getUTCMonth()]}function Q(Z){return i[+(Z.getUTCHours()>=12)]}function ke(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var le=C(Z+="",w);return le.toString=function(){return Z},le},parse:function(Z){var le=k(Z+="",!1);return le.toString=function(){return Z},le},utcFormat:function(Z){var le=C(Z+="",_);return le.toString=function(){return Z},le},utcParse:function(Z){var le=k(Z+="",!0);return le.toString=function(){return Z},le}}}var V5={"-":"",_:" ",0:"0"},ir=/^\s*\d+/,oWe=/^%/,sWe=/[\\^$*+?|[\]().{}]/g;function St(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function aWe(t){return t.replace(sWe,"\\$&")}function Qm(t){return new RegExp("^(?:"+t.map(aWe).join("|")+")","i")}function eg(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function lWe(t,e,n){var r=ir.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function cWe(t,e,n){var r=ir.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function uWe(t,e,n){var r=ir.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function dWe(t,e,n){var r=ir.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function fWe(t,e,n){var r=ir.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function z5(t,e,n){var r=ir.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function U5(t,e,n){var r=ir.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function hWe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function pWe(t,e,n){var r=ir.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function mWe(t,e,n){var r=ir.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function H5(t,e,n){var r=ir.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function gWe(t,e,n){var r=ir.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function W5(t,e,n){var r=ir.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function vWe(t,e,n){var r=ir.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function yWe(t,e,n){var r=ir.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function bWe(t,e,n){var r=ir.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function wWe(t,e,n){var r=ir.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function xWe(t,e,n){var r=oWe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function SWe(t,e,n){var r=ir.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function _We(t,e,n){var r=ir.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function q5(t,e){return St(t.getDate(),e,2)}function CWe(t,e){return St(t.getHours(),e,2)}function kWe(t,e){return St(t.getHours()%12||12,e,2)}function PWe(t,e){return St(1+z0.count(fl(t),t),e,3)}function JJ(t,e){return St(t.getMilliseconds(),e,3)}function EWe(t,e){return JJ(t,e)+"000"}function OWe(t,e){return St(t.getMonth()+1,e,2)}function TWe(t,e){return St(t.getMinutes(),e,2)}function AWe(t,e){return St(t.getSeconds(),e,2)}function MWe(t){var e=t.getDay();return e===0?7:e}function NWe(t,e){return St(CC.count(fl(t)-1,t),e,2)}function QJ(t){var e=t.getDay();return e>=4||e===0?Tp(t):Tp.ceil(t)}function DWe(t,e){return t=QJ(t),St(Tp.count(fl(t),t)+(fl(t).getDay()===4),e,2)}function RWe(t){return t.getDay()}function $We(t,e){return St($1.count(fl(t)-1,t),e,2)}function IWe(t,e){return St(t.getFullYear()%100,e,2)}function jWe(t,e){return t=QJ(t),St(t.getFullYear()%100,e,2)}function LWe(t,e){return St(t.getFullYear()%1e4,e,4)}function FWe(t,e){var n=t.getDay();return t=n>=4||n===0?Tp(t):Tp.ceil(t),St(t.getFullYear()%1e4,e,4)}function BWe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+St(e/60|0,"0",2)+St(e%60,"0",2)}function G5(t,e){return St(t.getUTCDate(),e,2)}function VWe(t,e){return St(t.getUTCHours(),e,2)}function zWe(t,e){return St(t.getUTCHours()%12||12,e,2)}function UWe(t,e){return St(1+_C.count(hl(t),t),e,3)}function eQ(t,e){return St(t.getUTCMilliseconds(),e,3)}function HWe(t,e){return eQ(t,e)+"000"}function WWe(t,e){return St(t.getUTCMonth()+1,e,2)}function qWe(t,e){return St(t.getUTCMinutes(),e,2)}function GWe(t,e){return St(t.getUTCSeconds(),e,2)}function KWe(t){var e=t.getUTCDay();return e===0?7:e}function YWe(t,e){return St(kC.count(hl(t)-1,t),e,2)}function tQ(t){var e=t.getUTCDay();return e>=4||e===0?Ap(t):Ap.ceil(t)}function XWe(t,e){return t=tQ(t),St(Ap.count(hl(t),t)+(hl(t).getUTCDay()===4),e,2)}function ZWe(t){return t.getUTCDay()}function JWe(t,e){return St(I1.count(hl(t)-1,t),e,2)}function QWe(t,e){return St(t.getUTCFullYear()%100,e,2)}function e8e(t,e){return t=tQ(t),St(t.getUTCFullYear()%100,e,2)}function t8e(t,e){return St(t.getUTCFullYear()%1e4,e,4)}function n8e(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Ap(t):Ap.ceil(t),St(t.getUTCFullYear()%1e4,e,4)}function r8e(){return"+0000"}function K5(){return"%"}function Y5(t){return+t}function X5(t){return Math.floor(+t/1e3)}var kf,nQ,rQ;i8e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function i8e(t){return kf=iWe(t),nQ=kf.format,kf.parse,rQ=kf.utcFormat,kf.utcParse,kf}function o8e(t){return new Date(t)}function s8e(t){return t instanceof Date?+t:+new Date(+t)}function FI(t,e,n,r,i,o,s,a,l,c){var u=kI(),d=u.invert,f=u.domain,h=c(".%L"),m=c(":%S"),p=c("%I:%M"),g=c("%I %p"),b=c("%a %d"),y=c("%b %d"),w=c("%B"),_=c("%Y");function S(C){return(l(C)<C?h:a(C)<C?m:s(C)<C?p:o(C)<C?g:r(C)<C?i(C)<C?b:y:n(C)<C?w:_)(C)}return u.invert=function(C){return new Date(d(C))},u.domain=function(C){return arguments.length?f(Array.from(C,s8e)):f().map(o8e)},u.ticks=function(C){var k=f();return t(k[0],k[k.length-1],C??10)},u.tickFormat=function(C,k){return k==null?S:c(k)},u.nice=function(C){var k=f();return(!C||typeof C.range!="function")&&(C=e(k[0],k[k.length-1],C??10)),C?f(UJ(k,C)):u},u.copy=function(){return V0(u,FI(t,e,n,r,i,o,s,a,l,c))},u}function a8e(){return No.apply(FI(nWe,rWe,fl,jI,CC,z0,$I,DI,Zu,nQ).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function l8e(){return No.apply(FI(eWe,tWe,hl,LI,kC,_C,II,RI,Zu,rQ).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function PC(){var t=0,e=1,n,r,i,o,s=Xr,a=!1,l;function c(d){return d==null||isNaN(d=+d)?l:s(i===0?.5:(d=(o(d)-n)*i,a?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([t,e]=d,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(d){return arguments.length?(a=!!d,c):a},c.interpolator=function(d){return arguments.length?(s=d,c):s};function u(d){return function(f){var h,m;return arguments.length?([h,m]=f,s=d(h,m),c):[s(0),s(1)]}}return c.range=u(Cm),c.rangeRound=u(CI),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return o=d,n=d(t),r=d(e),i=n===r?0:1/(r-n),c}}function gu(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function iQ(){var t=mu(PC()(Xr));return t.copy=function(){return gu(t,iQ())},_l.apply(t,arguments)}function oQ(){var t=OI(PC()).domain([1,10]);return t.copy=function(){return gu(t,oQ()).base(t.base())},_l.apply(t,arguments)}function sQ(){var t=TI(PC());return t.copy=function(){return gu(t,sQ()).constant(t.constant())},_l.apply(t,arguments)}function BI(){var t=AI(PC());return t.copy=function(){return gu(t,BI()).exponent(t.exponent())},_l.apply(t,arguments)}function c8e(){return BI.apply(null,arguments).exponent(.5)}function aQ(){var t=[],e=Xr;function n(r){if(r!=null&&!isNaN(r=+r))return e((F0(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Dc),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>Y6e(t,o/r))},n.copy=function(){return aQ(e).domain(t)},_l.apply(n,arguments)}function EC(){var t=0,e=.5,n=1,r=1,i,o,s,a,l,c=Xr,u,d=!1,f;function h(p){return isNaN(p=+p)?f:(p=.5+((p=+u(p))-o)*(r*p<r*o?a:l),c(d?Math.max(0,Math.min(1,p)):p))}h.domain=function(p){return arguments.length?([t,e,n]=p,i=u(t=+t),o=u(e=+e),s=u(n=+n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,h):[t,e,n]},h.clamp=function(p){return arguments.length?(d=!!p,h):d},h.interpolator=function(p){return arguments.length?(c=p,h):c};function m(p){return function(g){var b,y,w;return arguments.length?([b,y,w]=g,c=xHe(p,[b,y,w]),h):[c(0),c(.5),c(1)]}}return h.range=m(Cm),h.rangeRound=m(CI),h.unknown=function(p){return arguments.length?(f=p,h):f},function(p){return u=p,i=p(t),o=p(e),s=p(n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,h}}function lQ(){var t=mu(EC()(Xr));return t.copy=function(){return gu(t,lQ())},_l.apply(t,arguments)}function cQ(){var t=OI(EC()).domain([.1,1,10]);return t.copy=function(){return gu(t,cQ()).base(t.base())},_l.apply(t,arguments)}function uQ(){var t=TI(EC());return t.copy=function(){return gu(t,uQ()).constant(t.constant())},_l.apply(t,arguments)}function VI(){var t=AI(EC());return t.copy=function(){return gu(t,VI()).exponent(t.exponent())},_l.apply(t,arguments)}function u8e(){return VI.apply(null,arguments).exponent(.5)}const Z5=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Sy,scaleDiverging:lQ,scaleDivergingLog:cQ,scaleDivergingPow:VI,scaleDivergingSqrt:u8e,scaleDivergingSymlog:uQ,scaleIdentity:zJ,scaleImplicit:tM,scaleLinear:D1,scaleLog:HJ,scaleOrdinal:xI,scalePoint:Xg,scalePow:MI,scaleQuantile:GJ,scaleQuantize:KJ,scaleRadial:qJ,scaleSequential:iQ,scaleSequentialLog:oQ,scaleSequentialPow:BI,scaleSequentialQuantile:aQ,scaleSequentialSqrt:c8e,scaleSequentialSymlog:sQ,scaleSqrt:HHe,scaleSymlog:WJ,scaleThreshold:YJ,scaleTime:a8e,scaleUtc:l8e,tickFormat:VJ},Symbol.toStringTag,{value:"Module"}));var d8e=mm;function f8e(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],s=e(o);if(s!=null&&(a===void 0?s===s&&!d8e(s):n(s,a)))var a=s,l=o}return l}var OC=f8e;function h8e(t,e){return t>e}var dQ=h8e,p8e=OC,m8e=dQ,g8e=_m;function v8e(t){return t&&t.length?p8e(t,g8e,m8e):void 0}var y8e=v8e;const TC=At(y8e);function b8e(t,e){return t<e}var fQ=b8e,w8e=OC,x8e=fQ,S8e=_m;function _8e(t){return t&&t.length?w8e(t,S8e,x8e):void 0}var C8e=_8e;const AC=At(C8e);var k8e=tI,P8e=va,E8e=wJ,O8e=ki;function T8e(t,e){var n=O8e(t)?k8e:E8e;return n(t,P8e(e))}var A8e=T8e,M8e=yJ,N8e=A8e;function D8e(t,e){return M8e(N8e(t,e),1)}var R8e=D8e;const $8e=At(R8e);var I8e=gI;function j8e(t,e){return I8e(t,e)}var L8e=j8e;const U0=At(L8e);var km=1e9,F8e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},UI,cn=!0,Oo="[DecimalError] ",xd=Oo+"Invalid argument: ",zI=Oo+"Exponent out of range: ",Pm=Math.floor,Nu=Math.pow,B8e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Fi,qn=1e7,nn=7,hQ=9007199254740991,j1=Pm(hQ/nn),be={};be.absoluteValue=be.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};be.comparedTo=be.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};be.decimalPlaces=be.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*nn;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};be.dividedBy=be.div=function(t){return Za(this,new this.constructor(t))};be.dividedToIntegerBy=be.idiv=function(t){var e=this,n=e.constructor;return zt(Za(e,new n(t),0,1),n.precision)};be.equals=be.eq=function(t){return!this.cmp(t)};be.exponent=function(){return Dn(this)};be.greaterThan=be.gt=function(t){return this.cmp(t)>0};be.greaterThanOrEqualTo=be.gte=function(t){return this.cmp(t)>=0};be.isInteger=be.isint=function(){return this.e>this.d.length-2};be.isNegative=be.isneg=function(){return this.s<0};be.isPositive=be.ispos=function(){return this.s>0};be.isZero=function(){return this.s===0};be.lessThan=be.lt=function(t){return this.cmp(t)<0};be.lessThanOrEqualTo=be.lte=function(t){return this.cmp(t)<1};be.logarithm=be.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Fi))throw Error(Oo+"NaN");if(n.s<1)throw Error(Oo+(n.s?"NaN":"-Infinity"));return n.eq(Fi)?new r(0):(cn=!1,e=Za(Ey(n,o),Ey(t,o),o),cn=!0,zt(e,i))};be.minus=be.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?gQ(e,t):pQ(e,(t.s=-t.s,t))};be.modulo=be.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Oo+"NaN");return n.s?(cn=!1,e=Za(n,t,0,1).times(t),cn=!0,n.minus(e)):zt(new r(n),i)};be.naturalExponential=be.exp=function(){return mQ(this)};be.naturalLogarithm=be.ln=function(){return Ey(this)};be.negated=be.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};be.plus=be.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?pQ(e,t):gQ(e,(t.s=-t.s,t))};be.precision=be.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(xd+t);if(e=Dn(i)+1,r=i.d.length-1,n=r*nn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};be.squareRoot=be.sqrt=function(){var t,e,n,r,i,o,s,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(Oo+"NaN")}for(t=Dn(a),cn=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=Vs(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Pm((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(o=r,r=o.plus(Za(a,o,s+2)).times(.5),Vs(o.d).slice(0,s)===(e=Vs(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(zt(o,n+1,0),o.times(o).eq(a)){r=o;break}}else if(e!="9999")break;s+=4}return cn=!0,zt(r,n)};be.times=be.mul=function(t){var e,n,r,i,o,s,a,l,c,u=this,d=u.constructor,f=u.d,h=(t=new d(t)).d;if(!u.s||!t.s)return new d(0);for(t.s*=u.s,n=u.e+t.e,l=f.length,c=h.length,l<c&&(o=f,f=h,h=o,s=l,l=c,c=s),o=[],s=l+c,r=s;r--;)o.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)a=o[i]+h[r]*f[i-r-1]+e,o[i--]=a%qn|0,e=a/qn|0;o[i]=(o[i]+e)%qn|0}for(;!o[--s];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,cn?zt(t,d.precision):t};be.toDecimalPlaces=be.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ca(t,0,km),e===void 0?e=r.rounding:ca(e,0,8),zt(n,t+Dn(n)+1,e))};be.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=zd(r,!0):(ca(t,0,km),e===void 0?e=i.rounding:ca(e,0,8),r=zt(new i(r),t+1,e),n=zd(r,!0,t+1)),n};be.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?zd(i):(ca(t,0,km),e===void 0?e=o.rounding:ca(e,0,8),r=zt(new o(i),t+Dn(i)+1,e),n=zd(r.abs(),!1,t+Dn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};be.toInteger=be.toint=function(){var t=this,e=t.constructor;return zt(new e(t),Dn(t)+1,e.rounding)};be.toNumber=function(){return+this};be.toPower=be.pow=function(t){var e,n,r,i,o,s,a=this,l=a.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(Fi);if(a=new l(a),!a.s){if(t.s<1)throw Error(Oo+"Infinity");return a}if(a.eq(Fi))return a;if(r=l.precision,t.eq(Fi))return zt(a,r);if(e=t.e,n=t.d.length-1,s=e>=n,o=a.s,s){if((n=u<0?-u:u)<=hQ){for(i=new l(Fi),e=Math.ceil(r/nn+4),cn=!1;n%2&&(i=i.times(a),Q5(i.d,e)),n=Pm(n/2),n!==0;)a=a.times(a),Q5(a.d,e);return cn=!0,t.s<0?new l(Fi).div(i):zt(i,r)}}else if(o<0)throw Error(Oo+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,cn=!1,i=t.times(Ey(a,r+c)),cn=!0,i=mQ(i),i.s=o,i};be.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=Dn(i),r=zd(i,n<=o.toExpNeg||n>=o.toExpPos)):(ca(t,1,km),e===void 0?e=o.rounding:ca(e,0,8),i=zt(new o(i),t,e),n=Dn(i),r=zd(i,t<=n||n<=o.toExpNeg,t)),r};be.toSignificantDigits=be.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ca(t,1,km),e===void 0?e=r.rounding:ca(e,0,8)),zt(new r(n),t,e)};be.toString=be.valueOf=be.val=be.toJSON=be[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Dn(t),n=t.constructor;return zd(t,e<=n.toExpNeg||e>=n.toExpPos)};function pQ(t,e){var n,r,i,o,s,a,l,c,u=t.constructor,d=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),cn?zt(e,d):e;if(l=t.d,c=e.d,s=t.e,i=e.e,l=l.slice(),o=s-i,o){for(o<0?(r=l,o=-o,a=c.length):(r=c,i=s,a=l.length),s=Math.ceil(d/nn),a=s>a?s+1:a+1,o>a&&(o=a,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(a=l.length,o=c.length,a-o<0&&(o=a,r=c,c=l,l=r),n=0;o;)n=(l[--o]=l[o]+c[o]+n)/qn|0,l[o]%=qn;for(n&&(l.unshift(n),++i),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=i,cn?zt(e,d):e}function ca(t,e,n){if(t!==~~t||t<e||t>n)throw Error(xd+t)}function Vs(t){var e,n,r,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)r=t[e]+"",n=nn-r.length,n&&(o+=ql(n)),o+=r;s=t[e],r=s+"",n=nn-r.length,n&&(o+=ql(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var Za=function(){function t(r,i){var o,s=0,a=r.length;for(r=r.slice();a--;)o=r[a]*i+s,r[a]=o%qn|0,s=o/qn|0;return s&&r.unshift(s),r}function e(r,i,o,s){var a,l;if(o!=s)l=o>s?1:-1;else for(a=l=0;a<o;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*qn+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var a,l,c,u,d,f,h,m,p,g,b,y,w,_,S,C,k,E,T=r.constructor,M=r.s==i.s?1:-1,D=r.d,N=i.d;if(!r.s)return new T(r);if(!i.s)throw Error(Oo+"Division by zero");for(l=r.e-i.e,k=N.length,S=D.length,h=new T(M),m=h.d=[],c=0;N[c]==(D[c]||0);)++c;if(N[c]>(D[c]||0)&&--l,o==null?y=o=T.precision:s?y=o+(Dn(r)-Dn(i))+1:y=o,y<0)return new T(0);if(y=y/nn+2|0,c=0,k==1)for(u=0,N=N[0],y++;(c<S||u)&&y--;c++)w=u*qn+(D[c]||0),m[c]=w/N|0,u=w%N|0;else{for(u=qn/(N[0]+1)|0,u>1&&(N=t(N,u),D=t(D,u),k=N.length,S=D.length),_=k,p=D.slice(0,k),g=p.length;g<k;)p[g++]=0;E=N.slice(),E.unshift(0),C=N[0],N[1]>=qn/2&&++C;do u=0,a=e(N,p,k,g),a<0?(b=p[0],k!=g&&(b=b*qn+(p[1]||0)),u=b/C|0,u>1?(u>=qn&&(u=qn-1),d=t(N,u),f=d.length,g=p.length,a=e(d,p,f,g),a==1&&(u--,n(d,k<f?E:N,f))):(u==0&&(a=u=1),d=N.slice()),f=d.length,f<g&&d.unshift(0),n(p,d,g),a==-1&&(g=p.length,a=e(N,p,k,g),a<1&&(u++,n(p,k<g?E:N,g))),g=p.length):a===0&&(u++,p=[0]),m[c++]=u,a&&p[0]?p[g++]=D[_]||0:(p=[D[_]],g=1);while((_++<S||p[0]!==void 0)&&y--)}return m[0]||m.shift(),h.e=l,zt(h,s?o+Dn(h)+1:o)}}();function mQ(t,e){var n,r,i,o,s,a,l=0,c=0,u=t.constructor,d=u.precision;if(Dn(t)>16)throw Error(zI+Dn(t));if(!t.s)return new u(Fi);for(cn=!1,a=d,s=new u(.03125);t.abs().gte(.1);)t=t.times(s),c+=5;for(r=Math.log(Nu(2,c))/Math.LN10*2+5|0,a+=r,n=i=o=new u(Fi),u.precision=a;;){if(i=zt(i.times(t),a),n=n.times(++l),s=o.plus(Za(i,n,a)),Vs(s.d).slice(0,a)===Vs(o.d).slice(0,a)){for(;c--;)o=zt(o.times(o),a);return u.precision=d,e==null?(cn=!0,zt(o,d)):o}o=s}}function Dn(t){for(var e=t.e*nn,n=t.d[0];n>=10;n/=10)e++;return e}function hE(t,e,n){if(e>t.LN10.sd())throw cn=!0,n&&(t.precision=n),Error(Oo+"LN10 precision limit exceeded");return zt(new t(t.LN10),e)}function ql(t){for(var e="";t--;)e+="0";return e}function Ey(t,e){var n,r,i,o,s,a,l,c,u,d=1,f=10,h=t,m=h.d,p=h.constructor,g=p.precision;if(h.s<1)throw Error(Oo+(h.s?"NaN":"-Infinity"));if(h.eq(Fi))return new p(0);if(e==null?(cn=!1,c=g):c=e,h.eq(10))return e==null&&(cn=!0),hE(p,c);if(c+=f,p.precision=c,n=Vs(m),r=n.charAt(0),o=Dn(h),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)h=h.times(t),n=Vs(h.d),r=n.charAt(0),d++;o=Dn(h),r>1?(h=new p("0."+n),o++):h=new p(r+"."+n.slice(1))}else return l=hE(p,c+2,g).times(o+""),h=Ey(new p(r+"."+n.slice(1)),c-f).plus(l),p.precision=g,e==null?(cn=!0,zt(h,g)):h;for(a=s=h=Za(h.minus(Fi),h.plus(Fi),c),u=zt(h.times(h),c),i=3;;){if(s=zt(s.times(u),c),l=a.plus(Za(s,new p(i),c)),Vs(l.d).slice(0,c)===Vs(a.d).slice(0,c))return a=a.times(2),o!==0&&(a=a.plus(hE(p,c+2,g).times(o+""))),a=Za(a,new p(d),c),p.precision=g,e==null?(cn=!0,zt(a,g)):a;a=l,i+=2}}function J5(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Pm(n/nn),t.d=[],r=(n+1)%nn,n<0&&(r+=nn),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=nn;r<i;)t.d.push(+e.slice(r,r+=nn));e=e.slice(r),r=nn-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),cn&&(t.e>j1||t.e<-j1))throw Error(zI+n)}else t.s=0,t.e=0,t.d=[0];return t}function zt(t,e,n){var r,i,o,s,a,l,c,u,d=t.d;for(s=1,o=d[0];o>=10;o/=10)s++;if(r=e-s,r<0)r+=nn,i=e,c=d[u=0];else{if(u=Math.ceil((r+1)/nn),o=d.length,u>=o)return t;for(c=o=d[u],s=1;o>=10;o/=10)s++;r%=nn,i=r-nn+s}if(n!==void 0&&(o=Nu(10,s-i-1),a=c/o%10|0,l=e<0||d[u+1]!==void 0||c%o,l=n<4?(a||l)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||l||n==6&&(r>0?i>0?c/Nu(10,s-i):0:d[u-1])%10&1||n==(t.s<0?8:7))),e<1||!d[0])return l?(o=Dn(t),d.length=1,e=e-o-1,d[0]=Nu(10,(nn-e%nn)%nn),t.e=Pm(-e/nn)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(r==0?(d.length=u,o=1,u--):(d.length=u+1,o=Nu(10,nn-r),d[u]=i>0?(c/Nu(10,s-i)%Nu(10,i)|0)*o:0),l)for(;;)if(u==0){(d[0]+=o)==qn&&(d[0]=1,++t.e);break}else{if(d[u]+=o,d[u]!=qn)break;d[u--]=0,o=1}for(r=d.length;d[--r]===0;)d.pop();if(cn&&(t.e>j1||t.e<-j1))throw Error(zI+Dn(t));return t}function gQ(t,e){var n,r,i,o,s,a,l,c,u,d,f=t.constructor,h=f.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new f(t),cn?zt(e,h):e;if(l=t.d,d=e.d,r=e.e,c=t.e,l=l.slice(),s=c-r,s){for(u=s<0,u?(n=l,s=-s,a=d.length):(n=d,r=c,a=l.length),i=Math.max(Math.ceil(h/nn),a)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,a=d.length,u=i<a,u&&(a=i),i=0;i<a;i++)if(l[i]!=d[i]){u=l[i]<d[i];break}s=0}for(u&&(n=l,l=d,d=n,e.s=-e.s),a=l.length,i=d.length-a;i>0;--i)l[a++]=0;for(i=d.length;i>s;){if(l[--i]<d[i]){for(o=i;o&&l[--o]===0;)l[o]=qn-1;--l[o],l[i]+=qn}l[i]-=d[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,cn?zt(e,h):e):new f(0)}function zd(t,e,n){var r,i=Dn(t),o=Vs(t.d),s=o.length;return e?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+ql(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+ql(-i-1)+o,n&&(r=n-s)>0&&(o+=ql(r))):i>=s?(o+=ql(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+ql(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=ql(r))),t.s<0?"-"+o:o}function Q5(t,e){if(t.length>e)return t.length=e,!0}function vQ(t){var e,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(xd+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return J5(s,o.toString())}else if(typeof o!="string")throw Error(xd+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,B8e.test(o))J5(s,o);else throw Error(xd+o)}if(i.prototype=be,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=vQ,i.config=i.set=V8e,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function V8e(t){if(!t||typeof t!="object")throw Error(Oo+"Object expected");var e,n,r,i=["precision",1,km,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Pm(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(xd+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(xd+n+": "+r);return this}var UI=vQ(F8e);Fi=new UI(1);const Lt=UI;function z8e(t){return q8e(t)||W8e(t)||H8e(t)||U8e()}function U8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H8e(t,e){if(t){if(typeof t=="string")return oM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oM(t,e)}}function W8e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function q8e(t){if(Array.isArray(t))return oM(t)}function oM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var G8e=function(e){return e},yQ={},bQ=function(e){return e===yQ},ez=function(e){return function n(){return arguments.length===0||arguments.length===1&&bQ(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},K8e=function t(e,n){return e===1?n:ez(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i.filter(function(a){return a!==yQ}).length;return s>=e?n.apply(void 0,i):t(e-s,ez(function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];var u=i.map(function(d){return bQ(d)?l.shift():d});return n.apply(void 0,z8e(u).concat(l))}))})},MC=function(e){return K8e(e.length,e)},sM=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},Y8e=MC(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),X8e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return G8e;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(a,l){return l(a)},o.apply(void 0,arguments))}},aM=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},wQ=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n&&o.every(function(a,l){return a===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function Z8e(t){var e;return t===0?e=1:e=Math.floor(new Lt(t).abs().log(10).toNumber())+1,e}function J8e(t,e,n){for(var r=new Lt(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var Q8e=MC(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),e9e=MC(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),t9e=MC(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const NC={rangeStep:J8e,getDigitCount:Z8e,interpolateNumber:Q8e,uninterpolateNumber:e9e,uninterpolateTruncation:t9e};function lM(t){return i9e(t)||r9e(t)||xQ(t)||n9e()}function n9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r9e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function i9e(t){if(Array.isArray(t))return cM(t)}function Oy(t,e){return a9e(t)||s9e(t,e)||xQ(t,e)||o9e()}function o9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xQ(t,e){if(t){if(typeof t=="string")return cM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cM(t,e)}}function cM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function s9e(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var s=t[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw o}}return n}}function a9e(t){if(Array.isArray(t))return t}function SQ(t){var e=Oy(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function _Q(t,e,n){if(t.lte(0))return new Lt(0);var r=NC.getDigitCount(t.toNumber()),i=new Lt(10).pow(r),o=t.div(i),s=r!==1?.05:.1,a=new Lt(Math.ceil(o.div(s).toNumber())).add(n).mul(s),l=a.mul(i);return e?l:new Lt(Math.ceil(l))}function l9e(t,e,n){var r=1,i=new Lt(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Lt(10).pow(NC.getDigitCount(t)-1),i=new Lt(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Lt(Math.floor(t)))}else t===0?i=new Lt(Math.floor((e-1)/2)):n||(i=new Lt(Math.floor(t)));var s=Math.floor((e-1)/2),a=X8e(Y8e(function(l){return i.add(new Lt(l-s).mul(r)).toNumber()}),sM);return a(0,e)}function CQ(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Lt(0),tickMin:new Lt(0),tickMax:new Lt(0)};var o=_Q(new Lt(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new Lt(0):(s=new Lt(t).add(e).div(2),s=s.sub(new Lt(s).mod(o)));var a=Math.ceil(s.sub(t).div(o).toNumber()),l=Math.ceil(new Lt(e).sub(s).div(o).toNumber()),c=a+l+1;return c>n?CQ(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,a=e>0?a:a+(n-c)),{step:o,tickMin:s.sub(new Lt(a).mul(o)),tickMax:s.add(new Lt(l).mul(o))})}function c9e(t){var e=Oy(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),a=SQ([n,r]),l=Oy(a,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var d=u===1/0?[c].concat(lM(sM(0,i-1).map(function(){return 1/0}))):[].concat(lM(sM(0,i-1).map(function(){return-1/0})),[u]);return n>r?aM(d):d}if(c===u)return l9e(c,i,o);var f=CQ(c,u,s,o),h=f.step,m=f.tickMin,p=f.tickMax,g=NC.rangeStep(m,p.add(new Lt(.1).mul(h)),h);return n>r?aM(g):g}function u9e(t,e){var n=Oy(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=SQ([r,i]),a=Oy(s,2),l=a[0],c=a[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var u=Math.max(e,2),d=_Q(new Lt(c).sub(l).div(u-1),o,0),f=[].concat(lM(NC.rangeStep(new Lt(l),new Lt(c).sub(new Lt(.99).mul(d)),d)),[c]);return r>i?aM(f):f}var d9e=wQ(c9e),f9e=wQ(u9e),h9e="Invariant failed";function Ud(t,e){throw new Error(h9e)}var p9e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Mp(t){"@babel/helpers - typeof";return Mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mp(t)}function L1(){return L1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L1.apply(this,arguments)}function m9e(t,e){return b9e(t)||y9e(t,e)||v9e(t,e)||g9e()}function g9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v9e(t,e){if(t){if(typeof t=="string")return tz(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tz(t,e)}}function tz(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function y9e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function b9e(t){if(Array.isArray(t))return t}function w9e(t,e){if(t==null)return{};var n=x9e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function x9e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function S9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _9e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,EQ(r.key),r)}}function C9e(t,e,n){return e&&_9e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function k9e(t,e,n){return e=F1(e),P9e(t,kQ()?Reflect.construct(e,n||[],F1(t).constructor):e.apply(t,n))}function P9e(t,e){if(e&&(Mp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E9e(t)}function E9e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kQ=function(){return!!t})()}function F1(t){return F1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},F1(t)}function O9e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uM(t,e)}function uM(t,e){return uM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},uM(t,e)}function PQ(t,e,n){return e=EQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EQ(t){var e=T9e(t,"string");return Mp(e)=="symbol"?e:e+""}function T9e(t,e){if(Mp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var H0=function(t){function e(){return S9e(this,e),k9e(this,e,arguments)}return O9e(e,t),C9e(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,s=r.width,a=r.dataKey,l=r.data,c=r.dataPointFormatter,u=r.xAxis,d=r.yAxis,f=w9e(r,p9e),h=Me(f,!1);this.props.direction==="x"&&u.type!=="number"&&Ud();var m=l.map(function(p){var g=c(p,a),b=g.x,y=g.y,w=g.value,_=g.errorVal;if(!_)return null;var S=[],C,k;if(Array.isArray(_)){var E=m9e(_,2);C=E[0],k=E[1]}else C=k=_;if(o==="vertical"){var T=u.scale,M=y+i,D=M+s,N=M-s,L=T(w-C),I=T(w+k);S.push({x1:I,y1:D,x2:I,y2:N}),S.push({x1:L,y1:M,x2:I,y2:M}),S.push({x1:L,y1:D,x2:L,y2:N})}else if(o==="horizontal"){var z=d.scale,V=b+i,j=V-s,R=V+s,$=z(w-C),H=z(w+k);S.push({x1:j,y1:H,x2:R,y2:H}),S.push({x1:V,y1:$,x2:V,y2:H}),S.push({x1:j,y1:$,x2:R,y2:$})}return A.createElement(xt,L1({className:"recharts-errorBar",key:"bar-".concat(S.map(function(Y){return"".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))},h),S.map(function(Y){return A.createElement("line",L1({},Y,{key:"line-".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))}))});return A.createElement(xt,{className:"recharts-errorBars"},m)}}])}(A.Component);PQ(H0,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});PQ(H0,"displayName","ErrorBar");function Ty(t){"@babel/helpers - typeof";return Ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ty(t)}function nz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Su(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nz(Object(n),!0).forEach(function(r){A9e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function A9e(t,e,n){return e=M9e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M9e(t){var e=N9e(t,"string");return Ty(e)=="symbol"?e:e+""}function N9e(t,e){if(Ty(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ty(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OQ=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,s=Ni(n,Er);if(!s)return null;var a=Er.defaultProps,l=a!==void 0?Su(Su({},a),s.props):{},c;return s.props&&s.props.payload?c=s.props&&s.props.payload:o==="children"?c=(r||[]).reduce(function(u,d){var f=d.item,h=d.props,m=h.sectors||h.data||[];return u.concat(m.map(function(p){return{type:s.props.iconType||f.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):c=(r||[]).map(function(u){var d=u.item,f=d.type.defaultProps,h=f!==void 0?Su(Su({},f),d.props):{},m=h.dataKey,p=h.name,g=h.legendType,b=h.hide;return{inactive:b,dataKey:m,type:l.iconType||g||"square",color:HI(d),value:p||m,payload:h}}),Su(Su(Su({},l),Er.getWithHeight(s,i)),{},{payload:c,item:s})};function Ay(t){"@babel/helpers - typeof";return Ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ay(t)}function rz(t){return I9e(t)||$9e(t)||R9e(t)||D9e()}function D9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R9e(t,e){if(t){if(typeof t=="string")return dM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dM(t,e)}}function $9e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function I9e(t){if(Array.isArray(t))return dM(t)}function dM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function iz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iz(Object(n),!0).forEach(function(r){Oh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oh(t,e,n){return e=j9e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j9e(t){var e=L9e(t,"string");return Ay(e)=="symbol"?e:e+""}function L9e(t,e){if(Ay(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ay(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bn(t,e,n){return Je(t)||Je(e)?n:zn(e)?Gi(t,e,n):ze(e)?e(t):n}function Zg(t,e,n,r){var i=$8e(t,function(a){return Bn(a,e)});if(n==="number"){var o=i.filter(function(a){return ce(a)||parseFloat(a)});return o.length?[AC(o),TC(o)]:[1/0,-1/0]}var s=r?i.filter(function(a){return!Je(a)}):i;return s.map(function(a){return zn(a)||a instanceof Date?a:""})}var F9e=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,a=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(a<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,c=0;c<a;c++){var u=c>0?i[c-1].coordinate:i[a-1].coordinate,d=i[c].coordinate,f=c>=a-1?i[0].coordinate:i[c+1].coordinate,h=void 0;if(Kr(d-u)!==Kr(f-d)){var m=[];if(Kr(f-d)===Kr(l[1]-l[0])){h=f;var p=d+l[1]-l[0];m[0]=Math.min(p,(p+u)/2),m[1]=Math.max(p,(p+u)/2)}else{h=u;var g=f+l[1]-l[0];m[0]=Math.min(d,(g+d)/2),m[1]=Math.max(d,(g+d)/2)}var b=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>b[0]&&e<=b[1]||e>=m[0]&&e<=m[1]){s=i[c].index;break}}else{var y=Math.min(u,f),w=Math.max(u,f);if(e>(y+d)/2&&e<=(w+d)/2){s=i[c].index;break}}}else for(var _=0;_<a;_++)if(_===0&&e<=(r[_].coordinate+r[_+1].coordinate)/2||_>0&&_<a-1&&e>(r[_].coordinate+r[_-1].coordinate)/2&&e<=(r[_].coordinate+r[_+1].coordinate)/2||_===a-1&&e>(r[_].coordinate+r[_-1].coordinate)/2){s=r[_].index;break}return s},HI=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?wn(wn({},e.type.defaultProps),e.props):e.props,s=o.stroke,a=o.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:a;break;default:l=a;break}return l},B9e=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var s={},a=Object.keys(o),l=0,c=a.length;l<c;l++)for(var u=o[a[l]].stackGroups,d=Object.keys(u),f=0,h=d.length;f<h;f++){var m=u[d[f]],p=m.items,g=m.cateAxisId,b=p.filter(function(k){return Xa(k.type).indexOf("Bar")>=0});if(b&&b.length){var y=b[0].type.defaultProps,w=y!==void 0?wn(wn({},y),b[0].props):b[0].props,_=w.barSize,S=w[g];s[S]||(s[S]=[]);var C=Je(_)?n:_;s[S].push({item:b[0],stackList:b.slice(1),barSize:Je(C)?void 0:Yr(C,r,0)})}}return s},V9e=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,s=o===void 0?[]:o,a=e.maxBarSize,l=s.length;if(l<1)return null;var c=Yr(n,i,0,!0),u,d=[];if(s[0].barSize===+s[0].barSize){var f=!1,h=i/l,m=s.reduce(function(_,S){return _+S.barSize||0},0);m+=(l-1)*c,m>=i&&(m-=(l-1)*c,c=0),m>=i&&h>0&&(f=!0,h*=.9,m=l*h);var p=(i-m)/2>>0,g={offset:p-c,size:0};u=s.reduce(function(_,S){var C={item:S.item,position:{offset:g.offset+g.size+c,size:f?h:S.barSize}},k=[].concat(rz(_),[C]);return g=k[k.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(E){k.push({item:E,position:g})}),k},d)}else{var b=Yr(r,i,0,!0);i-2*b-(l-1)*c<=0&&(c=0);var y=(i-2*b-(l-1)*c)/l;y>1&&(y>>=0);var w=a===+a?Math.min(y,a):y;u=s.reduce(function(_,S,C){var k=[].concat(rz(_),[{item:S.item,position:{offset:b+(y+c)*C+(y-w)/2,size:w}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(E){k.push({item:E,position:k[k.length-1].position})}),k},d)}return u},z9e=function(e,n,r,i){var o=r.children,s=r.width,a=r.margin,l=s-(a.left||0)-(a.right||0),c=OQ({children:o,legendWidth:l});if(c){var u=i||{},d=u.width,f=u.height,h=c.align,m=c.verticalAlign,p=c.layout;if((p==="vertical"||p==="horizontal"&&m==="middle")&&h!=="center"&&ce(e[h]))return wn(wn({},e),{},Oh({},h,e[h]+(d||0)));if((p==="horizontal"||p==="vertical"&&h==="center")&&m!=="middle"&&ce(e[m]))return wn(wn({},e),{},Oh({},m,e[m]+(f||0)))}return e},U9e=function(e,n,r){return Je(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},TQ=function(e,n,r,i,o){var s=n.props.children,a=Ki(s,H0).filter(function(c){return U9e(i,o,c.props.direction)});if(a&&a.length){var l=a.map(function(c){return c.props.dataKey});return e.reduce(function(c,u){var d=Bn(u,r);if(Je(d))return c;var f=Array.isArray(d)?[AC(d),TC(d)]:[d,d],h=l.reduce(function(m,p){var g=Bn(u,p,0),b=f[0]-Math.abs(Array.isArray(g)?g[0]:g),y=f[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(b,m[0]),Math.max(y,m[1])]},[1/0,-1/0]);return[Math.min(h[0],c[0]),Math.max(h[1],c[1])]},[1/0,-1/0])}return null},H9e=function(e,n,r,i,o){var s=n.map(function(a){return TQ(e,a,r,o,i)}).filter(function(a){return!Je(a)});return s&&s.length?s.reduce(function(a,l){return[Math.min(a[0],l[0]),Math.max(a[1],l[1])]},[1/0,-1/0]):null},AQ=function(e,n,r,i,o){var s=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&TQ(e,l,c,i)||Zg(e,c,r,o)});if(r==="number")return s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var a={};return s.reduce(function(l,c){for(var u=0,d=c.length;u<d;u++)a[c[u]]||(a[c[u]]=!0,l.push(c[u]));return l},[])},MQ=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},NQ=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,s,a=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(s=!0),l.coordinate});return o||a.push(n),s||a.push(r),a},Ha=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,s=e.type,a=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?Kr(a[0]-a[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(d){var f=o?o.indexOf(d):d;return{coordinate:i(f)+c,value:d,offset:c}});return u.filter(function(d){return!j0(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,f){return{coordinate:i(d)+c,value:d,index:f,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+c,value:d,offset:c}}):i.domain().map(function(d,f){return{coordinate:i(d)+c,value:o?o[d]:d,index:f,offset:c}})},pE=new WeakMap,Jb=function(e,n){if(typeof n!="function")return e;pE.has(e)||pE.set(e,new WeakMap);var r=pE.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},DQ=function(e,n,r){var i=e.scale,o=e.type,s=e.layout,a=e.axisType;if(i==="auto")return s==="radial"&&a==="radiusAxis"?{scale:Sy(),realScaleType:"band"}:s==="radial"&&a==="angleAxis"?{scale:D1(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Xg(),realScaleType:"point"}:o==="category"?{scale:Sy(),realScaleType:"band"}:{scale:D1(),realScaleType:"linear"};if(I0(i)){var l="scale".concat(mC(i));return{scale:(Z5[l]||Xg)(),realScaleType:Z5[l]?l:"point"}}return ze(i)?{scale:i}:{scale:Xg(),realScaleType:"point"}},oz=1e-4,RQ=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-oz,s=Math.max(i[0],i[1])+oz,a=e(n[0]),l=e(n[r-1]);(a<o||a>s||l<o||l>s)&&e.domain([n[0],n[r-1]])}},W9e=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},q9e=function(e,n){if(!n||n.length!==2||!ce(n[0])||!ce(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!ce(e[0])||e[0]<r)&&(o[0]=r),(!ce(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},G9e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0,a=0;a<n;++a){var l=j0(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=o,e[a][r][1]=o+l,o=e[a][r][1]):(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1])}},K9e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0;s<n;++s){var a=j0(e[s][r][1])?e[s][r][0]:e[s][r][1];a>=0?(e[s][r][0]=o,e[s][r][1]=o+a,o=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},Y9e={sign:G9e,expand:pLe,none:_p,silhouette:mLe,wiggle:gLe,positive:K9e},X9e=function(e,n,r){var i=n.map(function(a){return a.props.dataKey}),o=Y9e[r],s=hLe().keys(i).value(function(a,l){return+Bn(a,l,0)}).order(IA).offset(o);return s(e)},Z9e=function(e,n,r,i,o,s){if(!e)return null;var a=s?n.reverse():n,l={},c=a.reduce(function(d,f){var h,m=(h=f.type)!==null&&h!==void 0&&h.defaultProps?wn(wn({},f.type.defaultProps),f.props):f.props,p=m.stackId,g=m.hide;if(g)return d;var b=m[r],y=d[b]||{hasStack:!1,stackGroups:{}};if(zn(p)){var w=y.stackGroups[p]||{numericAxisId:r,cateAxisId:i,items:[]};w.items.push(f),y.hasStack=!0,y.stackGroups[p]=w}else y.stackGroups[wm("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[f]};return wn(wn({},d),{},Oh({},b,y))},l),u={};return Object.keys(c).reduce(function(d,f){var h=c[f];if(h.hasStack){var m={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(p,g){var b=h.stackGroups[g];return wn(wn({},p),{},Oh({},g,{numericAxisId:r,cateAxisId:i,items:b.items,stackedData:X9e(e,b.items,o)}))},m)}return wn(wn({},d),{},Oh({},f,h))},u)},$Q=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,s=n.originalDomain,a=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=e.domain();if(!c.length)return null;var u=d9e(c,o,a);return e.domain([AC(u),TC(u)]),{niceTicks:u}}if(o&&i==="number"){var d=e.domain(),f=f9e(d,o,a);return{niceTicks:f}}return null};function sz(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Je(i[e.dataKey])){var a=f1(n,"value",i[e.dataKey]);if(a)return a.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=Bn(i,Je(s)?e.dataKey:s);return Je(l)?null:e.scale(l)}var az=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,s=e.entry,a=e.index;if(n.type==="category")return r[a]?r[a].coordinate+i:null;var l=Bn(s,n.dataKey,n.domain[a]);return Je(l)?null:n.scale(l)-o/2+i},J9e=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},Q9e=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?wn(wn({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(zn(o)){var s=n[o];if(s){var a=s.items.indexOf(e);return a>=0?s.stackedData[a]:null}}return null},eqe=function(e){return e.reduce(function(n,r){return[AC(r.concat([n[0]]).filter(ce)),TC(r.concat([n[1]]).filter(ce))]},[1/0,-1/0])},IQ=function(e,n,r){return Object.keys(e).reduce(function(i,o){var s=e[o],a=s.stackedData,l=a.reduce(function(c,u){var d=eqe(u.slice(n,r+1));return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},lz=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,cz=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,fM=function(e,n,r){if(ze(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(ce(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(lz.test(e[0])){var o=+lz.exec(e[0])[1];i[0]=n[0]-o}else ze(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(ce(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(cz.test(e[1])){var s=+cz.exec(e[1])[1];i[1]=n[1]+s}else ze(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},B1=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=yI(n,function(d){return d.coordinate}),s=1/0,a=1,l=o.length;a<l;a++){var c=o[a],u=o[a-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},uz=function(e,n,r){return!e||!e.length||U0(e,Gi(r,"type.defaultProps.domain"))?n:e},jQ=function(e,n){var r=e.type.defaultProps?wn(wn({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,s=r.unit,a=r.formatter,l=r.tooltipType,c=r.chartType,u=r.hide;return wn(wn({},Me(e,!1)),{},{dataKey:i,unit:s,formatter:a,name:o||i,color:HI(e),value:Bn(n,i),type:l,payload:n,chartType:c,hide:u})};function My(t){"@babel/helpers - typeof";return My=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},My(t)}function dz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ta(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dz(Object(n),!0).forEach(function(r){LQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LQ(t,e,n){return e=tqe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tqe(t){var e=nqe(t,"string");return My(e)=="symbol"?e:e+""}function nqe(t,e){if(My(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(My(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rqe(t,e){return aqe(t)||sqe(t,e)||oqe(t,e)||iqe()}function iqe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oqe(t,e){if(t){if(typeof t=="string")return fz(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fz(t,e)}}function fz(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sqe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function aqe(t){if(Array.isArray(t))return t}var V1=Math.PI/180,lqe=function(e){return e*180/Math.PI},Kt=function(e,n,r,i){return{x:e+Math.cos(-V1*i)*r,y:n+Math.sin(-V1*i)*r}},FQ=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},cqe=function(e,n,r,i,o){var s=e.width,a=e.height,l=e.startAngle,c=e.endAngle,u=Yr(e.cx,s,s/2),d=Yr(e.cy,a,a/2),f=FQ(s,a,r),h=Yr(e.innerRadius,f,0),m=Yr(e.outerRadius,f,f*.8),p=Object.keys(n);return p.reduce(function(g,b){var y=n[b],w=y.domain,_=y.reversed,S;if(Je(y.range))i==="angleAxis"?S=[l,c]:i==="radiusAxis"&&(S=[h,m]),_&&(S=[S[1],S[0]]);else{S=y.range;var C=S,k=rqe(C,2);l=k[0],c=k[1]}var E=DQ(y,o),T=E.realScaleType,M=E.scale;M.domain(w).range(S),RQ(M);var D=$Q(M,Ta(Ta({},y),{},{realScaleType:T})),N=Ta(Ta(Ta({},y),D),{},{range:S,radius:m,realScaleType:T,scale:M,cx:u,cy:d,innerRadius:h,outerRadius:m,startAngle:l,endAngle:c});return Ta(Ta({},g),{},LQ({},b,N))},{})},uqe=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-s,2))},dqe=function(e,n){var r=e.x,i=e.y,o=n.cx,s=n.cy,a=uqe({x:r,y:i},{x:o,y:s});if(a<=0)return{radius:a};var l=(r-o)/a,c=Math.acos(l);return i>s&&(c=2*Math.PI-c),{radius:a,angle:lqe(c),angleInRadian:c}},fqe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return{startAngle:n-s*360,endAngle:r-s*360}},hqe=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),s=Math.floor(i/360),a=Math.min(o,s);return e+a*360},hz=function(e,n){var r=e.x,i=e.y,o=dqe({x:r,y:i},n),s=o.radius,a=o.angle,l=n.innerRadius,c=n.outerRadius;if(s<l||s>c)return!1;if(s===0)return!0;var u=fqe(n),d=u.startAngle,f=u.endAngle,h=a,m;if(d<=f){for(;h>f;)h-=360;for(;h<d;)h+=360;m=h>=d&&h<=f}else{for(;h>d;)h-=360;for(;h<f;)h+=360;m=h>=f&&h<=d}return m?Ta(Ta({},n),{},{radius:s,angle:hqe(h,n)}):null},BQ=function(e){return!x.isValidElement(e)&&!ze(e)&&typeof e!="boolean"?e.className:""};function Ny(t){"@babel/helpers - typeof";return Ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ny(t)}var pqe=["offset"];function mqe(t){return bqe(t)||yqe(t)||vqe(t)||gqe()}function gqe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vqe(t,e){if(t){if(typeof t=="string")return hM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hM(t,e)}}function yqe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bqe(t){if(Array.isArray(t))return hM(t)}function hM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wqe(t,e){if(t==null)return{};var n=xqe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xqe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function pz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $n(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pz(Object(n),!0).forEach(function(r){Sqe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sqe(t,e,n){return e=_qe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _qe(t){var e=Cqe(t,"string");return Ny(e)=="symbol"?e:e+""}function Cqe(t,e){if(Ny(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ny(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dy(){return Dy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dy.apply(this,arguments)}var kqe=function(e){var n=e.value,r=e.formatter,i=Je(e.children)?n:e.children;return ze(r)?r(i):i},Pqe=function(e,n){var r=Kr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Eqe=function(e,n,r){var i=e.position,o=e.viewBox,s=e.offset,a=e.className,l=o,c=l.cx,u=l.cy,d=l.innerRadius,f=l.outerRadius,h=l.startAngle,m=l.endAngle,p=l.clockWise,g=(d+f)/2,b=Pqe(h,m),y=b>=0?1:-1,w,_;i==="insideStart"?(w=h+y*s,_=p):i==="insideEnd"?(w=m-y*s,_=!p):i==="end"&&(w=m+y*s,_=p),_=b<=0?_:!_;var S=Kt(c,u,g,w),C=Kt(c,u,g,w+(_?1:-1)*359),k="M".concat(S.x,",").concat(S.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(_?0:1,`,
    `).concat(C.x,",").concat(C.y),E=Je(e.id)?wm("recharts-radial-line-"):e.id;return A.createElement("text",Dy({},r,{dominantBaseline:"central",className:tt("recharts-radial-bar-label",a)}),A.createElement("defs",null,A.createElement("path",{id:E,d:k})),A.createElement("textPath",{xlinkHref:"#".concat(E)},n))},Oqe=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,s=o.cx,a=o.cy,l=o.innerRadius,c=o.outerRadius,u=o.startAngle,d=o.endAngle,f=(u+d)/2;if(i==="outside"){var h=Kt(s,a,c+r,f),m=h.x,p=h.y;return{x:m,y:p,textAnchor:m>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"end"};var g=(l+c)/2,b=Kt(s,a,g,f),y=b.x,w=b.y;return{x:y,y:w,textAnchor:"middle",verticalAnchor:"middle"}},Tqe=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,s=n,a=s.x,l=s.y,c=s.width,u=s.height,d=u>=0?1:-1,f=d*i,h=d>0?"end":"start",m=d>0?"start":"end",p=c>=0?1:-1,g=p*i,b=p>0?"end":"start",y=p>0?"start":"end";if(o==="top"){var w={x:a+c/2,y:l-d*i,textAnchor:"middle",verticalAnchor:h};return $n($n({},w),r?{height:Math.max(l-r.y,0),width:c}:{})}if(o==="bottom"){var _={x:a+c/2,y:l+u+f,textAnchor:"middle",verticalAnchor:m};return $n($n({},_),r?{height:Math.max(r.y+r.height-(l+u),0),width:c}:{})}if(o==="left"){var S={x:a-g,y:l+u/2,textAnchor:b,verticalAnchor:"middle"};return $n($n({},S),r?{width:Math.max(S.x-r.x,0),height:u}:{})}if(o==="right"){var C={x:a+c+g,y:l+u/2,textAnchor:y,verticalAnchor:"middle"};return $n($n({},C),r?{width:Math.max(r.x+r.width-C.x,0),height:u}:{})}var k=r?{width:c,height:u}:{};return o==="insideLeft"?$n({x:a+g,y:l+u/2,textAnchor:y,verticalAnchor:"middle"},k):o==="insideRight"?$n({x:a+c-g,y:l+u/2,textAnchor:b,verticalAnchor:"middle"},k):o==="insideTop"?$n({x:a+c/2,y:l+f,textAnchor:"middle",verticalAnchor:m},k):o==="insideBottom"?$n({x:a+c/2,y:l+u-f,textAnchor:"middle",verticalAnchor:h},k):o==="insideTopLeft"?$n({x:a+g,y:l+f,textAnchor:y,verticalAnchor:m},k):o==="insideTopRight"?$n({x:a+c-g,y:l+f,textAnchor:b,verticalAnchor:m},k):o==="insideBottomLeft"?$n({x:a+g,y:l+u-f,textAnchor:y,verticalAnchor:h},k):o==="insideBottomRight"?$n({x:a+c-g,y:l+u-f,textAnchor:b,verticalAnchor:h},k):gm(o)&&(ce(o.x)||Yu(o.x))&&(ce(o.y)||Yu(o.y))?$n({x:a+Yr(o.x,c),y:l+Yr(o.y,u),textAnchor:"end",verticalAnchor:"end"},k):$n({x:a+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},k)},Aqe=function(e){return"cx"in e&&ce(e.cx)};function Yn(t){var e=t.offset,n=e===void 0?5:e,r=wqe(t,pqe),i=$n({offset:n},r),o=i.viewBox,s=i.position,a=i.value,l=i.children,c=i.content,u=i.className,d=u===void 0?"":u,f=i.textBreakAll;if(!o||Je(a)&&Je(l)&&!x.isValidElement(c)&&!ze(c))return null;if(x.isValidElement(c))return x.cloneElement(c,i);var h;if(ze(c)){if(h=x.createElement(c,i),x.isValidElement(h))return h}else h=kqe(i);var m=Aqe(o),p=Me(i,!0);if(m&&(s==="insideStart"||s==="insideEnd"||s==="end"))return Eqe(i,h,p);var g=m?Oqe(i):Tqe(i);return A.createElement(Vd,Dy({className:tt("recharts-label",d)},p,g,{breakAll:f}),h)}Yn.displayName="Label";var VQ=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,s=e.endAngle,a=e.r,l=e.radius,c=e.innerRadius,u=e.outerRadius,d=e.x,f=e.y,h=e.top,m=e.left,p=e.width,g=e.height,b=e.clockWise,y=e.labelViewBox;if(y)return y;if(ce(p)&&ce(g)){if(ce(d)&&ce(f))return{x:d,y:f,width:p,height:g};if(ce(h)&&ce(m))return{x:h,y:m,width:p,height:g}}return ce(d)&&ce(f)?{x:d,y:f,width:0,height:0}:ce(n)&&ce(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:s||i||0,innerRadius:c||0,outerRadius:u||l||a||0,clockWise:b}:e.viewBox?e.viewBox:{}},Mqe=function(e,n){return e?e===!0?A.createElement(Yn,{key:"label-implicit",viewBox:n}):zn(e)?A.createElement(Yn,{key:"label-implicit",viewBox:n,value:e}):x.isValidElement(e)?e.type===Yn?x.cloneElement(e,{key:"label-implicit",viewBox:n}):A.createElement(Yn,{key:"label-implicit",content:e,viewBox:n}):ze(e)?A.createElement(Yn,{key:"label-implicit",content:e,viewBox:n}):gm(e)?A.createElement(Yn,Dy({viewBox:n},e,{key:"label-implicit"})):null:null},Nqe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=VQ(e),s=Ki(i,Yn).map(function(l,c){return x.cloneElement(l,{viewBox:n||o,key:"label-".concat(c)})});if(!r)return s;var a=Mqe(e.label,n||o);return[a].concat(mqe(s))};Yn.parseViewBox=VQ;Yn.renderCallByParent=Nqe;function Dqe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Rqe=Dqe;const $qe=At(Rqe);function Ry(t){"@babel/helpers - typeof";return Ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ry(t)}var Iqe=["valueAccessor"],jqe=["data","dataKey","clockWise","id","textBreakAll"];function Lqe(t){return zqe(t)||Vqe(t)||Bqe(t)||Fqe()}function Fqe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bqe(t,e){if(t){if(typeof t=="string")return pM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pM(t,e)}}function Vqe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zqe(t){if(Array.isArray(t))return pM(t)}function pM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function z1(){return z1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z1.apply(this,arguments)}function mz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mz(Object(n),!0).forEach(function(r){Uqe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uqe(t,e,n){return e=Hqe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hqe(t){var e=Wqe(t,"string");return Ry(e)=="symbol"?e:e+""}function Wqe(t,e){if(Ry(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ry(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vz(t,e){if(t==null)return{};var n=qqe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qqe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Gqe=function(e){return Array.isArray(e.value)?$qe(e.value):e.value};function Ja(t){var e=t.valueAccessor,n=e===void 0?Gqe:e,r=vz(t,Iqe),i=r.data,o=r.dataKey,s=r.clockWise,a=r.id,l=r.textBreakAll,c=vz(r,jqe);return!i||!i.length?null:A.createElement(xt,{className:"recharts-label-list"},i.map(function(u,d){var f=Je(o)?n(u,d):Bn(u&&u.payload,o),h=Je(a)?{}:{id:"".concat(a,"-").concat(d)};return A.createElement(Yn,z1({},Me(u,!0),c,h,{parentViewBox:u.parentViewBox,value:f,textBreakAll:l,viewBox:Yn.parseViewBox(Je(s)?u:gz(gz({},u),{},{clockWise:s})),key:"label-".concat(d),index:d}))}))}Ja.displayName="LabelList";function Kqe(t,e){return t?t===!0?A.createElement(Ja,{key:"labelList-implicit",data:e}):A.isValidElement(t)||ze(t)?A.createElement(Ja,{key:"labelList-implicit",data:e,content:t}):gm(t)?A.createElement(Ja,z1({data:e},t,{key:"labelList-implicit"})):null:null}function Yqe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Ki(r,Ja).map(function(s,a){return x.cloneElement(s,{data:e,key:"labelList-".concat(a)})});if(!n)return i;var o=Kqe(t.label,e);return[o].concat(Lqe(i))}Ja.renderCallByParent=Yqe;function $y(t){"@babel/helpers - typeof";return $y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$y(t)}function mM(){return mM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mM.apply(this,arguments)}function yz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yz(Object(n),!0).forEach(function(r){Xqe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xqe(t,e,n){return e=Zqe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zqe(t){var e=Jqe(t,"string");return $y(e)=="symbol"?e:e+""}function Jqe(t,e){if($y(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($y(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qqe=function(e,n){var r=Kr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Qb=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,s=e.sign,a=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,u=l*(a?1:-1)+i,d=Math.asin(l/u)/V1,f=c?o:o+s*d,h=Kt(n,r,u,f),m=Kt(n,r,i,f),p=c?o-s*d:o,g=Kt(n,r,u*Math.cos(d*V1),p);return{center:h,circleTangency:m,lineTangency:g,theta:d}},zQ=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.startAngle,a=e.endAngle,l=Qqe(s,a),c=s+l,u=Kt(n,r,o,s),d=Kt(n,r,o,c),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var h=Kt(n,r,i,s),m=Kt(n,r,i,c);f+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(n,",").concat(r," Z");return f},eGe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.cornerRadius,a=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,u=e.endAngle,d=Kr(u-c),f=Qb({cx:n,cy:r,radius:o,angle:c,sign:d,cornerRadius:s,cornerIsExternal:l}),h=f.circleTangency,m=f.lineTangency,p=f.theta,g=Qb({cx:n,cy:r,radius:o,angle:u,sign:-d,cornerRadius:s,cornerIsExternal:l}),b=g.circleTangency,y=g.lineTangency,w=g.theta,_=l?Math.abs(c-u):Math.abs(c-u)-p-w;if(_<0)return a?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):zQ({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:c,endAngle:u});var S="M ".concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(_>180),",").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
  `);if(i>0){var C=Qb({cx:n,cy:r,radius:i,angle:c,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),k=C.circleTangency,E=C.lineTangency,T=C.theta,M=Qb({cx:n,cy:r,radius:i,angle:u,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),D=M.circleTangency,N=M.lineTangency,L=M.theta,I=l?Math.abs(c-u):Math.abs(c-u)-T-L;if(I<0&&s===0)return"".concat(S,"L").concat(n,",").concat(r,"Z");S+="L".concat(N.x,",").concat(N.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(I>180),",").concat(+(d>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(E.x,",").concat(E.y,"Z")}else S+="L".concat(n,",").concat(r,"Z");return S},tGe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},UQ=function(e){var n=bz(bz({},tGe),e),r=n.cx,i=n.cy,o=n.innerRadius,s=n.outerRadius,a=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,u=n.startAngle,d=n.endAngle,f=n.className;if(s<o||u===d)return null;var h=tt("recharts-sector",f),m=s-o,p=Yr(a,m,0,!0),g;return p>0&&Math.abs(u-d)<360?g=eGe({cx:r,cy:i,innerRadius:o,outerRadius:s,cornerRadius:Math.min(p,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):g=zQ({cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:u,endAngle:d}),A.createElement("path",mM({},Me(n,!0),{className:h,d:g,role:"img"}))};function Iy(t){"@babel/helpers - typeof";return Iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iy(t)}function gM(){return gM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gM.apply(this,arguments)}function wz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wz(Object(n),!0).forEach(function(r){nGe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nGe(t,e,n){return e=rGe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rGe(t){var e=iGe(t,"string");return Iy(e)=="symbol"?e:e+""}function iGe(t,e){if(Iy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Iy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sz={curveBasisClosed:nLe,curveBasisOpen:rLe,curveBasis:tLe,curveBumpX:V2e,curveBumpY:z2e,curveLinearClosed:iLe,curveLinear:vC,curveMonotoneX:oLe,curveMonotoneY:sLe,curveNatural:aLe,curveStep:lLe,curveStepAfter:uLe,curveStepBefore:cLe},ew=function(e){return e.x===+e.x&&e.y===+e.y},tg=function(e){return e.x},ng=function(e){return e.y},oGe=function(e,n){if(ze(e))return e;var r="curve".concat(mC(e));return(r==="curveMonotone"||r==="curveBump")&&n?Sz["".concat(r).concat(n==="vertical"?"Y":"X")]:Sz[r]||vC},sGe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,s=e.baseLine,a=e.layout,l=e.connectNulls,c=l===void 0?!1:l,u=oGe(r,a),d=c?o.filter(function(p){return ew(p)}):o,f;if(Array.isArray(s)){var h=c?s.filter(function(p){return ew(p)}):s,m=d.map(function(p,g){return xz(xz({},p),{},{base:h[g]})});return a==="vertical"?f=Hb().y(ng).x1(tg).x0(function(p){return p.base.x}):f=Hb().x(tg).y1(ng).y0(function(p){return p.base.y}),f.defined(ew).curve(u),f(m)}return a==="vertical"&&ce(s)?f=Hb().y(ng).x1(tg).x0(s):ce(s)?f=Hb().x(tg).y1(ng).y0(s):f=jZ().x(tg).y(ng),f.defined(ew).curve(u),f(d)},U1=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?sGe(e):i;return A.createElement("path",gM({},Me(e,!1),h1(e),{className:tt("recharts-curve",n),d:s,ref:o}))},HQ={exports:{}},aGe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",lGe=aGe,cGe=lGe;function WQ(){}function qQ(){}qQ.resetWarningCache=WQ;var uGe=function(){function t(r,i,o,s,a,l){if(l!==cGe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:qQ,resetWarningCache:WQ};return n.PropTypes=n,n};HQ.exports=uGe();var dGe=HQ.exports;const Pt=At(dGe);var fGe=Object.getOwnPropertyNames,hGe=Object.getOwnPropertySymbols,pGe=Object.prototype.hasOwnProperty;function _z(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function tw(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,s=o.get(n),a=o.get(r);if(s&&a)return s===r&&a===n;o.set(n,r),o.set(r,n);var l=t(n,r,i);return o.delete(n),o.delete(r),l}}function Cz(t){return fGe(t).concat(hGe(t))}var mGe=Object.hasOwn||function(t,e){return pGe.call(t,e)};function lf(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var gGe="__v",vGe="__o",yGe="_owner",kz=Object.getOwnPropertyDescriptor,Pz=Object.keys;function bGe(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function wGe(t,e){return lf(t.getTime(),e.getTime())}function xGe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function SGe(t,e){return t===e}function Ez(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.entries(),s,a,l=0;(s=o.next())&&!s.done;){for(var c=e.entries(),u=!1,d=0;(a=c.next())&&!a.done;){if(i[d]){d++;continue}var f=s.value,h=a.value;if(n.equals(f[0],h[0],l,d,t,e,n)&&n.equals(f[1],h[1],f[0],h[0],t,e,n)){u=i[d]=!0;break}d++}if(!u)return!1;l++}return!0}var _Ge=lf;function CGe(t,e,n){var r=Pz(t),i=r.length;if(Pz(e).length!==i)return!1;for(;i-- >0;)if(!GQ(t,e,n,r[i]))return!1;return!0}function rg(t,e,n){var r=Cz(t),i=r.length;if(Cz(e).length!==i)return!1;for(var o,s,a;i-- >0;)if(o=r[i],!GQ(t,e,n,o)||(s=kz(t,o),a=kz(e,o),(s||a)&&(!s||!a||s.configurable!==a.configurable||s.enumerable!==a.enumerable||s.writable!==a.writable)))return!1;return!0}function kGe(t,e){return lf(t.valueOf(),e.valueOf())}function PGe(t,e){return t.source===e.source&&t.flags===e.flags}function Oz(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.values(),s,a;(s=o.next())&&!s.done;){for(var l=e.values(),c=!1,u=0;(a=l.next())&&!a.done;){if(!i[u]&&n.equals(s.value,a.value,s.value,a.value,t,e,n)){c=i[u]=!0;break}u++}if(!c)return!1}return!0}function EGe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function OGe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function GQ(t,e,n,r){return(r===yGe||r===vGe||r===gGe)&&(t.$$typeof||e.$$typeof)?!0:mGe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var TGe="[object Arguments]",AGe="[object Boolean]",MGe="[object Date]",NGe="[object Error]",DGe="[object Map]",RGe="[object Number]",$Ge="[object Object]",IGe="[object RegExp]",jGe="[object Set]",LGe="[object String]",FGe="[object URL]",BGe=Array.isArray,Tz=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,Az=Object.assign,VGe=Object.prototype.toString.call.bind(Object.prototype.toString);function zGe(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,o=t.areMapsEqual,s=t.areNumbersEqual,a=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,c=t.areRegExpsEqual,u=t.areSetsEqual,d=t.areTypedArraysEqual,f=t.areUrlsEqual;return function(m,p,g){if(m===p)return!0;if(m==null||p==null)return!1;var b=typeof m;if(b!==typeof p)return!1;if(b!=="object")return b==="number"?s(m,p,g):b==="function"?i(m,p,g):!1;var y=m.constructor;if(y!==p.constructor)return!1;if(y===Object)return a(m,p,g);if(BGe(m))return e(m,p,g);if(Tz!=null&&Tz(m))return d(m,p,g);if(y===Date)return n(m,p,g);if(y===RegExp)return c(m,p,g);if(y===Map)return o(m,p,g);if(y===Set)return u(m,p,g);var w=VGe(m);return w===MGe?n(m,p,g):w===IGe?c(m,p,g):w===DGe?o(m,p,g):w===jGe?u(m,p,g):w===$Ge?typeof m.then!="function"&&typeof p.then!="function"&&a(m,p,g):w===FGe?f(m,p,g):w===NGe?r(m,p,g):w===TGe?a(m,p,g):w===AGe||w===RGe||w===LGe?l(m,p,g):!1}}function UGe(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?rg:bGe,areDatesEqual:wGe,areErrorsEqual:xGe,areFunctionsEqual:SGe,areMapsEqual:r?_z(Ez,rg):Ez,areNumbersEqual:_Ge,areObjectsEqual:r?rg:CGe,arePrimitiveWrappersEqual:kGe,areRegExpsEqual:PGe,areSetsEqual:r?_z(Oz,rg):Oz,areTypedArraysEqual:r?rg:EGe,areUrlsEqual:OGe};if(n&&(i=Az({},i,n(i))),e){var o=tw(i.areArraysEqual),s=tw(i.areMapsEqual),a=tw(i.areObjectsEqual),l=tw(i.areSetsEqual);i=Az({},i,{areArraysEqual:o,areMapsEqual:s,areObjectsEqual:a,areSetsEqual:l})}return i}function HGe(t){return function(e,n,r,i,o,s,a){return t(e,n,a)}}function WGe(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(l,c){var u=r(),d=u.cache,f=d===void 0?e?new WeakMap:void 0:d,h=u.meta;return n(l,c,{cache:f,equals:i,meta:h,strict:o})};if(e)return function(l,c){return n(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var s={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,c){return n(l,c,s)}}var qGe=vu();vu({strict:!0});vu({circular:!0});vu({circular:!0,strict:!0});vu({createInternalComparator:function(){return lf}});vu({strict:!0,createInternalComparator:function(){return lf}});vu({circular:!0,createInternalComparator:function(){return lf}});vu({circular:!0,createInternalComparator:function(){return lf},strict:!0});function vu(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,s=o===void 0?!1:o,a=UGe(t),l=zGe(a),c=r?r(l):HGe(l);return WGe({circular:n,comparator:l,createState:i,equals:c,strict:s})}function GGe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function Mz(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):GGe(i)};requestAnimationFrame(r)}function vM(t){"@babel/helpers - typeof";return vM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vM(t)}function KGe(t){return JGe(t)||ZGe(t)||XGe(t)||YGe()}function YGe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XGe(t,e){if(t){if(typeof t=="string")return Nz(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nz(t,e)}}function Nz(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ZGe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function JGe(t){if(Array.isArray(t))return t}function QGe(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,a=KGe(s),l=a[0],c=a.slice(1);if(typeof l=="number"){Mz(i.bind(null,c),l);return}i(l),Mz(i.bind(null,c));return}vM(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function jy(t){"@babel/helpers - typeof";return jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jy(t)}function Dz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dz(Object(n),!0).forEach(function(r){KQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KQ(t,e,n){return e=eKe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eKe(t){var e=tKe(t,"string");return jy(e)==="symbol"?e:String(e)}function tKe(t,e){if(jy(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jy(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nKe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},rKe=function(e){return e},iKe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Jg=function(e,n){return Object.keys(n).reduce(function(r,i){return Rz(Rz({},r),{},KQ({},i,e(i,n[i])))},{})},$z=function(e,n,r){return e.map(function(i){return"".concat(iKe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function oKe(t,e){return lKe(t)||aKe(t,e)||YQ(t,e)||sKe()}function sKe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aKe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function lKe(t){if(Array.isArray(t))return t}function cKe(t){return fKe(t)||dKe(t)||YQ(t)||uKe()}function uKe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YQ(t,e){if(t){if(typeof t=="string")return yM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yM(t,e)}}function dKe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fKe(t){if(Array.isArray(t))return yM(t)}function yM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var H1=1e-4,XQ=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},ZQ=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},Iz=function(e,n){return function(r){var i=XQ(e,n);return ZQ(i,r)}},hKe=function(e,n){return function(r){var i=XQ(e,n),o=[].concat(cKe(i.map(function(s,a){return s*a}).slice(1)),[0]);return ZQ(o,r)}},jz=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],s=n[2],a=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,s=1,a=1;break;case"ease":i=.25,o=.1,s=.25,a=1;break;case"ease-in":i=.42,o=0,s=1,a=1;break;case"ease-out":i=.42,o=0,s=.58,a=1;break;case"ease-in-out":i=0,o=0,s=.58,a=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),u=oKe(c,4);i=u[0],o=u[1],s=u[2],a=u[3]}}}var d=Iz(i,s),f=Iz(o,a),h=hKe(i,s),m=function(b){return b>1?1:b<0?0:b},p=function(b){for(var y=b>1?1:b,w=y,_=0;_<8;++_){var S=d(w)-y,C=h(w);if(Math.abs(S-y)<H1||C<H1)return f(w);w=m(w-S/C)}return f(w)};return p.isStepper=!1,p},pKe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,s=e.dt,a=s===void 0?17:s,l=function(u,d,f){var h=-(u-d)*r,m=f*o,p=f+(h-m)*a/1e3,g=f*a/1e3+u;return Math.abs(g-d)<H1&&Math.abs(p)<H1?[d,0]:[g,p]};return l.isStepper=!0,l.dt=a,l},mKe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return jz(i);case"spring":return pKe();default:if(i.split("(")[0]==="cubic-bezier")return jz(i)}return typeof i=="function"?i:null};function Ly(t){"@babel/helpers - typeof";return Ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ly(t)}function Lz(t){return yKe(t)||vKe(t)||JQ(t)||gKe()}function gKe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vKe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yKe(t){if(Array.isArray(t))return wM(t)}function Fz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ar(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fz(Object(n),!0).forEach(function(r){bM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bM(t,e,n){return e=bKe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bKe(t){var e=wKe(t,"string");return Ly(e)==="symbol"?e:String(e)}function wKe(t,e){if(Ly(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ly(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xKe(t,e){return CKe(t)||_Ke(t,e)||JQ(t,e)||SKe()}function SKe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JQ(t,e){if(t){if(typeof t=="string")return wM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wM(t,e)}}function wM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _Ke(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function CKe(t){if(Array.isArray(t))return t}var W1=function(e,n,r){return e+(n-e)*r},xM=function(e){var n=e.from,r=e.to;return n!==r},kKe=function t(e,n,r){var i=Jg(function(o,s){if(xM(s)){var a=e(s.from,s.to,s.velocity),l=xKe(a,2),c=l[0],u=l[1];return ar(ar({},s),{},{from:c,velocity:u})}return s},n);return r<1?Jg(function(o,s){return xM(s)?ar(ar({},s),{},{velocity:W1(s.velocity,i[o].velocity,r),from:W1(s.from,i[o].from,r)}):s},n):t(e,i,r-1)};const PKe=function(t,e,n,r,i){var o=nKe(t,e),s=o.reduce(function(g,b){return ar(ar({},g),{},bM({},b,[t[b],e[b]]))},{}),a=o.reduce(function(g,b){return ar(ar({},g),{},bM({},b,{from:t[b],velocity:0,to:e[b]}))},{}),l=-1,c,u,d=function(){return null},f=function(){return Jg(function(b,y){return y.from},a)},h=function(){return!Object.values(a).filter(xM).length},m=function(b){c||(c=b);var y=b-c,w=y/n.dt;a=kKe(n,a,w),i(ar(ar(ar({},t),e),f())),c=b,h()||(l=requestAnimationFrame(d))},p=function(b){u||(u=b);var y=(b-u)/r,w=Jg(function(S,C){return W1.apply(void 0,Lz(C).concat([n(y)]))},s);if(i(ar(ar(ar({},t),e),w)),y<1)l=requestAnimationFrame(d);else{var _=Jg(function(S,C){return W1.apply(void 0,Lz(C).concat([n(1)]))},s);i(ar(ar(ar({},t),e),_))}};return d=n.isStepper?m:p,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function Np(t){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Np(t)}var EKe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function OKe(t,e){if(t==null)return{};var n=TKe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function TKe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function mE(t){return DKe(t)||NKe(t)||MKe(t)||AKe()}function AKe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MKe(t,e){if(t){if(typeof t=="string")return SM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SM(t,e)}}function NKe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function DKe(t){if(Array.isArray(t))return SM(t)}function SM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Bz(Object(n),!0).forEach(function(r){_g(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _g(t,e,n){return e=QQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $Ke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QQ(r.key),r)}}function IKe(t,e,n){return e&&$Ke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function QQ(t){var e=jKe(t,"string");return Np(e)==="symbol"?e:String(e)}function jKe(t,e){if(Np(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Np(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LKe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_M(t,e)}function _M(t,e){return _M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_M(t,e)}function FKe(t){var e=BKe();return function(){var r=q1(t),i;if(e){var o=q1(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return CM(this,i)}}function CM(t,e){if(e&&(Np(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kM(t)}function kM(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BKe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function q1(t){return q1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},q1(t)}var ua=function(t){LKe(n,t);var e=FKe(n);function n(r,i){var o;RKe(this,n),o=e.call(this,r,i);var s=o.props,a=s.isActive,l=s.attributeName,c=s.from,u=s.to,d=s.steps,f=s.children,h=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(kM(o)),o.changeStyle=o.changeStyle.bind(kM(o)),!a||h<=0)return o.state={style:{}},typeof f=="function"&&(o.state={style:u}),CM(o);if(d&&d.length)o.state={style:d[0].style};else if(c){if(typeof f=="function")return o.state={style:c},CM(o);o.state={style:l?_g({},l,c):c}}else o.state={style:{}};return o}return IKe(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,a=o.canBegin,l=o.attributeName,c=o.shouldReAnimate,u=o.to,d=o.from,f=this.state.style;if(a){if(!s){var h={style:l?_g({},l,u):u};this.state&&f&&(l&&f[l]!==u||!l&&f!==u)&&this.setState(h);return}if(!(qGe(i.to,u)&&i.canBegin&&i.isActive)){var m=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=m||c?d:i.to;if(this.state&&f){var g={style:l?_g({},l,p):p};(l&&f[l]!==p||!l&&f!==p)&&this.setState(g)}this.runAnimation(Fo(Fo({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,a=i.to,l=i.duration,c=i.easing,u=i.begin,d=i.onAnimationEnd,f=i.onAnimationStart,h=PKe(s,a,mKe(c),l,this.changeStyle),m=function(){o.stopJSAnimation=h()};this.manager.start([f,u,m,l,d])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,a=i.begin,l=i.onAnimationStart,c=s[0],u=c.style,d=c.duration,f=d===void 0?0:d,h=function(p,g,b){if(b===0)return p;var y=g.duration,w=g.easing,_=w===void 0?"ease":w,S=g.style,C=g.properties,k=g.onAnimationEnd,E=b>0?s[b-1]:g,T=C||Object.keys(S);if(typeof _=="function"||_==="spring")return[].concat(mE(p),[o.runJSAnimation.bind(o,{from:E.style,to:S,duration:y,easing:_}),y]);var M=$z(T,y,_),D=Fo(Fo(Fo({},E.style),S),{},{transition:M});return[].concat(mE(p),[D,y,k]).filter(rKe)};return this.manager.start([l].concat(mE(s.reduce(h,[u,Math.max(f,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=QGe());var o=i.begin,s=i.duration,a=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,d=i.onAnimationEnd,f=i.steps,h=i.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof c=="function"||typeof h=="function"||c==="spring"){this.runJSAnimation(i);return}if(f.length>1){this.runStepAnimation(i);return}var p=a?_g({},a,l):l,g=$z(Object.keys(p),s,c);m.start([u,o,Fo(Fo({},p),{},{transition:g}),s,d])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=OKe(i,EKe),c=x.Children.count(o),u=this.state.style;if(typeof o=="function")return o(u);if(!a||c===0||s<=0)return o;var d=function(h){var m=h.props,p=m.style,g=p===void 0?{}:p,b=m.className,y=x.cloneElement(h,Fo(Fo({},l),{},{style:Fo(Fo({},g),u),className:b}));return y};return c===1?d(x.Children.only(o)):A.createElement("div",null,x.Children.map(o,function(f){return d(f)}))}}]),n}(x.PureComponent);ua.displayName="Animate";ua.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ua.propTypes={from:Pt.oneOfType([Pt.object,Pt.string]),to:Pt.oneOfType([Pt.object,Pt.string]),attributeName:Pt.string,duration:Pt.number,begin:Pt.number,easing:Pt.oneOfType([Pt.string,Pt.func]),steps:Pt.arrayOf(Pt.shape({duration:Pt.number.isRequired,style:Pt.object.isRequired,easing:Pt.oneOfType([Pt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Pt.func]),properties:Pt.arrayOf("string"),onAnimationEnd:Pt.func})),children:Pt.oneOfType([Pt.node,Pt.func]),isActive:Pt.bool,canBegin:Pt.bool,onAnimationEnd:Pt.func,shouldReAnimate:Pt.bool,onAnimationStart:Pt.func,onAnimationReStart:Pt.func};function Fy(t){"@babel/helpers - typeof";return Fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fy(t)}function G1(){return G1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},G1.apply(this,arguments)}function VKe(t,e){return WKe(t)||HKe(t,e)||UKe(t,e)||zKe()}function zKe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UKe(t,e){if(t){if(typeof t=="string")return Vz(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vz(t,e)}}function Vz(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function HKe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function WKe(t){if(Array.isArray(t))return t}function zz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Uz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zz(Object(n),!0).forEach(function(r){qKe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qKe(t,e,n){return e=GKe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GKe(t){var e=KKe(t,"string");return Fy(e)=="symbol"?e:e+""}function KKe(t,e){if(Fy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hz=function(e,n,r,i,o){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),a=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,u;if(s>0&&o instanceof Array){for(var d=[0,0,0,0],f=0,h=4;f<h;f++)d[f]=o[f]>s?s:o[f];u="M".concat(e,",").concat(n+a*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(n)),u+="L ".concat(e+r-l*d[1],",").concat(n),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+a*d[1])),u+="L ".concat(e+r,",").concat(n+i-a*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-l*d[2],",").concat(n+i)),u+="L ".concat(e+l*d[3],",").concat(n+i),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+i-a*d[3])),u+="Z"}else if(s>0&&o===+o&&o>0){var m=Math.min(s,o);u="M ".concat(e,",").concat(n+a*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+l*m,",").concat(n,`
            L `).concat(e+r-l*m,",").concat(n,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r,",").concat(n+a*m,`
            L `).concat(e+r,",").concat(n+i-a*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r-l*m,",").concat(n+i,`
            L `).concat(e+l*m,",").concat(n+i,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(n+i-a*m," Z")}else u="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return u},YKe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,s=n.y,a=n.width,l=n.height;if(Math.abs(a)>0&&Math.abs(l)>0){var c=Math.min(o,o+a),u=Math.max(o,o+a),d=Math.min(s,s+l),f=Math.max(s,s+l);return r>=c&&r<=u&&i>=d&&i<=f}return!1},XKe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},WI=function(e){var n=Uz(Uz({},XKe),e),r=x.useRef(),i=x.useState(-1),o=VKe(i,2),s=o[0],a=o[1];x.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&a(_)}catch{}},[]);var l=n.x,c=n.y,u=n.width,d=n.height,f=n.radius,h=n.className,m=n.animationEasing,p=n.animationDuration,g=n.animationBegin,b=n.isAnimationActive,y=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||u===0||d===0)return null;var w=tt("recharts-rectangle",h);return y?A.createElement(ua,{canBegin:s>0,from:{width:u,height:d,x:l,y:c},to:{width:u,height:d,x:l,y:c},duration:p,animationEasing:m,isActive:y},function(_){var S=_.width,C=_.height,k=_.x,E=_.y;return A.createElement(ua,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:p,isActive:b,easing:m},A.createElement("path",G1({},Me(n,!0),{className:w,d:Hz(k,E,S,C,f),ref:r})))}):A.createElement("path",G1({},Me(n,!0),{className:w,d:Hz(l,c,u,d,f)}))},ZKe=["points","className","baseLinePoints","connectNulls"];function rh(){return rh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rh.apply(this,arguments)}function JKe(t,e){if(t==null)return{};var n=QKe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function QKe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Wz(t){return r7e(t)||n7e(t)||t7e(t)||e7e()}function e7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t7e(t,e){if(t){if(typeof t=="string")return PM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PM(t,e)}}function n7e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function r7e(t){if(Array.isArray(t))return PM(t)}function PM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var qz=function(e){return e&&e.x===+e.x&&e.y===+e.y},i7e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){qz(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),qz(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Qg=function(e,n){var r=i7e(e);n&&(r=[r.reduce(function(o,s){return[].concat(Wz(o),Wz(s))},[])]);var i=r.map(function(o){return o.reduce(function(s,a,l){return"".concat(s).concat(l===0?"M":"L").concat(a.x,",").concat(a.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},o7e=function(e,n,r){var i=Qg(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Qg(n.reverse(),r).slice(1))},s7e=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,o=e.connectNulls,s=JKe(e,ZKe);if(!n||!n.length)return null;var a=tt("recharts-polygon",r);if(i&&i.length){var l=s.stroke&&s.stroke!=="none",c=o7e(n,i,o);return A.createElement("g",{className:a},A.createElement("path",rh({},Me(s,!0),{fill:c.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:c})),l?A.createElement("path",rh({},Me(s,!0),{fill:"none",d:Qg(n,o)})):null,l?A.createElement("path",rh({},Me(s,!0),{fill:"none",d:Qg(i,o)})):null)}var u=Qg(n,o);return A.createElement("path",rh({},Me(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",className:a,d:u}))};function EM(){return EM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},EM.apply(this,arguments)}var DC=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,s=tt("recharts-dot",o);return n===+n&&r===+r&&i===+i?A.createElement("circle",EM({},Me(e,!1),h1(e),{className:s,cx:n,cy:r,r:i})):null};function By(t){"@babel/helpers - typeof";return By=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},By(t)}var a7e=["x","y","top","left","width","height","className"];function OM(){return OM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},OM.apply(this,arguments)}function Gz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function l7e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gz(Object(n),!0).forEach(function(r){c7e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function c7e(t,e,n){return e=u7e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u7e(t){var e=d7e(t,"string");return By(e)=="symbol"?e:e+""}function d7e(t,e){if(By(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(By(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function f7e(t,e){if(t==null)return{};var n=h7e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function h7e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var p7e=function(e,n,r,i,o,s){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},m7e=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.top,a=s===void 0?0:s,l=e.left,c=l===void 0?0:l,u=e.width,d=u===void 0?0:u,f=e.height,h=f===void 0?0:f,m=e.className,p=f7e(e,a7e),g=l7e({x:r,y:o,top:a,left:c,width:d,height:h},p);return!ce(r)||!ce(o)||!ce(d)||!ce(h)||!ce(a)||!ce(c)?null:A.createElement("path",OM({},Me(g,!0),{className:tt("recharts-cross",m),d:p7e(r,o,d,h,a,c)}))},g7e=OC,v7e=dQ,y7e=va;function b7e(t,e){return t&&t.length?g7e(t,y7e(e),v7e):void 0}var w7e=b7e;const x7e=At(w7e);var S7e=OC,_7e=va,C7e=fQ;function k7e(t,e){return t&&t.length?S7e(t,_7e(e),C7e):void 0}var P7e=k7e;const E7e=At(P7e);var O7e=["cx","cy","angle","ticks","axisLine"],T7e=["ticks","tick","angle","tickFormatter","stroke"];function Dp(t){"@babel/helpers - typeof";return Dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dp(t)}function ev(){return ev=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ev.apply(this,arguments)}function Kz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _u(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kz(Object(n),!0).forEach(function(r){RC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yz(t,e){if(t==null)return{};var n=A7e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function A7e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function M7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tee(r.key),r)}}function N7e(t,e,n){return e&&Xz(t.prototype,e),n&&Xz(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function D7e(t,e,n){return e=K1(e),R7e(t,eee()?Reflect.construct(e,n||[],K1(t).constructor):e.apply(t,n))}function R7e(t,e){if(e&&(Dp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $7e(t)}function $7e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eee=function(){return!!t})()}function K1(t){return K1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},K1(t)}function I7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TM(t,e)}function TM(t,e){return TM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},TM(t,e)}function RC(t,e,n){return e=tee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tee(t){var e=j7e(t,"string");return Dp(e)=="symbol"?e:e+""}function j7e(t,e){if(Dp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $C=function(t){function e(){return M7e(this,e),D7e(this,e,arguments)}return I7e(e,t),N7e(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,o=this.props,s=o.angle,a=o.cx,l=o.cy;return Kt(a,l,i,s)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,o=r.cy,s=r.angle,a=r.ticks,l=x7e(a,function(u){return u.coordinate||0}),c=E7e(a,function(u){return u.coordinate||0});return{cx:i,cy:o,startAngle:s,endAngle:s,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,s=r.angle,a=r.ticks,l=r.axisLine,c=Yz(r,O7e),u=a.reduce(function(m,p){return[Math.min(m[0],p.coordinate),Math.max(m[1],p.coordinate)]},[1/0,-1/0]),d=Kt(i,o,u[0],s),f=Kt(i,o,u[1],s),h=_u(_u(_u({},Me(c,!1)),{},{fill:"none"},Me(l,!1)),{},{x1:d.x,y1:d.y,x2:f.x,y2:f.y});return A.createElement("line",ev({className:"recharts-polar-radius-axis-line"},h))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,s=i.tick,a=i.angle,l=i.tickFormatter,c=i.stroke,u=Yz(i,T7e),d=this.getTickTextAnchor(),f=Me(u,!1),h=Me(s,!1),m=o.map(function(p,g){var b=r.getTickValueCoord(p),y=_u(_u(_u(_u({textAnchor:d,transform:"rotate(".concat(90-a,", ").concat(b.x,", ").concat(b.y,")")},f),{},{stroke:"none",fill:c},h),{},{index:g},b),{},{payload:p});return A.createElement(xt,ev({className:tt("recharts-polar-radius-axis-tick",BQ(s)),key:"tick-".concat(p.coordinate)},Bd(r.props,p,g)),e.renderTickItem(s,y,l?l(p.value,g):p.value))});return A.createElement(xt,{className:"recharts-polar-radius-axis-ticks"},m)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.axisLine,s=r.tick;return!i||!i.length?null:A.createElement(xt,{className:tt("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),s&&this.renderTicks(),Yn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,o){var s;return A.isValidElement(r)?s=A.cloneElement(r,i):ze(r)?s=r(i):s=A.createElement(Vd,ev({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),s}}])}(x.PureComponent);RC($C,"displayName","PolarRadiusAxis");RC($C,"axisType","radiusAxis");RC($C,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Rp(t){"@babel/helpers - typeof";return Rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rp(t)}function Iu(){return Iu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Iu.apply(this,arguments)}function Zz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zz(Object(n),!0).forEach(function(r){IC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function L7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ree(r.key),r)}}function F7e(t,e,n){return e&&Jz(t.prototype,e),n&&Jz(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function B7e(t,e,n){return e=Y1(e),V7e(t,nee()?Reflect.construct(e,n||[],Y1(t).constructor):e.apply(t,n))}function V7e(t,e){if(e&&(Rp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z7e(t)}function z7e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nee=function(){return!!t})()}function Y1(t){return Y1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Y1(t)}function U7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&AM(t,e)}function AM(t,e){return AM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},AM(t,e)}function IC(t,e,n){return e=ree(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ree(t){var e=H7e(t,"string");return Rp(e)=="symbol"?e:e+""}function H7e(t,e){if(Rp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var W7e=Math.PI/180,q7e=1e-5,jC=function(t){function e(){return L7e(this,e),B7e(this,e,arguments)}return U7e(e,t),F7e(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.cx,s=i.cy,a=i.radius,l=i.orientation,c=i.tickSize,u=c||8,d=Kt(o,s,a,r.coordinate),f=Kt(o,s,a+(l==="inner"?-1:1)*u,r.coordinate);return{x1:d.x,y1:d.y,x2:f.x,y2:f.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,o=Math.cos(-r.coordinate*W7e),s;return o>q7e?s=i==="outer"?"start":"end":o<-1e-5?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,s=r.radius,a=r.axisLine,l=r.axisLineType,c=Cu(Cu({},Me(this.props,!1)),{},{fill:"none"},Me(a,!1));if(l==="circle")return A.createElement(DC,Iu({className:"recharts-polar-angle-axis-line"},c,{cx:i,cy:o,r:s}));var u=this.props.ticks,d=u.map(function(f){return Kt(i,o,s,f.coordinate)});return A.createElement(s7e,Iu({className:"recharts-polar-angle-axis-line"},c,{points:d}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,s=i.tick,a=i.tickLine,l=i.tickFormatter,c=i.stroke,u=Me(this.props,!1),d=Me(s,!1),f=Cu(Cu({},u),{},{fill:"none"},Me(a,!1)),h=o.map(function(m,p){var g=r.getTickLineCoord(m),b=r.getTickTextAnchor(m),y=Cu(Cu(Cu({textAnchor:b},u),{},{stroke:"none",fill:c},d),{},{index:p,payload:m,x:g.x2,y:g.y2});return A.createElement(xt,Iu({className:tt("recharts-polar-angle-axis-tick",BQ(s)),key:"tick-".concat(m.coordinate)},Bd(r.props,m,p)),a&&A.createElement("line",Iu({className:"recharts-polar-angle-axis-tick-line"},f,g)),s&&e.renderTickItem(s,y,l?l(m.value,p):m.value))});return A.createElement(xt,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.radius,s=r.axisLine;return o<=0||!i||!i.length?null:A.createElement(xt,{className:tt("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,o){var s;return A.isValidElement(r)?s=A.cloneElement(r,i):ze(r)?s=r(i):s=A.createElement(Vd,Iu({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),s}}])}(x.PureComponent);IC(jC,"displayName","PolarAngleAxis");IC(jC,"axisType","angleAxis");IC(jC,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var G7e=aJ,K7e=G7e(Object.getPrototypeOf,Object),Y7e=K7e,X7e=xl,Z7e=Y7e,J7e=Sl,Q7e="[object Object]",eYe=Function.prototype,tYe=Object.prototype,iee=eYe.toString,nYe=tYe.hasOwnProperty,rYe=iee.call(Object);function iYe(t){if(!J7e(t)||X7e(t)!=Q7e)return!1;var e=Z7e(t);if(e===null)return!0;var n=nYe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&iee.call(n)==rYe}var oYe=iYe;const sYe=At(oYe);var aYe=xl,lYe=Sl,cYe="[object Boolean]";function uYe(t){return t===!0||t===!1||lYe(t)&&aYe(t)==cYe}var dYe=uYe;const fYe=At(dYe);function Vy(t){"@babel/helpers - typeof";return Vy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vy(t)}function X1(){return X1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X1.apply(this,arguments)}function hYe(t,e){return vYe(t)||gYe(t,e)||mYe(t,e)||pYe()}function pYe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mYe(t,e){if(t){if(typeof t=="string")return Qz(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qz(t,e)}}function Qz(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gYe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function vYe(t){if(Array.isArray(t))return t}function eU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eU(Object(n),!0).forEach(function(r){yYe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yYe(t,e,n){return e=bYe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bYe(t){var e=wYe(t,"string");return Vy(e)=="symbol"?e:e+""}function wYe(t,e){if(Vy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nU=function(e,n,r,i,o){var s=r-i,a;return a="M ".concat(e,",").concat(n),a+="L ".concat(e+r,",").concat(n),a+="L ".concat(e+r-s/2,",").concat(n+o),a+="L ".concat(e+r-s/2-i,",").concat(n+o),a+="L ".concat(e,",").concat(n," Z"),a},xYe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},SYe=function(e){var n=tU(tU({},xYe),e),r=x.useRef(),i=x.useState(-1),o=hYe(i,2),s=o[0],a=o[1];x.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&a(w)}catch{}},[]);var l=n.x,c=n.y,u=n.upperWidth,d=n.lowerWidth,f=n.height,h=n.className,m=n.animationEasing,p=n.animationDuration,g=n.animationBegin,b=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||f!==+f||u===0&&d===0||f===0)return null;var y=tt("recharts-trapezoid",h);return b?A.createElement(ua,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:f,x:l,y:c},to:{upperWidth:u,lowerWidth:d,height:f,x:l,y:c},duration:p,animationEasing:m,isActive:b},function(w){var _=w.upperWidth,S=w.lowerWidth,C=w.height,k=w.x,E=w.y;return A.createElement(ua,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:p,easing:m},A.createElement("path",X1({},Me(n,!0),{className:y,d:nU(k,E,_,S,C),ref:r})))}):A.createElement("g",null,A.createElement("path",X1({},Me(n,!0),{className:y,d:nU(l,c,u,d,f)})))},_Ye=["option","shapeType","propTransformer","activeClassName","isActive"];function zy(t){"@babel/helpers - typeof";return zy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zy(t)}function CYe(t,e){if(t==null)return{};var n=kYe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kYe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function rU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Z1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rU(Object(n),!0).forEach(function(r){PYe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PYe(t,e,n){return e=EYe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EYe(t){var e=OYe(t,"string");return zy(e)=="symbol"?e:e+""}function OYe(t,e){if(zy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TYe(t,e){return Z1(Z1({},e),t)}function AYe(t,e){return t==="symbols"}function iU(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return A.createElement(WI,n);case"trapezoid":return A.createElement(SYe,n);case"sector":return A.createElement(UQ,n);case"symbols":if(AYe(e))return A.createElement(uI,n);break;default:return null}}function MYe(t){return x.isValidElement(t)?t.props:t}function oee(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?TYe:r,o=t.activeClassName,s=o===void 0?"recharts-active-shape":o,a=t.isActive,l=CYe(t,_Ye),c;if(x.isValidElement(e))c=x.cloneElement(e,Z1(Z1({},l),MYe(e)));else if(ze(e))c=e(l);else if(sYe(e)&&!fYe(e)){var u=i(e,l);c=A.createElement(iU,{shapeType:n,elementProps:u})}else{var d=l;c=A.createElement(iU,{shapeType:n,elementProps:d})}return a?A.createElement(xt,{className:s},c):c}function LC(t,e){return e!=null&&"trapezoids"in t.props}function FC(t,e){return e!=null&&"sectors"in t.props}function Uy(t,e){return e!=null&&"points"in t.props}function NYe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function DYe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function RYe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function $Ye(t,e){var n;return LC(t,e)?n=NYe:FC(t,e)?n=DYe:Uy(t,e)&&(n=RYe),n}function IYe(t,e){var n;return LC(t,e)?n="trapezoids":FC(t,e)?n="sectors":Uy(t,e)&&(n="points"),n}function jYe(t,e){if(LC(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(FC(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Uy(t,e)?e.payload:{}}function LYe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=IYe(n,e),o=jYe(n,e),s=r.filter(function(l,c){var u=U0(o,l),d=n.props[i].filter(function(m){var p=$Ye(n,e);return p(m,e)}),f=n.props[i].indexOf(d[d.length-1]),h=c===f;return u&&h}),a=r.indexOf(s[s.length-1]);return a}var Bw;function $p(t){"@babel/helpers - typeof";return $p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$p(t)}function ih(){return ih=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ih.apply(this,arguments)}function oU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ht(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oU(Object(n),!0).forEach(function(r){yo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FYe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aee(r.key),r)}}function BYe(t,e,n){return e&&sU(t.prototype,e),n&&sU(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function VYe(t,e,n){return e=J1(e),zYe(t,see()?Reflect.construct(e,n||[],J1(t).constructor):e.apply(t,n))}function zYe(t,e){if(e&&($p(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UYe(t)}function UYe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function see(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(see=function(){return!!t})()}function J1(t){return J1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},J1(t)}function HYe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&MM(t,e)}function MM(t,e){return MM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},MM(t,e)}function yo(t,e,n){return e=aee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aee(t){var e=WYe(t,"string");return $p(e)=="symbol"?e:e+""}function WYe(t,e){if($p(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($p(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Yi=function(t){function e(n){var r;return FYe(this,e),r=VYe(this,e,[n]),yo(r,"pieRef",null),yo(r,"sectorRefs",[]),yo(r,"id",wm("recharts-pie-")),yo(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),ze(i)&&i()}),yo(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),ze(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return HYe(e,t),BYe(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.label,a=o.labelLine,l=o.dataKey,c=o.valueKey,u=Me(this.props,!1),d=Me(s,!1),f=Me(a,!1),h=s&&s.offsetRadius||20,m=r.map(function(p,g){var b=(p.startAngle+p.endAngle)/2,y=Kt(p.cx,p.cy,p.outerRadius+h,b),w=Ht(Ht(Ht(Ht({},u),p),{},{stroke:"none"},d),{},{index:g,textAnchor:e.getTextAnchor(y.x,p.cx)},y),_=Ht(Ht(Ht(Ht({},u),p),{},{fill:"none",stroke:p.fill},f),{},{index:g,points:[Kt(p.cx,p.cy,p.outerRadius,b),y]}),S=l;return Je(l)&&Je(c)?S="value":Je(l)&&(S=c),A.createElement(xt,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(g)},a&&e.renderLabelLineItem(a,_,"line"),e.renderLabelItem(s,w,Bn(p,S)))});return A.createElement(xt,{className:"recharts-pie-labels"},m)}},{key:"renderSectorsStatically",value:function(r){var i=this,o=this.props,s=o.activeShape,a=o.blendStroke,l=o.inactiveShape;return r.map(function(c,u){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&r.length!==1)return null;var d=i.isActiveIndex(u),f=l&&i.hasActiveIndex()?l:null,h=d?s:f,m=Ht(Ht({},c),{},{stroke:a?c.fill:c.stroke,tabIndex:-1});return A.createElement(xt,ih({ref:function(g){g&&!i.sectorRefs.includes(g)&&i.sectorRefs.push(g)},tabIndex:-1,className:"recharts-pie-sector"},Bd(i.props,c,u),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(u)}),A.createElement(oee,ih({option:h,isActive:d,shapeType:"sector"},m)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,o=i.sectors,s=i.isAnimationActive,a=i.animationBegin,l=i.animationDuration,c=i.animationEasing,u=i.animationId,d=this.state,f=d.prevSectors,h=d.prevIsAnimationActive;return A.createElement(ua,{begin:a,duration:l,isActive:s,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(h),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(m){var p=m.t,g=[],b=o&&o[0],y=b.startAngle;return o.forEach(function(w,_){var S=f&&f[_],C=_>0?Gi(w,"paddingAngle",0):0;if(S){var k=$i(S.endAngle-S.startAngle,w.endAngle-w.startAngle),E=Ht(Ht({},w),{},{startAngle:y+C,endAngle:y+k(p)+C});g.push(E),y=E.endAngle}else{var T=w.endAngle,M=w.startAngle,D=$i(0,T-M),N=D(p),L=Ht(Ht({},w),{},{startAngle:y+C,endAngle:y+N+C});g.push(L),y=L.endAngle}}),A.createElement(xt,null,r.renderSectorsStatically(g))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var a=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,o=r.isAnimationActive,s=this.state.prevSectors;return o&&i&&i.length&&(!s||!U0(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,o=i.hide,s=i.sectors,a=i.className,l=i.label,c=i.cx,u=i.cy,d=i.innerRadius,f=i.outerRadius,h=i.isAnimationActive,m=this.state.isAnimationFinished;if(o||!s||!s.length||!ce(c)||!ce(u)||!ce(d)||!ce(f))return null;var p=tt("recharts-pie",a);return A.createElement(xt,{tabIndex:this.props.rootTabIndex,className:p,ref:function(b){r.pieRef=b}},this.renderSectors(),l&&this.renderLabels(s),Yn.renderCallByParent(this.props,null,!1),(!h||m)&&Ja.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,o){if(A.isValidElement(r))return A.cloneElement(r,i);if(ze(r))return r(i);var s=tt("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return A.createElement(U1,ih({},i,{key:o,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(r,i,o){if(A.isValidElement(r))return A.cloneElement(r,i);var s=o;if(ze(r)&&(s=r(i),A.isValidElement(s)))return s;var a=tt("recharts-pie-label-text",typeof r!="boolean"&&!ze(r)?r.className:"");return A.createElement(Vd,ih({},i,{alignmentBaseline:"middle",className:a}),s)}}])}(x.PureComponent);Bw=Yi;yo(Yi,"displayName","Pie");yo(Yi,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!of.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});yo(Yi,"parseDeltaAngle",function(t,e){var n=Kr(e-t),r=Math.min(Math.abs(e-t),360);return n*r});yo(Yi,"getRealPieData",function(t){var e=t.data,n=t.children,r=Me(t,!1),i=Ki(n,hc);return e&&e.length?e.map(function(o,s){return Ht(Ht(Ht({payload:o},r),o),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(o){return Ht(Ht({},r),o.props)}):[]});yo(Yi,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,o=e.height,s=FQ(i,o),a=r+Yr(t.cx,i,i/2),l=n+Yr(t.cy,o,o/2),c=Yr(t.innerRadius,s,0),u=Yr(t.outerRadius,s,s*.8),d=t.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:a,cy:l,innerRadius:c,outerRadius:u,maxRadius:d}});yo(Yi,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?Ht(Ht({},e.type.defaultProps),e.props):e.props,i=Bw.getRealPieData(r);if(!i||!i.length)return null;var o=r.cornerRadius,s=r.startAngle,a=r.endAngle,l=r.paddingAngle,c=r.dataKey,u=r.nameKey,d=r.valueKey,f=r.tooltipType,h=Math.abs(r.minAngle),m=Bw.parseCoordinateOfPie(r,n),p=Bw.parseDeltaAngle(s,a),g=Math.abs(p),b=c;Je(c)&&Je(d)?(as(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):Je(c)&&(as(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=d);var y=i.filter(function(E){return Bn(E,b,0)!==0}).length,w=(g>=360?y:y-1)*l,_=g-y*h-w,S=i.reduce(function(E,T){var M=Bn(T,b,0);return E+(ce(M)?M:0)},0),C;if(S>0){var k;C=i.map(function(E,T){var M=Bn(E,b,0),D=Bn(E,u,T),N=(ce(M)?M:0)/S,L;T?L=k.endAngle+Kr(p)*l*(M!==0?1:0):L=s;var I=L+Kr(p)*((M!==0?h:0)+N*_),z=(L+I)/2,V=(m.innerRadius+m.outerRadius)/2,j=[{name:D,value:M,payload:E,dataKey:b,type:f}],R=Kt(m.cx,m.cy,V,z);return k=Ht(Ht(Ht({percent:N,cornerRadius:o,name:D,tooltipPayload:j,midAngle:z,middleRadius:V,tooltipPosition:R},E),m),{},{value:Bn(E,b),startAngle:L,endAngle:I,payload:E,paddingAngle:Kr(p)*l}),k})}return Ht(Ht({},m),{},{sectors:C,data:i})});var qYe=Math.ceil,GYe=Math.max;function KYe(t,e,n,r){for(var i=-1,o=GYe(qYe((e-t)/(n||1)),0),s=Array(o);o--;)s[r?o:++i]=t,t+=n;return s}var YYe=KYe,XYe=PJ,ZYe=1/0,JYe=17976931348623157e292;function QYe(t){if(!t)return t===0?t:0;if(t=XYe(t),t===ZYe||t===-1/0){var e=t<0?-1:1;return e*JYe}return t===t?t:0}var lee=QYe,eXe=YYe,tXe=xC,gE=lee;function nXe(t){return function(e,n,r){return r&&typeof r!="number"&&tXe(e,n,r)&&(n=r=void 0),e=gE(e),n===void 0?(n=e,e=0):n=gE(n),r=r===void 0?e<n?1:-1:gE(r),eXe(e,n,r,t)}}var rXe=nXe,iXe=rXe,oXe=iXe(),sXe=oXe;const Q1=At(sXe);function Hy(t){"@babel/helpers - typeof";return Hy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hy(t)}function aU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aU(Object(n),!0).forEach(function(r){cee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cee(t,e,n){return e=aXe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aXe(t){var e=lXe(t,"string");return Hy(e)=="symbol"?e:e+""}function lXe(t,e){if(Hy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cXe=["Webkit","Moz","O","ms"],uXe=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=cXe.reduce(function(o,s){return lU(lU({},o),{},cee({},s+r,n))},{});return i[e]=n,i};function Ip(t){"@babel/helpers - typeof";return Ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ip(t)}function eS(){return eS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eS.apply(this,arguments)}function cU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cU(Object(n),!0).forEach(function(r){Ai(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dXe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dee(r.key),r)}}function fXe(t,e,n){return e&&uU(t.prototype,e),n&&uU(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function hXe(t,e,n){return e=tS(e),pXe(t,uee()?Reflect.construct(e,n||[],tS(t).constructor):e.apply(t,n))}function pXe(t,e){if(e&&(Ip(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mXe(t)}function mXe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uee=function(){return!!t})()}function tS(t){return tS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tS(t)}function gXe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NM(t,e)}function NM(t,e){return NM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},NM(t,e)}function Ai(t,e,n){return e=dee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dee(t){var e=vXe(t,"string");return Ip(e)=="symbol"?e:e+""}function vXe(t,e){if(Ip(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ip(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var yXe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,s=e.width,a=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=Xg().domain(Q1(0,l)).range([o,o+s-a]),u=c.domain().map(function(d){return c(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:u}},dU=function(e){return e.changedTouches&&!!e.changedTouches.length},jp=function(t){function e(n){var r;return dXe(this,e),r=hXe(this,e,[n]),Ai(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Ai(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Ai(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,s=i.onDragEnd,a=i.startIndex;s==null||s({endIndex:o,startIndex:a})}),r.detachDragEndListener()}),Ai(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Ai(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Ai(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Ai(r,"handleSlideDragStart",function(i){var o=dU(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return gXe(e,t),fXe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,s=this.state.scaleValues,a=this.props,l=a.gap,c=a.data,u=c.length-1,d=Math.min(i,o),f=Math.max(i,o),h=e.getIndexInRange(s,d),m=e.getIndexInRange(s,f);return{startIndex:h-h%l,endIndex:m===u?u:m-m%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,s=i.tickFormatter,a=i.dataKey,l=Bn(o[r],a,r);return ze(s)?s(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,s=i.startX,a=i.endX,l=this.props,c=l.x,u=l.width,d=l.travellerWidth,f=l.startIndex,h=l.endIndex,m=l.onChange,p=r.pageX-o;p>0?p=Math.min(p,c+u-d-a,c+u-d-s):p<0&&(p=Math.max(p,c-s,c-a));var g=this.getIndex({startX:s+p,endX:a+p});(g.startIndex!==f||g.endIndex!==h)&&m&&m(g),this.setState({startX:s+p,endX:a+p,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=dU(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,s=i.movingTravellerId,a=i.endX,l=i.startX,c=this.state[s],u=this.props,d=u.x,f=u.width,h=u.travellerWidth,m=u.onChange,p=u.gap,g=u.data,b={startX:this.state.startX,endX:this.state.endX},y=r.pageX-o;y>0?y=Math.min(y,d+f-h-c):y<0&&(y=Math.max(y,d-c)),b[s]=c+y;var w=this.getIndex(b),_=w.startIndex,S=w.endIndex,C=function(){var E=g.length-1;return s==="startX"&&(a>l?_%p===0:S%p===0)||a<l&&S===E||s==="endX"&&(a>l?S%p===0:_%p===0)||a>l&&S===E};this.setState(Ai(Ai({},s,c+y),"brushMoveStartX",r.pageX),function(){m&&C()&&m(w)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,s=this.state,a=s.scaleValues,l=s.startX,c=s.endX,u=this.state[i],d=a.indexOf(u);if(d!==-1){var f=d+r;if(!(f===-1||f>=a.length)){var h=a[f];i==="startX"&&h>=c||i==="endX"&&h<=l||this.setState(Ai({},i,h),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.fill,c=r.stroke;return A.createElement("rect",{stroke:c,fill:l,x:i,y:o,width:s,height:a})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.data,c=r.children,u=r.padding,d=x.Children.only(c);return d?A.cloneElement(d,{x:i,y:o,width:s,height:a,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,s,a=this,l=this.props,c=l.y,u=l.travellerWidth,d=l.height,f=l.traveller,h=l.ariaLabel,m=l.data,p=l.startIndex,g=l.endIndex,b=Math.max(r,this.props.x),y=vE(vE({},Me(this.props,!1)),{},{x:b,y:c,width:u,height:d}),w=h||"Min value: ".concat((o=m[p])===null||o===void 0?void 0:o.name,", Max value: ").concat((s=m[g])===null||s===void 0?void 0:s.name);return A.createElement(xt,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),a.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(f,y))}},{key:"renderSlide",value:function(r,i){var o=this.props,s=o.y,a=o.height,l=o.stroke,c=o.travellerWidth,u=Math.min(r,i)+c,d=Math.max(Math.abs(i-r)-c,0);return A.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:s,width:d,height:a})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,s=r.y,a=r.height,l=r.travellerWidth,c=r.stroke,u=this.state,d=u.startX,f=u.endX,h=5,m={pointerEvents:"none",fill:c};return A.createElement(xt,{className:"recharts-brush-texts"},A.createElement(Vd,eS({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,f)-h,y:s+a/2},m),this.getTextOfTick(i)),A.createElement(Vd,eS({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,f)+l+h,y:s+a/2},m),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,s=r.children,a=r.x,l=r.y,c=r.width,u=r.height,d=r.alwaysShowText,f=this.state,h=f.startX,m=f.endX,p=f.isTextActive,g=f.isSlideMoving,b=f.isTravellerMoving,y=f.isTravellerFocused;if(!i||!i.length||!ce(a)||!ce(l)||!ce(c)||!ce(u)||c<=0||u<=0)return null;var w=tt("recharts-brush",o),_=A.Children.count(s)===1,S=uXe("userSelect","none");return A.createElement(xt,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(h,m),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(m,"endX"),(p||g||b||y||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,s=r.width,a=r.height,l=r.stroke,c=Math.floor(o+a/2)-1;return A.createElement(A.Fragment,null,A.createElement("rect",{x:i,y:o,width:s,height:a,fill:l,stroke:"none"}),A.createElement("line",{x1:i+1,y1:c,x2:i+s-1,y2:c,fill:"none",stroke:"#fff"}),A.createElement("line",{x1:i+1,y1:c+2,x2:i+s-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return A.isValidElement(r)?o=A.cloneElement(r,i):ze(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,s=r.width,a=r.x,l=r.travellerWidth,c=r.updateId,u=r.startIndex,d=r.endIndex;if(o!==i.prevData||c!==i.prevUpdateId)return vE({prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:a,prevWidth:s},o&&o.length?yXe({data:o,width:s,x:a,travellerWidth:l,startIndex:u,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||a!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([a,a+s-l]);var f=i.scale.domain().map(function(h){return i.scale(h)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:a,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,s=0,a=o-1;a-s>1;){var l=Math.floor((s+a)/2);r[l]>i?a=l:s=l}return i>=r[a]?a:s}}])}(x.PureComponent);Ai(jp,"displayName","Brush");Ai(jp,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var bXe=vI;function wXe(t,e){var n;return bXe(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var xXe=wXe,SXe=QZ,_Xe=va,CXe=xXe,kXe=ki,PXe=xC;function EXe(t,e,n){var r=kXe(t)?SXe:CXe;return n&&PXe(t,e,n)&&(e=void 0),r(t,_Xe(e))}var OXe=EXe;const TXe=At(OXe);var ea=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},fU=xJ;function AXe(t,e,n){e=="__proto__"&&fU?fU(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var MXe=AXe,NXe=MXe,DXe=bJ,RXe=va;function $Xe(t,e){var n={};return e=RXe(e),DXe(t,function(r,i,o){NXe(n,i,e(r,i,o))}),n}var IXe=$Xe;const jXe=At(IXe);function LXe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var FXe=LXe,BXe=vI;function VXe(t,e){var n=!0;return BXe(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var zXe=VXe,UXe=FXe,HXe=zXe,WXe=va,qXe=ki,GXe=xC;function KXe(t,e,n){var r=qXe(t)?UXe:HXe;return n&&GXe(t,e,n)&&(e=void 0),r(t,WXe(e))}var YXe=KXe;const fee=At(YXe);var XXe=["x","y"];function Wy(t){"@babel/helpers - typeof";return Wy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wy(t)}function DM(){return DM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},DM.apply(this,arguments)}function hU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ig(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hU(Object(n),!0).forEach(function(r){ZXe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZXe(t,e,n){return e=JXe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JXe(t){var e=QXe(t,"string");return Wy(e)=="symbol"?e:e+""}function QXe(t,e){if(Wy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eZe(t,e){if(t==null)return{};var n=tZe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tZe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function nZe(t,e){var n=t.x,r=t.y,i=eZe(t,XXe),o="".concat(n),s=parseInt(o,10),a="".concat(r),l=parseInt(a,10),c="".concat(e.height||i.height),u=parseInt(c,10),d="".concat(e.width||i.width),f=parseInt(d,10);return ig(ig(ig(ig(ig({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:f,name:e.name,radius:e.radius})}function pU(t){return A.createElement(oee,DM({shapeType:"rectangle",propTransformer:nZe,activeClassName:"recharts-active-bar"},t))}var rZe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=typeof r=="number";return o?e(r,i):(o||Ud(),n)}},iZe=["value","background"],hee;function Lp(t){"@babel/helpers - typeof";return Lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lp(t)}function oZe(t,e){if(t==null)return{};var n=sZe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sZe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function nS(){return nS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nS.apply(this,arguments)}function mU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function On(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mU(Object(n),!0).forEach(function(r){pc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aZe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mee(r.key),r)}}function lZe(t,e,n){return e&&gU(t.prototype,e),n&&gU(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function cZe(t,e,n){return e=rS(e),uZe(t,pee()?Reflect.construct(e,n||[],rS(t).constructor):e.apply(t,n))}function uZe(t,e){if(e&&(Lp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dZe(t)}function dZe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pee=function(){return!!t})()}function rS(t){return rS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rS(t)}function fZe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RM(t,e)}function RM(t,e){return RM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},RM(t,e)}function pc(t,e,n){return e=mee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mee(t){var e=hZe(t,"string");return Lp(e)=="symbol"?e:e+""}function hZe(t,e){if(Lp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fi=function(t){function e(){var n;aZe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=cZe(this,e,[].concat(i)),pc(n,"state",{isAnimationFinished:!1}),pc(n,"id",wm("recharts-bar-")),pc(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),pc(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return fZe(e,t),lZe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,s=o.shape,a=o.dataKey,l=o.activeIndex,c=o.activeBar,u=Me(this.props,!1);return r&&r.map(function(d,f){var h=f===l,m=h?c:s,p=On(On(On({},u),d),{},{isActive:h,option:m,index:f,dataKey:a,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return A.createElement(xt,nS({className:"recharts-bar-rectangle"},Bd(i.props,d,f),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(f)}),A.createElement(pU,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,s=i.layout,a=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state.prevData;return A.createElement(ua,{begin:l,duration:c,isActive:a,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var m=h.t,p=o.map(function(g,b){var y=f&&f[b];if(y){var w=$i(y.x,g.x),_=$i(y.y,g.y),S=$i(y.width,g.width),C=$i(y.height,g.height);return On(On({},g),{},{x:w(m),y:_(m),width:S(m),height:C(m)})}if(s==="horizontal"){var k=$i(0,g.height),E=k(m);return On(On({},g),{},{y:g.y+g.height-E,height:E})}var T=$i(0,g.width),M=T(m);return On(On({},g),{},{width:M})});return A.createElement(xt,null,r.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,s=this.state.prevData;return o&&i&&i.length&&(!s||!U0(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,s=i.dataKey,a=i.activeIndex,l=Me(this.props.background,!1);return o.map(function(c,u){c.value;var d=c.background,f=oZe(c,iZe);if(!d)return null;var h=On(On(On(On(On({},f),{},{fill:"#eee"},d),l),Bd(r.props,c,u)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:u,className:"recharts-bar-background-rectangle"});return A.createElement(pU,nS({key:"background-bar-".concat(u),option:r.props.background,isActive:u===a},h))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.data,a=o.xAxis,l=o.yAxis,c=o.layout,u=o.children,d=Ki(u,H0);if(!d)return null;var f=c==="vertical"?s[0].height/2:s[0].width/2,h=function(g,b){var y=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:y,errorVal:Bn(g,b)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return A.createElement(xt,m,d.map(function(p){return A.cloneElement(p,{key:"error-bar-".concat(i,"-").concat(p.props.dataKey),data:s,xAxis:a,yAxis:l,layout:c,offset:f,dataPointFormatter:h})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,s=r.className,a=r.xAxis,l=r.yAxis,c=r.left,u=r.top,d=r.width,f=r.height,h=r.isAnimationActive,m=r.background,p=r.id;if(i||!o||!o.length)return null;var g=this.state.isAnimationFinished,b=tt("recharts-bar",s),y=a&&a.allowDataOverflow,w=l&&l.allowDataOverflow,_=y||w,S=Je(p)?this.id:p;return A.createElement(xt,{className:b},y||w?A.createElement("defs",null,A.createElement("clipPath",{id:"clipPath-".concat(S)},A.createElement("rect",{x:y?c:c-d/2,y:w?u:u-f/2,width:y?d:d*2,height:w?f:f*2}))):null,A.createElement(xt,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(S,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,S),(!h||g)&&Ja.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(x.PureComponent);hee=fi;pc(fi,"displayName","Bar");pc(fi,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!of.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});pc(fi,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,s=t.yAxis,a=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,u=t.dataStartIndex,d=t.displayedData,f=t.offset,h=W9e(r,n);if(!h)return null;var m=e.layout,p=n.type.defaultProps,g=p!==void 0?On(On({},p),n.props):n.props,b=g.dataKey,y=g.children,w=g.minPointSize,_=m==="horizontal"?s:o,S=c?_.scale.domain():null,C=J9e({numericAxis:_}),k=Ki(y,hc),E=d.map(function(T,M){var D,N,L,I,z,V;c?D=q9e(c[u+M],S):(D=Bn(T,b),Array.isArray(D)||(D=[C,D]));var j=rZe(w,hee.defaultProps.minPointSize)(D[1],M);if(m==="horizontal"){var R,$=[s.scale(D[0]),s.scale(D[1])],H=$[0],Y=$[1];N=az({axis:o,ticks:a,bandSize:i,offset:h.offset,entry:T,index:M}),L=(R=Y??H)!==null&&R!==void 0?R:void 0,I=h.size;var F=H-Y;if(z=Number.isNaN(F)?0:F,V={x:N,y:s.y,width:I,height:s.height},Math.abs(j)>0&&Math.abs(z)<Math.abs(j)){var G=Kr(z||j)*(Math.abs(j)-Math.abs(z));L-=G,z+=G}}else{var ee=[o.scale(D[0]),o.scale(D[1])],te=ee[0],me=ee[1];if(N=te,L=az({axis:s,ticks:l,bandSize:i,offset:h.offset,entry:T,index:M}),I=me-te,z=h.size,V={x:o.x,y:L,width:o.width,height:z},Math.abs(j)>0&&Math.abs(I)<Math.abs(j)){var Q=Kr(I||j)*(Math.abs(j)-Math.abs(I));I+=Q}}return On(On(On({},T),{},{x:N,y:L,width:I,height:z,value:c?D:D[1],payload:T,background:V},k&&k[M]&&k[M].props),{},{tooltipPayload:[jQ(n,T)],tooltipPosition:{x:N+I/2,y:L+z/2}})});return On({data:E,layout:m},f)});function qy(t){"@babel/helpers - typeof";return qy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qy(t)}function pZe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gee(r.key),r)}}function mZe(t,e,n){return e&&vU(t.prototype,e),n&&vU(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function yU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Go(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yU(Object(n),!0).forEach(function(r){BC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BC(t,e,n){return e=gee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gee(t){var e=gZe(t,"string");return qy(e)=="symbol"?e:e+""}function gZe(t,e){if(qy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vee=function(e,n,r,i,o){var s=e.width,a=e.height,l=e.layout,c=e.children,u=Object.keys(n),d={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:a-r.bottom,bottomMirror:a-r.bottom},f=!!Ni(c,fi);return u.reduce(function(h,m){var p=n[m],g=p.orientation,b=p.domain,y=p.padding,w=y===void 0?{}:y,_=p.mirror,S=p.reversed,C="".concat(g).concat(_?"Mirror":""),k,E,T,M,D;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var N=b[1]-b[0],L=1/0,I=p.categoricalDomain.sort();if(I.forEach(function(ee,te){te>0&&(L=Math.min((ee||0)-(I[te-1]||0),L))}),Number.isFinite(L)){var z=L/N,V=p.layout==="vertical"?r.height:r.width;if(p.padding==="gap"&&(k=z*V/2),p.padding==="no-gap"){var j=Yr(e.barCategoryGap,z*V),R=z*V/2;k=R-j-(R-j)/V*j}}}i==="xAxis"?E=[r.left+(w.left||0)+(k||0),r.left+r.width-(w.right||0)-(k||0)]:i==="yAxis"?E=l==="horizontal"?[r.top+r.height-(w.bottom||0),r.top+(w.top||0)]:[r.top+(w.top||0)+(k||0),r.top+r.height-(w.bottom||0)-(k||0)]:E=p.range,S&&(E=[E[1],E[0]]);var $=DQ(p,o,f),H=$.scale,Y=$.realScaleType;H.domain(b).range(E),RQ(H);var F=$Q(H,Go(Go({},p),{},{realScaleType:Y}));i==="xAxis"?(D=g==="top"&&!_||g==="bottom"&&_,T=r.left,M=d[C]-D*p.height):i==="yAxis"&&(D=g==="left"&&!_||g==="right"&&_,T=d[C]-D*p.width,M=r.top);var G=Go(Go(Go({},p),F),{},{realScaleType:Y,x:T,y:M,scale:H,width:i==="xAxis"?r.width:p.width,height:i==="yAxis"?r.height:p.height});return G.bandSize=B1(G,F),!p.hide&&i==="xAxis"?d[C]+=(D?-1:1)*G.height:p.hide||(d[C]+=(D?-1:1)*G.width),Go(Go({},h),{},BC({},m,G))},{})},yee=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return{x:Math.min(r,o),y:Math.min(i,s),width:Math.abs(o-r),height:Math.abs(s-i)}},vZe=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return yee({x:n,y:r},{x:i,y:o})},bee=function(){function t(e){pZe(this,t),this.scale=e}return mZe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(n)+a}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();BC(bee,"EPS",1e-4);var qI=function(e){var n=Object.keys(e).reduce(function(r,i){return Go(Go({},r),{},BC({},i,bee.create(e[i])))},{});return Go(Go({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,a=o.position;return jXe(i,function(l,c){return n[c].apply(l,{bandAware:s,position:a})})},isInRange:function(i){return fee(i,function(o,s){return n[s].isInRange(o)})}})};function yZe(t){return(t%180+180)%180}var bZe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=yZe(i),s=o*Math.PI/180,a=Math.atan(r/n),l=s>a&&s<Math.PI-a?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},wZe=va,xZe=L0,SZe=bC;function _Ze(t){return function(e,n,r){var i=Object(e);if(!xZe(e)){var o=wZe(n);e=SZe(e),n=function(a){return o(i[a],a,i)}}var s=t(e,n,r);return s>-1?i[o?e[s]:s]:void 0}}var CZe=_Ze,kZe=lee;function PZe(t){var e=kZe(t),n=e%1;return e===e?n?e-n:e:0}var EZe=PZe,OZe=hJ,TZe=va,AZe=EZe,MZe=Math.max;function NZe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:AZe(n);return i<0&&(i=MZe(r+i,0)),OZe(t,TZe(e),i)}var DZe=NZe,RZe=CZe,$Ze=DZe,IZe=RZe($Ze),jZe=IZe;const LZe=At(jZe);var FZe=RIe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),GI=x.createContext(void 0),KI=x.createContext(void 0),wee=x.createContext(void 0),xee=x.createContext({}),See=x.createContext(void 0),_ee=x.createContext(0),Cee=x.createContext(0),bU=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,s=e.clipPathId,a=e.children,l=e.width,c=e.height,u=FZe(o);return A.createElement(GI.Provider,{value:r},A.createElement(KI.Provider,{value:i},A.createElement(xee.Provider,{value:o},A.createElement(wee.Provider,{value:u},A.createElement(See.Provider,{value:s},A.createElement(_ee.Provider,{value:c},A.createElement(Cee.Provider,{value:l},a)))))))},BZe=function(){return x.useContext(See)},kee=function(e){var n=x.useContext(GI);n==null&&Ud();var r=n[e];return r==null&&Ud(),r},VZe=function(){var e=x.useContext(GI);return Jl(e)},zZe=function(){var e=x.useContext(KI),n=LZe(e,function(r){return fee(r.domain,Number.isFinite)});return n||Jl(e)},Pee=function(e){var n=x.useContext(KI);n==null&&Ud();var r=n[e];return r==null&&Ud(),r},UZe=function(){var e=x.useContext(wee);return e},HZe=function(){return x.useContext(xee)},YI=function(){return x.useContext(Cee)},XI=function(){return x.useContext(_ee)};function Fp(t){"@babel/helpers - typeof";return Fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fp(t)}function WZe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qZe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Oee(r.key),r)}}function GZe(t,e,n){return e&&qZe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function KZe(t,e,n){return e=iS(e),YZe(t,Eee()?Reflect.construct(e,n||[],iS(t).constructor):e.apply(t,n))}function YZe(t,e){if(e&&(Fp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XZe(t)}function XZe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Eee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Eee=function(){return!!t})()}function iS(t){return iS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},iS(t)}function ZZe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$M(t,e)}function $M(t,e){return $M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$M(t,e)}function wU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wU(Object(n),!0).forEach(function(r){ZI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZI(t,e,n){return e=Oee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oee(t){var e=JZe(t,"string");return Fp(e)=="symbol"?e:e+""}function JZe(t,e){if(Fp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function QZe(t,e){return rJe(t)||nJe(t,e)||tJe(t,e)||eJe()}function eJe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tJe(t,e){if(t){if(typeof t=="string")return SU(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SU(t,e)}}function SU(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nJe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function rJe(t){if(Array.isArray(t))return t}function IM(){return IM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},IM.apply(this,arguments)}var iJe=function(e,n){var r;return A.isValidElement(e)?r=A.cloneElement(e,n):ze(e)?r=e(n):r=A.createElement("line",IM({},n,{className:"recharts-reference-line-line"})),r},oJe=function(e,n,r,i,o,s,a,l,c){var u=o.x,d=o.y,f=o.width,h=o.height;if(r){var m=c.y,p=e.y.apply(m,{position:s});if(ea(c,"discard")&&!e.y.isInRange(p))return null;var g=[{x:u+f,y:p},{x:u,y:p}];return l==="left"?g.reverse():g}if(n){var b=c.x,y=e.x.apply(b,{position:s});if(ea(c,"discard")&&!e.x.isInRange(y))return null;var w=[{x:y,y:d+h},{x:y,y:d}];return a==="top"?w.reverse():w}if(i){var _=c.segment,S=_.map(function(C){return e.apply(C,{position:s})});return ea(c,"discard")&&TXe(S,function(C){return!e.isInRange(C)})?null:S}return null};function sJe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,s=t.shape,a=t.className,l=t.alwaysShow,c=BZe(),u=kee(i),d=Pee(o),f=UZe();if(!c||!f)return null;as(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=qI({x:u.scale,y:d.scale}),m=zn(e),p=zn(n),g=r&&r.length===2,b=oJe(h,m,p,g,f,t.position,u.orientation,d.orientation,t);if(!b)return null;var y=QZe(b,2),w=y[0],_=w.x,S=w.y,C=y[1],k=C.x,E=C.y,T=ea(t,"hidden")?"url(#".concat(c,")"):void 0,M=xU(xU({clipPath:T},Me(t,!0)),{},{x1:_,y1:S,x2:k,y2:E});return A.createElement(xt,{className:tt("recharts-reference-line",a)},iJe(s,M),Yn.renderCallByParent(t,vZe({x1:_,y1:S,x2:k,y2:E})))}var JI=function(t){function e(){return WZe(this,e),KZe(this,e,arguments)}return ZZe(e,t),GZe(e,[{key:"render",value:function(){return A.createElement(sJe,this.props)}}])}(A.Component);ZI(JI,"displayName","ReferenceLine");ZI(JI,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function jM(){return jM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jM.apply(this,arguments)}function Bp(t){"@babel/helpers - typeof";return Bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bp(t)}function _U(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_U(Object(n),!0).forEach(function(r){VC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_U(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aJe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lJe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Aee(r.key),r)}}function cJe(t,e,n){return e&&lJe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uJe(t,e,n){return e=oS(e),dJe(t,Tee()?Reflect.construct(e,n||[],oS(t).constructor):e.apply(t,n))}function dJe(t,e){if(e&&(Bp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fJe(t)}function fJe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Tee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Tee=function(){return!!t})()}function oS(t){return oS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},oS(t)}function hJe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LM(t,e)}function LM(t,e){return LM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},LM(t,e)}function VC(t,e,n){return e=Aee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Aee(t){var e=pJe(t,"string");return Bp(e)=="symbol"?e:e+""}function pJe(t,e){if(Bp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mJe=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,s=qI({x:i.scale,y:o.scale}),a=s.apply({x:n,y:r},{bandAware:!0});return ea(e,"discard")&&!s.isInRange(a)?null:a},zC=function(t){function e(){return aJe(this,e),uJe(this,e,arguments)}return hJe(e,t),cJe(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,s=r.r,a=r.alwaysShow,l=r.clipPathId,c=zn(i),u=zn(o);if(as(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var d=mJe(this.props);if(!d)return null;var f=d.x,h=d.y,m=this.props,p=m.shape,g=m.className,b=ea(this.props,"hidden")?"url(#".concat(l,")"):void 0,y=CU(CU({clipPath:b},Me(this.props,!0)),{},{cx:f,cy:h});return A.createElement(xt,{className:tt("recharts-reference-dot",g)},e.renderDot(p,y),Yn.renderCallByParent(this.props,{x:f-s,y:h-s,width:2*s,height:2*s}))}}])}(A.Component);VC(zC,"displayName","ReferenceDot");VC(zC,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});VC(zC,"renderDot",function(t,e){var n;return A.isValidElement(t)?n=A.cloneElement(t,e):ze(t)?n=t(e):n=A.createElement(DC,jM({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function FM(){return FM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},FM.apply(this,arguments)}function Vp(t){"@babel/helpers - typeof";return Vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vp(t)}function kU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kU(Object(n),!0).forEach(function(r){UC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gJe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vJe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Nee(r.key),r)}}function yJe(t,e,n){return e&&vJe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function bJe(t,e,n){return e=sS(e),wJe(t,Mee()?Reflect.construct(e,n||[],sS(t).constructor):e.apply(t,n))}function wJe(t,e){if(e&&(Vp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xJe(t)}function xJe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mee=function(){return!!t})()}function sS(t){return sS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sS(t)}function SJe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BM(t,e)}function BM(t,e){return BM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},BM(t,e)}function UC(t,e,n){return e=Nee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nee(t){var e=_Je(t,"string");return Vp(e)=="symbol"?e:e+""}function _Je(t,e){if(Vp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var CJe=function(e,n,r,i,o){var s=o.x1,a=o.x2,l=o.y1,c=o.y2,u=o.xAxis,d=o.yAxis;if(!u||!d)return null;var f=qI({x:u.scale,y:d.scale}),h={x:e?f.x.apply(s,{position:"start"}):f.x.rangeMin,y:r?f.y.apply(l,{position:"start"}):f.y.rangeMin},m={x:n?f.x.apply(a,{position:"end"}):f.x.rangeMax,y:i?f.y.apply(c,{position:"end"}):f.y.rangeMax};return ea(o,"discard")&&(!f.isInRange(h)||!f.isInRange(m))?null:yee(h,m)},HC=function(t){function e(){return gJe(this,e),bJe(this,e,arguments)}return SJe(e,t),yJe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,s=r.y1,a=r.y2,l=r.className,c=r.alwaysShow,u=r.clipPathId;as(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=zn(i),f=zn(o),h=zn(s),m=zn(a),p=this.props.shape;if(!d&&!f&&!h&&!m&&!p)return null;var g=CJe(d,f,h,m,this.props);if(!g&&!p)return null;var b=ea(this.props,"hidden")?"url(#".concat(u,")"):void 0;return A.createElement(xt,{className:tt("recharts-reference-area",l)},e.renderRect(p,PU(PU({clipPath:b},Me(this.props,!0)),g)),Yn.renderCallByParent(this.props,g))}}])}(A.Component);UC(HC,"displayName","ReferenceArea");UC(HC,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});UC(HC,"renderRect",function(t,e){var n;return A.isValidElement(t)?n=A.cloneElement(t,e):ze(t)?n=t(e):n=A.createElement(WI,FM({},e,{className:"recharts-reference-area-rect"})),n});function Dee(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function kJe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return bZe(r,n)}function PJe(t,e,n){var r=n==="width",i=t.x,o=t.y,s=t.width,a=t.height;return e===1?{start:r?i:o,end:r?i+s:o+a}:{start:r?i+s:o+a,end:r?i:o}}function aS(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function EJe(t,e){return Dee(t,e+1)}function OJe(t,e,n,r,i){for(var o=(r||[]).slice(),s=e.start,a=e.end,l=0,c=1,u=s,d=function(){var m=r==null?void 0:r[l];if(m===void 0)return{v:Dee(r,c)};var p=l,g,b=function(){return g===void 0&&(g=n(m,p)),g},y=m.coordinate,w=l===0||aS(t,y,b,u,a);w||(l=0,u=s,c+=1),w&&(u=y+t*(b()/2+i),l+=c)},f;c<=o.length;)if(f=d(),f)return f.v;return[]}function Gy(t){"@babel/helpers - typeof";return Gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gy(t)}function EU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EU(Object(n),!0).forEach(function(r){TJe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TJe(t,e,n){return e=AJe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AJe(t){var e=MJe(t,"string");return Gy(e)=="symbol"?e:e+""}function MJe(t,e){if(Gy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NJe(t,e,n,r,i){for(var o=(r||[]).slice(),s=o.length,a=e.start,l=e.end,c=function(f){var h=o[f],m,p=function(){return m===void 0&&(m=n(h,f)),m};if(f===s-1){var g=t*(h.coordinate+t*p()/2-l);o[f]=h=Pr(Pr({},h),{},{tickCoord:g>0?h.coordinate-g*t:h.coordinate})}else o[f]=h=Pr(Pr({},h),{},{tickCoord:h.coordinate});var b=aS(t,h.tickCoord,p,a,l);b&&(l=h.tickCoord-t*(p()/2+i),o[f]=Pr(Pr({},h),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return o}function DJe(t,e,n,r,i,o){var s=(r||[]).slice(),a=s.length,l=e.start,c=e.end;if(o){var u=r[a-1],d=n(u,a-1),f=t*(u.coordinate+t*d/2-c);s[a-1]=u=Pr(Pr({},u),{},{tickCoord:f>0?u.coordinate-f*t:u.coordinate});var h=aS(t,u.tickCoord,function(){return d},l,c);h&&(c=u.tickCoord-t*(d/2+i),s[a-1]=Pr(Pr({},u),{},{isShow:!0}))}for(var m=o?a-1:a,p=function(y){var w=s[y],_,S=function(){return _===void 0&&(_=n(w,y)),_};if(y===0){var C=t*(w.coordinate-t*S()/2-l);s[y]=w=Pr(Pr({},w),{},{tickCoord:C<0?w.coordinate-C*t:w.coordinate})}else s[y]=w=Pr(Pr({},w),{},{tickCoord:w.coordinate});var k=aS(t,w.tickCoord,S,l,c);k&&(l=w.tickCoord+t*(S()/2+i),s[y]=Pr(Pr({},w),{},{isShow:!0}))},g=0;g<m;g++)p(g);return s}function QI(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,s=t.minTickGap,a=t.orientation,l=t.interval,c=t.tickFormatter,u=t.unit,d=t.angle;if(!i||!i.length||!r)return[];if(ce(l)||of.isSsr)return EJe(i,typeof l=="number"&&ce(l)?l:0);var f=[],h=a==="top"||a==="bottom"?"width":"height",m=u&&h==="width"?Yg(u,{fontSize:e,letterSpacing:n}):{width:0,height:0},p=function(w,_){var S=ze(c)?c(w.value,_):w.value;return h==="width"?kJe(Yg(S,{fontSize:e,letterSpacing:n}),m,d):Yg(S,{fontSize:e,letterSpacing:n})[h]},g=i.length>=2?Kr(i[1].coordinate-i[0].coordinate):1,b=PJe(o,g,h);return l==="equidistantPreserveStart"?OJe(g,b,p,i,s):(l==="preserveStart"||l==="preserveStartEnd"?f=DJe(g,b,p,i,s,l==="preserveStartEnd"):f=NJe(g,b,p,i,s),f.filter(function(y){return y.isShow}))}var RJe=["viewBox"],$Je=["viewBox"],IJe=["ticks"];function zp(t){"@babel/helpers - typeof";return zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zp(t)}function oh(){return oh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oh.apply(this,arguments)}function OU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OU(Object(n),!0).forEach(function(r){ej(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yE(t,e){if(t==null)return{};var n=jJe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jJe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function LJe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$ee(r.key),r)}}function FJe(t,e,n){return e&&TU(t.prototype,e),n&&TU(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function BJe(t,e,n){return e=lS(e),VJe(t,Ree()?Reflect.construct(e,n||[],lS(t).constructor):e.apply(t,n))}function VJe(t,e){if(e&&(zp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zJe(t)}function zJe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ree(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ree=function(){return!!t})()}function lS(t){return lS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lS(t)}function UJe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VM(t,e)}function VM(t,e){return VM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},VM(t,e)}function ej(t,e,n){return e=$ee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ee(t){var e=HJe(t,"string");return zp(e)=="symbol"?e:e+""}function HJe(t,e){if(zp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Em=function(t){function e(n){var r;return LJe(this,e),r=BJe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return UJe(e,t),FJe(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,s=yE(r,RJe),a=this.props,l=a.viewBox,c=yE(a,$Je);return!Ph(o,l)||!Ph(s,c)||!Ph(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,s=i.y,a=i.width,l=i.height,c=i.orientation,u=i.tickSize,d=i.mirror,f=i.tickMargin,h,m,p,g,b,y,w=d?-1:1,_=r.tickSize||u,S=ce(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":h=m=r.coordinate,g=s+ +!d*l,p=g-w*_,y=p-w*f,b=S;break;case"left":p=g=r.coordinate,m=o+ +!d*a,h=m-w*_,b=h-w*f,y=S;break;case"right":p=g=r.coordinate,m=o+ +d*a,h=m+w*_,b=h+w*f,y=S;break;default:h=m=r.coordinate,g=s+ +d*l,p=g+w*_,y=p+w*f,b=S;break}return{line:{x1:h,y1:p,x2:m,y2:g},tick:{x:b,y}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s;switch(i){case"left":s=o?"start":"end";break;case"right":s=o?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=o?"start":"end";break;default:s=o?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.orientation,c=r.mirror,u=r.axisLine,d=Lr(Lr(Lr({},Me(this.props,!1)),Me(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var f=+(l==="top"&&!c||l==="bottom"&&c);d=Lr(Lr({},d),{},{x1:i,y1:o+f*a,x2:i+s,y2:o+f*a})}else{var h=+(l==="left"&&!c||l==="right"&&c);d=Lr(Lr({},d),{},{x1:i+h*s,y1:o,x2:i+h*s,y2:o+a})}return A.createElement("line",oh({},d,{className:tt("recharts-cartesian-axis-line",Gi(u,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var s=this,a=this.props,l=a.tickLine,c=a.stroke,u=a.tick,d=a.tickFormatter,f=a.unit,h=QI(Lr(Lr({},this.props),{},{ticks:r}),i,o),m=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),g=Me(this.props,!1),b=Me(u,!1),y=Lr(Lr({},g),{},{fill:"none"},Me(l,!1)),w=h.map(function(_,S){var C=s.getTickLineCoord(_),k=C.line,E=C.tick,T=Lr(Lr(Lr(Lr({textAnchor:m,verticalAnchor:p},g),{},{stroke:"none",fill:c},b),E),{},{index:S,payload:_,visibleTicksCount:h.length,tickFormatter:d});return A.createElement(xt,oh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},Bd(s.props,_,S)),l&&A.createElement("line",oh({},y,k,{className:tt("recharts-cartesian-axis-tick-line",Gi(l,"className"))})),u&&e.renderTickItem(u,T,"".concat(ze(d)?d(_.value,S):_.value).concat(f||"")))});return A.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,s=i.width,a=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var d=this.props,f=d.ticks,h=yE(d,IJe),m=f;return ze(l)&&(m=f&&f.length>0?l(this.props):l(h)),s<=0||a<=0||!m||!m.length?null:A.createElement(xt,{className:tt("recharts-cartesian-axis",c),ref:function(g){r.layerReference=g}},o&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),Yn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var s;return A.isValidElement(r)?s=A.cloneElement(r,i):ze(r)?s=r(i):s=A.createElement(Vd,oh({},i,{className:"recharts-cartesian-axis-tick-value"}),o),s}}])}(x.Component);ej(Em,"displayName","CartesianAxis");ej(Em,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var WJe=["x1","y1","x2","y2","key"],qJe=["offset"];function Hd(t){"@babel/helpers - typeof";return Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hd(t)}function AU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ar(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AU(Object(n),!0).forEach(function(r){GJe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GJe(t,e,n){return e=KJe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KJe(t){var e=YJe(t,"string");return Hd(e)=="symbol"?e:e+""}function YJe(t,e){if(Hd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ju(){return Ju=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ju.apply(this,arguments)}function MU(t,e){if(t==null)return{};var n=XJe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function XJe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var ZJe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,s=e.width,a=e.height,l=e.ry;return A.createElement("rect",{x:i,y:o,ry:l,width:s,height:a,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Iee(t,e){var n;if(A.isValidElement(t))n=A.cloneElement(t,e);else if(ze(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,s=e.y2,a=e.key,l=MU(e,WJe),c=Me(l,!1);c.offset;var u=MU(c,qJe);n=A.createElement("line",Ju({},u,{x1:r,y1:i,x2:o,y2:s,fill:"none",key:a}))}return n}function JJe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(a,l){var c=Ar(Ar({},t),{},{x1:e,y1:a,x2:e+n,y2:a,key:"line-".concat(l),index:l});return Iee(i,c)});return A.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function QJe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(a,l){var c=Ar(Ar({},t),{},{x1:a,y1:e,x2:a,y2:e+n,key:"line-".concat(l),index:l});return Iee(i,c)});return A.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function eQe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,s=t.height,a=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var u=a.map(function(f){return Math.round(f+i-i)}).sort(function(f,h){return f-h});i!==u[0]&&u.unshift(0);var d=u.map(function(f,h){var m=!u[h+1],p=m?i+s-f:u[h+1]-f;if(p<=0)return null;var g=h%e.length;return A.createElement("rect",{key:"react-".concat(h),y:f,x:r,height:p,width:o,stroke:"none",fill:e[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function tQe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,s=t.y,a=t.width,l=t.height,c=t.verticalPoints;if(!n||!r||!r.length)return null;var u=c.map(function(f){return Math.round(f+o-o)}).sort(function(f,h){return f-h});o!==u[0]&&u.unshift(0);var d=u.map(function(f,h){var m=!u[h+1],p=m?o+a-f:u[h+1]-f;if(p<=0)return null;var g=h%r.length;return A.createElement("rect",{key:"react-".concat(h),x:f,y:s,width:p,height:l,stroke:"none",fill:r[g],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var nQe=function(e,n){var r=e.xAxis,i=e.width,o=e.height,s=e.offset;return NQ(QI(Ar(Ar(Ar({},Em.defaultProps),r),{},{ticks:Ha(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.left,s.left+s.width,n)},rQe=function(e,n){var r=e.yAxis,i=e.width,o=e.height,s=e.offset;return NQ(QI(Ar(Ar(Ar({},Em.defaultProps),r),{},{ticks:Ha(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.top,s.top+s.height,n)},Pf={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function ju(t){var e,n,r,i,o,s,a=YI(),l=XI(),c=HZe(),u=Ar(Ar({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Pf.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Pf.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Pf.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Pf.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:Pf.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:Pf.verticalFill,x:ce(t.x)?t.x:c.left,y:ce(t.y)?t.y:c.top,width:ce(t.width)?t.width:c.width,height:ce(t.height)?t.height:c.height}),d=u.x,f=u.y,h=u.width,m=u.height,p=u.syncWithTicks,g=u.horizontalValues,b=u.verticalValues,y=VZe(),w=zZe();if(!ce(h)||h<=0||!ce(m)||m<=0||!ce(d)||d!==+d||!ce(f)||f!==+f)return null;var _=u.verticalCoordinatesGenerator||nQe,S=u.horizontalCoordinatesGenerator||rQe,C=u.horizontalPoints,k=u.verticalPoints;if((!C||!C.length)&&ze(S)){var E=g&&g.length,T=S({yAxis:w?Ar(Ar({},w),{},{ticks:E?g:w.ticks}):void 0,width:a,height:l,offset:c},E?!0:p);as(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Hd(T),"]")),Array.isArray(T)&&(C=T)}if((!k||!k.length)&&ze(_)){var M=b&&b.length,D=_({xAxis:y?Ar(Ar({},y),{},{ticks:M?b:y.ticks}):void 0,width:a,height:l,offset:c},M?!0:p);as(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Hd(D),"]")),Array.isArray(D)&&(k=D)}return A.createElement("g",{className:"recharts-cartesian-grid"},A.createElement(ZJe,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),A.createElement(JJe,Ju({},u,{offset:c,horizontalPoints:C,xAxis:y,yAxis:w})),A.createElement(QJe,Ju({},u,{offset:c,verticalPoints:k,xAxis:y,yAxis:w})),A.createElement(eQe,Ju({},u,{horizontalPoints:C})),A.createElement(tQe,Ju({},u,{verticalPoints:k})))}ju.displayName="CartesianGrid";var iQe=["type","layout","connectNulls","ref"],oQe=["key"];function Up(t){"@babel/helpers - typeof";return Up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Up(t)}function NU(t,e){if(t==null)return{};var n=sQe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sQe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function tv(){return tv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tv.apply(this,arguments)}function DU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DU(Object(n),!0).forEach(function(r){Ko(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ef(t){return uQe(t)||cQe(t)||lQe(t)||aQe()}function aQe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lQe(t,e){if(t){if(typeof t=="string")return zM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zM(t,e)}}function cQe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function uQe(t){if(Array.isArray(t))return zM(t)}function zM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Lee(r.key),r)}}function fQe(t,e,n){return e&&RU(t.prototype,e),n&&RU(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function hQe(t,e,n){return e=cS(e),pQe(t,jee()?Reflect.construct(e,n||[],cS(t).constructor):e.apply(t,n))}function pQe(t,e){if(e&&(Up(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mQe(t)}function mQe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jee=function(){return!!t})()}function cS(t){return cS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cS(t)}function gQe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UM(t,e)}function UM(t,e){return UM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},UM(t,e)}function Ko(t,e,n){return e=Lee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lee(t){var e=vQe(t,"string");return Up(e)=="symbol"?e:e+""}function vQe(t,e){if(Up(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Up(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Hp=function(t){function e(){var n;dQe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=hQe(this,e,[].concat(i)),Ko(n,"state",{isAnimationFinished:!0,totalLength:0}),Ko(n,"generateSimpleStrokeDasharray",function(s,a){return"".concat(a,"px ").concat(s-a,"px")}),Ko(n,"getStrokeDasharray",function(s,a,l){var c=l.reduce(function(b,y){return b+y});if(!c)return n.generateSimpleStrokeDasharray(a,s);for(var u=Math.floor(s/c),d=s%c,f=a-s,h=[],m=0,p=0;m<l.length;p+=l[m],++m)if(p+l[m]>d){h=[].concat(Ef(l.slice(0,m)),[d-p]);break}var g=h.length%2===0?[0,f]:[f];return[].concat(Ef(e.repeat(l,u)),Ef(h),g).map(function(b){return"".concat(b,"px")}).join(", ")}),Ko(n,"id",wm("recharts-line-")),Ko(n,"pathRef",function(s){n.mainCurve=s}),Ko(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Ko(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return gQe(e,t),fQe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.points,a=o.xAxis,l=o.yAxis,c=o.layout,u=o.children,d=Ki(u,H0);if(!d)return null;var f=function(p,g){return{x:p.x,y:p.y,value:p.value,errorVal:Bn(p.payload,g)}},h={clipPath:r?"url(#clipPath-".concat(i,")"):null};return A.createElement(xt,h,d.map(function(m){return A.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:s,xAxis:a,yAxis:l,layout:c,dataPointFormatter:f})}))}},{key:"renderDots",value:function(r,i,o){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var a=this.props,l=a.dot,c=a.points,u=a.dataKey,d=Me(this.props,!1),f=Me(l,!0),h=c.map(function(p,g){var b=Oi(Oi(Oi({key:"dot-".concat(g),r:3},d),f),{},{index:g,cx:p.x,cy:p.y,value:p.value,dataKey:u,payload:p.payload,points:c});return e.renderDotItem(l,b)}),m={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return A.createElement(xt,tv({className:"recharts-line-dots",key:"dots"},m),h)}},{key:"renderCurveStatically",value:function(r,i,o,s){var a=this.props,l=a.type,c=a.layout,u=a.connectNulls;a.ref;var d=NU(a,iQe),f=Oi(Oi(Oi({},Me(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},s),{},{type:l,layout:c,connectNulls:u});return A.createElement(U1,tv({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,s=this.props,a=s.points,l=s.strokeDasharray,c=s.isAnimationActive,u=s.animationBegin,d=s.animationDuration,f=s.animationEasing,h=s.animationId,m=s.animateNewValues,p=s.width,g=s.height,b=this.state,y=b.prevPoints,w=b.totalLength;return A.createElement(ua,{begin:u,duration:d,isActive:c,easing:f,from:{t:0},to:{t:1},key:"line-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var S=_.t;if(y){var C=y.length/a.length,k=a.map(function(N,L){var I=Math.floor(L*C);if(y[I]){var z=y[I],V=$i(z.x,N.x),j=$i(z.y,N.y);return Oi(Oi({},N),{},{x:V(S),y:j(S)})}if(m){var R=$i(p*2,N.x),$=$i(g/2,N.y);return Oi(Oi({},N),{},{x:R(S),y:$(S)})}return Oi(Oi({},N),{},{x:N.x,y:N.y})});return o.renderCurveStatically(k,r,i)}var E=$i(0,w),T=E(S),M;if(l){var D="".concat(l).split(/[,\s]+/gim).map(function(N){return parseFloat(N)});M=o.getStrokeDasharray(T,w,D)}else M=o.generateSimpleStrokeDasharray(w,T);return o.renderCurveStatically(a,r,i,{strokeDasharray:M})})}},{key:"renderCurve",value:function(r,i){var o=this.props,s=o.points,a=o.isAnimationActive,l=this.state,c=l.prevPoints,u=l.totalLength;return a&&s&&s.length&&(!c&&u>0||!U0(c,s))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(s,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,s=i.dot,a=i.points,l=i.className,c=i.xAxis,u=i.yAxis,d=i.top,f=i.left,h=i.width,m=i.height,p=i.isAnimationActive,g=i.id;if(o||!a||!a.length)return null;var b=this.state.isAnimationFinished,y=a.length===1,w=tt("recharts-line",l),_=c&&c.allowDataOverflow,S=u&&u.allowDataOverflow,C=_||S,k=Je(g)?this.id:g,E=(r=Me(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},T=E.r,M=T===void 0?3:T,D=E.strokeWidth,N=D===void 0?2:D,L=Lje(s)?s:{},I=L.clipDot,z=I===void 0?!0:I,V=M*2+N;return A.createElement(xt,{className:w},_||S?A.createElement("defs",null,A.createElement("clipPath",{id:"clipPath-".concat(k)},A.createElement("rect",{x:_?f:f-h/2,y:S?d:d-m/2,width:_?h:h*2,height:S?m:m*2})),!z&&A.createElement("clipPath",{id:"clipPath-dots-".concat(k)},A.createElement("rect",{x:f-V/2,y:d-V/2,width:h+V,height:m+V}))):null,!y&&this.renderCurve(C,k),this.renderErrorBar(C,k),(y||s)&&this.renderDots(C,z,k),(!p||b)&&Ja.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(Ef(r),[0]):r,s=[],a=0;a<i;++a)s=[].concat(Ef(s),Ef(o));return s}},{key:"renderDotItem",value:function(r,i){var o;if(A.isValidElement(r))o=A.cloneElement(r,i);else if(ze(r))o=r(i);else{var s=i.key,a=NU(i,oQe),l=tt("recharts-line-dot",typeof r!="boolean"?r.className:"");o=A.createElement(DC,tv({key:s},a,{className:l}))}return o}}])}(x.PureComponent);Ko(Hp,"displayName","Line");Ko(Hp,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!of.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ko(Hp,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,s=t.dataKey,a=t.bandSize,l=t.displayedData,c=t.offset,u=e.layout,d=l.map(function(f,h){var m=Bn(f,s);return u==="horizontal"?{x:sz({axis:n,ticks:i,bandSize:a,entry:f,index:h}),y:Je(m)?null:r.scale(m),value:m,payload:f}:{x:Je(m)?null:n.scale(m),y:sz({axis:r,ticks:o,bandSize:a,entry:f,index:h}),value:m,payload:f}});return Oi({points:d,layout:u},c)});function Wp(t){"@babel/helpers - typeof";return Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wp(t)}function yQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bQe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Vee(r.key),r)}}function wQe(t,e,n){return e&&bQe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xQe(t,e,n){return e=uS(e),SQe(t,Fee()?Reflect.construct(e,n||[],uS(t).constructor):e.apply(t,n))}function SQe(t,e){if(e&&(Wp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Qe(t)}function _Qe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Fee=function(){return!!t})()}function uS(t){return uS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},uS(t)}function CQe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HM(t,e)}function HM(t,e){return HM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},HM(t,e)}function Bee(t,e,n){return e=Vee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vee(t){var e=kQe(t,"string");return Wp(e)=="symbol"?e:e+""}function kQe(t,e){if(Wp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function WM(){return WM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WM.apply(this,arguments)}function PQe(t){var e=t.xAxisId,n=YI(),r=XI(),i=kee(e);return i==null?null:A.createElement(Em,WM({},i,{className:tt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return Ha(s,!0)}}))}var Ds=function(t){function e(){return yQe(this,e),xQe(this,e,arguments)}return CQe(e,t),wQe(e,[{key:"render",value:function(){return A.createElement(PQe,this.props)}}])}(A.Component);Bee(Ds,"displayName","XAxis");Bee(Ds,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function qp(t){"@babel/helpers - typeof";return qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qp(t)}function EQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OQe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Hee(r.key),r)}}function TQe(t,e,n){return e&&OQe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function AQe(t,e,n){return e=dS(e),MQe(t,zee()?Reflect.construct(e,n||[],dS(t).constructor):e.apply(t,n))}function MQe(t,e){if(e&&(qp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NQe(t)}function NQe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zee=function(){return!!t})()}function dS(t){return dS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dS(t)}function DQe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qM(t,e)}function qM(t,e){return qM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qM(t,e)}function Uee(t,e,n){return e=Hee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hee(t){var e=RQe(t,"string");return qp(e)=="symbol"?e:e+""}function RQe(t,e){if(qp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function GM(){return GM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GM.apply(this,arguments)}var $Qe=function(e){var n=e.yAxisId,r=YI(),i=XI(),o=Pee(n);return o==null?null:A.createElement(Em,GM({},o,{className:tt("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(a){return Ha(a,!0)}}))},Rs=function(t){function e(){return EQe(this,e),AQe(this,e,arguments)}return DQe(e,t),TQe(e,[{key:"render",value:function(){return A.createElement($Qe,this.props)}}])}(A.Component);Uee(Rs,"displayName","YAxis");Uee(Rs,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function $U(t){return FQe(t)||LQe(t)||jQe(t)||IQe()}function IQe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jQe(t,e){if(t){if(typeof t=="string")return KM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KM(t,e)}}function LQe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function FQe(t){if(Array.isArray(t))return KM(t)}function KM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var YM=function(e,n,r,i,o){var s=Ki(e,JI),a=Ki(e,zC),l=[].concat($U(s),$U(a)),c=Ki(e,HC),u="".concat(i,"Id"),d=i[0],f=n;if(l.length&&(f=l.reduce(function(p,g){if(g.props[u]===r&&ea(g.props,"extendDomain")&&ce(g.props[d])){var b=g.props[d];return[Math.min(p[0],b),Math.max(p[1],b)]}return p},f)),c.length){var h="".concat(d,"1"),m="".concat(d,"2");f=c.reduce(function(p,g){if(g.props[u]===r&&ea(g.props,"extendDomain")&&ce(g.props[h])&&ce(g.props[m])){var b=g.props[h],y=g.props[m];return[Math.min(p[0],b,y),Math.max(p[1],b,y)]}return p},f)}return o&&o.length&&(f=o.reduce(function(p,g){return ce(g)?[Math.min(p[0],g),Math.max(p[1],g)]:p},f)),f},Wee={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function o(l,c,u,d,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new i(u,d||l,f),m=n?n+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],h]:l._events[m].push(h):(l._events[m]=h,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)e.call(u,d)&&c.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=n?n+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,h=d.length,m=new Array(h);f<h;f++)m[f]=d[f].fn;return m},a.prototype.listenerCount=function(c){var u=n?n+c:c,d=this._events[u];return d?d.fn?1:d.length:0},a.prototype.emit=function(c,u,d,f,h,m){var p=n?n+c:c;if(!this._events[p])return!1;var g=this._events[p],b=arguments.length,y,w;if(g.fn){switch(g.once&&this.removeListener(c,g.fn,void 0,!0),b){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,u),!0;case 3:return g.fn.call(g.context,u,d),!0;case 4:return g.fn.call(g.context,u,d,f),!0;case 5:return g.fn.call(g.context,u,d,f,h),!0;case 6:return g.fn.call(g.context,u,d,f,h,m),!0}for(w=1,y=new Array(b-1);w<b;w++)y[w-1]=arguments[w];g.fn.apply(g.context,y)}else{var _=g.length,S;for(w=0;w<_;w++)switch(g[w].once&&this.removeListener(c,g[w].fn,void 0,!0),b){case 1:g[w].fn.call(g[w].context);break;case 2:g[w].fn.call(g[w].context,u);break;case 3:g[w].fn.call(g[w].context,u,d);break;case 4:g[w].fn.call(g[w].context,u,d,f);break;default:if(!y)for(S=1,y=new Array(b-1);S<b;S++)y[S-1]=arguments[S];g[w].fn.apply(g[w].context,y)}}return!0},a.prototype.on=function(c,u,d){return o(this,c,u,d,!1)},a.prototype.once=function(c,u,d){return o(this,c,u,d,!0)},a.prototype.removeListener=function(c,u,d,f){var h=n?n+c:c;if(!this._events[h])return this;if(!u)return s(this,h),this;var m=this._events[h];if(m.fn)m.fn===u&&(!f||m.once)&&(!d||m.context===d)&&s(this,h);else{for(var p=0,g=[],b=m.length;p<b;p++)(m[p].fn!==u||f&&!m[p].once||d&&m[p].context!==d)&&g.push(m[p]);g.length?this._events[h]=g.length===1?g[0]:g:s(this,h)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&s(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(Wee);var BQe=Wee.exports;const VQe=At(BQe);var bE=new VQe,wE="recharts.syncMouseEvents";function Ky(t){"@babel/helpers - typeof";return Ky=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ky(t)}function zQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UQe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qee(r.key),r)}}function HQe(t,e,n){return e&&UQe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xE(t,e,n){return e=qee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qee(t){var e=WQe(t,"string");return Ky(e)=="symbol"?e:e+""}function WQe(t,e){if(Ky(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ky(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qQe=function(){function t(){zQe(this,t),xE(this,"activeIndex",0),xE(this,"coordinateList",[]),xE(this,"layout","horizontal")}return HQe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,s=n.container,a=s===void 0?null:s,l=n.layout,c=l===void 0?null:l,u=n.offset,d=u===void 0?null:u,f=n.mouseHandlerCallback,h=f===void 0?null:f;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=a??this.container,this.layout=c??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,s=i.y,a=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,u=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=o+l+c,f=s+this.offset.top+a/2+u;this.mouseHandlerCallback({pageX:d,pageY:f})}}}])}();function GQe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&ce(r)&&ce(i))return!0}return!1}function KQe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function Gee(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,s=Kt(e,n,r,i),a=Kt(e,n,r,o);return{points:[s,a],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function YQe(t,e,n){var r,i,o,s;if(t==="horizontal")r=e.x,o=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var a=e.cx,l=e.cy,c=e.innerRadius,u=e.outerRadius,d=e.angle,f=Kt(a,l,c,d),h=Kt(a,l,u,d);r=f.x,i=f.y,o=h.x,s=h.y}else return Gee(e);return[{x:r,y:i},{x:o,y:s}]}function Yy(t){"@babel/helpers - typeof";return Yy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yy(t)}function IU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IU(Object(n),!0).forEach(function(r){XQe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XQe(t,e,n){return e=ZQe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZQe(t){var e=JQe(t,"string");return Yy(e)=="symbol"?e:e+""}function JQe(t,e){if(Yy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QQe(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,s=t.activeCoordinate,a=t.activePayload,l=t.offset,c=t.activeTooltipIndex,u=t.tooltipAxisBandSize,d=t.layout,f=t.chartName,h=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!h||!o||!s||f!=="ScatterChart"&&i!=="axis")return null;var m,p=U1;if(f==="ScatterChart")m=s,p=m7e;else if(f==="BarChart")m=KQe(d,s,l,u),p=WI;else if(d==="radial"){var g=Gee(s),b=g.cx,y=g.cy,w=g.radius,_=g.startAngle,S=g.endAngle;m={cx:b,cy:y,startAngle:_,endAngle:S,innerRadius:w,outerRadius:w},p=UQ}else m={points:YQe(d,s,l)},p=U1;var C=nw(nw(nw(nw({stroke:"#ccc",pointerEvents:"none"},l),m),Me(h,!1)),{},{payload:a,payloadIndex:c,className:tt("recharts-tooltip-cursor",h.className)});return x.isValidElement(h)?x.cloneElement(h,C):x.createElement(p,C)}var eet=["item"],tet=["children","className","width","height","style","compact","title","desc"];function Gp(t){"@babel/helpers - typeof";return Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gp(t)}function sh(){return sh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sh.apply(this,arguments)}function jU(t,e){return iet(t)||ret(t,e)||Yee(t,e)||net()}function net(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ret(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function iet(t){if(Array.isArray(t))return t}function LU(t,e){if(t==null)return{};var n=oet(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function oet(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function set(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aet(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Xee(r.key),r)}}function cet(t,e,n){return e&&aet(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uet(t,e,n){return e=fS(e),det(t,Kee()?Reflect.construct(e,n||[],fS(t).constructor):e.apply(t,n))}function det(t,e){if(e&&(Gp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fet(t)}function fet(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kee=function(){return!!t})()}function fS(t){return fS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fS(t)}function het(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XM(t,e)}function XM(t,e){return XM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},XM(t,e)}function Kp(t){return get(t)||met(t)||Yee(t)||pet()}function pet(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yee(t,e){if(t){if(typeof t=="string")return ZM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZM(t,e)}}function met(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function get(t){if(Array.isArray(t))return ZM(t)}function ZM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function FU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function X(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FU(Object(n),!0).forEach(function(r){Re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Re(t,e,n){return e=Xee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xee(t){var e=vet(t,"string");return Gp(e)=="symbol"?e:e+""}function vet(t,e){if(Gp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yet={xAxis:["bottom","top"],yAxis:["left","right"]},bet={width:"100%",height:"100%"},Zee={x:0,y:0};function rw(t){return t}var wet=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},xet=function(e,n,r,i){var o=n.find(function(u){return u&&u.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var s=o.coordinate,a=i.radius;return X(X(X({},i),Kt(i.cx,i.cy,a,s)),{},{angle:s,radius:a})}var l=o.coordinate,c=i.angle;return X(X(X({},i),Kt(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return Zee},WC=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,s=(r??[]).reduce(function(a,l){var c=l.props.data;return c&&c.length?[].concat(Kp(a),Kp(c)):a},[]);return s.length>0?s:e&&e.length&&ce(i)&&ce(o)?e.slice(i,o+1):[]};function Jee(t){return t==="number"?[0,"auto"]:void 0}var JM=function(e,n,r,i){var o=e.graphicalItems,s=e.tooltipAxis,a=WC(n,e);return r<0||!o||!o.length||r>=a.length?null:o.reduce(function(l,c){var u,d=(u=c.props.data)!==null&&u!==void 0?u:n;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var f;if(s.dataKey&&!s.allowDuplicatedCategory){var h=d===void 0?a:d;f=f1(h,s.dataKey,i)}else f=d&&d[r]||a[r];return f?[].concat(Kp(l),[jQ(c,f)]):l},[])},BU=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},s=wet(o,r),a=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,u=F9e(s,a,c,l);if(u>=0&&c){var d=c[u]&&c[u].value,f=JM(e,n,u,d),h=xet(r,a,u,o);return{activeTooltipIndex:u,activeLabel:d,activePayload:f,activeCoordinate:h}}return null},_et=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,d=e.children,f=e.stackOffset,h=MQ(u,o);return r.reduce(function(m,p){var g,b=p.type.defaultProps!==void 0?X(X({},p.type.defaultProps),p.props):p.props,y=b.type,w=b.dataKey,_=b.allowDataOverflow,S=b.allowDuplicatedCategory,C=b.scale,k=b.ticks,E=b.includeHidden,T=b[s];if(m[T])return m;var M=WC(e.data,{graphicalItems:i.filter(function(F){var G,ee=s in F.props?F.props[s]:(G=F.type.defaultProps)===null||G===void 0?void 0:G[s];return ee===T}),dataStartIndex:l,dataEndIndex:c}),D=M.length,N,L,I;GQe(b.domain,_,y)&&(N=fM(b.domain,null,_),h&&(y==="number"||C!=="auto")&&(I=Zg(M,w,"category")));var z=Jee(y);if(!N||N.length===0){var V,j=(V=b.domain)!==null&&V!==void 0?V:z;if(w){if(N=Zg(M,w,y),y==="category"&&h){var R=Tje(N);S&&R?(L=N,N=Q1(0,D)):S||(N=uz(j,N,p).reduce(function(F,G){return F.indexOf(G)>=0?F:[].concat(Kp(F),[G])},[]))}else if(y==="category")S?N=N.filter(function(F){return F!==""&&!Je(F)}):N=uz(j,N,p).reduce(function(F,G){return F.indexOf(G)>=0||G===""||Je(G)?F:[].concat(Kp(F),[G])},[]);else if(y==="number"){var $=H9e(M,i.filter(function(F){var G,ee,te=s in F.props?F.props[s]:(G=F.type.defaultProps)===null||G===void 0?void 0:G[s],me="hide"in F.props?F.props.hide:(ee=F.type.defaultProps)===null||ee===void 0?void 0:ee.hide;return te===T&&(E||!me)}),w,o,u);$&&(N=$)}h&&(y==="number"||C!=="auto")&&(I=Zg(M,w,"category"))}else h?N=Q1(0,D):a&&a[T]&&a[T].hasStack&&y==="number"?N=f==="expand"?[0,1]:IQ(a[T].stackGroups,l,c):N=AQ(M,i.filter(function(F){var G=s in F.props?F.props[s]:F.type.defaultProps[s],ee="hide"in F.props?F.props.hide:F.type.defaultProps.hide;return G===T&&(E||!ee)}),y,u,!0);if(y==="number")N=YM(d,N,T,o,k),j&&(N=fM(j,N,_));else if(y==="category"&&j){var H=j,Y=N.every(function(F){return H.indexOf(F)>=0});Y&&(N=H)}}return X(X({},m),{},Re({},T,X(X({},b),{},{axisType:o,domain:N,categoricalDomain:I,duplicateDomain:L,originalDomain:(g=b.domain)!==null&&g!==void 0?g:z,isCategorical:h,layout:u})))},{})},Cet=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,d=e.children,f=WC(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),h=f.length,m=MQ(u,o),p=-1;return r.reduce(function(g,b){var y=b.type.defaultProps!==void 0?X(X({},b.type.defaultProps),b.props):b.props,w=y[s],_=Jee("number");if(!g[w]){p++;var S;return m?S=Q1(0,h):a&&a[w]&&a[w].hasStack?(S=IQ(a[w].stackGroups,l,c),S=YM(d,S,w,o)):(S=fM(_,AQ(f,r.filter(function(C){var k,E,T=s in C.props?C.props[s]:(k=C.type.defaultProps)===null||k===void 0?void 0:k[s],M="hide"in C.props?C.props.hide:(E=C.type.defaultProps)===null||E===void 0?void 0:E.hide;return T===w&&!M}),"number",u),i.defaultProps.allowDataOverflow),S=YM(d,S,w,o)),X(X({},g),{},Re({},w,X(X({axisType:o},i.defaultProps),{},{hide:!0,orientation:Gi(yet,"".concat(o,".").concat(p%2),null),domain:S,originalDomain:_,isCategorical:m,layout:u})))}return g},{})},ket=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,s=n.graphicalItems,a=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.children,d="".concat(i,"Id"),f=Ki(u,o),h={};return f&&f.length?h=_et(e,{axes:f,graphicalItems:s,axisType:i,axisIdKey:d,stackGroups:a,dataStartIndex:l,dataEndIndex:c}):s&&s.length&&(h=Cet(e,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:d,stackGroups:a,dataStartIndex:l,dataEndIndex:c})),h},Pet=function(e){var n=Jl(e),r=Ha(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:yI(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:B1(n,r)}},VU=function(e){var n=e.children,r=e.defaultShowTooltip,i=Ni(n,jp),o=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},Eet=function(e){return!e||!e.length?!1:e.some(function(n){var r=Xa(n&&n.type);return r&&r.indexOf("Bar")>=0})},zU=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Oet=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,s=o===void 0?{}:o,a=e.yAxisMap,l=a===void 0?{}:a,c=r.width,u=r.height,d=r.children,f=r.margin||{},h=Ni(d,jp),m=Ni(d,Er),p=Object.keys(l).reduce(function(S,C){var k=l[C],E=k.orientation;return!k.mirror&&!k.hide?X(X({},S),{},Re({},E,S[E]+k.width)):S},{left:f.left||0,right:f.right||0}),g=Object.keys(s).reduce(function(S,C){var k=s[C],E=k.orientation;return!k.mirror&&!k.hide?X(X({},S),{},Re({},E,Gi(S,"".concat(E))+k.height)):S},{top:f.top||0,bottom:f.bottom||0}),b=X(X({},g),p),y=b.bottom;h&&(b.bottom+=h.props.height||jp.defaultProps.height),m&&n&&(b=z9e(b,i,r,n));var w=c-b.left-b.right,_=u-b.top-b.bottom;return X(X({brushBottom:y},b),{},{width:Math.max(w,0),height:Math.max(_,0)})},Tet=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},tj=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,s=e.validateTooltipEventTypes,a=s===void 0?["axis"]:s,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,d=e.defaultProps,f=function(b,y){var w=y.graphicalItems,_=y.stackGroups,S=y.offset,C=y.updateId,k=y.dataStartIndex,E=y.dataEndIndex,T=b.barSize,M=b.layout,D=b.barGap,N=b.barCategoryGap,L=b.maxBarSize,I=zU(M),z=I.numericAxisName,V=I.cateAxisName,j=Eet(w),R=[];return w.forEach(function($,H){var Y=WC(b.data,{graphicalItems:[$],dataStartIndex:k,dataEndIndex:E}),F=$.type.defaultProps!==void 0?X(X({},$.type.defaultProps),$.props):$.props,G=F.dataKey,ee=F.maxBarSize,te=F["".concat(z,"Id")],me=F["".concat(V,"Id")],Q={},ke=l.reduce(function(yr,B){var W=y["".concat(B.axisType,"Map")],J=F["".concat(B.axisType,"Id")];W&&W[J]||B.axisType==="zAxis"||Ud();var he=W[J];return X(X({},yr),{},Re(Re({},B.axisType,he),"".concat(B.axisType,"Ticks"),Ha(he)))},Q),Z=ke[V],le=ke["".concat(V,"Ticks")],ue=_&&_[te]&&_[te].hasStack&&Q9e($,_[te].stackGroups),K=Xa($.type).indexOf("Bar")>=0,nt=B1(Z,le),Ie=[],Mt=j&&B9e({barSize:T,stackGroups:_,totalSize:Tet(ke,V)});if(K){var _t,Zt,vr=Je(ee)?L:ee,jr=(_t=(Zt=B1(Z,le,!0))!==null&&Zt!==void 0?Zt:vr)!==null&&_t!==void 0?_t:0;Ie=V9e({barGap:D,barCategoryGap:N,bandSize:jr!==nt?jr:nt,sizeList:Mt[me],maxBarSize:vr}),jr!==nt&&(Ie=Ie.map(function(yr){return X(X({},yr),{},{position:X(X({},yr.position),{},{offset:yr.position.offset-jr/2})})}))}var kl=$&&$.type&&$.type.getComposedData;kl&&R.push({props:X(X({},kl(X(X({},ke),{},{displayedData:Y,props:b,dataKey:G,item:$,bandSize:nt,barPosition:Ie,offset:S,stackedData:ue,layout:M,dataStartIndex:k,dataEndIndex:E}))),{},Re(Re(Re({key:$.key||"item-".concat(H)},z,ke[z]),V,ke[V]),"animationId",C)),childIndex:Vje($,b.children),item:$})}),R},h=function(b,y){var w=b.props,_=b.dataStartIndex,S=b.dataEndIndex,C=b.updateId;if(!r3({props:w}))return null;var k=w.children,E=w.layout,T=w.stackOffset,M=w.data,D=w.reverseStackOrder,N=zU(E),L=N.numericAxisName,I=N.cateAxisName,z=Ki(k,r),V=Z9e(M,z,"".concat(L,"Id"),"".concat(I,"Id"),T,D),j=l.reduce(function(F,G){var ee="".concat(G.axisType,"Map");return X(X({},F),{},Re({},ee,ket(w,X(X({},G),{},{graphicalItems:z,stackGroups:G.axisType===L&&V,dataStartIndex:_,dataEndIndex:S}))))},{}),R=Oet(X(X({},j),{},{props:w,graphicalItems:z}),y==null?void 0:y.legendBBox);Object.keys(j).forEach(function(F){j[F]=u(w,j[F],R,F.replace("Map",""),n)});var $=j["".concat(I,"Map")],H=Pet($),Y=f(w,X(X({},j),{},{dataStartIndex:_,dataEndIndex:S,updateId:C,graphicalItems:z,stackGroups:V,offset:R}));return X(X({formattedGraphicalItems:Y,graphicalItems:z,offset:R,stackGroups:V},H),j)},m=function(g){function b(y){var w,_,S;return set(this,b),S=uet(this,b,[y]),Re(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Re(S,"accessibilityManager",new qQe),Re(S,"handleLegendBBoxUpdate",function(C){if(C){var k=S.state,E=k.dataStartIndex,T=k.dataEndIndex,M=k.updateId;S.setState(X({legendBBox:C},h({props:S.props,dataStartIndex:E,dataEndIndex:T,updateId:M},X(X({},S.state),{},{legendBBox:C}))))}}),Re(S,"handleReceiveSyncEvent",function(C,k,E){if(S.props.syncId===C){if(E===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(k)}}),Re(S,"handleBrushChange",function(C){var k=C.startIndex,E=C.endIndex;if(k!==S.state.dataStartIndex||E!==S.state.dataEndIndex){var T=S.state.updateId;S.setState(function(){return X({dataStartIndex:k,dataEndIndex:E},h({props:S.props,dataStartIndex:k,dataEndIndex:E,updateId:T},S.state))}),S.triggerSyncEvent({dataStartIndex:k,dataEndIndex:E})}}),Re(S,"handleMouseEnter",function(C){var k=S.getMouseInfo(C);if(k){var E=X(X({},k),{},{isTooltipActive:!0});S.setState(E),S.triggerSyncEvent(E);var T=S.props.onMouseEnter;ze(T)&&T(E,C)}}),Re(S,"triggeredAfterMouseMove",function(C){var k=S.getMouseInfo(C),E=k?X(X({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(E),S.triggerSyncEvent(E);var T=S.props.onMouseMove;ze(T)&&T(E,C)}),Re(S,"handleItemMouseEnter",function(C){S.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),Re(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),Re(S,"handleMouseMove",function(C){C.persist(),S.throttleTriggeredAfterMouseMove(C)}),Re(S,"handleMouseLeave",function(C){S.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};S.setState(k),S.triggerSyncEvent(k);var E=S.props.onMouseLeave;ze(E)&&E(k,C)}),Re(S,"handleOuterEvent",function(C){var k=Bje(C),E=Gi(S.props,"".concat(k));if(k&&ze(E)){var T,M;/.*touch.*/i.test(k)?M=S.getMouseInfo(C.changedTouches[0]):M=S.getMouseInfo(C),E((T=M)!==null&&T!==void 0?T:{},C)}}),Re(S,"handleClick",function(C){var k=S.getMouseInfo(C);if(k){var E=X(X({},k),{},{isTooltipActive:!0});S.setState(E),S.triggerSyncEvent(E);var T=S.props.onClick;ze(T)&&T(E,C)}}),Re(S,"handleMouseDown",function(C){var k=S.props.onMouseDown;if(ze(k)){var E=S.getMouseInfo(C);k(E,C)}}),Re(S,"handleMouseUp",function(C){var k=S.props.onMouseUp;if(ze(k)){var E=S.getMouseInfo(C);k(E,C)}}),Re(S,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),Re(S,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&S.handleMouseDown(C.changedTouches[0])}),Re(S,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&S.handleMouseUp(C.changedTouches[0])}),Re(S,"handleDoubleClick",function(C){var k=S.props.onDoubleClick;if(ze(k)){var E=S.getMouseInfo(C);k(E,C)}}),Re(S,"handleContextMenu",function(C){var k=S.props.onContextMenu;if(ze(k)){var E=S.getMouseInfo(C);k(E,C)}}),Re(S,"triggerSyncEvent",function(C){S.props.syncId!==void 0&&bE.emit(wE,S.props.syncId,C,S.eventEmitterSymbol)}),Re(S,"applySyncEvent",function(C){var k=S.props,E=k.layout,T=k.syncMethod,M=S.state.updateId,D=C.dataStartIndex,N=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)S.setState(X({dataStartIndex:D,dataEndIndex:N},h({props:S.props,dataStartIndex:D,dataEndIndex:N,updateId:M},S.state)));else if(C.activeTooltipIndex!==void 0){var L=C.chartX,I=C.chartY,z=C.activeTooltipIndex,V=S.state,j=V.offset,R=V.tooltipTicks;if(!j)return;if(typeof T=="function")z=T(R,C);else if(T==="value"){z=-1;for(var $=0;$<R.length;$++)if(R[$].value===C.activeLabel){z=$;break}}var H=X(X({},j),{},{x:j.left,y:j.top}),Y=Math.min(L,H.x+H.width),F=Math.min(I,H.y+H.height),G=R[z]&&R[z].value,ee=JM(S.state,S.props.data,z),te=R[z]?{x:E==="horizontal"?R[z].coordinate:Y,y:E==="horizontal"?F:R[z].coordinate}:Zee;S.setState(X(X({},C),{},{activeLabel:G,activeCoordinate:te,activePayload:ee,activeTooltipIndex:z}))}else S.setState(C)}),Re(S,"renderCursor",function(C){var k,E=S.state,T=E.isTooltipActive,M=E.activeCoordinate,D=E.activePayload,N=E.offset,L=E.activeTooltipIndex,I=E.tooltipAxisBandSize,z=S.getTooltipEventType(),V=(k=C.props.active)!==null&&k!==void 0?k:T,j=S.props.layout,R=C.key||"_recharts-cursor";return A.createElement(QQe,{key:R,activeCoordinate:M,activePayload:D,activeTooltipIndex:L,chartName:n,element:C,isActive:V,layout:j,offset:N,tooltipAxisBandSize:I,tooltipEventType:z})}),Re(S,"renderPolarAxis",function(C,k,E){var T=Gi(C,"type.axisType"),M=Gi(S.state,"".concat(T,"Map")),D=C.type.defaultProps,N=D!==void 0?X(X({},D),C.props):C.props,L=M&&M[N["".concat(T,"Id")]];return x.cloneElement(C,X(X({},L),{},{className:tt(T,L.className),key:C.key||"".concat(k,"-").concat(E),ticks:Ha(L,!0)}))}),Re(S,"renderPolarGrid",function(C){var k=C.props,E=k.radialLines,T=k.polarAngles,M=k.polarRadius,D=S.state,N=D.radiusAxisMap,L=D.angleAxisMap,I=Jl(N),z=Jl(L),V=z.cx,j=z.cy,R=z.innerRadius,$=z.outerRadius;return x.cloneElement(C,{polarAngles:Array.isArray(T)?T:Ha(z,!0).map(function(H){return H.coordinate}),polarRadius:Array.isArray(M)?M:Ha(I,!0).map(function(H){return H.coordinate}),cx:V,cy:j,innerRadius:R,outerRadius:$,key:C.key||"polar-grid",radialLines:E})}),Re(S,"renderLegend",function(){var C=S.state.formattedGraphicalItems,k=S.props,E=k.children,T=k.width,M=k.height,D=S.props.margin||{},N=T-(D.left||0)-(D.right||0),L=OQ({children:E,formattedGraphicalItems:C,legendWidth:N,legendContent:c});if(!L)return null;var I=L.item,z=LU(L,eet);return x.cloneElement(I,X(X({},z),{},{chartWidth:T,chartHeight:M,margin:D,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),Re(S,"renderTooltip",function(){var C,k=S.props,E=k.children,T=k.accessibilityLayer,M=Ni(E,Tn);if(!M)return null;var D=S.state,N=D.isTooltipActive,L=D.activeCoordinate,I=D.activePayload,z=D.activeLabel,V=D.offset,j=(C=M.props.active)!==null&&C!==void 0?C:N;return x.cloneElement(M,{viewBox:X(X({},V),{},{x:V.left,y:V.top}),active:j,label:z,payload:j?I:[],coordinate:L,accessibilityLayer:T})}),Re(S,"renderBrush",function(C){var k=S.props,E=k.margin,T=k.data,M=S.state,D=M.offset,N=M.dataStartIndex,L=M.dataEndIndex,I=M.updateId;return x.cloneElement(C,{key:C.key||"_recharts-brush",onChange:Jb(S.handleBrushChange,C.props.onChange),data:T,x:ce(C.props.x)?C.props.x:D.left,y:ce(C.props.y)?C.props.y:D.top+D.height+D.brushBottom-(E.bottom||0),width:ce(C.props.width)?C.props.width:D.width,startIndex:N,endIndex:L,updateId:"brush-".concat(I)})}),Re(S,"renderReferenceElement",function(C,k,E){if(!C)return null;var T=S,M=T.clipPathId,D=S.state,N=D.xAxisMap,L=D.yAxisMap,I=D.offset,z=C.type.defaultProps||{},V=C.props,j=V.xAxisId,R=j===void 0?z.xAxisId:j,$=V.yAxisId,H=$===void 0?z.yAxisId:$;return x.cloneElement(C,{key:C.key||"".concat(k,"-").concat(E),xAxis:N[R],yAxis:L[H],viewBox:{x:I.left,y:I.top,width:I.width,height:I.height},clipPathId:M})}),Re(S,"renderActivePoints",function(C){var k=C.item,E=C.activePoint,T=C.basePoint,M=C.childIndex,D=C.isRange,N=[],L=k.props.key,I=k.item.type.defaultProps!==void 0?X(X({},k.item.type.defaultProps),k.item.props):k.item.props,z=I.activeDot,V=I.dataKey,j=X(X({index:M,dataKey:V,cx:E.x,cy:E.y,r:4,fill:HI(k.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},Me(z,!1)),h1(z));return N.push(b.renderActiveDot(z,j,"".concat(L,"-activePoint-").concat(M))),T?N.push(b.renderActiveDot(z,X(X({},j),{},{cx:T.x,cy:T.y}),"".concat(L,"-basePoint-").concat(M))):D&&N.push(null),N}),Re(S,"renderGraphicChild",function(C,k,E){var T=S.filterFormatItem(C,k,E);if(!T)return null;var M=S.getTooltipEventType(),D=S.state,N=D.isTooltipActive,L=D.tooltipAxis,I=D.activeTooltipIndex,z=D.activeLabel,V=S.props.children,j=Ni(V,Tn),R=T.props,$=R.points,H=R.isRange,Y=R.baseLine,F=T.item.type.defaultProps!==void 0?X(X({},T.item.type.defaultProps),T.item.props):T.item.props,G=F.activeDot,ee=F.hide,te=F.activeBar,me=F.activeShape,Q=!!(!ee&&N&&j&&(G||te||me)),ke={};M!=="axis"&&j&&j.props.trigger==="click"?ke={onClick:Jb(S.handleItemMouseEnter,C.props.onClick)}:M!=="axis"&&(ke={onMouseLeave:Jb(S.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:Jb(S.handleItemMouseEnter,C.props.onMouseEnter)});var Z=x.cloneElement(C,X(X({},T.props),ke));function le(B){return typeof L.dataKey=="function"?L.dataKey(B.payload):null}if(Q)if(I>=0){var ue,K;if(L.dataKey&&!L.allowDuplicatedCategory){var nt=typeof L.dataKey=="function"?le:"payload.".concat(L.dataKey.toString());ue=f1($,nt,z),K=H&&Y&&f1(Y,nt,z)}else ue=$==null?void 0:$[I],K=H&&Y&&Y[I];if(me||te){var Ie=C.props.activeIndex!==void 0?C.props.activeIndex:I;return[x.cloneElement(C,X(X(X({},T.props),ke),{},{activeIndex:Ie})),null,null]}if(!Je(ue))return[Z].concat(Kp(S.renderActivePoints({item:T,activePoint:ue,basePoint:K,childIndex:I,isRange:H})))}else{var Mt,_t=(Mt=S.getItemByXY(S.state.activeCoordinate))!==null&&Mt!==void 0?Mt:{graphicalItem:Z},Zt=_t.graphicalItem,vr=Zt.item,jr=vr===void 0?C:vr,kl=Zt.childIndex,yr=X(X(X({},T.props),ke),{},{activeIndex:kl});return[x.cloneElement(jr,yr),null,null]}return H?[Z,null,null]:[Z,null]}),Re(S,"renderCustomized",function(C,k,E){return x.cloneElement(C,X(X({key:"recharts-customized-".concat(E)},S.props),S.state))}),Re(S,"renderMap",{CartesianGrid:{handler:rw,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:rw},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:rw},YAxis:{handler:rw},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((w=y.id)!==null&&w!==void 0?w:wm("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=EJ(S.triggeredAfterMouseMove,(_=y.throttleDelay)!==null&&_!==void 0?_:1e3/60),S.state={},S}return het(b,g),cet(b,[{key:"componentDidMount",value:function(){var w,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,_=w.children,S=w.data,C=w.height,k=w.layout,E=Ni(_,Tn);if(E){var T=E.props.defaultIndex;if(!(typeof T!="number"||T<0||T>this.state.tooltipTicks.length-1)){var M=this.state.tooltipTicks[T]&&this.state.tooltipTicks[T].value,D=JM(this.state,S,T,M),N=this.state.tooltipTicks[T].coordinate,L=(this.state.offset.top+C)/2,I=k==="horizontal",z=I?{x:N,y:L}:{y:N,x:L},V=this.state.formattedGraphicalItems.find(function(R){var $=R.item;return $.type.name==="Scatter"});V&&(z=X(X({},z),V.props.points[T].tooltipPosition),D=V.props.points[T].tooltipPayload);var j={activeTooltipIndex:T,isTooltipActive:!0,activeLabel:M,activePayload:D,activeCoordinate:z};this.setState(j),this.renderCursor(E),this.accessibilityManager.setIndex(T)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var S,C;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(w){EA([Ni(w.children,Tn)],[Ni(this.props.children,Tn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=Ni(this.props.children,Tn);if(w&&typeof w.props.shared=="boolean"){var _=w.props.shared?"axis":"item";return a.indexOf(_)>=0?_:o}return o}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var _=this.container,S=_.getBoundingClientRect(),C=h6e(S),k={chartX:Math.round(w.pageX-C.left),chartY:Math.round(w.pageY-C.top)},E=S.width/_.offsetWidth||1,T=this.inRange(k.chartX,k.chartY,E);if(!T)return null;var M=this.state,D=M.xAxisMap,N=M.yAxisMap,L=this.getTooltipEventType(),I=BU(this.state,this.props.data,this.props.layout,T);if(L!=="axis"&&D&&N){var z=Jl(D).scale,V=Jl(N).scale,j=z&&z.invert?z.invert(k.chartX):null,R=V&&V.invert?V.invert(k.chartY):null;return X(X({},k),{},{xValue:j,yValue:R},I)}return I?X(X({},k),I):null}},{key:"inRange",value:function(w,_){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,k=w/S,E=_/S;if(C==="horizontal"||C==="vertical"){var T=this.state.offset,M=k>=T.left&&k<=T.left+T.width&&E>=T.top&&E<=T.top+T.height;return M?{x:k,y:E}:null}var D=this.state,N=D.angleAxisMap,L=D.radiusAxisMap;if(N&&L){var I=Jl(N);return hz({x:k,y:E},I)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,_=this.getTooltipEventType(),S=Ni(w,Tn),C={};S&&_==="axis"&&(S.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=h1(this.props,this.handleOuterEvent);return X(X({},k),C)}},{key:"addListener",value:function(){bE.on(wE,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){bE.removeListener(wE,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,_,S){for(var C=this.state.formattedGraphicalItems,k=0,E=C.length;k<E;k++){var T=C[k];if(T.item===w||T.props.key===w.key||_===Xa(T.item.type)&&S===T.childIndex)return T}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,_=this.state.offset,S=_.left,C=_.top,k=_.height,E=_.width;return A.createElement("defs",null,A.createElement("clipPath",{id:w},A.createElement("rect",{x:S,y:C,height:k,width:E})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(_,S){var C=jU(S,2),k=C[0],E=C[1];return X(X({},_),{},Re({},k,E.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(_,S){var C=jU(S,2),k=C[0],E=C[1];return X(X({},_),{},Re({},k,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[w])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(w){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[w])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(w){var _=this.state,S=_.formattedGraphicalItems,C=_.activeItem;if(S&&S.length)for(var k=0,E=S.length;k<E;k++){var T=S[k],M=T.props,D=T.item,N=D.type.defaultProps!==void 0?X(X({},D.type.defaultProps),D.props):D.props,L=Xa(D.type);if(L==="Bar"){var I=(M.data||[]).find(function(R){return YKe(w,R)});if(I)return{graphicalItem:T,payload:I}}else if(L==="RadialBar"){var z=(M.data||[]).find(function(R){return hz(w,R)});if(z)return{graphicalItem:T,payload:z}}else if(LC(T,C)||FC(T,C)||Uy(T,C)){var V=LYe({graphicalItem:T,activeTooltipItem:C,itemData:N.data}),j=N.activeIndex===void 0?V:N.activeIndex;return{graphicalItem:X(X({},T),{},{childIndex:j}),payload:Uy(T,C)?N.data[V]:T.props.data[V]}}}return null}},{key:"render",value:function(){var w=this;if(!r3(this))return null;var _=this.props,S=_.children,C=_.className,k=_.width,E=_.height,T=_.style,M=_.compact,D=_.title,N=_.desc,L=LU(_,tet),I=Me(L,!1);if(M)return A.createElement(bU,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},A.createElement(TA,sh({},I,{width:k,height:E,title:D,desc:N}),this.renderClipPath(),o3(S,this.renderMap)));if(this.props.accessibilityLayer){var z,V;I.tabIndex=(z=this.props.tabIndex)!==null&&z!==void 0?z:0,I.role=(V=this.props.role)!==null&&V!==void 0?V:"application",I.onKeyDown=function(R){w.accessibilityManager.keyboardEvent(R)},I.onFocus=function(){w.accessibilityManager.focus()}}var j=this.parseEventsOfWrapper();return A.createElement(bU,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},A.createElement("div",sh({className:tt("recharts-wrapper",C),style:X({position:"relative",cursor:"default",width:k,height:E},T)},j,{ref:function($){w.container=$}}),A.createElement(TA,sh({},I,{width:k,height:E,title:D,desc:N,style:bet}),this.renderClipPath(),o3(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(x.Component);Re(m,"displayName",n),Re(m,"defaultProps",X({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),Re(m,"getDerivedStateFromProps",function(g,b){var y=g.dataKey,w=g.data,_=g.children,S=g.width,C=g.height,k=g.layout,E=g.stackOffset,T=g.margin,M=b.dataStartIndex,D=b.dataEndIndex;if(b.updateId===void 0){var N=VU(g);return X(X(X({},N),{},{updateId:0},h(X(X({props:g},N),{},{updateId:0}),b)),{},{prevDataKey:y,prevData:w,prevWidth:S,prevHeight:C,prevLayout:k,prevStackOffset:E,prevMargin:T,prevChildren:_})}if(y!==b.prevDataKey||w!==b.prevData||S!==b.prevWidth||C!==b.prevHeight||k!==b.prevLayout||E!==b.prevStackOffset||!Ph(T,b.prevMargin)){var L=VU(g),I={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},z=X(X({},BU(b,w,k)),{},{updateId:b.updateId+1}),V=X(X(X({},L),I),z);return X(X(X({},V),h(X({props:g},V),b)),{},{prevDataKey:y,prevData:w,prevWidth:S,prevHeight:C,prevLayout:k,prevStackOffset:E,prevMargin:T,prevChildren:_})}if(!EA(_,b.prevChildren)){var j,R,$,H,Y=Ni(_,jp),F=Y&&(j=(R=Y.props)===null||R===void 0?void 0:R.startIndex)!==null&&j!==void 0?j:M,G=Y&&($=(H=Y.props)===null||H===void 0?void 0:H.endIndex)!==null&&$!==void 0?$:D,ee=F!==M||G!==D,te=!Je(w),me=te&&!ee?b.updateId:b.updateId+1;return X(X({updateId:me},h(X(X({props:g},b),{},{updateId:me,dataStartIndex:F,dataEndIndex:G}),b)),{},{prevChildren:_,dataStartIndex:F,dataEndIndex:G})}return null}),Re(m,"renderActiveDot",function(g,b,y){var w;return x.isValidElement(g)?w=x.cloneElement(g,b):ze(g)?w=g(b):w=A.createElement(DC,b),A.createElement(xt,{className:"recharts-active-dot",key:y},w)});var p=x.forwardRef(function(b,y){return A.createElement(m,sh({},b,{ref:y}))});return p.displayName=m.displayName,p},Aet=tj({chartName:"LineChart",GraphicalChild:Hp,axisComponents:[{axisType:"xAxis",AxisComp:Ds},{axisType:"yAxis",AxisComp:Rs}],formatAxisMap:vee}),Cg=tj({chartName:"BarChart",GraphicalChild:fi,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Ds},{axisType:"yAxis",AxisComp:Rs}],formatAxisMap:vee}),nv=tj({chartName:"PieChart",GraphicalChild:Yi,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:jC},{axisType:"radiusAxis",AxisComp:$C}],formatAxisMap:cqe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const Met=({data:t,title:e})=>P(Ve,{className:"h-full",children:[v(Xe,{children:v(wt,{children:e})}),v(Ze,{className:"h-[300px]",children:v(uo,{width:"100%",height:"100%",children:P(Cg,{data:t,margin:{top:10,right:10,left:0,bottom:20},children:[v(ju,{strokeDasharray:"3 3",vertical:!1}),v(Ds,{dataKey:"name"}),v(Rs,{}),v(Tn,{contentStyle:{backgroundColor:"hsl(var(--background))",color:"hsl(var(--foreground))",borderRadius:"var(--radius)",boxShadow:"var(--shadow-md)",border:"1px solid hsl(var(--border))"},formatter:(n,r,i)=>{const o=i.payload.onTrack+i.payload.atRisk+i.payload.delayed,s=o?(n/o*100).toFixed(1):"0";return[`${n} (${s}%)`,r]}}),v(Er,{}),v(fi,{dataKey:"onTrack",name:"On Track",stackId:"a",fill:"#10B981",radius:[4,4,0,0],isAnimationActive:!0}),v(fi,{dataKey:"atRisk",name:"At Risk",stackId:"a",fill:"#F97316",radius:[4,4,0,0],isAnimationActive:!0}),v(fi,{dataKey:"delayed",name:"Delayed",stackId:"a",fill:"#F43F5E",radius:[4,4,0,0],isAnimationActive:!0})]})})})]}),Net=({data:t,title:e,total:n})=>{const r=i=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",notation:"compact",maximumFractionDigits:1}).format(i);return P(Ve,{className:"h-full",children:[v(Xe,{children:v(wt,{children:e})}),v(Ze,{className:"h-[300px] flex items-center justify-center",children:v(uo,{width:"100%",height:"100%",children:P(nv,{children:[v(Yi,{data:t,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:2,dataKey:"value",isAnimationActive:!0,children:t.map((i,o)=>v(hc,{fill:i.color},`cell-${o}`))}),v(Tn,{formatter:(i,o,s)=>{const a=s.payload&&s.payload.value&&s.payload.value>0&&s.payload.value<=s.payload.total?(s.payload.value/s.payload.total*100).toFixed(1):"0";return[`${r(i)} (${a}%)`,o]},contentStyle:{backgroundColor:"hsl(var(--popover))",color:"hsl(var(--popover-foreground))",borderRadius:"8px",border:"1px solid hsl(var(--border))"}}),v(Er,{})]})})})]})},Det=em("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 dark:bg-dark-primary dark:text-dark-primary-foreground",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ue({className:t,variant:e,...n}){return v("div",{className:q(Det({variant:e}),t),...n})}const Qee=({portfolio:t})=>{const e=vl(),n=()=>{e(`/portfolios/${t.id}`)},r=o=>{switch(o){case"sports":return v(Ue,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:"Sports"});case"assets":return v(Ue,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:"Assets"});case"corporate":return v(Ue,{variant:"outline",className:"bg-purple-50 text-purple-700 border-purple-200",children:"Corporate"});default:return v(Ue,{variant:"outline",children:"Other"})}},i=Ot(new Date(t.updatedAt),"MMM d, yyyy");return P(Ve,{className:"overflow-hidden transition-all duration-200 ease-in-out hover:shadow-md hover:scale-[1.02] dark:hover:bg-muted/30 cursor-pointer",onClick:n,children:[P(Xe,{className:"pb-3",children:[P("div",{className:"flex justify-between items-start",children:[P("div",{className:"flex items-center space-x-2",children:[v("div",{className:"bg-primary/10 p-2 rounded-full",children:v(bD,{className:"h-4 w-4 text-primary"})}),v(wt,{className:"text-lg",children:t.name})]}),r(t.type)]}),v(ap,{className:"line-clamp-2 h-10",children:t.description})]}),v(Ze,{className:"pb-3",children:P("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[P("div",{className:"flex flex-col",children:[v("span",{className:"text-muted-foreground",children:"Projects"}),v("span",{className:"font-medium",children:t.projectCount})]}),P("div",{className:"flex flex-col",children:[v("span",{className:"text-muted-foreground",children:"Last Updated"}),v("span",{className:"font-medium",children:i})]})]})}),v(x0,{className:"pt-0",children:P("div",{className:"flex justify-between items-center w-full",children:[v(Ce,{variant:"ghost",size:"sm",className:"gap-1 text-muted-foreground",asChild:!0,children:P(rn,{to:`/portfolios/${t.id}`,onClick:o=>o.stopPropagation(),children:[v(g8,{className:"h-4 w-4"}),v("span",{children:"Details"})]})}),v(Ce,{variant:"ghost",size:"icon",asChild:!0,children:v(rn,{to:`/portfolios/${t.id}`,onClick:o=>o.stopPropagation(),children:v(Jd,{className:"h-4 w-4"})})})]})})]})};var nj="Progress",rj=100,[Ret,Kot]=nr(nj),[$et,Iet]=Ret(nj),ete=x.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:o=jet,...s}=t;(i||i===0)&&!UU(i)&&console.error(Let(`${i}`,"Progress"));const a=UU(i)?i:rj;r!==null&&!HU(r,a)&&console.error(Fet(`${r}`,"Progress"));const l=HU(r,a)?r:null,c=hS(l)?o(l,a):void 0;return O.jsx($et,{scope:n,value:l,max:a,children:O.jsx(pe.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":hS(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":rte(l,a),"data-value":l??void 0,"data-max":a,...s,ref:e})})});ete.displayName=nj;var tte="ProgressIndicator",nte=x.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,i=Iet(tte,n);return O.jsx(pe.div,{"data-state":rte(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:e})});nte.displayName=tte;function jet(t,e){return`${Math.round(t/e*100)}%`}function rte(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function hS(t){return typeof t=="number"}function UU(t){return hS(t)&&!isNaN(t)&&t>0}function HU(t,e){return hS(t)&&!isNaN(t)&&t<=e&&t>=0}function Let(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${rj}\`.`}function Fet(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${rj} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var ite=ete,Bet=nte;const Wd=x.forwardRef(({className:t,value:e,...n},r)=>v(ite,{ref:r,className:q("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:v(Bet,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Wd.displayName=ite.displayName;var ij="Dialog",[ote,ste]=nr(ij),[Vet,xs]=ote(ij),ate=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:s=!0}=t,a=x.useRef(null),l=x.useRef(null),[c=!1,u]=_i({prop:r,defaultProp:i,onChange:o});return O.jsx(Vet,{scope:e,triggerRef:a,contentRef:l,contentId:Zn(),titleId:Zn(),descriptionId:Zn(),open:c,onOpenChange:u,onOpenToggle:x.useCallback(()=>u(d=>!d),[u]),modal:s,children:n})};ate.displayName=ij;var lte="DialogTrigger",cte=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=xs(lte,n),o=Qe(e,i.triggerRef);return O.jsx(pe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":aj(i.open),...r,ref:o,onClick:se(t.onClick,i.onOpenToggle)})});cte.displayName=lte;var oj="DialogPortal",[zet,ute]=ote(oj,{forceMount:void 0}),dte=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,o=xs(oj,e);return O.jsx(zet,{scope:e,forceMount:n,children:x.Children.map(r,s=>O.jsx(rr,{present:n||o.open,children:O.jsx(Qp,{asChild:!0,container:i,children:s})}))})};dte.displayName=oj;var pS="DialogOverlay",fte=x.forwardRef((t,e)=>{const n=ute(pS,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=xs(pS,t.__scopeDialog);return o.modal?O.jsx(rr,{present:r||o.open,children:O.jsx(Het,{...i,ref:e})}):null});fte.displayName=pS;var Uet=jc("DialogOverlay.RemoveScroll"),Het=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=xs(pS,n);return O.jsx(P0,{as:Uet,allowPinchZoom:!0,shards:[i.contentRef],children:O.jsx(pe.div,{"data-state":aj(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),qd="DialogContent",hte=x.forwardRef((t,e)=>{const n=ute(qd,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=xs(qd,t.__scopeDialog);return O.jsx(rr,{present:r||o.open,children:o.modal?O.jsx(Wet,{...i,ref:e}):O.jsx(qet,{...i,ref:e})})});hte.displayName=qd;var Wet=x.forwardRef((t,e)=>{const n=xs(qd,t.__scopeDialog),r=x.useRef(null),i=Qe(e,n.contentRef,r);return x.useEffect(()=>{const o=r.current;if(o)return U_(o)},[]),O.jsx(pte,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:se(t.onCloseAutoFocus,o=>{var s;o.preventDefault(),(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:se(t.onPointerDownOutside,o=>{const s=o.detail.originalEvent,a=s.button===0&&s.ctrlKey===!0;(s.button===2||a)&&o.preventDefault()}),onFocusOutside:se(t.onFocusOutside,o=>o.preventDefault())})}),qet=x.forwardRef((t,e)=>{const n=xs(qd,t.__scopeDialog),r=x.useRef(!1),i=x.useRef(!1);return O.jsx(pte,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s,a;(s=t.onCloseAutoFocus)==null||s.call(t,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=o.target;((c=n.triggerRef.current)==null?void 0:c.contains(s))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),pte=x.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...s}=t,a=xs(qd,n),l=x.useRef(null),c=Qe(e,l);return z_(),O.jsxs(O.Fragment,{children:[O.jsx(k0,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:O.jsx(Zd,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":aj(a.open),...s,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),O.jsxs(O.Fragment,{children:[O.jsx(Ket,{titleId:a.titleId}),O.jsx(Xet,{contentRef:l,descriptionId:a.descriptionId})]})]})}),sj="DialogTitle",mte=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=xs(sj,n);return O.jsx(pe.h2,{id:i.titleId,...r,ref:e})});mte.displayName=sj;var gte="DialogDescription",vte=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=xs(gte,n);return O.jsx(pe.p,{id:i.descriptionId,...r,ref:e})});vte.displayName=gte;var yte="DialogClose",bte=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=xs(yte,n);return O.jsx(pe.button,{type:"button",...r,ref:e,onClick:se(t.onClick,()=>i.onOpenChange(!1))})});bte.displayName=yte;function aj(t){return t?"open":"closed"}var wte="DialogTitleWarning",[Get,xte]=Yae(wte,{contentName:qd,titleName:sj,docsSlug:"dialog"}),Ket=({titleId:t})=>{const e=xte(wte),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return x.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Yet="DialogDescriptionWarning",Xet=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${xte(Yet).contentName}}.`;return x.useEffect(()=>{var o;const i=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},Ste=ate,Zet=cte,lj=dte,qC=fte,GC=hte,cj=mte,uj=vte,dj=bte,_te="AlertDialog",[Jet,Yot]=nr(_te,[ste]),Cl=ste(),Cte=t=>{const{__scopeAlertDialog:e,...n}=t,r=Cl(e);return O.jsx(Ste,{...r,...n,modal:!0})};Cte.displayName=_te;var Qet="AlertDialogTrigger",kte=x.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Cl(n);return O.jsx(Zet,{...i,...r,ref:e})});kte.displayName=Qet;var ett="AlertDialogPortal",Pte=t=>{const{__scopeAlertDialog:e,...n}=t,r=Cl(e);return O.jsx(lj,{...r,...n})};Pte.displayName=ett;var ttt="AlertDialogOverlay",Ete=x.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Cl(n);return O.jsx(qC,{...i,...r,ref:e})});Ete.displayName=ttt;var Th="AlertDialogContent",[ntt,rtt]=Jet(Th),itt=VW("AlertDialogContent"),Ote=x.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...i}=t,o=Cl(n),s=x.useRef(null),a=Qe(e,s),l=x.useRef(null);return O.jsx(Get,{contentName:Th,titleName:Tte,docsSlug:"alert-dialog",children:O.jsx(ntt,{scope:n,cancelRef:l,children:O.jsxs(GC,{role:"alertdialog",...o,...i,ref:a,onOpenAutoFocus:se(i.onOpenAutoFocus,c=>{var u;c.preventDefault(),(u=l.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[O.jsx(itt,{children:r}),O.jsx(stt,{contentRef:s})]})})})});Ote.displayName=Th;var Tte="AlertDialogTitle",Ate=x.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Cl(n);return O.jsx(cj,{...i,...r,ref:e})});Ate.displayName=Tte;var Mte="AlertDialogDescription",Nte=x.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Cl(n);return O.jsx(uj,{...i,...r,ref:e})});Nte.displayName=Mte;var ott="AlertDialogAction",Dte=x.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Cl(n);return O.jsx(dj,{...i,...r,ref:e})});Dte.displayName=ott;var Rte="AlertDialogCancel",$te=x.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:i}=rtt(Rte,n),o=Cl(n),s=Qe(e,i);return O.jsx(dj,{...o,...r,ref:s})});$te.displayName=Rte;var stt=({contentRef:t})=>{const e=`\`${Th}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Th}\` by passing a \`${Mte}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Th}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},att=Cte,ltt=kte,ctt=Pte,Ite=Ete,jte=Ote,Lte=Dte,Fte=$te,Bte=Ate,Vte=Nte;const utt=att,dtt=ltt,ftt=ctt,zte=x.forwardRef(({className:t,...e},n)=>v(Ite,{className:q("fixed inset-0 z-50 bg-black/80 dark:bg-dark-overlay data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));zte.displayName=Ite.displayName;const Ute=x.forwardRef(({className:t,...e},n)=>P(ftt,{children:[v(zte,{}),v(jte,{ref:n,className:q("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));Ute.displayName=jte.displayName;const Hte=({className:t,...e})=>v("div",{className:q("flex flex-col space-y-2 text-center sm:text-left",t),...e});Hte.displayName="AlertDialogHeader";const Wte=({className:t,...e})=>v("div",{className:q("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Wte.displayName="AlertDialogFooter";const qte=x.forwardRef(({className:t,...e},n)=>v(Bte,{ref:n,className:q("text-lg font-semibold",t),...e}));qte.displayName=Bte.displayName;const Gte=x.forwardRef(({className:t,...e},n)=>v(Vte,{ref:n,className:q("text-sm text-muted-foreground",t),...e}));Gte.displayName=Vte.displayName;const Kte=x.forwardRef(({className:t,...e},n)=>v(Lte,{ref:n,className:q(ty(),t),...e}));Kte.displayName=Lte.displayName;const Yte=x.forwardRef(({className:t,...e},n)=>v(Fte,{ref:n,className:q(ty({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));Yte.displayName=Fte.displayName;const htt=({project:t})=>{const e=vl(),{deleteProject:n,restoreProject:r}=La(),i=()=>{t.isDeleted||e(`/projects/${t.id}`)},o=async m=>{m.stopPropagation();try{await n(t.id),xe.success(`Project "${t.name}" has been soft-deleted`)}catch(p){xe.error("Failed to delete project"),console.error("Delete project error:",p)}},s=async m=>{m.stopPropagation();try{await r(t.id),xe.success(`Project "${t.name}" has been restored`)}catch(p){xe.error("Failed to restore project"),console.error("Restore project error:",p)}},a=m=>{switch(m){case"not_started":return v(Ue,{variant:"outline",children:"Not Started"});case"in_progress":return v(Ue,{className:"bg-primary text-primary-foreground",children:"In Progress"});case"on_track":return v(Ue,{className:"bg-risk-low text-white",children:"On Track"});case"delayed":return v(Ue,{className:"bg-risk-medium text-white",children:"Delayed"});case"at_risk":return v(Ue,{className:"bg-risk-high text-white",children:"At Risk"});case"on_hold":return v(Ue,{variant:"outline",children:"On Hold"});case"completed":return v(Ue,{className:"bg-risk-low text-white",children:"Completed"});case"cancelled":return v(Ue,{variant:"destructive",children:"Cancelled"});default:return v(Ue,{variant:"outline",children:"Unknown"})}},l=m=>{if(!m)return null;const p=m.replace("_"," ").split(" ").map(g=>g.charAt(0).toUpperCase()+g.slice(1)).join(" ");return v(Ue,{variant:"outline",className:"ml-2",children:p})},c=()=>t.stageGates.filter(p=>p.status==="completed").length/t.stageGates.length*100,u=()=>t.actualCost/t.budget*100,d=Ot(new Date(t.startDate),"MMM d, yyyy"),f=Ot(new Date(t.endDate),"MMM d, yyyy"),h=t.risks.some(m=>m.impact==="high"&&m.status==="open");return v(vg,{className:q("overflow-hidden",t.isDeleted?"opacity-50 border-dashed border-2 border-muted-foreground":"cursor-pointer",h&&!t.isDeleted&&"border-l-4 border-l-risk-high/80"),onClick:i,cardTitle:P("div",{className:"flex justify-between items-start w-full",children:[P("div",{className:"flex items-center space-x-2",children:[v("div",{className:"bg-primary/10 p-2 rounded-full",children:v(xD,{className:"h-4 w-4 text-primary"})}),P("span",{className:"text-lg font-semibold",children:[" ",t.projectCode?`${t.projectCode}: `:"",t.name]}),t.phase&&l(t.phase)]}),!t.isDeleted&&a(t.status)]}),description:P("p",{className:"line-clamp-2 h-10 text-sm text-muted-foreground",children:[" ",t.description]}),isLoading:!t,footer:P("div",{className:"flex justify-between items-center w-full pt-0",children:[" ",P("div",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[!t.isDeleted&&P(ts,{children:[v("span",{className:"font-medium",children:t.risks.filter(m=>m.status==="open").length})," open risks",h&&v(Ue,{className:"bg-risk-high text-[10px] h-4 ml-1",children:"High Risk"})]}),t.isDeleted&&P(Ue,{variant:"destructive",className:"text-[10px] h-4",children:["Deleted ",t.deletedAt&&Ot(new Date(t.deletedAt),"MMM d, yyyy")]})]}),P("div",{className:"flex items-center space-x-2",children:[t.isDeleted?P(Ce,{variant:"outline",size:"sm",onClick:s,children:[v(f8,{className:"h-4 w-4 mr-2"}),"Restore"]}):P(utt,{children:[v(dtt,{asChild:!0,children:P(Ce,{variant:"destructive",size:"sm",onClick:m=>m.stopPropagation(),children:[v(JS,{className:"h-4 w-4 mr-2"}),"Delete"]})}),P(Ute,{onClick:m=>m.stopPropagation(),children:[" ",P(Hte,{children:[v(qte,{children:"Are you absolutely sure?"}),P(Gte,{children:['This action will soft-delete the project "',t.name,'". It can be restored for 30 days. Are you sure you want to proceed?']})]}),P(Wte,{children:[v(Yte,{children:"Cancel"}),v(Kte,{onClick:o,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Confirm Delete"})]})]})]}),!t.isDeleted&&v(Ce,{variant:"ghost",size:"icon",asChild:!0,children:v(rn,{to:`/projects/${t.id}`,onClick:m=>m.stopPropagation(),children:v(Jd,{className:"h-4 w-4"})})})]})]}),cardContent:P("div",{className:"space-y-2",children:[" ",P("div",{className:"grid grid-cols-1 gap-2 text-sm",children:[P("div",{className:"flex items-center gap-1",children:[v(Is,{className:"h-3.5 w-3.5 text-muted-foreground"}),P("span",{className:"text-muted-foreground",children:[d," - ",f]})]}),P("div",{className:"flex items-center gap-1",children:[v(m8,{className:"h-3.5 w-3.5 text-muted-foreground"}),P("span",{className:"text-muted-foreground",children:["$",(t.actualCost/1e3).toFixed(0),"k / $",(t.budget/1e3).toFixed(0),"k"]})]}),(t.projectOwner||t.projectSponsor)&&P("div",{className:"flex items-center gap-1",children:[v(CD,{className:"h-3.5 w-3.5 text-muted-foreground"}),P("span",{className:"text-muted-foreground",children:[t.projectOwner&&`Owner: ${t.projectOwner}`,t.projectSponsor&&`Sponsor: ${t.projectSponsor}`]})]}),t.initiativeCode&&v("div",{className:"flex items-center gap-1",children:P("span",{className:"text-xs text-muted-foreground",children:["Initiative: ",t.initiativeCode]})}),t.strategicObjective&&v("div",{className:"flex items-center gap-1",children:P("span",{className:"text-xs text-muted-foreground",children:["Strategic Objective: ",t.strategicObjective.split("_").map(m=>m.charAt(0).toUpperCase()+m.slice(1)).join(" ")]})}),t.corporateKPIs&&t.corporateKPIs.length>0&&v("div",{className:"flex items-center gap-1",children:P("span",{className:"text-xs text-muted-foreground",children:["KPIs: ",t.corporateKPIs.slice(0,2).join(", "),t.corporateKPIs.length>2&&` +${t.corporateKPIs.length-2} more`]})})]}),!t.isDeleted&&P("div",{className:"space-y-2",children:[" ",P("div",{children:[" ",P("div",{className:"flex justify-between text-xs",children:[v("span",{children:"Stage Gates"}),P("span",{className:"font-medium",children:[t.stageGates.filter(m=>m.status==="completed").length," of ",t.stageGates.length]})]}),v(Wd,{value:c(),className:"h-1.5"})]}),P("div",{children:[" ",P("div",{className:"flex justify-between text-xs",children:[v("span",{children:"Budget"}),P("span",{className:q("font-medium",u()>90&&"text-risk-high"),children:[Math.round(u()),"%"]})]}),v(Wd,{value:u(),className:q("h-1.5 [&>div]:bg-primary",u()>90&&"[&>div]:bg-risk-high")})]})]})]})})},Xte=A.memo(htt),ptt=()=>{const{data:t=[]}=dZ(),{data:e=[]}=fZ(),n=ZDe(),r=A.useMemo(()=>t.reduce((c,u)=>c+u.budget,0),[t]),i=A.useMemo(()=>t.reduce((c,u)=>c+u.actualCost,0),[t]),o=r-i;A.useMemo(()=>t.reduce((c,u)=>c+u.risks.length,0),[t]);const s=A.useMemo(()=>t.reduce((c,u)=>c+u.risks.filter(d=>d.impact==="high"&&d.status==="open").length,0),[t]),a=[{name:"Corporate Initiatives",onTrack:2,atRisk:1,delayed:0},{name:"Sports Projects",onTrack:3,atRisk:1,delayed:1},{name:"Corporate Assets",onTrack:1,atRisk:1,delayed:1}],l=[{name:"Spent",value:i,color:"hsl(var(--primary))"},{name:"Remaining",value:o,color:"hsl(var(--muted))"}];return P(Nr,{title:"Dashboard",children:[v(Ce,{onClick:()=>n.start(),variant:"default",className:"fixed bottom-4 right-4 z-50 p-2 rounded-full shadow-lg","aria-label":"Help and onboarding tour",children:"?"}),P("div",{className:"grid gap-6",role:"main","aria-label":"Dashboard main content",children:[P("section",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4","aria-label":"Key performance indicators",children:[v(Ub,{title:"Total Portfolios",value:e.length,icon:v(bD,{className:"h-4 w-4 text-primary"}),trend:{value:20,positive:!0}}),v(Ub,{title:"Active Projects",value:t.filter(c=>c.status==="in_progress").length,icon:v(_D,{className:"h-4 w-4 text-primary"}),trend:{value:5,positive:!0}}),v(Ub,{title:"Budget Utilization",value:`${Math.round(i/r*100)}%`,description:`$${(i/1e6).toFixed(1)}M of $${(r/1e6).toFixed(1)}M`,icon:v(nce,{className:"h-4 w-4 text-primary"}),trend:{value:10,positive:!1}}),v(Ub,{title:"High Risk Projects",value:t.filter(c=>c.risks.some(u=>u.impact==="high"&&u.status==="open")).length,description:`${s} high risks across all projects`,icon:v(QS,{className:"h-4 w-4 text-primary"}),trend:{value:15,positive:!1}})]}),P("section",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6","aria-label":"Project status and budget charts",children:[v(Met,{data:a,title:"Project Status by Portfolio"}),v(Net,{data:l,title:"Budget Allocation",total:r})]}),P("section",{"aria-label":"Portfolios overview",children:[P("div",{className:"flex justify-between items-center mb-4",children:[v("h2",{className:"text-xl font-semibold",children:"Portfolios"}),v(Ce,{asChild:!0,children:P(rn,{to:"/portfolios/new",children:[v(kc,{className:"h-4 w-4 mr-2"}),v("span",{children:"Add Portfolio"})]})})]}),P("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.slice(0,3).map(c=>v(Qee,{portfolio:c},c.id)),e.length>3&&v(Ce,{asChild:!0,variant:"outline",className:"col-span-1 md:col-span-2 lg:col-span-3 h-14",children:v(rn,{to:"/portfolios",children:"View All Portfolios"})})]})]}),P("section",{"aria-label":"Recent projects overview",children:[P("div",{className:"flex justify-between items-center mb-4",children:[v("h2",{className:"text-xl font-semibold",children:"Recent Projects"}),v(Ce,{asChild:!0,children:P(rn,{to:"/projects/new",children:[v(kc,{className:"h-4 w-4 mr-2"}),v("span",{children:"Add Project"})]})})]}),P("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[t.slice(0,4).map(c=>v(Xte,{project:{...c,documents:[]}},c.id)),t.length>4&&v(Ce,{asChild:!0,variant:"outline",className:"col-span-1 lg:col-span-2 h-14",children:v(rn,{to:"/projects",children:"View All Projects"})})]})]}),P("section",{"aria-label":"Upcoming project milestones",children:[P("div",{className:"flex justify-between items-center mb-4",children:[v("h2",{className:"text-xl font-semibold",children:"Upcoming Milestones"}),v(Ce,{variant:"outline",asChild:!0,children:P(rn,{to:"/milestones",children:[v(Is,{className:"h-4 w-4 mr-2"}),v("span",{children:"View Calendar"})]})})]}),v("div",{className:"bg-card rounded-lg border p-4",children:P("div",{className:"space-y-4",children:[t.flatMap(c=>c.milestones.filter(u=>u.status!=="completed").map(u=>({...u,projectName:c.name,projectId:c.id}))).sort((c,u)=>new Date(c.dueDate).getTime()-new Date(u.dueDate).getTime()).slice(0,5).map(c=>P("div",{className:"flex items-center justify-between border-b pb-4 last:border-0 last:pb-0",children:[P("div",{children:[v("h3",{className:"font-medium",children:c.name}),P("p",{className:"text-sm text-muted-foreground",children:["Project: ",v(rn,{to:`/projects/${c.projectId}`,className:"text-primary hover:underline",children:c.projectName})]})]}),P("div",{className:"text-right",children:[v("p",{className:"text-sm font-medium",children:new Date(c.dueDate).toLocaleDateString()}),v(Ue,{className:c.status==="delayed"?"bg-risk-high":c.status==="in_progress"?"bg-amber-500":"bg-muted text-muted-foreground",children:c.status==="delayed"?"Delayed":c.status==="in_progress"?"In Progress":"Pending"})]})]},c.id)),t.flatMap(c=>c.milestones).filter(c=>c.status!=="completed").length===0&&v("div",{className:"text-center text-muted-foreground py-4",children:"No upcoming milestones"})]})})]})]})]})};var fj="Switch",[mtt,Xot]=nr(fj),[gtt,vtt]=mtt(fj),Zte=x.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:o,required:s,disabled:a,value:l="on",onCheckedChange:c,form:u,...d}=t,[f,h]=x.useState(null),m=Qe(e,w=>h(w)),p=x.useRef(!1),g=f?u||!!f.closest("form"):!0,[b=!1,y]=_i({prop:i,defaultProp:o,onChange:c});return O.jsxs(gtt,{scope:n,checked:b,disabled:a,children:[O.jsx(pe.button,{type:"button",role:"switch","aria-checked":b,"aria-required":s,"data-state":ene(b),"data-disabled":a?"":void 0,disabled:a,value:l,...d,ref:m,onClick:se(t.onClick,w=>{y(_=>!_),g&&(p.current=w.isPropagationStopped(),p.current||w.stopPropagation())})}),g&&O.jsx(ytt,{control:f,bubbles:!p.current,name:r,value:l,checked:b,required:s,disabled:a,form:u,style:{transform:"translateX(-100%)"}})]})});Zte.displayName=fj;var Jte="SwitchThumb",Qte=x.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=vtt(Jte,n);return O.jsx(pe.span,{"data-state":ene(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});Qte.displayName=Jte;var ytt=t=>{const{control:e,checked:n,bubbles:r=!0,...i}=t,o=x.useRef(null),s=b$(n),a=RD(e);return x.useEffect(()=>{const l=o.current,c=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(c,"checked").set;if(s!==n&&d){const f=new Event("click",{bubbles:r});d.call(l,n),l.dispatchEvent(f)}},[s,n,r]),O.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:o,style:{...t.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function ene(t){return t?"checked":"unchecked"}var tne=Zte,btt=Qte;const nne=x.forwardRef(({className:t,...e},n)=>v(tne,{className:q("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:v(btt,{className:q("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));nne.displayName=tne.displayName;const wtt=()=>{const[t,e]=x.useState(!1),{projects:n,fetchProjects:r,restoreProject:i,deleteProject:o,isLoading:s,error:a}=La(),{portfolios:l,fetchPortfolios:c}=hm(),[u,d]=x.useState(""),[f,h]=x.useState("all"),[m,p]=x.useState("all"),[g,b]=x.useState("all"),[y,w]=x.useState(!1);x.useEffect(()=>{(async()=>{try{await r({includeDeleted:y}),await c()}catch(E){console.error("Failed to load projects or portfolios:",E),xe.error("Failed to load projects. Please try again.")}})(),xe.info("Raw projects data loaded."),xe.info(`Show deleted projects: ${y}`)},[r,c,y]);const _=n.filter(k=>{const E=k.name.toLowerCase().includes(u.toLowerCase())||k.description.toLowerCase().includes(u.toLowerCase()),T=f==="all"||k.status===f,M=m==="all"||k.portfolioId===m,D=g==="all"||k.strategicObjective===g,N=y||!k.isDeleted;return E&&T&&M&&D&&N}),S=async k=>{try{await i(k),xe.success("Project restored successfully")}catch(E){console.error("Failed to restore project:",E),xe.error("Failed to restore project. Please try again.")}},C=async k=>{try{window.confirm("Are you sure you want to permanently delete this project? This action cannot be undone.")&&(await o(k,{permanent:!0}),xe.success("Project permanently deleted"))}catch(E){console.error("Failed to permanently delete project:",E),xe.error("Failed to delete project. Please try again.")}};return s?v(Nr,{title:"Projects",children:v("div",{className:"flex justify-center items-center h-full",children:v("p",{children:"Loading projects..."})})}):a?v(Nr,{title:"Projects",children:P("div",{className:"text-center text-red-500 p-4",children:[P("p",{children:["Error loading projects: ",a]}),v(Ce,{onClick:()=>r({includeDeleted:y}),children:"Retry"})]})}):v(qa,{children:v(Nr,{title:"Projects",children:P("div",{className:"grid gap-6",children:[P("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[P("div",{className:"relative w-full sm:w-96",children:[v(SD,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground pointer-events-none"}),v(un,{type:"search",placeholder:"Search projects...",value:u,onChange:k=>d(k.target.value),className:"pl-9 w-full"})]}),P("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[P(Ce,{variant:"outline",size:"sm",className:"flex-1 sm:flex-initial",onClick:()=>e(!t),children:[v(Qle,{className:"h-4 w-4 mr-2"}),v("span",{children:"Filters"})]}),v(Ce,{asChild:!0,size:"sm",className:"flex-1 sm:flex-initial",children:P(rn,{to:"/projects/new",children:[v(kc,{className:"h-4 w-4 mr-2"}),v("span",{children:"Add Project"})]})})]})]}),t&&P("div",{className:"flex flex-wrap gap-2 items-center",children:[v("div",{className:"w-full sm:w-52",children:P(go,{value:f,onValueChange:h,children:[v(ji,{children:v(vo,{placeholder:"Status Filter"})}),P(Li,{children:[v(Oe,{value:"all",children:"All Statuses"}),v(Oe,{value:"not_started",children:"Not Started"}),v(Oe,{value:"in_progress",children:"In Progress"}),v(Oe,{value:"on_hold",children:"On Hold"}),v(Oe,{value:"completed",children:"Completed"}),v(Oe,{value:"cancelled",children:"Cancelled"})]})]})}),v("div",{className:"w-full sm:w-52",children:P(go,{value:m,onValueChange:p,children:[v(ji,{children:v(vo,{placeholder:"Portfolio Filter"})}),P(Li,{children:[v(Oe,{value:"all",children:"All Portfolios"}),l.map(k=>v(Oe,{value:k.id,children:k.name},k.id))]})]})}),v("div",{className:"w-full sm:w-52",children:P(go,{value:g,onValueChange:b,children:[v(ji,{children:v(vo,{placeholder:"Strategic Objective"})}),P(Li,{children:[v(Oe,{value:"all",children:"All Objectives"}),v(Oe,{value:"digital_transformation",children:"Digital Transformation"}),v(Oe,{value:"operational_excellence",children:"Operational Excellence"}),v(Oe,{value:"customer_experience",children:"Customer Experience"}),v(Oe,{value:"innovation",children:"Innovation"}),v(Oe,{value:"sustainability",children:"Sustainability"})]})]})}),P("div",{className:"flex items-center space-x-2",children:[v(nne,{id:"show-deleted",checked:y,onCheckedChange:w}),v(Zs,{htmlFor:"show-deleted",children:"Show Deleted Projects"})]})]}),_.length>0?v("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:_.map(k=>P("div",{className:"relative",children:[v(Xte,{project:k}),k.isDeleted&&v("div",{className:"absolute top-2 right-2 flex space-x-2",children:P(t9,{children:[P(yx,{children:[v(bx,{asChild:!0,children:v(Ce,{variant:"outline",size:"icon",title:"Restore Project",onClick:()=>S(k.id),children:v(f8,{className:"h-4 w-4 text-green-600"})})}),v(Ev,{children:v("p",{children:"Restore Project"})})]}),P(yx,{children:[v(bx,{asChild:!0,children:v(Ce,{variant:"destructive",size:"icon",title:"Permanently Delete",onClick:()=>C(k.id),children:v(JS,{className:"h-4 w-4"})})}),v(Ev,{children:v("p",{children:"Permanently Delete"})})]})]})})]},k.id))}):P("div",{className:"text-center py-12 border rounded-lg bg-white",children:[v("p",{className:"text-muted-foreground mb-4",children:"No projects match your search criteria"}),v(Ce,{asChild:!0,children:P(rn,{to:"/projects/new",children:[v(kc,{className:"h-4 w-4 mr-2"}),v("span",{children:"Create Project"})]})})]})]})})})},hj=x.forwardRef(({className:t,...e},n)=>v("div",{className:"relative w-full overflow-auto",children:v("table",{ref:n,className:q("w-full caption-bottom text-sm",t),...e})}));hj.displayName="Table";const pj=x.forwardRef(({className:t,...e},n)=>v("thead",{ref:n,className:q("[&_tr]:border-b",t),...e}));pj.displayName="TableHeader";const mj=x.forwardRef(({className:t,...e},n)=>v("tbody",{ref:n,className:q("[&_tr:last-child]:border-0",t),...e}));mj.displayName="TableBody";const xtt=x.forwardRef(({className:t,...e},n)=>v("tfoot",{ref:n,className:q("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));xtt.displayName="TableFooter";const mc=x.forwardRef(({className:t,...e},n)=>v("tr",{ref:n,className:q("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));mc.displayName="TableRow";const rv=x.forwardRef(({className:t,...e},n)=>v("th",{ref:n,className:q("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));rv.displayName="TableHead";const $s=x.forwardRef(({className:t,...e},n)=>v("td",{ref:n,className:q("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));$s.displayName="TableCell";const Stt=x.forwardRef(({className:t,...e},n)=>v("caption",{ref:n,className:q("mt-4 text-sm text-muted-foreground",t),...e}));Stt.displayName="TableCaption";const _tt=({milestones:t=[]})=>{const[e,n]=x.useState({key:"dueDate",direction:"ascending"}),r=l=>{switch(l){case"completed":return v(Ue,{className:"bg-risk-low",children:"Completed"});case"in_progress":return v(Ue,{className:"bg-amber-500",children:"In Progress"});case"delayed":return v(Ue,{className:"bg-risk-high",children:"Delayed"});case"pending":default:return v(Ue,{variant:"outline",className:"bg-gray-50 text-gray-700 border-gray-200",children:"Pending"})}},i=(l,c)=>new Date(l)<new Date&&c!=="completed",o=x.useMemo(()=>{let l=[...t];return e.key!==null&&l.sort((c,u)=>{const d=c[e.key],f=u[e.key];if(e.key==="dueDate"){const h=new Date(d).getTime(),m=new Date(f).getTime();return h<m?e.direction==="ascending"?-1:1:h>m?e.direction==="ascending"?1:-1:0}else return d<f?e.direction==="ascending"?-1:1:d>f?e.direction==="ascending"?1:-1:0}),l},[t,e]),s=l=>{let c="ascending";e.key===l&&e.direction==="ascending"&&(c="descending"),n({key:l,direction:c})},a=l=>e.key!==l?v(ph,{className:"ml-2 h-4 w-4 opacity-30"}):e.direction==="ascending"?v(ph,{className:"ml-2 h-4 w-4"}):v(ph,{className:"ml-2 h-4 w-4"});return v("div",{className:"border rounded-md",children:P(hj,{children:[v(pj,{children:P(mc,{children:[v(rv,{className:"w-[300px]",children:P(Ce,{variant:"ghost",onClick:()=>s("name"),className:"px-0 hover:bg-transparent",children:["Milestone",a("name")]})}),v(rv,{className:"w-[150px]",children:P(Ce,{variant:"ghost",onClick:()=>s("dueDate"),className:"px-0 hover:bg-transparent",children:["Due Date",a("dueDate")]})}),v(rv,{className:"w-[150px]",children:"Status"})," "]})}),v(mj,{children:t.length>0?o.map(l=>P(mc,{children:[v($s,{className:"font-medium",children:l.name}),P($s,{className:q(i(l.dueDate,l.status)&&"text-risk-high font-medium"),children:[Ot(new Date(l.dueDate),"MMM d, yyyy"),i(l.dueDate,l.status)&&v("span",{className:"ml-2 text-xs",children:"Overdue"})]}),v($s,{children:r(l.status)})]},l.id)):v(mc,{children:P($s,{colSpan:3,className:"h-24 text-center py-4 text-muted-foreground",children:[" ","No milestones found"]})})})]})})};/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function gc(t,e){return typeof t=="function"?t(e):t}function Qi(t,e){return n=>{e.setState(r=>({...r,[t]:gc(n,r[t])}))}}function KC(t){return t instanceof Function}function Ctt(t){return Array.isArray(t)&&t.every(e=>typeof e=="number")}function ktt(t,e){const n=[],r=i=>{i.forEach(o=>{n.push(o);const s=e(o);s!=null&&s.length&&r(s)})};return r(t),n}function Ne(t,e,n){let r=[],i;return o=>{let s;n.key&&n.debug&&(s=Date.now());const a=t(o);if(!(a.length!==r.length||a.some((u,d)=>r[d]!==u)))return i;r=a;let c;if(n.key&&n.debug&&(c=Date.now()),i=e(...a),n==null||n.onChange==null||n.onChange(i),n.key&&n.debug&&n!=null&&n.debug()){const u=Math.round((Date.now()-s)*100)/100,d=Math.round((Date.now()-c)*100)/100,f=d/16,h=(m,p)=>{for(m=String(m);m.length<p;)m=" "+m;return m};console.info(`%c ${h(d,5)} /${h(u,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*f,120))}deg 100% 31%);`,n==null?void 0:n.key)}return i}}function De(t,e,n,r){return{debug:()=>{var i;return(i=t==null?void 0:t.debugAll)!=null?i:t[e]},key:!1,onChange:r}}function Ptt(t,e,n,r){const i=()=>{var s;return(s=o.getValue())!=null?s:t.options.renderFallbackValue},o={id:`${e.id}_${n.id}`,row:e,column:n,getValue:()=>e.getValue(r),renderValue:i,getContext:Ne(()=>[t,n,e,o],(s,a,l,c)=>({table:s,column:a,row:l,cell:c,getValue:c.getValue,renderValue:c.renderValue}),De(t.options,"debugCells"))};return t._features.forEach(s=>{s.createCell==null||s.createCell(o,n,e,t)},{}),o}function Ett(t,e,n,r){var i,o;const a={...t._getDefaultColumnDef(),...e},l=a.accessorKey;let c=(i=(o=a.id)!=null?o:l?typeof String.prototype.replaceAll=="function"?l.replaceAll(".","_"):l.replace(/\./g,"_"):void 0)!=null?i:typeof a.header=="string"?a.header:void 0,u;if(a.accessorFn?u=a.accessorFn:l&&(l.includes(".")?u=f=>{let h=f;for(const p of l.split(".")){var m;h=(m=h)==null?void 0:m[p]}return h}:u=f=>f[a.accessorKey]),!c)throw new Error;let d={id:`${String(c)}`,accessorFn:u,parent:r,depth:n,columnDef:a,columns:[],getFlatColumns:Ne(()=>[!0],()=>{var f;return[d,...(f=d.columns)==null?void 0:f.flatMap(h=>h.getFlatColumns())]},De(t.options,"debugColumns")),getLeafColumns:Ne(()=>[t._getOrderColumnsFn()],f=>{var h;if((h=d.columns)!=null&&h.length){let m=d.columns.flatMap(p=>p.getLeafColumns());return f(m)}return[d]},De(t.options,"debugColumns"))};for(const f of t._features)f.createColumn==null||f.createColumn(d,t);return d}const xr="debugHeaders";function WU(t,e,n){var r;let o={id:(r=n.id)!=null?r:e.id,column:e,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const s=[],a=l=>{l.subHeaders&&l.subHeaders.length&&l.subHeaders.map(a),s.push(l)};return a(o),s},getContext:()=>({table:t,header:o,column:e})};return t._features.forEach(s=>{s.createHeader==null||s.createHeader(o,t)}),o}const Ott={createTable:t=>{t.getHeaderGroups=Ne(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r,i)=>{var o,s;const a=(o=r==null?void 0:r.map(d=>n.find(f=>f.id===d)).filter(Boolean))!=null?o:[],l=(s=i==null?void 0:i.map(d=>n.find(f=>f.id===d)).filter(Boolean))!=null?s:[],c=n.filter(d=>!(r!=null&&r.includes(d.id))&&!(i!=null&&i.includes(d.id)));return iw(e,[...a,...c,...l],t)},De(t.options,xr)),t.getCenterHeaderGroups=Ne(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r,i)=>(n=n.filter(o=>!(r!=null&&r.includes(o.id))&&!(i!=null&&i.includes(o.id))),iw(e,n,t,"center")),De(t.options,xr)),t.getLeftHeaderGroups=Ne(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left],(e,n,r)=>{var i;const o=(i=r==null?void 0:r.map(s=>n.find(a=>a.id===s)).filter(Boolean))!=null?i:[];return iw(e,o,t,"left")},De(t.options,xr)),t.getRightHeaderGroups=Ne(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.right],(e,n,r)=>{var i;const o=(i=r==null?void 0:r.map(s=>n.find(a=>a.id===s)).filter(Boolean))!=null?i:[];return iw(e,o,t,"right")},De(t.options,xr)),t.getFooterGroups=Ne(()=>[t.getHeaderGroups()],e=>[...e].reverse(),De(t.options,xr)),t.getLeftFooterGroups=Ne(()=>[t.getLeftHeaderGroups()],e=>[...e].reverse(),De(t.options,xr)),t.getCenterFooterGroups=Ne(()=>[t.getCenterHeaderGroups()],e=>[...e].reverse(),De(t.options,xr)),t.getRightFooterGroups=Ne(()=>[t.getRightHeaderGroups()],e=>[...e].reverse(),De(t.options,xr)),t.getFlatHeaders=Ne(()=>[t.getHeaderGroups()],e=>e.map(n=>n.headers).flat(),De(t.options,xr)),t.getLeftFlatHeaders=Ne(()=>[t.getLeftHeaderGroups()],e=>e.map(n=>n.headers).flat(),De(t.options,xr)),t.getCenterFlatHeaders=Ne(()=>[t.getCenterHeaderGroups()],e=>e.map(n=>n.headers).flat(),De(t.options,xr)),t.getRightFlatHeaders=Ne(()=>[t.getRightHeaderGroups()],e=>e.map(n=>n.headers).flat(),De(t.options,xr)),t.getCenterLeafHeaders=Ne(()=>[t.getCenterFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),De(t.options,xr)),t.getLeftLeafHeaders=Ne(()=>[t.getLeftFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),De(t.options,xr)),t.getRightLeafHeaders=Ne(()=>[t.getRightFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),De(t.options,xr)),t.getLeafHeaders=Ne(()=>[t.getLeftHeaderGroups(),t.getCenterHeaderGroups(),t.getRightHeaderGroups()],(e,n,r)=>{var i,o,s,a,l,c;return[...(i=(o=e[0])==null?void 0:o.headers)!=null?i:[],...(s=(a=n[0])==null?void 0:a.headers)!=null?s:[],...(l=(c=r[0])==null?void 0:c.headers)!=null?l:[]].map(u=>u.getLeafHeaders()).flat()},De(t.options,xr))}};function iw(t,e,n,r){var i,o;let s=0;const a=function(f,h){h===void 0&&(h=1),s=Math.max(s,h),f.filter(m=>m.getIsVisible()).forEach(m=>{var p;(p=m.columns)!=null&&p.length&&a(m.columns,h+1)},0)};a(t);let l=[];const c=(f,h)=>{const m={depth:h,id:[r,`${h}`].filter(Boolean).join("_"),headers:[]},p=[];f.forEach(g=>{const b=[...p].reverse()[0],y=g.column.depth===m.depth;let w,_=!1;if(y&&g.column.parent?w=g.column.parent:(w=g.column,_=!0),b&&(b==null?void 0:b.column)===w)b.subHeaders.push(g);else{const S=WU(n,w,{id:[r,h,w.id,g==null?void 0:g.id].filter(Boolean).join("_"),isPlaceholder:_,placeholderId:_?`${p.filter(C=>C.column===w).length}`:void 0,depth:h,index:p.length});S.subHeaders.push(g),p.push(S)}m.headers.push(g),g.headerGroup=m}),l.push(m),h>0&&c(p,h-1)},u=e.map((f,h)=>WU(n,f,{depth:s,index:h}));c(u,s-1),l.reverse();const d=f=>f.filter(m=>m.column.getIsVisible()).map(m=>{let p=0,g=0,b=[0];m.subHeaders&&m.subHeaders.length?(b=[],d(m.subHeaders).forEach(w=>{let{colSpan:_,rowSpan:S}=w;p+=_,b.push(S)})):p=1;const y=Math.min(...b);return g=g+y,m.colSpan=p,m.rowSpan=g,{colSpan:p,rowSpan:g}});return d((i=(o=l[0])==null?void 0:o.headers)!=null?i:[]),l}const gj=(t,e,n,r,i,o,s)=>{let a={id:e,index:r,original:n,depth:i,parentId:s,_valuesCache:{},_uniqueValuesCache:{},getValue:l=>{if(a._valuesCache.hasOwnProperty(l))return a._valuesCache[l];const c=t.getColumn(l);if(c!=null&&c.accessorFn)return a._valuesCache[l]=c.accessorFn(a.original,r),a._valuesCache[l]},getUniqueValues:l=>{if(a._uniqueValuesCache.hasOwnProperty(l))return a._uniqueValuesCache[l];const c=t.getColumn(l);if(c!=null&&c.accessorFn)return c.columnDef.getUniqueValues?(a._uniqueValuesCache[l]=c.columnDef.getUniqueValues(a.original,r),a._uniqueValuesCache[l]):(a._uniqueValuesCache[l]=[a.getValue(l)],a._uniqueValuesCache[l])},renderValue:l=>{var c;return(c=a.getValue(l))!=null?c:t.options.renderFallbackValue},subRows:[],getLeafRows:()=>ktt(a.subRows,l=>l.subRows),getParentRow:()=>a.parentId?t.getRow(a.parentId,!0):void 0,getParentRows:()=>{let l=[],c=a;for(;;){const u=c.getParentRow();if(!u)break;l.push(u),c=u}return l.reverse()},getAllCells:Ne(()=>[t.getAllLeafColumns()],l=>l.map(c=>Ptt(t,a,c,c.id)),De(t.options,"debugRows")),_getAllCellsByColumnId:Ne(()=>[a.getAllCells()],l=>l.reduce((c,u)=>(c[u.column.id]=u,c),{}),De(t.options,"debugRows"))};for(let l=0;l<t._features.length;l++){const c=t._features[l];c==null||c.createRow==null||c.createRow(a,t)}return a},Ttt={createColumn:(t,e)=>{t._getFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,t.id),t.getFacetedRowModel=()=>t._getFacetedRowModel?t._getFacetedRowModel():e.getPreFilteredRowModel(),t._getFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,t.id),t.getFacetedUniqueValues=()=>t._getFacetedUniqueValues?t._getFacetedUniqueValues():new Map,t._getFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,t.id),t.getFacetedMinMaxValues=()=>{if(t._getFacetedMinMaxValues)return t._getFacetedMinMaxValues()}}},rne=(t,e,n)=>{var r,i;const o=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((i=t.getValue(e))==null||(i=i.toString())==null||(i=i.toLowerCase())==null)&&i.includes(o))};rne.autoRemove=t=>ls(t);const ine=(t,e,n)=>{var r;return!!(!((r=t.getValue(e))==null||(r=r.toString())==null)&&r.includes(n))};ine.autoRemove=t=>ls(t);const one=(t,e,n)=>{var r;return((r=t.getValue(e))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};one.autoRemove=t=>ls(t);const sne=(t,e,n)=>{var r;return(r=t.getValue(e))==null?void 0:r.includes(n)};sne.autoRemove=t=>ls(t);const ane=(t,e,n)=>!n.some(r=>{var i;return!((i=t.getValue(e))!=null&&i.includes(r))});ane.autoRemove=t=>ls(t)||!(t!=null&&t.length);const lne=(t,e,n)=>n.some(r=>{var i;return(i=t.getValue(e))==null?void 0:i.includes(r)});lne.autoRemove=t=>ls(t)||!(t!=null&&t.length);const cne=(t,e,n)=>t.getValue(e)===n;cne.autoRemove=t=>ls(t);const une=(t,e,n)=>t.getValue(e)==n;une.autoRemove=t=>ls(t);const vj=(t,e,n)=>{let[r,i]=n;const o=t.getValue(e);return o>=r&&o<=i};vj.resolveFilterValue=t=>{let[e,n]=t,r=typeof e!="number"?parseFloat(e):e,i=typeof n!="number"?parseFloat(n):n,o=e===null||Number.isNaN(r)?-1/0:r,s=n===null||Number.isNaN(i)?1/0:i;if(o>s){const a=o;o=s,s=a}return[o,s]};vj.autoRemove=t=>ls(t)||ls(t[0])&&ls(t[1]);const Aa={includesString:rne,includesStringSensitive:ine,equalsString:one,arrIncludes:sne,arrIncludesAll:ane,arrIncludesSome:lne,equals:cne,weakEquals:une,inNumberRange:vj};function ls(t){return t==null||t===""}const Att={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:t=>({columnFilters:[],...t}),getDefaultOptions:t=>({onColumnFiltersChange:Qi("columnFilters",t),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(t,e)=>{t.getAutoFilterFn=()=>{const n=e.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(t.id);return typeof r=="string"?Aa.includesString:typeof r=="number"?Aa.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?Aa.equals:Array.isArray(r)?Aa.arrIncludes:Aa.weakEquals},t.getFilterFn=()=>{var n,r;return KC(t.columnDef.filterFn)?t.columnDef.filterFn:t.columnDef.filterFn==="auto"?t.getAutoFilterFn():(n=(r=e.options.filterFns)==null?void 0:r[t.columnDef.filterFn])!=null?n:Aa[t.columnDef.filterFn]},t.getCanFilter=()=>{var n,r,i;return((n=t.columnDef.enableColumnFilter)!=null?n:!0)&&((r=e.options.enableColumnFilters)!=null?r:!0)&&((i=e.options.enableFilters)!=null?i:!0)&&!!t.accessorFn},t.getIsFiltered=()=>t.getFilterIndex()>-1,t.getFilterValue=()=>{var n;return(n=e.getState().columnFilters)==null||(n=n.find(r=>r.id===t.id))==null?void 0:n.value},t.getFilterIndex=()=>{var n,r;return(n=(r=e.getState().columnFilters)==null?void 0:r.findIndex(i=>i.id===t.id))!=null?n:-1},t.setFilterValue=n=>{e.setColumnFilters(r=>{const i=t.getFilterFn(),o=r==null?void 0:r.find(u=>u.id===t.id),s=gc(n,o?o.value:void 0);if(qU(i,s,t)){var a;return(a=r==null?void 0:r.filter(u=>u.id!==t.id))!=null?a:[]}const l={id:t.id,value:s};if(o){var c;return(c=r==null?void 0:r.map(u=>u.id===t.id?l:u))!=null?c:[]}return r!=null&&r.length?[...r,l]:[l]})}},createRow:(t,e)=>{t.columnFilters={},t.columnFiltersMeta={}},createTable:t=>{t.setColumnFilters=e=>{const n=t.getAllLeafColumns(),r=i=>{var o;return(o=gc(e,i))==null?void 0:o.filter(s=>{const a=n.find(l=>l.id===s.id);if(a){const l=a.getFilterFn();if(qU(l,s.value,a))return!1}return!0})};t.options.onColumnFiltersChange==null||t.options.onColumnFiltersChange(r)},t.resetColumnFilters=e=>{var n,r;t.setColumnFilters(e?[]:(n=(r=t.initialState)==null?void 0:r.columnFilters)!=null?n:[])},t.getPreFilteredRowModel=()=>t.getCoreRowModel(),t.getFilteredRowModel=()=>(!t._getFilteredRowModel&&t.options.getFilteredRowModel&&(t._getFilteredRowModel=t.options.getFilteredRowModel(t)),t.options.manualFiltering||!t._getFilteredRowModel?t.getPreFilteredRowModel():t._getFilteredRowModel())}};function qU(t,e,n){return(t&&t.autoRemove?t.autoRemove(e,n):!1)||typeof e>"u"||typeof e=="string"&&!e}const Mtt=(t,e,n)=>n.reduce((r,i)=>{const o=i.getValue(t);return r+(typeof o=="number"?o:0)},0),Ntt=(t,e,n)=>{let r;return n.forEach(i=>{const o=i.getValue(t);o!=null&&(r>o||r===void 0&&o>=o)&&(r=o)}),r},Dtt=(t,e,n)=>{let r;return n.forEach(i=>{const o=i.getValue(t);o!=null&&(r<o||r===void 0&&o>=o)&&(r=o)}),r},Rtt=(t,e,n)=>{let r,i;return n.forEach(o=>{const s=o.getValue(t);s!=null&&(r===void 0?s>=s&&(r=i=s):(r>s&&(r=s),i<s&&(i=s)))}),[r,i]},$tt=(t,e)=>{let n=0,r=0;if(e.forEach(i=>{let o=i.getValue(t);o!=null&&(o=+o)>=o&&(++n,r+=o)}),n)return r/n},Itt=(t,e)=>{if(!e.length)return;const n=e.map(o=>o.getValue(t));if(!Ctt(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),i=n.sort((o,s)=>o-s);return n.length%2!==0?i[r]:(i[r-1]+i[r])/2},jtt=(t,e)=>Array.from(new Set(e.map(n=>n.getValue(t))).values()),Ltt=(t,e)=>new Set(e.map(n=>n.getValue(t))).size,Ftt=(t,e)=>e.length,SE={sum:Mtt,min:Ntt,max:Dtt,extent:Rtt,mean:$tt,median:Itt,unique:jtt,uniqueCount:Ltt,count:Ftt},Btt={getDefaultColumnDef:()=>({aggregatedCell:t=>{var e,n;return(e=(n=t.getValue())==null||n.toString==null?void 0:n.toString())!=null?e:null},aggregationFn:"auto"}),getInitialState:t=>({grouping:[],...t}),getDefaultOptions:t=>({onGroupingChange:Qi("grouping",t),groupedColumnMode:"reorder"}),createColumn:(t,e)=>{t.toggleGrouping=()=>{e.setGrouping(n=>n!=null&&n.includes(t.id)?n.filter(r=>r!==t.id):[...n??[],t.id])},t.getCanGroup=()=>{var n,r;return((n=t.columnDef.enableGrouping)!=null?n:!0)&&((r=e.options.enableGrouping)!=null?r:!0)&&(!!t.accessorFn||!!t.columnDef.getGroupingValue)},t.getIsGrouped=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.includes(t.id)},t.getGroupedIndex=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.indexOf(t.id)},t.getToggleGroupingHandler=()=>{const n=t.getCanGroup();return()=>{n&&t.toggleGrouping()}},t.getAutoAggregationFn=()=>{const n=e.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(t.id);if(typeof r=="number")return SE.sum;if(Object.prototype.toString.call(r)==="[object Date]")return SE.extent},t.getAggregationFn=()=>{var n,r;if(!t)throw new Error;return KC(t.columnDef.aggregationFn)?t.columnDef.aggregationFn:t.columnDef.aggregationFn==="auto"?t.getAutoAggregationFn():(n=(r=e.options.aggregationFns)==null?void 0:r[t.columnDef.aggregationFn])!=null?n:SE[t.columnDef.aggregationFn]}},createTable:t=>{t.setGrouping=e=>t.options.onGroupingChange==null?void 0:t.options.onGroupingChange(e),t.resetGrouping=e=>{var n,r;t.setGrouping(e?[]:(n=(r=t.initialState)==null?void 0:r.grouping)!=null?n:[])},t.getPreGroupedRowModel=()=>t.getFilteredRowModel(),t.getGroupedRowModel=()=>(!t._getGroupedRowModel&&t.options.getGroupedRowModel&&(t._getGroupedRowModel=t.options.getGroupedRowModel(t)),t.options.manualGrouping||!t._getGroupedRowModel?t.getPreGroupedRowModel():t._getGroupedRowModel())},createRow:(t,e)=>{t.getIsGrouped=()=>!!t.groupingColumnId,t.getGroupingValue=n=>{if(t._groupingValuesCache.hasOwnProperty(n))return t._groupingValuesCache[n];const r=e.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(t._groupingValuesCache[n]=r.columnDef.getGroupingValue(t.original),t._groupingValuesCache[n]):t.getValue(n)},t._groupingValuesCache={}},createCell:(t,e,n,r)=>{t.getIsGrouped=()=>e.getIsGrouped()&&e.id===n.groupingColumnId,t.getIsPlaceholder=()=>!t.getIsGrouped()&&e.getIsGrouped(),t.getIsAggregated=()=>{var i;return!t.getIsGrouped()&&!t.getIsPlaceholder()&&!!((i=n.subRows)!=null&&i.length)}}};function Vtt(t,e,n){if(!(e!=null&&e.length)||!n)return t;const r=t.filter(o=>!e.includes(o.id));return n==="remove"?r:[...e.map(o=>t.find(s=>s.id===o)).filter(Boolean),...r]}const ztt={getInitialState:t=>({columnOrder:[],...t}),getDefaultOptions:t=>({onColumnOrderChange:Qi("columnOrder",t)}),createColumn:(t,e)=>{t.getIndex=Ne(n=>[iv(e,n)],n=>n.findIndex(r=>r.id===t.id),De(e.options,"debugColumns")),t.getIsFirstColumn=n=>{var r;return((r=iv(e,n)[0])==null?void 0:r.id)===t.id},t.getIsLastColumn=n=>{var r;const i=iv(e,n);return((r=i[i.length-1])==null?void 0:r.id)===t.id}},createTable:t=>{t.setColumnOrder=e=>t.options.onColumnOrderChange==null?void 0:t.options.onColumnOrderChange(e),t.resetColumnOrder=e=>{var n;t.setColumnOrder(e?[]:(n=t.initialState.columnOrder)!=null?n:[])},t._getOrderColumnsFn=Ne(()=>[t.getState().columnOrder,t.getState().grouping,t.options.groupedColumnMode],(e,n,r)=>i=>{let o=[];if(!(e!=null&&e.length))o=i;else{const s=[...e],a=[...i];for(;a.length&&s.length;){const l=s.shift(),c=a.findIndex(u=>u.id===l);c>-1&&o.push(a.splice(c,1)[0])}o=[...o,...a]}return Vtt(o,n,r)},De(t.options,"debugTable"))}},_E=()=>({left:[],right:[]}),Utt={getInitialState:t=>({columnPinning:_E(),...t}),getDefaultOptions:t=>({onColumnPinningChange:Qi("columnPinning",t)}),createColumn:(t,e)=>{t.pin=n=>{const r=t.getLeafColumns().map(i=>i.id).filter(Boolean);e.setColumnPinning(i=>{var o,s;if(n==="right"){var a,l;return{left:((a=i==null?void 0:i.left)!=null?a:[]).filter(d=>!(r!=null&&r.includes(d))),right:[...((l=i==null?void 0:i.right)!=null?l:[]).filter(d=>!(r!=null&&r.includes(d))),...r]}}if(n==="left"){var c,u;return{left:[...((c=i==null?void 0:i.left)!=null?c:[]).filter(d=>!(r!=null&&r.includes(d))),...r],right:((u=i==null?void 0:i.right)!=null?u:[]).filter(d=>!(r!=null&&r.includes(d)))}}return{left:((o=i==null?void 0:i.left)!=null?o:[]).filter(d=>!(r!=null&&r.includes(d))),right:((s=i==null?void 0:i.right)!=null?s:[]).filter(d=>!(r!=null&&r.includes(d)))}})},t.getCanPin=()=>t.getLeafColumns().some(r=>{var i,o,s;return((i=r.columnDef.enablePinning)!=null?i:!0)&&((o=(s=e.options.enableColumnPinning)!=null?s:e.options.enablePinning)!=null?o:!0)}),t.getIsPinned=()=>{const n=t.getLeafColumns().map(a=>a.id),{left:r,right:i}=e.getState().columnPinning,o=n.some(a=>r==null?void 0:r.includes(a)),s=n.some(a=>i==null?void 0:i.includes(a));return o?"left":s?"right":!1},t.getPinnedIndex=()=>{var n,r;const i=t.getIsPinned();return i?(n=(r=e.getState().columnPinning)==null||(r=r[i])==null?void 0:r.indexOf(t.id))!=null?n:-1:0}},createRow:(t,e)=>{t.getCenterVisibleCells=Ne(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,r,i)=>{const o=[...r??[],...i??[]];return n.filter(s=>!o.includes(s.column.id))},De(e.options,"debugRows")),t.getLeftVisibleCells=Ne(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left],(n,r)=>(r??[]).map(o=>n.find(s=>s.column.id===o)).filter(Boolean).map(o=>({...o,position:"left"})),De(e.options,"debugRows")),t.getRightVisibleCells=Ne(()=>[t._getAllVisibleCells(),e.getState().columnPinning.right],(n,r)=>(r??[]).map(o=>n.find(s=>s.column.id===o)).filter(Boolean).map(o=>({...o,position:"right"})),De(e.options,"debugRows"))},createTable:t=>{t.setColumnPinning=e=>t.options.onColumnPinningChange==null?void 0:t.options.onColumnPinningChange(e),t.resetColumnPinning=e=>{var n,r;return t.setColumnPinning(e?_E():(n=(r=t.initialState)==null?void 0:r.columnPinning)!=null?n:_E())},t.getIsSomeColumnsPinned=e=>{var n;const r=t.getState().columnPinning;if(!e){var i,o;return!!((i=r.left)!=null&&i.length||(o=r.right)!=null&&o.length)}return!!((n=r[e])!=null&&n.length)},t.getLeftLeafColumns=Ne(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left],(e,n)=>(n??[]).map(r=>e.find(i=>i.id===r)).filter(Boolean),De(t.options,"debugColumns")),t.getRightLeafColumns=Ne(()=>[t.getAllLeafColumns(),t.getState().columnPinning.right],(e,n)=>(n??[]).map(r=>e.find(i=>i.id===r)).filter(Boolean),De(t.options,"debugColumns")),t.getCenterLeafColumns=Ne(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r)=>{const i=[...n??[],...r??[]];return e.filter(o=>!i.includes(o.id))},De(t.options,"debugColumns"))}};function Htt(t){return t||(typeof document<"u"?document:null)}const ow={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},CE=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),Wtt={getDefaultColumnDef:()=>ow,getInitialState:t=>({columnSizing:{},columnSizingInfo:CE(),...t}),getDefaultOptions:t=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Qi("columnSizing",t),onColumnSizingInfoChange:Qi("columnSizingInfo",t)}),createColumn:(t,e)=>{t.getSize=()=>{var n,r,i;const o=e.getState().columnSizing[t.id];return Math.min(Math.max((n=t.columnDef.minSize)!=null?n:ow.minSize,(r=o??t.columnDef.size)!=null?r:ow.size),(i=t.columnDef.maxSize)!=null?i:ow.maxSize)},t.getStart=Ne(n=>[n,iv(e,n),e.getState().columnSizing],(n,r)=>r.slice(0,t.getIndex(n)).reduce((i,o)=>i+o.getSize(),0),De(e.options,"debugColumns")),t.getAfter=Ne(n=>[n,iv(e,n),e.getState().columnSizing],(n,r)=>r.slice(t.getIndex(n)+1).reduce((i,o)=>i+o.getSize(),0),De(e.options,"debugColumns")),t.resetSize=()=>{e.setColumnSizing(n=>{let{[t.id]:r,...i}=n;return i})},t.getCanResize=()=>{var n,r;return((n=t.columnDef.enableResizing)!=null?n:!0)&&((r=e.options.enableColumnResizing)!=null?r:!0)},t.getIsResizing=()=>e.getState().columnSizingInfo.isResizingColumn===t.id},createHeader:(t,e)=>{t.getSize=()=>{let n=0;const r=i=>{if(i.subHeaders.length)i.subHeaders.forEach(r);else{var o;n+=(o=i.column.getSize())!=null?o:0}};return r(t),n},t.getStart=()=>{if(t.index>0){const n=t.headerGroup.headers[t.index-1];return n.getStart()+n.getSize()}return 0},t.getResizeHandler=n=>{const r=e.getColumn(t.column.id),i=r==null?void 0:r.getCanResize();return o=>{if(!r||!i||(o.persist==null||o.persist(),kE(o)&&o.touches&&o.touches.length>1))return;const s=t.getSize(),a=t?t.getLeafHeaders().map(b=>[b.column.id,b.column.getSize()]):[[r.id,r.getSize()]],l=kE(o)?Math.round(o.touches[0].clientX):o.clientX,c={},u=(b,y)=>{typeof y=="number"&&(e.setColumnSizingInfo(w=>{var _,S;const C=e.options.columnResizeDirection==="rtl"?-1:1,k=(y-((_=w==null?void 0:w.startOffset)!=null?_:0))*C,E=Math.max(k/((S=w==null?void 0:w.startSize)!=null?S:0),-.999999);return w.columnSizingStart.forEach(T=>{let[M,D]=T;c[M]=Math.round(Math.max(D+D*E,0)*100)/100}),{...w,deltaOffset:k,deltaPercentage:E}}),(e.options.columnResizeMode==="onChange"||b==="end")&&e.setColumnSizing(w=>({...w,...c})))},d=b=>u("move",b),f=b=>{u("end",b),e.setColumnSizingInfo(y=>({...y,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},h=Htt(n),m={moveHandler:b=>d(b.clientX),upHandler:b=>{h==null||h.removeEventListener("mousemove",m.moveHandler),h==null||h.removeEventListener("mouseup",m.upHandler),f(b.clientX)}},p={moveHandler:b=>(b.cancelable&&(b.preventDefault(),b.stopPropagation()),d(b.touches[0].clientX),!1),upHandler:b=>{var y;h==null||h.removeEventListener("touchmove",p.moveHandler),h==null||h.removeEventListener("touchend",p.upHandler),b.cancelable&&(b.preventDefault(),b.stopPropagation()),f((y=b.touches[0])==null?void 0:y.clientX)}},g=qtt()?{passive:!1}:!1;kE(o)?(h==null||h.addEventListener("touchmove",p.moveHandler,g),h==null||h.addEventListener("touchend",p.upHandler,g)):(h==null||h.addEventListener("mousemove",m.moveHandler,g),h==null||h.addEventListener("mouseup",m.upHandler,g)),e.setColumnSizingInfo(b=>({...b,startOffset:l,startSize:s,deltaOffset:0,deltaPercentage:0,columnSizingStart:a,isResizingColumn:r.id}))}}},createTable:t=>{t.setColumnSizing=e=>t.options.onColumnSizingChange==null?void 0:t.options.onColumnSizingChange(e),t.setColumnSizingInfo=e=>t.options.onColumnSizingInfoChange==null?void 0:t.options.onColumnSizingInfoChange(e),t.resetColumnSizing=e=>{var n;t.setColumnSizing(e?{}:(n=t.initialState.columnSizing)!=null?n:{})},t.resetHeaderSizeInfo=e=>{var n;t.setColumnSizingInfo(e?CE():(n=t.initialState.columnSizingInfo)!=null?n:CE())},t.getTotalSize=()=>{var e,n;return(e=(n=t.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?e:0},t.getLeftTotalSize=()=>{var e,n;return(e=(n=t.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?e:0},t.getCenterTotalSize=()=>{var e,n;return(e=(n=t.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?e:0},t.getRightTotalSize=()=>{var e,n;return(e=(n=t.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?e:0}}};let sw=null;function qtt(){if(typeof sw=="boolean")return sw;let t=!1;try{const e={get passive(){return t=!0,!1}},n=()=>{};window.addEventListener("test",n,e),window.removeEventListener("test",n)}catch{t=!1}return sw=t,sw}function kE(t){return t.type==="touchstart"}const Gtt={getInitialState:t=>({columnVisibility:{},...t}),getDefaultOptions:t=>({onColumnVisibilityChange:Qi("columnVisibility",t)}),createColumn:(t,e)=>{t.toggleVisibility=n=>{t.getCanHide()&&e.setColumnVisibility(r=>({...r,[t.id]:n??!t.getIsVisible()}))},t.getIsVisible=()=>{var n,r;const i=t.columns;return(n=i.length?i.some(o=>o.getIsVisible()):(r=e.getState().columnVisibility)==null?void 0:r[t.id])!=null?n:!0},t.getCanHide=()=>{var n,r;return((n=t.columnDef.enableHiding)!=null?n:!0)&&((r=e.options.enableHiding)!=null?r:!0)},t.getToggleVisibilityHandler=()=>n=>{t.toggleVisibility==null||t.toggleVisibility(n.target.checked)}},createRow:(t,e)=>{t._getAllVisibleCells=Ne(()=>[t.getAllCells(),e.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),De(e.options,"debugRows")),t.getVisibleCells=Ne(()=>[t.getLeftVisibleCells(),t.getCenterVisibleCells(),t.getRightVisibleCells()],(n,r,i)=>[...n,...r,...i],De(e.options,"debugRows"))},createTable:t=>{const e=(n,r)=>Ne(()=>[r(),r().filter(i=>i.getIsVisible()).map(i=>i.id).join("_")],i=>i.filter(o=>o.getIsVisible==null?void 0:o.getIsVisible()),De(t.options,"debugColumns"));t.getVisibleFlatColumns=e("getVisibleFlatColumns",()=>t.getAllFlatColumns()),t.getVisibleLeafColumns=e("getVisibleLeafColumns",()=>t.getAllLeafColumns()),t.getLeftVisibleLeafColumns=e("getLeftVisibleLeafColumns",()=>t.getLeftLeafColumns()),t.getRightVisibleLeafColumns=e("getRightVisibleLeafColumns",()=>t.getRightLeafColumns()),t.getCenterVisibleLeafColumns=e("getCenterVisibleLeafColumns",()=>t.getCenterLeafColumns()),t.setColumnVisibility=n=>t.options.onColumnVisibilityChange==null?void 0:t.options.onColumnVisibilityChange(n),t.resetColumnVisibility=n=>{var r;t.setColumnVisibility(n?{}:(r=t.initialState.columnVisibility)!=null?r:{})},t.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!t.getIsAllColumnsVisible(),t.setColumnVisibility(t.getAllLeafColumns().reduce((i,o)=>({...i,[o.id]:n||!(o.getCanHide!=null&&o.getCanHide())}),{}))},t.getIsAllColumnsVisible=()=>!t.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),t.getIsSomeColumnsVisible=()=>t.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),t.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;t.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function iv(t,e){return e?e==="center"?t.getCenterVisibleLeafColumns():e==="left"?t.getLeftVisibleLeafColumns():t.getRightVisibleLeafColumns():t.getVisibleLeafColumns()}const Ktt={createTable:t=>{t._getGlobalFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,"__global__"),t.getGlobalFacetedRowModel=()=>t.options.manualFiltering||!t._getGlobalFacetedRowModel?t.getPreFilteredRowModel():t._getGlobalFacetedRowModel(),t._getGlobalFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,"__global__"),t.getGlobalFacetedUniqueValues=()=>t._getGlobalFacetedUniqueValues?t._getGlobalFacetedUniqueValues():new Map,t._getGlobalFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,"__global__"),t.getGlobalFacetedMinMaxValues=()=>{if(t._getGlobalFacetedMinMaxValues)return t._getGlobalFacetedMinMaxValues()}}},Ytt={getInitialState:t=>({globalFilter:void 0,...t}),getDefaultOptions:t=>({onGlobalFilterChange:Qi("globalFilter",t),globalFilterFn:"auto",getColumnCanGlobalFilter:e=>{var n;const r=(n=t.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[e.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(t,e)=>{t.getCanGlobalFilter=()=>{var n,r,i,o;return((n=t.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=e.options.enableGlobalFilter)!=null?r:!0)&&((i=e.options.enableFilters)!=null?i:!0)&&((o=e.options.getColumnCanGlobalFilter==null?void 0:e.options.getColumnCanGlobalFilter(t))!=null?o:!0)&&!!t.accessorFn}},createTable:t=>{t.getGlobalAutoFilterFn=()=>Aa.includesString,t.getGlobalFilterFn=()=>{var e,n;const{globalFilterFn:r}=t.options;return KC(r)?r:r==="auto"?t.getGlobalAutoFilterFn():(e=(n=t.options.filterFns)==null?void 0:n[r])!=null?e:Aa[r]},t.setGlobalFilter=e=>{t.options.onGlobalFilterChange==null||t.options.onGlobalFilterChange(e)},t.resetGlobalFilter=e=>{t.setGlobalFilter(e?void 0:t.initialState.globalFilter)}}},Xtt={getInitialState:t=>({expanded:{},...t}),getDefaultOptions:t=>({onExpandedChange:Qi("expanded",t),paginateExpandedRows:!0}),createTable:t=>{let e=!1,n=!1;t._autoResetExpanded=()=>{var r,i;if(!e){t._queue(()=>{e=!0});return}if((r=(i=t.options.autoResetAll)!=null?i:t.options.autoResetExpanded)!=null?r:!t.options.manualExpanding){if(n)return;n=!0,t._queue(()=>{t.resetExpanded(),n=!1})}},t.setExpanded=r=>t.options.onExpandedChange==null?void 0:t.options.onExpandedChange(r),t.toggleAllRowsExpanded=r=>{r??!t.getIsAllRowsExpanded()?t.setExpanded(!0):t.setExpanded({})},t.resetExpanded=r=>{var i,o;t.setExpanded(r?{}:(i=(o=t.initialState)==null?void 0:o.expanded)!=null?i:{})},t.getCanSomeRowsExpand=()=>t.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),t.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),t.toggleAllRowsExpanded()},t.getIsSomeRowsExpanded=()=>{const r=t.getState().expanded;return r===!0||Object.values(r).some(Boolean)},t.getIsAllRowsExpanded=()=>{const r=t.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||t.getRowModel().flatRows.some(i=>!i.getIsExpanded()))},t.getExpandedDepth=()=>{let r=0;return(t.getState().expanded===!0?Object.keys(t.getRowModel().rowsById):Object.keys(t.getState().expanded)).forEach(o=>{const s=o.split(".");r=Math.max(r,s.length)}),r},t.getPreExpandedRowModel=()=>t.getSortedRowModel(),t.getExpandedRowModel=()=>(!t._getExpandedRowModel&&t.options.getExpandedRowModel&&(t._getExpandedRowModel=t.options.getExpandedRowModel(t)),t.options.manualExpanding||!t._getExpandedRowModel?t.getPreExpandedRowModel():t._getExpandedRowModel())},createRow:(t,e)=>{t.toggleExpanded=n=>{e.setExpanded(r=>{var i;const o=r===!0?!0:!!(r!=null&&r[t.id]);let s={};if(r===!0?Object.keys(e.getRowModel().rowsById).forEach(a=>{s[a]=!0}):s=r,n=(i=n)!=null?i:!o,!o&&n)return{...s,[t.id]:!0};if(o&&!n){const{[t.id]:a,...l}=s;return l}return r})},t.getIsExpanded=()=>{var n;const r=e.getState().expanded;return!!((n=e.options.getIsRowExpanded==null?void 0:e.options.getIsRowExpanded(t))!=null?n:r===!0||r!=null&&r[t.id])},t.getCanExpand=()=>{var n,r,i;return(n=e.options.getRowCanExpand==null?void 0:e.options.getRowCanExpand(t))!=null?n:((r=e.options.enableExpanding)!=null?r:!0)&&!!((i=t.subRows)!=null&&i.length)},t.getIsAllParentsExpanded=()=>{let n=!0,r=t;for(;n&&r.parentId;)r=e.getRow(r.parentId,!0),n=r.getIsExpanded();return n},t.getToggleExpandedHandler=()=>{const n=t.getCanExpand();return()=>{n&&t.toggleExpanded()}}}},QM=0,eN=10,PE=()=>({pageIndex:QM,pageSize:eN}),Ztt={getInitialState:t=>({...t,pagination:{...PE(),...t==null?void 0:t.pagination}}),getDefaultOptions:t=>({onPaginationChange:Qi("pagination",t)}),createTable:t=>{let e=!1,n=!1;t._autoResetPageIndex=()=>{var r,i;if(!e){t._queue(()=>{e=!0});return}if((r=(i=t.options.autoResetAll)!=null?i:t.options.autoResetPageIndex)!=null?r:!t.options.manualPagination){if(n)return;n=!0,t._queue(()=>{t.resetPageIndex(),n=!1})}},t.setPagination=r=>{const i=o=>gc(r,o);return t.options.onPaginationChange==null?void 0:t.options.onPaginationChange(i)},t.resetPagination=r=>{var i;t.setPagination(r?PE():(i=t.initialState.pagination)!=null?i:PE())},t.setPageIndex=r=>{t.setPagination(i=>{let o=gc(r,i.pageIndex);const s=typeof t.options.pageCount>"u"||t.options.pageCount===-1?Number.MAX_SAFE_INTEGER:t.options.pageCount-1;return o=Math.max(0,Math.min(o,s)),{...i,pageIndex:o}})},t.resetPageIndex=r=>{var i,o;t.setPageIndex(r?QM:(i=(o=t.initialState)==null||(o=o.pagination)==null?void 0:o.pageIndex)!=null?i:QM)},t.resetPageSize=r=>{var i,o;t.setPageSize(r?eN:(i=(o=t.initialState)==null||(o=o.pagination)==null?void 0:o.pageSize)!=null?i:eN)},t.setPageSize=r=>{t.setPagination(i=>{const o=Math.max(1,gc(r,i.pageSize)),s=i.pageSize*i.pageIndex,a=Math.floor(s/o);return{...i,pageIndex:a,pageSize:o}})},t.setPageCount=r=>t.setPagination(i=>{var o;let s=gc(r,(o=t.options.pageCount)!=null?o:-1);return typeof s=="number"&&(s=Math.max(-1,s)),{...i,pageCount:s}}),t.getPageOptions=Ne(()=>[t.getPageCount()],r=>{let i=[];return r&&r>0&&(i=[...new Array(r)].fill(null).map((o,s)=>s)),i},De(t.options,"debugTable")),t.getCanPreviousPage=()=>t.getState().pagination.pageIndex>0,t.getCanNextPage=()=>{const{pageIndex:r}=t.getState().pagination,i=t.getPageCount();return i===-1?!0:i===0?!1:r<i-1},t.previousPage=()=>t.setPageIndex(r=>r-1),t.nextPage=()=>t.setPageIndex(r=>r+1),t.firstPage=()=>t.setPageIndex(0),t.lastPage=()=>t.setPageIndex(t.getPageCount()-1),t.getPrePaginationRowModel=()=>t.getExpandedRowModel(),t.getPaginationRowModel=()=>(!t._getPaginationRowModel&&t.options.getPaginationRowModel&&(t._getPaginationRowModel=t.options.getPaginationRowModel(t)),t.options.manualPagination||!t._getPaginationRowModel?t.getPrePaginationRowModel():t._getPaginationRowModel()),t.getPageCount=()=>{var r;return(r=t.options.pageCount)!=null?r:Math.ceil(t.getRowCount()/t.getState().pagination.pageSize)},t.getRowCount=()=>{var r;return(r=t.options.rowCount)!=null?r:t.getPrePaginationRowModel().rows.length}}},EE=()=>({top:[],bottom:[]}),Jtt={getInitialState:t=>({rowPinning:EE(),...t}),getDefaultOptions:t=>({onRowPinningChange:Qi("rowPinning",t)}),createRow:(t,e)=>{t.pin=(n,r,i)=>{const o=r?t.getLeafRows().map(l=>{let{id:c}=l;return c}):[],s=i?t.getParentRows().map(l=>{let{id:c}=l;return c}):[],a=new Set([...s,t.id,...o]);e.setRowPinning(l=>{var c,u;if(n==="bottom"){var d,f;return{top:((d=l==null?void 0:l.top)!=null?d:[]).filter(p=>!(a!=null&&a.has(p))),bottom:[...((f=l==null?void 0:l.bottom)!=null?f:[]).filter(p=>!(a!=null&&a.has(p))),...Array.from(a)]}}if(n==="top"){var h,m;return{top:[...((h=l==null?void 0:l.top)!=null?h:[]).filter(p=>!(a!=null&&a.has(p))),...Array.from(a)],bottom:((m=l==null?void 0:l.bottom)!=null?m:[]).filter(p=>!(a!=null&&a.has(p)))}}return{top:((c=l==null?void 0:l.top)!=null?c:[]).filter(p=>!(a!=null&&a.has(p))),bottom:((u=l==null?void 0:l.bottom)!=null?u:[]).filter(p=>!(a!=null&&a.has(p)))}})},t.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:i}=e.options;return typeof r=="function"?r(t):(n=r??i)!=null?n:!0},t.getIsPinned=()=>{const n=[t.id],{top:r,bottom:i}=e.getState().rowPinning,o=n.some(a=>r==null?void 0:r.includes(a)),s=n.some(a=>i==null?void 0:i.includes(a));return o?"top":s?"bottom":!1},t.getPinnedIndex=()=>{var n,r;const i=t.getIsPinned();if(!i)return-1;const o=(n=i==="top"?e.getTopRows():e.getBottomRows())==null?void 0:n.map(s=>{let{id:a}=s;return a});return(r=o==null?void 0:o.indexOf(t.id))!=null?r:-1}},createTable:t=>{t.setRowPinning=e=>t.options.onRowPinningChange==null?void 0:t.options.onRowPinningChange(e),t.resetRowPinning=e=>{var n,r;return t.setRowPinning(e?EE():(n=(r=t.initialState)==null?void 0:r.rowPinning)!=null?n:EE())},t.getIsSomeRowsPinned=e=>{var n;const r=t.getState().rowPinning;if(!e){var i,o;return!!((i=r.top)!=null&&i.length||(o=r.bottom)!=null&&o.length)}return!!((n=r[e])!=null&&n.length)},t._getPinnedRows=(e,n,r)=>{var i;return((i=t.options.keepPinnedRows)==null||i?(n??[]).map(s=>{const a=t.getRow(s,!0);return a.getIsAllParentsExpanded()?a:null}):(n??[]).map(s=>e.find(a=>a.id===s))).filter(Boolean).map(s=>({...s,position:r}))},t.getTopRows=Ne(()=>[t.getRowModel().rows,t.getState().rowPinning.top],(e,n)=>t._getPinnedRows(e,n,"top"),De(t.options,"debugRows")),t.getBottomRows=Ne(()=>[t.getRowModel().rows,t.getState().rowPinning.bottom],(e,n)=>t._getPinnedRows(e,n,"bottom"),De(t.options,"debugRows")),t.getCenterRows=Ne(()=>[t.getRowModel().rows,t.getState().rowPinning.top,t.getState().rowPinning.bottom],(e,n,r)=>{const i=new Set([...n??[],...r??[]]);return e.filter(o=>!i.has(o.id))},De(t.options,"debugRows"))}},Qtt={getInitialState:t=>({rowSelection:{},...t}),getDefaultOptions:t=>({onRowSelectionChange:Qi("rowSelection",t),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:t=>{t.setRowSelection=e=>t.options.onRowSelectionChange==null?void 0:t.options.onRowSelectionChange(e),t.resetRowSelection=e=>{var n;return t.setRowSelection(e?{}:(n=t.initialState.rowSelection)!=null?n:{})},t.toggleAllRowsSelected=e=>{t.setRowSelection(n=>{e=typeof e<"u"?e:!t.getIsAllRowsSelected();const r={...n},i=t.getPreGroupedRowModel().flatRows;return e?i.forEach(o=>{o.getCanSelect()&&(r[o.id]=!0)}):i.forEach(o=>{delete r[o.id]}),r})},t.toggleAllPageRowsSelected=e=>t.setRowSelection(n=>{const r=typeof e<"u"?e:!t.getIsAllPageRowsSelected(),i={...n};return t.getRowModel().rows.forEach(o=>{tN(i,o.id,r,!0,t)}),i}),t.getPreSelectedRowModel=()=>t.getCoreRowModel(),t.getSelectedRowModel=Ne(()=>[t.getState().rowSelection,t.getCoreRowModel()],(e,n)=>Object.keys(e).length?OE(t,n):{rows:[],flatRows:[],rowsById:{}},De(t.options,"debugTable")),t.getFilteredSelectedRowModel=Ne(()=>[t.getState().rowSelection,t.getFilteredRowModel()],(e,n)=>Object.keys(e).length?OE(t,n):{rows:[],flatRows:[],rowsById:{}},De(t.options,"debugTable")),t.getGroupedSelectedRowModel=Ne(()=>[t.getState().rowSelection,t.getSortedRowModel()],(e,n)=>Object.keys(e).length?OE(t,n):{rows:[],flatRows:[],rowsById:{}},De(t.options,"debugTable")),t.getIsAllRowsSelected=()=>{const e=t.getFilteredRowModel().flatRows,{rowSelection:n}=t.getState();let r=!!(e.length&&Object.keys(n).length);return r&&e.some(i=>i.getCanSelect()&&!n[i.id])&&(r=!1),r},t.getIsAllPageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows.filter(i=>i.getCanSelect()),{rowSelection:n}=t.getState();let r=!!e.length;return r&&e.some(i=>!n[i.id])&&(r=!1),r},t.getIsSomeRowsSelected=()=>{var e;const n=Object.keys((e=t.getState().rowSelection)!=null?e:{}).length;return n>0&&n<t.getFilteredRowModel().flatRows.length},t.getIsSomePageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows;return t.getIsAllPageRowsSelected()?!1:e.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},t.getToggleAllRowsSelectedHandler=()=>e=>{t.toggleAllRowsSelected(e.target.checked)},t.getToggleAllPageRowsSelectedHandler=()=>e=>{t.toggleAllPageRowsSelected(e.target.checked)}},createRow:(t,e)=>{t.toggleSelected=(n,r)=>{const i=t.getIsSelected();e.setRowSelection(o=>{var s;if(n=typeof n<"u"?n:!i,t.getCanSelect()&&i===n)return o;const a={...o};return tN(a,t.id,n,(s=r==null?void 0:r.selectChildren)!=null?s:!0,e),a})},t.getIsSelected=()=>{const{rowSelection:n}=e.getState();return yj(t,n)},t.getIsSomeSelected=()=>{const{rowSelection:n}=e.getState();return nN(t,n)==="some"},t.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=e.getState();return nN(t,n)==="all"},t.getCanSelect=()=>{var n;return typeof e.options.enableRowSelection=="function"?e.options.enableRowSelection(t):(n=e.options.enableRowSelection)!=null?n:!0},t.getCanSelectSubRows=()=>{var n;return typeof e.options.enableSubRowSelection=="function"?e.options.enableSubRowSelection(t):(n=e.options.enableSubRowSelection)!=null?n:!0},t.getCanMultiSelect=()=>{var n;return typeof e.options.enableMultiRowSelection=="function"?e.options.enableMultiRowSelection(t):(n=e.options.enableMultiRowSelection)!=null?n:!0},t.getToggleSelectedHandler=()=>{const n=t.getCanSelect();return r=>{var i;n&&t.toggleSelected((i=r.target)==null?void 0:i.checked)}}}},tN=(t,e,n,r,i)=>{var o;const s=i.getRow(e,!0);n?(s.getCanMultiSelect()||Object.keys(t).forEach(a=>delete t[a]),s.getCanSelect()&&(t[e]=!0)):delete t[e],r&&(o=s.subRows)!=null&&o.length&&s.getCanSelectSubRows()&&s.subRows.forEach(a=>tN(t,a.id,n,r,i))};function OE(t,e){const n=t.getState().rowSelection,r=[],i={},o=function(s,a){return s.map(l=>{var c;const u=yj(l,n);if(u&&(r.push(l),i[l.id]=l),(c=l.subRows)!=null&&c.length&&(l={...l,subRows:o(l.subRows)}),u)return l}).filter(Boolean)};return{rows:o(e.rows),flatRows:r,rowsById:i}}function yj(t,e){var n;return(n=e[t.id])!=null?n:!1}function nN(t,e,n){var r;if(!((r=t.subRows)!=null&&r.length))return!1;let i=!0,o=!1;return t.subRows.forEach(s=>{if(!(o&&!i)&&(s.getCanSelect()&&(yj(s,e)?o=!0:i=!1),s.subRows&&s.subRows.length)){const a=nN(s,e);a==="all"?o=!0:(a==="some"&&(o=!0),i=!1)}}),i?"all":o?"some":!1}const rN=/([0-9]+)/gm,ent=(t,e,n)=>dne(Zc(t.getValue(n)).toLowerCase(),Zc(e.getValue(n)).toLowerCase()),tnt=(t,e,n)=>dne(Zc(t.getValue(n)),Zc(e.getValue(n))),nnt=(t,e,n)=>bj(Zc(t.getValue(n)).toLowerCase(),Zc(e.getValue(n)).toLowerCase()),rnt=(t,e,n)=>bj(Zc(t.getValue(n)),Zc(e.getValue(n))),int=(t,e,n)=>{const r=t.getValue(n),i=e.getValue(n);return r>i?1:r<i?-1:0},ont=(t,e,n)=>bj(t.getValue(n),e.getValue(n));function bj(t,e){return t===e?0:t>e?1:-1}function Zc(t){return typeof t=="number"?isNaN(t)||t===1/0||t===-1/0?"":String(t):typeof t=="string"?t:""}function dne(t,e){const n=t.split(rN).filter(Boolean),r=e.split(rN).filter(Boolean);for(;n.length&&r.length;){const i=n.shift(),o=r.shift(),s=parseInt(i,10),a=parseInt(o,10),l=[s,a].sort();if(isNaN(l[0])){if(i>o)return 1;if(o>i)return-1;continue}if(isNaN(l[1]))return isNaN(s)?-1:1;if(s>a)return 1;if(a>s)return-1}return n.length-r.length}const og={alphanumeric:ent,alphanumericCaseSensitive:tnt,text:nnt,textCaseSensitive:rnt,datetime:int,basic:ont},snt={getInitialState:t=>({sorting:[],...t}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:t=>({onSortingChange:Qi("sorting",t),isMultiSortEvent:e=>e.shiftKey}),createColumn:(t,e)=>{t.getAutoSortingFn=()=>{const n=e.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const i of n){const o=i==null?void 0:i.getValue(t.id);if(Object.prototype.toString.call(o)==="[object Date]")return og.datetime;if(typeof o=="string"&&(r=!0,o.split(rN).length>1))return og.alphanumeric}return r?og.text:og.basic},t.getAutoSortDir=()=>{const n=e.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(t.id))=="string"?"asc":"desc"},t.getSortingFn=()=>{var n,r;if(!t)throw new Error;return KC(t.columnDef.sortingFn)?t.columnDef.sortingFn:t.columnDef.sortingFn==="auto"?t.getAutoSortingFn():(n=(r=e.options.sortingFns)==null?void 0:r[t.columnDef.sortingFn])!=null?n:og[t.columnDef.sortingFn]},t.toggleSorting=(n,r)=>{const i=t.getNextSortingOrder(),o=typeof n<"u"&&n!==null;e.setSorting(s=>{const a=s==null?void 0:s.find(h=>h.id===t.id),l=s==null?void 0:s.findIndex(h=>h.id===t.id);let c=[],u,d=o?n:i==="desc";if(s!=null&&s.length&&t.getCanMultiSort()&&r?a?u="toggle":u="add":s!=null&&s.length&&l!==s.length-1?u="replace":a?u="toggle":u="replace",u==="toggle"&&(o||i||(u="remove")),u==="add"){var f;c=[...s,{id:t.id,desc:d}],c.splice(0,c.length-((f=e.options.maxMultiSortColCount)!=null?f:Number.MAX_SAFE_INTEGER))}else u==="toggle"?c=s.map(h=>h.id===t.id?{...h,desc:d}:h):u==="remove"?c=s.filter(h=>h.id!==t.id):c=[{id:t.id,desc:d}];return c})},t.getFirstSortDir=()=>{var n,r;return((n=(r=t.columnDef.sortDescFirst)!=null?r:e.options.sortDescFirst)!=null?n:t.getAutoSortDir()==="desc")?"desc":"asc"},t.getNextSortingOrder=n=>{var r,i;const o=t.getFirstSortDir(),s=t.getIsSorted();return s?s!==o&&((r=e.options.enableSortingRemoval)==null||r)&&(!(n&&(i=e.options.enableMultiRemove)!=null)||i)?!1:s==="desc"?"asc":"desc":o},t.getCanSort=()=>{var n,r;return((n=t.columnDef.enableSorting)!=null?n:!0)&&((r=e.options.enableSorting)!=null?r:!0)&&!!t.accessorFn},t.getCanMultiSort=()=>{var n,r;return(n=(r=t.columnDef.enableMultiSort)!=null?r:e.options.enableMultiSort)!=null?n:!!t.accessorFn},t.getIsSorted=()=>{var n;const r=(n=e.getState().sorting)==null?void 0:n.find(i=>i.id===t.id);return r?r.desc?"desc":"asc":!1},t.getSortIndex=()=>{var n,r;return(n=(r=e.getState().sorting)==null?void 0:r.findIndex(i=>i.id===t.id))!=null?n:-1},t.clearSorting=()=>{e.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==t.id):[])},t.getToggleSortingHandler=()=>{const n=t.getCanSort();return r=>{n&&(r.persist==null||r.persist(),t.toggleSorting==null||t.toggleSorting(void 0,t.getCanMultiSort()?e.options.isMultiSortEvent==null?void 0:e.options.isMultiSortEvent(r):!1))}}},createTable:t=>{t.setSorting=e=>t.options.onSortingChange==null?void 0:t.options.onSortingChange(e),t.resetSorting=e=>{var n,r;t.setSorting(e?[]:(n=(r=t.initialState)==null?void 0:r.sorting)!=null?n:[])},t.getPreSortedRowModel=()=>t.getGroupedRowModel(),t.getSortedRowModel=()=>(!t._getSortedRowModel&&t.options.getSortedRowModel&&(t._getSortedRowModel=t.options.getSortedRowModel(t)),t.options.manualSorting||!t._getSortedRowModel?t.getPreSortedRowModel():t._getSortedRowModel())}},ant=[Ott,Gtt,ztt,Utt,Ttt,Att,Ktt,Ytt,snt,Btt,Xtt,Ztt,Jtt,Qtt,Wtt];function lnt(t){var e,n;const r=[...ant,...(e=t._features)!=null?e:[]];let i={_features:r};const o=i._features.reduce((f,h)=>Object.assign(f,h.getDefaultOptions==null?void 0:h.getDefaultOptions(i)),{}),s=f=>i.options.mergeOptions?i.options.mergeOptions(o,f):{...o,...f};let l={...{},...(n=t.initialState)!=null?n:{}};i._features.forEach(f=>{var h;l=(h=f.getInitialState==null?void 0:f.getInitialState(l))!=null?h:l});const c=[];let u=!1;const d={_features:r,options:{...o,...t},initialState:l,_queue:f=>{c.push(f),u||(u=!0,Promise.resolve().then(()=>{for(;c.length;)c.shift()();u=!1}).catch(h=>setTimeout(()=>{throw h})))},reset:()=>{i.setState(i.initialState)},setOptions:f=>{const h=gc(f,i.options);i.options=s(h)},getState:()=>i.options.state,setState:f=>{i.options.onStateChange==null||i.options.onStateChange(f)},_getRowId:(f,h,m)=>{var p;return(p=i.options.getRowId==null?void 0:i.options.getRowId(f,h,m))!=null?p:`${m?[m.id,h].join("."):h}`},getCoreRowModel:()=>(i._getCoreRowModel||(i._getCoreRowModel=i.options.getCoreRowModel(i)),i._getCoreRowModel()),getRowModel:()=>i.getPaginationRowModel(),getRow:(f,h)=>{let m=(h?i.getPrePaginationRowModel():i.getRowModel()).rowsById[f];if(!m&&(m=i.getCoreRowModel().rowsById[f],!m))throw new Error;return m},_getDefaultColumnDef:Ne(()=>[i.options.defaultColumn],f=>{var h;return f=(h=f)!=null?h:{},{header:m=>{const p=m.header.column.columnDef;return p.accessorKey?p.accessorKey:p.accessorFn?p.id:null},cell:m=>{var p,g;return(p=(g=m.renderValue())==null||g.toString==null?void 0:g.toString())!=null?p:null},...i._features.reduce((m,p)=>Object.assign(m,p.getDefaultColumnDef==null?void 0:p.getDefaultColumnDef()),{}),...f}},De(t,"debugColumns")),_getColumnDefs:()=>i.options.columns,getAllColumns:Ne(()=>[i._getColumnDefs()],f=>{const h=function(m,p,g){return g===void 0&&(g=0),m.map(b=>{const y=Ett(i,b,g,p),w=b;return y.columns=w.columns?h(w.columns,y,g+1):[],y})};return h(f)},De(t,"debugColumns")),getAllFlatColumns:Ne(()=>[i.getAllColumns()],f=>f.flatMap(h=>h.getFlatColumns()),De(t,"debugColumns")),_getAllFlatColumnsById:Ne(()=>[i.getAllFlatColumns()],f=>f.reduce((h,m)=>(h[m.id]=m,h),{}),De(t,"debugColumns")),getAllLeafColumns:Ne(()=>[i.getAllColumns(),i._getOrderColumnsFn()],(f,h)=>{let m=f.flatMap(p=>p.getLeafColumns());return h(m)},De(t,"debugColumns")),getColumn:f=>i._getAllFlatColumnsById()[f]};Object.assign(i,d);for(let f=0;f<i._features.length;f++){const h=i._features[f];h==null||h.createTable==null||h.createTable(i)}return i}function cnt(){return t=>Ne(()=>[t.options.data],e=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(i,o,s){o===void 0&&(o=0);const a=[];for(let c=0;c<i.length;c++){const u=gj(t,t._getRowId(i[c],c,s),i[c],c,o,void 0,s==null?void 0:s.id);if(n.flatRows.push(u),n.rowsById[u.id]=u,a.push(u),t.options.getSubRows){var l;u.originalSubRows=t.options.getSubRows(i[c],c),(l=u.originalSubRows)!=null&&l.length&&(u.subRows=r(u.originalSubRows,o+1,u))}}return a};return n.rows=r(e),n},De(t.options,"debugTable","getRowModel",()=>t._autoResetPageIndex()))}function unt(){return t=>Ne(()=>[t.getState().expanded,t.getPreExpandedRowModel(),t.options.paginateExpandedRows],(e,n,r)=>!n.rows.length||e!==!0&&!Object.keys(e??{}).length||!r?n:fne(n),De(t.options,"debugTable"))}function fne(t){const e=[],n=r=>{var i;e.push(r),(i=r.subRows)!=null&&i.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return t.rows.forEach(n),{rows:e,flatRows:t.flatRows,rowsById:t.rowsById}}function dnt(t,e,n){return n.options.filterFromLeafRows?fnt(t,e,n):hnt(t,e,n)}function fnt(t,e,n){var r;const i=[],o={},s=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,a=function(l,c){c===void 0&&(c=0);const u=[];for(let f=0;f<l.length;f++){var d;let h=l[f];const m=gj(n,h.id,h.original,h.index,h.depth,void 0,h.parentId);if(m.columnFilters=h.columnFilters,(d=h.subRows)!=null&&d.length&&c<s){if(m.subRows=a(h.subRows,c+1),h=m,e(h)&&!m.subRows.length){u.push(h),o[h.id]=h,i.push(h);continue}if(e(h)||m.subRows.length){u.push(h),o[h.id]=h,i.push(h);continue}}else h=m,e(h)&&(u.push(h),o[h.id]=h,i.push(h))}return u};return{rows:a(t),flatRows:i,rowsById:o}}function hnt(t,e,n){var r;const i=[],o={},s=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,a=function(l,c){c===void 0&&(c=0);const u=[];for(let f=0;f<l.length;f++){let h=l[f];if(e(h)){var d;if((d=h.subRows)!=null&&d.length&&c<s){const p=gj(n,h.id,h.original,h.index,h.depth,void 0,h.parentId);p.subRows=a(h.subRows,c+1),h=p}u.push(h),i.push(h),o[h.id]=h}}return u};return{rows:a(t),flatRows:i,rowsById:o}}function pnt(){return t=>Ne(()=>[t.getPreFilteredRowModel(),t.getState().columnFilters,t.getState().globalFilter],(e,n,r)=>{if(!e.rows.length||!(n!=null&&n.length)&&!r){for(let f=0;f<e.flatRows.length;f++)e.flatRows[f].columnFilters={},e.flatRows[f].columnFiltersMeta={};return e}const i=[],o=[];(n??[]).forEach(f=>{var h;const m=t.getColumn(f.id);if(!m)return;const p=m.getFilterFn();p&&i.push({id:f.id,filterFn:p,resolvedValue:(h=p.resolveFilterValue==null?void 0:p.resolveFilterValue(f.value))!=null?h:f.value})});const s=(n??[]).map(f=>f.id),a=t.getGlobalFilterFn(),l=t.getAllLeafColumns().filter(f=>f.getCanGlobalFilter());r&&a&&l.length&&(s.push("__global__"),l.forEach(f=>{var h;o.push({id:f.id,filterFn:a,resolvedValue:(h=a.resolveFilterValue==null?void 0:a.resolveFilterValue(r))!=null?h:r})}));let c,u;for(let f=0;f<e.flatRows.length;f++){const h=e.flatRows[f];if(h.columnFilters={},i.length)for(let m=0;m<i.length;m++){c=i[m];const p=c.id;h.columnFilters[p]=c.filterFn(h,p,c.resolvedValue,g=>{h.columnFiltersMeta[p]=g})}if(o.length){for(let m=0;m<o.length;m++){u=o[m];const p=u.id;if(u.filterFn(h,p,u.resolvedValue,g=>{h.columnFiltersMeta[p]=g})){h.columnFilters.__global__=!0;break}}h.columnFilters.__global__!==!0&&(h.columnFilters.__global__=!1)}}const d=f=>{for(let h=0;h<s.length;h++)if(f.columnFilters[s[h]]===!1)return!1;return!0};return dnt(e.rows,d,t)},De(t.options,"debugTable","getFilteredRowModel",()=>t._autoResetPageIndex()))}function mnt(t){return e=>Ne(()=>[e.getState().pagination,e.getPrePaginationRowModel(),e.options.paginateExpandedRows?void 0:e.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:i,pageIndex:o}=n;let{rows:s,flatRows:a,rowsById:l}=r;const c=i*o,u=c+i;s=s.slice(c,u);let d;e.options.paginateExpandedRows?d={rows:s,flatRows:a,rowsById:l}:d=fne({rows:s,flatRows:a,rowsById:l}),d.flatRows=[];const f=h=>{d.flatRows.push(h),h.subRows.length&&h.subRows.forEach(f)};return d.rows.forEach(f),d},De(e.options,"debugTable"))}function gnt(){return t=>Ne(()=>[t.getState().sorting,t.getPreSortedRowModel()],(e,n)=>{if(!n.rows.length||!(e!=null&&e.length))return n;const r=t.getState().sorting,i=[],o=r.filter(l=>{var c;return(c=t.getColumn(l.id))==null?void 0:c.getCanSort()}),s={};o.forEach(l=>{const c=t.getColumn(l.id);c&&(s[l.id]={sortUndefined:c.columnDef.sortUndefined,invertSorting:c.columnDef.invertSorting,sortingFn:c.getSortingFn()})});const a=l=>{const c=l.map(u=>({...u}));return c.sort((u,d)=>{for(let h=0;h<o.length;h+=1){var f;const m=o[h],p=s[m.id],g=p.sortUndefined,b=(f=m==null?void 0:m.desc)!=null?f:!1;let y=0;if(g){const w=u.getValue(m.id),_=d.getValue(m.id),S=w===void 0,C=_===void 0;if(S||C){if(g==="first")return S?-1:1;if(g==="last")return S?1:-1;y=S&&C?0:S?g:-g}}if(y===0&&(y=p.sortingFn(u,d,m.id)),y!==0)return b&&(y*=-1),p.invertSorting&&(y*=-1),y}return u.index-d.index}),c.forEach(u=>{var d;i.push(u),(d=u.subRows)!=null&&d.length&&(u.subRows=a(u.subRows))}),c};return{rows:a(n.rows),flatRows:i,rowsById:n.rowsById}},De(t.options,"debugTable","getSortedRowModel",()=>t._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function GU(t,e){return t?vnt(t)?x.createElement(t,e):t:null}function vnt(t){return ynt(t)||typeof t=="function"||bnt(t)}function ynt(t){return typeof t=="function"&&(()=>{const e=Object.getPrototypeOf(t);return e.prototype&&e.prototype.isReactComponent})()}function bnt(t){return typeof t=="object"&&typeof t.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(t.$$typeof.description)}function wnt(t){const e={state:{},onStateChange:()=>{},renderFallbackValue:null,...t},[n]=x.useState(()=>({current:lnt(e)})),[r,i]=x.useState(()=>n.current.initialState);return n.current.setOptions(o=>({...o,...t,state:{...r,...t.state},onStateChange:s=>{i(s),t.onStateChange==null||t.onStateChange(s)}})),n.current}var TE="rovingFocusGroup.onEntryFocus",xnt={bubbles:!1,cancelable:!0},YC="RovingFocusGroup",[iN,hne,Snt]=KS(YC),[_nt,Om]=nr(YC,[Snt]),[Cnt,knt]=_nt(YC),pne=x.forwardRef((t,e)=>O.jsx(iN.Provider,{scope:t.__scopeRovingFocusGroup,children:O.jsx(iN.Slot,{scope:t.__scopeRovingFocusGroup,children:O.jsx(Pnt,{...t,ref:e})})}));pne.displayName=YC;var Pnt=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:o,currentTabStopId:s,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...d}=t,f=x.useRef(null),h=Qe(e,f),m=um(o),[p=null,g]=_i({prop:s,defaultProp:a,onChange:l}),[b,y]=x.useState(!1),w=ln(c),_=hne(n),S=x.useRef(!1),[C,k]=x.useState(0);return x.useEffect(()=>{const E=f.current;if(E)return E.addEventListener(TE,w),()=>E.removeEventListener(TE,w)},[w]),O.jsx(Cnt,{scope:n,orientation:r,dir:m,loop:i,currentTabStopId:p,onItemFocus:x.useCallback(E=>g(E),[g]),onItemShiftTab:x.useCallback(()=>y(!0),[]),onFocusableItemAdd:x.useCallback(()=>k(E=>E+1),[]),onFocusableItemRemove:x.useCallback(()=>k(E=>E-1),[]),children:O.jsx(pe.div,{tabIndex:b||C===0?-1:0,"data-orientation":r,...d,ref:h,style:{outline:"none",...t.style},onMouseDown:se(t.onMouseDown,()=>{S.current=!0}),onFocus:se(t.onFocus,E=>{const T=!S.current;if(E.target===E.currentTarget&&T&&!b){const M=new CustomEvent(TE,xnt);if(E.currentTarget.dispatchEvent(M),!M.defaultPrevented){const D=_().filter(V=>V.focusable),N=D.find(V=>V.active),L=D.find(V=>V.id===p),z=[N,L,...D].filter(Boolean).map(V=>V.ref.current);vne(z,u)}}S.current=!1}),onBlur:se(t.onBlur,()=>y(!1))})})}),mne="RovingFocusGroupItem",gne=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:o,...s}=t,a=Zn(),l=o||a,c=knt(mne,n),u=c.currentTabStopId===l,d=hne(n),{onFocusableItemAdd:f,onFocusableItemRemove:h}=c;return x.useEffect(()=>{if(r)return f(),()=>h()},[r,f,h]),O.jsx(iN.ItemSlot,{scope:n,id:l,focusable:r,active:i,children:O.jsx(pe.span,{tabIndex:u?0:-1,"data-orientation":c.orientation,...s,ref:e,onMouseDown:se(t.onMouseDown,m=>{r?c.onItemFocus(l):m.preventDefault()}),onFocus:se(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:se(t.onKeyDown,m=>{if(m.key==="Tab"&&m.shiftKey){c.onItemShiftTab();return}if(m.target!==m.currentTarget)return;const p=Tnt(m,c.orientation,c.dir);if(p!==void 0){if(m.metaKey||m.ctrlKey||m.altKey||m.shiftKey)return;m.preventDefault();let b=d().filter(y=>y.focusable).map(y=>y.ref.current);if(p==="last")b.reverse();else if(p==="prev"||p==="next"){p==="prev"&&b.reverse();const y=b.indexOf(m.currentTarget);b=c.loop?Ant(b,y+1):b.slice(y+1)}setTimeout(()=>vne(b))}})})})});gne.displayName=mne;var Ent={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Ont(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Tnt(t,e,n){const r=Ont(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Ent[r]}function vne(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function Ant(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var wj=pne,xj=gne,oN=["Enter"," "],Mnt=["ArrowDown","PageUp","Home"],yne=["ArrowUp","PageDown","End"],Nnt=[...Mnt,...yne],Dnt={ltr:[...oN,"ArrowRight"],rtl:[...oN,"ArrowLeft"]},Rnt={ltr:["ArrowLeft"],rtl:["ArrowRight"]},W0="Menu",[Xy,$nt,Int]=KS(W0),[cf,bne]=nr(W0,[Int,nu,Om]),XC=nu(),wne=Om(),[jnt,uf]=cf(W0),[Lnt,q0]=cf(W0),xne=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:o,modal:s=!0}=t,a=XC(e),[l,c]=x.useState(null),u=x.useRef(!1),d=ln(o),f=um(i);return x.useEffect(()=>{const h=()=>{u.current=!0,document.addEventListener("pointerdown",m,{capture:!0,once:!0}),document.addEventListener("pointermove",m,{capture:!0,once:!0})},m=()=>u.current=!1;return document.addEventListener("keydown",h,{capture:!0}),()=>{document.removeEventListener("keydown",h,{capture:!0}),document.removeEventListener("pointerdown",m,{capture:!0}),document.removeEventListener("pointermove",m,{capture:!0})}},[]),O.jsx(r_,{...a,children:O.jsx(jnt,{scope:e,open:n,onOpenChange:d,content:l,onContentChange:c,children:O.jsx(Lnt,{scope:e,onClose:x.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:u,dir:f,modal:s,children:r})})})};xne.displayName=W0;var Fnt="MenuAnchor",Sj=x.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=XC(n);return O.jsx(u0,{...i,...r,ref:e})});Sj.displayName=Fnt;var _j="MenuPortal",[Bnt,Sne]=cf(_j,{forceMount:void 0}),_ne=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,o=uf(_j,e);return O.jsx(Bnt,{scope:e,forceMount:n,children:O.jsx(rr,{present:n||o.open,children:O.jsx(Qp,{asChild:!0,container:i,children:r})})})};_ne.displayName=_j;var ko="MenuContent",[Vnt,Cj]=cf(ko),Cne=x.forwardRef((t,e)=>{const n=Sne(ko,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,o=uf(ko,t.__scopeMenu),s=q0(ko,t.__scopeMenu);return O.jsx(Xy.Provider,{scope:t.__scopeMenu,children:O.jsx(rr,{present:r||o.open,children:O.jsx(Xy.Slot,{scope:t.__scopeMenu,children:s.modal?O.jsx(znt,{...i,ref:e}):O.jsx(Unt,{...i,ref:e})})})})}),znt=x.forwardRef((t,e)=>{const n=uf(ko,t.__scopeMenu),r=x.useRef(null),i=Qe(e,r);return x.useEffect(()=>{const o=r.current;if(o)return U_(o)},[]),O.jsx(kj,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:se(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Unt=x.forwardRef((t,e)=>{const n=uf(ko,t.__scopeMenu);return O.jsx(kj,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Hnt=jc("MenuContent.ScrollLock"),kj=x.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:f,onDismiss:h,disableOutsideScroll:m,...p}=t,g=uf(ko,n),b=q0(ko,n),y=XC(n),w=wne(n),_=$nt(n),[S,C]=x.useState(null),k=x.useRef(null),E=Qe(e,k,g.onContentChange),T=x.useRef(0),M=x.useRef(""),D=x.useRef(0),N=x.useRef(null),L=x.useRef("right"),I=x.useRef(0),z=m?P0:x.Fragment,V=m?{as:Hnt,allowPinchZoom:!0}:void 0,j=$=>{var Q,ke;const H=M.current+$,Y=_().filter(Z=>!Z.disabled),F=document.activeElement,G=(Q=Y.find(Z=>Z.ref.current===F))==null?void 0:Q.textValue,ee=Y.map(Z=>Z.textValue),te=nrt(ee,H,G),me=(ke=Y.find(Z=>Z.textValue===te))==null?void 0:ke.ref.current;(function Z(le){M.current=le,window.clearTimeout(T.current),le!==""&&(T.current=window.setTimeout(()=>Z(""),1e3))})(H),me&&setTimeout(()=>me.focus())};x.useEffect(()=>()=>window.clearTimeout(T.current),[]),z_();const R=x.useCallback($=>{var Y,F;return L.current===((Y=N.current)==null?void 0:Y.side)&&irt($,(F=N.current)==null?void 0:F.area)},[]);return O.jsx(Vnt,{scope:n,searchRef:M,onItemEnter:x.useCallback($=>{R($)&&$.preventDefault()},[R]),onItemLeave:x.useCallback($=>{var H;R($)||((H=k.current)==null||H.focus(),C(null))},[R]),onTriggerLeave:x.useCallback($=>{R($)&&$.preventDefault()},[R]),pointerGraceTimerRef:D,onPointerGraceIntentChange:x.useCallback($=>{N.current=$},[]),children:O.jsx(z,{...V,children:O.jsx(k0,{asChild:!0,trapped:i,onMountAutoFocus:se(o,$=>{var H;$.preventDefault(),(H=k.current)==null||H.focus({preventScroll:!0})}),onUnmountAutoFocus:s,children:O.jsx(Zd,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:f,onDismiss:h,children:O.jsx(wj,{asChild:!0,...w,dir:b.dir,orientation:"vertical",loop:r,currentTabStopId:S,onCurrentTabStopIdChange:C,onEntryFocus:se(l,$=>{b.isUsingKeyboardRef.current||$.preventDefault()}),preventScrollOnEntryFocus:!0,children:O.jsx(i_,{role:"menu","aria-orientation":"vertical","data-state":Bne(g.open),"data-radix-menu-content":"",dir:b.dir,...y,...p,ref:E,style:{outline:"none",...p.style},onKeyDown:se(p.onKeyDown,$=>{const Y=$.target.closest("[data-radix-menu-content]")===$.currentTarget,F=$.ctrlKey||$.altKey||$.metaKey,G=$.key.length===1;Y&&($.key==="Tab"&&$.preventDefault(),!F&&G&&j($.key));const ee=k.current;if($.target!==ee||!Nnt.includes($.key))return;$.preventDefault();const me=_().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);yne.includes($.key)&&me.reverse(),ert(me)}),onBlur:se(t.onBlur,$=>{$.currentTarget.contains($.target)||(window.clearTimeout(T.current),M.current="")}),onPointerMove:se(t.onPointerMove,Zy($=>{const H=$.target,Y=I.current!==$.clientX;if($.currentTarget.contains(H)&&Y){const F=$.clientX>I.current?"right":"left";L.current=F,I.current=$.clientX}}))})})})})})})});Cne.displayName=ko;var Wnt="MenuGroup",Pj=x.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return O.jsx(pe.div,{role:"group",...r,ref:e})});Pj.displayName=Wnt;var qnt="MenuLabel",kne=x.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return O.jsx(pe.div,{...r,ref:e})});kne.displayName=qnt;var mS="MenuItem",KU="menu.itemSelect",ZC=x.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,o=x.useRef(null),s=q0(mS,t.__scopeMenu),a=Cj(mS,t.__scopeMenu),l=Qe(e,o),c=x.useRef(!1),u=()=>{const d=o.current;if(!n&&d){const f=new CustomEvent(KU,{bubbles:!0,cancelable:!0});d.addEventListener(KU,h=>r==null?void 0:r(h),{once:!0}),mD(d,f),f.defaultPrevented?c.current=!1:s.onClose()}};return O.jsx(Pne,{...i,ref:l,disabled:n,onClick:se(t.onClick,u),onPointerDown:d=>{var f;(f=t.onPointerDown)==null||f.call(t,d),c.current=!0},onPointerUp:se(t.onPointerUp,d=>{var f;c.current||(f=d.currentTarget)==null||f.click()}),onKeyDown:se(t.onKeyDown,d=>{const f=a.searchRef.current!=="";n||f&&d.key===" "||oN.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});ZC.displayName=mS;var Pne=x.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...o}=t,s=Cj(mS,n),a=wne(n),l=x.useRef(null),c=Qe(e,l),[u,d]=x.useState(!1),[f,h]=x.useState("");return x.useEffect(()=>{const m=l.current;m&&h((m.textContent??"").trim())},[o.children]),O.jsx(Xy.ItemSlot,{scope:n,disabled:r,textValue:i??f,children:O.jsx(xj,{asChild:!0,...a,focusable:!r,children:O.jsx(pe.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:c,onPointerMove:se(t.onPointerMove,Zy(m=>{r?s.onItemLeave(m):(s.onItemEnter(m),m.defaultPrevented||m.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:se(t.onPointerLeave,Zy(m=>s.onItemLeave(m))),onFocus:se(t.onFocus,()=>d(!0)),onBlur:se(t.onBlur,()=>d(!1))})})})}),Gnt="MenuCheckboxItem",Ene=x.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return O.jsx(Nne,{scope:t.__scopeMenu,checked:n,children:O.jsx(ZC,{role:"menuitemcheckbox","aria-checked":gS(n)?"mixed":n,...i,ref:e,"data-state":Oj(n),onSelect:se(i.onSelect,()=>r==null?void 0:r(gS(n)?!0:!n),{checkForDefaultPrevented:!1})})})});Ene.displayName=Gnt;var One="MenuRadioGroup",[Knt,Ynt]=cf(One,{value:void 0,onValueChange:()=>{}}),Tne=x.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,o=ln(r);return O.jsx(Knt,{scope:t.__scopeMenu,value:n,onValueChange:o,children:O.jsx(Pj,{...i,ref:e})})});Tne.displayName=One;var Ane="MenuRadioItem",Mne=x.forwardRef((t,e)=>{const{value:n,...r}=t,i=Ynt(Ane,t.__scopeMenu),o=n===i.value;return O.jsx(Nne,{scope:t.__scopeMenu,checked:o,children:O.jsx(ZC,{role:"menuitemradio","aria-checked":o,...r,ref:e,"data-state":Oj(o),onSelect:se(r.onSelect,()=>{var s;return(s=i.onValueChange)==null?void 0:s.call(i,n)},{checkForDefaultPrevented:!1})})})});Mne.displayName=Ane;var Ej="MenuItemIndicator",[Nne,Xnt]=cf(Ej,{checked:!1}),Dne=x.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,o=Xnt(Ej,n);return O.jsx(rr,{present:r||gS(o.checked)||o.checked===!0,children:O.jsx(pe.span,{...i,ref:e,"data-state":Oj(o.checked)})})});Dne.displayName=Ej;var Znt="MenuSeparator",Rne=x.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return O.jsx(pe.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});Rne.displayName=Znt;var Jnt="MenuArrow",$ne=x.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=XC(n);return O.jsx(o_,{...i,...r,ref:e})});$ne.displayName=Jnt;var Qnt="MenuSub",[Zot,Ine]=cf(Qnt),kg="MenuSubTrigger",jne=x.forwardRef((t,e)=>{const n=uf(kg,t.__scopeMenu),r=q0(kg,t.__scopeMenu),i=Ine(kg,t.__scopeMenu),o=Cj(kg,t.__scopeMenu),s=x.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=o,c={__scopeMenu:t.__scopeMenu},u=x.useCallback(()=>{s.current&&window.clearTimeout(s.current),s.current=null},[]);return x.useEffect(()=>u,[u]),x.useEffect(()=>{const d=a.current;return()=>{window.clearTimeout(d),l(null)}},[a,l]),O.jsx(Sj,{asChild:!0,...c,children:O.jsx(Pne,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":Bne(n.open),...t,ref:rl(e,i.onTriggerChange),onClick:d=>{var f;(f=t.onClick)==null||f.call(t,d),!(t.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:se(t.onPointerMove,Zy(d=>{o.onItemEnter(d),!d.defaultPrevented&&!t.disabled&&!n.open&&!s.current&&(o.onPointerGraceIntentChange(null),s.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:se(t.onPointerLeave,Zy(d=>{var h,m;u();const f=(h=n.content)==null?void 0:h.getBoundingClientRect();if(f){const p=(m=n.content)==null?void 0:m.dataset.side,g=p==="right",b=g?-5:5,y=f[g?"left":"right"],w=f[g?"right":"left"];o.onPointerGraceIntentChange({area:[{x:d.clientX+b,y:d.clientY},{x:y,y:f.top},{x:w,y:f.top},{x:w,y:f.bottom},{x:y,y:f.bottom}],side:p}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(d),d.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:se(t.onKeyDown,d=>{var h;const f=o.searchRef.current!=="";t.disabled||f&&d.key===" "||Dnt[r.dir].includes(d.key)&&(n.onOpenChange(!0),(h=n.content)==null||h.focus(),d.preventDefault())})})})});jne.displayName=kg;var Lne="MenuSubContent",Fne=x.forwardRef((t,e)=>{const n=Sne(ko,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,o=uf(ko,t.__scopeMenu),s=q0(ko,t.__scopeMenu),a=Ine(Lne,t.__scopeMenu),l=x.useRef(null),c=Qe(e,l);return O.jsx(Xy.Provider,{scope:t.__scopeMenu,children:O.jsx(rr,{present:r||o.open,children:O.jsx(Xy.Slot,{scope:t.__scopeMenu,children:O.jsx(kj,{id:a.contentId,"aria-labelledby":a.triggerId,...i,ref:c,align:"start",side:s.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var d;s.isUsingKeyboardRef.current&&((d=l.current)==null||d.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:se(t.onFocusOutside,u=>{u.target!==a.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:se(t.onEscapeKeyDown,u=>{s.onClose(),u.preventDefault()}),onKeyDown:se(t.onKeyDown,u=>{var h;const d=u.currentTarget.contains(u.target),f=Rnt[s.dir].includes(u.key);d&&f&&(o.onOpenChange(!1),(h=a.trigger)==null||h.focus(),u.preventDefault())})})})})})});Fne.displayName=Lne;function Bne(t){return t?"open":"closed"}function gS(t){return t==="indeterminate"}function Oj(t){return gS(t)?"indeterminate":t?"checked":"unchecked"}function ert(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function trt(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function nrt(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let s=trt(t,Math.max(o,0));i.length===1&&(s=s.filter(c=>c!==n));const l=s.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function rrt(t,e){const{x:n,y:r}=t;let i=!1;for(let o=0,s=e.length-1;o<e.length;s=o++){const a=e[o].x,l=e[o].y,c=e[s].x,u=e[s].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(i=!i)}return i}function irt(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return rrt(n,e)}function Zy(t){return e=>e.pointerType==="mouse"?t(e):void 0}var ort=xne,srt=Sj,art=_ne,lrt=Cne,crt=Pj,urt=kne,drt=ZC,frt=Ene,hrt=Tne,prt=Mne,mrt=Dne,grt=Rne,vrt=$ne,yrt=jne,brt=Fne,Tj="DropdownMenu",[wrt,Jot]=nr(Tj,[bne]),si=bne(),[xrt,Vne]=wrt(Tj),zne=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:o,onOpenChange:s,modal:a=!0}=t,l=si(e),c=x.useRef(null),[u=!1,d]=_i({prop:i,defaultProp:o,onChange:s});return O.jsx(xrt,{scope:e,triggerId:Zn(),triggerRef:c,contentId:Zn(),open:u,onOpenChange:d,onOpenToggle:x.useCallback(()=>d(f=>!f),[d]),modal:a,children:O.jsx(ort,{...l,open:u,onOpenChange:d,dir:r,modal:a,children:n})})};zne.displayName=Tj;var Une="DropdownMenuTrigger",Hne=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,o=Vne(Une,n),s=si(n);return O.jsx(srt,{asChild:!0,...s,children:O.jsx(pe.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:rl(e,o.triggerRef),onPointerDown:se(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(o.onOpenToggle(),o.open||a.preventDefault())}),onKeyDown:se(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&o.onOpenToggle(),a.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});Hne.displayName=Une;var Srt="DropdownMenuPortal",Wne=t=>{const{__scopeDropdownMenu:e,...n}=t,r=si(e);return O.jsx(art,{...r,...n})};Wne.displayName=Srt;var qne="DropdownMenuContent",Gne=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Vne(qne,n),o=si(n),s=x.useRef(!1);return O.jsx(lrt,{id:i.contentId,"aria-labelledby":i.triggerId,...o,...r,ref:e,onCloseAutoFocus:se(t.onCloseAutoFocus,a=>{var l;s.current||(l=i.triggerRef.current)==null||l.focus(),s.current=!1,a.preventDefault()}),onInteractOutside:se(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;(!i.modal||u)&&(s.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Gne.displayName=qne;var _rt="DropdownMenuGroup",Crt=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=si(n);return O.jsx(crt,{...i,...r,ref:e})});Crt.displayName=_rt;var krt="DropdownMenuLabel",Kne=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=si(n);return O.jsx(urt,{...i,...r,ref:e})});Kne.displayName=krt;var Prt="DropdownMenuItem",Yne=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=si(n);return O.jsx(drt,{...i,...r,ref:e})});Yne.displayName=Prt;var Ert="DropdownMenuCheckboxItem",Xne=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=si(n);return O.jsx(frt,{...i,...r,ref:e})});Xne.displayName=Ert;var Ort="DropdownMenuRadioGroup",Trt=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=si(n);return O.jsx(hrt,{...i,...r,ref:e})});Trt.displayName=Ort;var Art="DropdownMenuRadioItem",Zne=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=si(n);return O.jsx(prt,{...i,...r,ref:e})});Zne.displayName=Art;var Mrt="DropdownMenuItemIndicator",Jne=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=si(n);return O.jsx(mrt,{...i,...r,ref:e})});Jne.displayName=Mrt;var Nrt="DropdownMenuSeparator",Qne=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=si(n);return O.jsx(grt,{...i,...r,ref:e})});Qne.displayName=Nrt;var Drt="DropdownMenuArrow",Rrt=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=si(n);return O.jsx(vrt,{...i,...r,ref:e})});Rrt.displayName=Drt;var $rt="DropdownMenuSubTrigger",ere=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=si(n);return O.jsx(yrt,{...i,...r,ref:e})});ere.displayName=$rt;var Irt="DropdownMenuSubContent",tre=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=si(n);return O.jsx(brt,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});tre.displayName=Irt;var jrt=zne,Lrt=Hne,Frt=Wne,nre=Gne,rre=Kne,ire=Yne,ore=Xne,sre=Zne,are=Jne,lre=Qne,cre=ere,ure=tre;const Brt=jrt,Vrt=Lrt,zrt=x.forwardRef(({className:t,inset:e,children:n,...r},i)=>P(cre,{ref:i,className:q("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,v(Jd,{className:"ml-auto h-4 w-4"})]}));zrt.displayName=cre.displayName;const Urt=x.forwardRef(({className:t,...e},n)=>v(ure,{ref:n,className:q("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));Urt.displayName=ure.displayName;const dre=x.forwardRef(({className:t,sideOffset:e=4,...n},r)=>v(Frt,{children:v(nre,{ref:r,sideOffset:e,className:q("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));dre.displayName=nre.displayName;const Hrt=x.forwardRef(({className:t,inset:e,...n},r)=>v(ire,{ref:r,className:q("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));Hrt.displayName=ire.displayName;const fre=x.forwardRef(({className:t,children:e,checked:n,...r},i)=>P(ore,{ref:i,className:q("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[v("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:v(are,{children:v(ZS,{className:"h-4 w-4"})})}),e]}));fre.displayName=ore.displayName;const Wrt=x.forwardRef(({className:t,children:e,...n},r)=>P(sre,{ref:r,className:q("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[v("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:v(are,{children:v(Gle,{className:"h-2 w-2 fill-current"})})}),e]}));Wrt.displayName=sre.displayName;const qrt=x.forwardRef(({className:t,inset:e,...n},r)=>v(rre,{ref:r,className:q("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));qrt.displayName=rre.displayName;const Grt=x.forwardRef(({className:t,...e},n)=>v(lre,{ref:n,className:q("-mx-1 my-1 h-px bg-muted",t),...e}));Grt.displayName=lre.displayName;var Aj="Checkbox",[Krt,Qot]=nr(Aj),[Yrt,Xrt]=Krt(Aj),hre=x.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:o,required:s,disabled:a,value:l="on",onCheckedChange:c,form:u,...d}=t,[f,h]=x.useState(null),m=Qe(e,_=>h(_)),p=x.useRef(!1),g=f?u||!!f.closest("form"):!0,[b=!1,y]=_i({prop:i,defaultProp:o,onChange:c}),w=x.useRef(b);return x.useEffect(()=>{const _=f==null?void 0:f.form;if(_){const S=()=>y(w.current);return _.addEventListener("reset",S),()=>_.removeEventListener("reset",S)}},[f,y]),O.jsxs(Yrt,{scope:n,state:b,disabled:a,children:[O.jsx(pe.button,{type:"button",role:"checkbox","aria-checked":Rc(b)?"mixed":b,"aria-required":s,"data-state":gre(b),"data-disabled":a?"":void 0,disabled:a,value:l,...d,ref:m,onKeyDown:se(t.onKeyDown,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:se(t.onClick,_=>{y(S=>Rc(S)?!0:!S),g&&(p.current=_.isPropagationStopped(),p.current||_.stopPropagation())})}),g&&O.jsx(Zrt,{control:f,bubbles:!p.current,name:r,value:l,checked:b,required:s,disabled:a,form:u,style:{transform:"translateX(-100%)"},defaultChecked:Rc(o)?!1:o})]})});hre.displayName=Aj;var pre="CheckboxIndicator",mre=x.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,o=Xrt(pre,n);return O.jsx(rr,{present:r||Rc(o.state)||o.state===!0,children:O.jsx(pe.span,{"data-state":gre(o.state),"data-disabled":o.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});mre.displayName=pre;var Zrt=t=>{const{control:e,checked:n,bubbles:r=!0,defaultChecked:i,...o}=t,s=x.useRef(null),a=b$(n),l=RD(e);x.useEffect(()=>{const u=s.current,d=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(d,"checked").set;if(a!==n&&h){const m=new Event("click",{bubbles:r});u.indeterminate=Rc(n),h.call(u,Rc(n)?!1:n),u.dispatchEvent(m)}},[a,n,r]);const c=x.useRef(Rc(n)?!1:n);return O.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??c.current,...o,tabIndex:-1,ref:s,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Rc(t){return t==="indeterminate"}function gre(t){return Rc(t)?"indeterminate":t?"checked":"unchecked"}var vre=hre,Jrt=mre;const sN=x.forwardRef(({className:t,...e},n)=>v(vre,{ref:n,className:q("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:v(Jrt,{className:q("flex items-center justify-center text-current"),children:v(ZS,{className:"h-4 w-4"})})}));sN.displayName=vre.displayName;const Qrt=t=>{switch(t){case"high":return v(Ue,{className:"bg-risk-high text-white",children:"High"});case"medium":return v(Ue,{className:"bg-risk-medium text-white",children:"Medium"});case"low":return v(Ue,{className:"bg-risk-low text-white",children:"Low"});default:return v(Ue,{variant:"outline",children:"Unknown"})}},eit=t=>{switch(t){case"open":return v(Ue,{variant:"outline",className:"border-gray-200 text-gray-700",children:"Open"});case"mitigated":return v(Ue,{variant:"outline",className:"border-cyan-200 bg-cyan-50 text-cyan-700",children:"Mitigated"});case"closed":return v(Ue,{variant:"outline",className:"border-green-200 bg-green-50 text-green-700",children:"Closed"});default:return v(Ue,{variant:"outline",children:"Unknown"})}},AE=[{id:"select",header:({table:t})=>v(sN,{checked:t.getIsAllPageRowsSelected()?!0:t.getIsSomePageRowsSelected()?"indeterminate":!1,onCheckedChange:e=>t.toggleAllPageRowsSelected(!!e),"aria-label":"Select all",className:"translate-y-[2px]"}),cell:({row:t})=>v(sN,{checked:t.getIsSelected(),onCheckedChange:e=>t.toggleSelected(!!e),"aria-label":"Select row",className:"translate-y-[2px]"}),enableSorting:!1,enableHiding:!1,size:40},{id:"expander",header:()=>null,cell:({row:t})=>!!t.original.mitigation?v(Ce,{variant:"ghost",size:"icon",onClick:n=>{n.stopPropagation(),t.getToggleExpandedHandler()()},className:"h-6 w-6 p-0","aria-label":t.getIsExpanded()?"Collapse row":"Expand row",children:t.getIsExpanded()?v(wD,{className:"h-4 w-4"}):v(Jd,{className:"h-4 w-4"})}):null,enableHiding:!1,size:40},{accessorKey:"description",header:({column:t})=>P(Ce,{variant:"ghost",onClick:()=>t.toggleSorting(t.getIsSorted()==="asc"),className:"-ml-4",children:["Description",t.getIsSorted()==="asc"?v(Rk,{className:"ml-2 h-4 w-4"}):t.getIsSorted()==="desc"?v(Dk,{className:"ml-2 h-4 w-4"}):v(ph,{className:"ml-2 h-4 w-4"})]}),cell:({row:t})=>v("div",{className:"font-medium",children:t.getValue("description")})},{accessorKey:"impact",header:({column:t})=>P(Ce,{variant:"ghost",onClick:()=>t.toggleSorting(t.getIsSorted()==="asc"),className:"-ml-4",children:["Impact",t.getIsSorted()==="asc"?v(Rk,{className:"ml-2 h-4 w-4"}):t.getIsSorted()==="desc"?v(Dk,{className:"ml-2 h-4 w-4"}):v(ph,{className:"ml-2 h-4 w-4"})]}),cell:({row:t})=>Qrt(t.getValue("impact"))},{accessorKey:"status",header:({column:t})=>P(Ce,{variant:"ghost",onClick:()=>t.toggleSorting(t.getIsSorted()==="asc"),className:"-ml-4",children:["Status",t.getIsSorted()==="asc"?v(Rk,{className:"ml-2 h-4 w-4"}):t.getIsSorted()==="desc"?v(Dk,{className:"ml-2 h-4 w-4"}):v(ph,{className:"ml-2 h-4 w-4"})]}),cell:({row:t})=>eit(t.getValue("status"))},{accessorKey:"mitigation",header:"Mitigation Plan",cell:({row:t})=>{const e=t.getValue("mitigation"),n=e?e.substring(0,50)+(e.length>50?"...":""):"N/A";return v("div",{className:q("text-sm",e?"":"text-muted-foreground italic"),children:n})}}],tit=({risks:t})=>{var f,h;const[e,n]=x.useState([]),[r,i]=x.useState([]),[o,s]=x.useState({}),[a,l]=x.useState({}),[c,u]=x.useState({}),d=wnt({data:t,columns:AE,state:{sorting:e,columnFilters:r,expanded:c,columnVisibility:o,rowSelection:a},onSortingChange:n,onColumnFiltersChange:i,onExpandedChange:u,onColumnVisibilityChange:s,onRowSelectionChange:l,getCoreRowModel:cnt(),getSortedRowModel:gnt(),getFilteredRowModel:pnt(),getExpandedRowModel:unt(),enableRowSelection:!0,getPaginationRowModel:mnt(),getRowCanExpand:m=>!!m.original.mitigation});return P("div",{className:"space-y-4",children:[P("div",{className:"flex items-center justify-between",children:[v(un,{placeholder:"Filter by description...",value:((f=d.getColumn("description"))==null?void 0:f.getFilterValue())??"",onChange:m=>{var p;return(p=d.getColumn("description"))==null?void 0:p.setFilterValue(m.target.value)},className:"max-w-sm"}),P(Brt,{children:[v(Vrt,{asChild:!0,children:P(Ce,{variant:"outline",className:"ml-auto",children:[v(Xle,{className:"mr-2 h-4 w-4"})," Columns"]})}),v(dre,{align:"end",children:d.getAllColumns().filter(m=>m.getCanHide()).map(m=>v(fre,{className:"capitalize",checked:m.getIsVisible(),onCheckedChange:p=>m.toggleVisibility(!!p),children:m.id.replace(/([A-Z])/g," $1").replace(/^./,p=>p.toUpperCase())},m.id))})]})]}),v("div",{className:"border rounded-md",children:P(hj,{children:[v(pj,{children:d.getHeaderGroups().map(m=>v(mc,{children:m.headers.map(p=>v(rv,{style:{width:p.getSize()!==150?p.getSize():void 0},children:p.isPlaceholder?null:GU(p.column.columnDef.header,p.getContext())},p.id))},m.id))}),v(mj,{children:(h=d.getRowModel().rows)!=null&&h.length?d.getRowModel().rows.map(m=>P(A.Fragment,{children:[" ",v(mc,{"data-state":m.getIsSelected()&&"selected",children:m.getVisibleCells().map(p=>v($s,{children:GU(p.column.columnDef.cell,p.getContext())},p.id))}),m.getIsExpanded()&&P(mc,{className:"bg-muted/50 hover:bg-muted/60",children:[v($s,{}),v($s,{}),P($s,{colSpan:AE.length-2,children:[" ",P("div",{className:"p-2 text-sm",children:[v("p",{className:"font-medium mb-1",children:"Mitigation Plan:"}),v("p",{className:"whitespace-pre-wrap",children:m.original.mitigation||"No mitigation plan specified."})]})]})]},m.id+"-expanded")]},m.id)):v(mc,{children:v($s,{colSpan:AE.length,className:"h-24 text-center",children:"No results."})})})]})}),P("div",{className:"flex items-center justify-between space-x-2 py-1",children:[P("div",{className:"flex-1 text-sm text-muted-foreground px-1",children:[d.getFilteredSelectedRowModel().rows.length," of"," ",d.getFilteredRowModel().rows.length," row(s) selected.",d.getFilteredSelectedRowModel().rows.length>0&&v(Ce,{variant:"outline",size:"sm",className:"ml-4 h-8",children:"Bulk Action (Example)"})]}),P("div",{className:"flex items-center justify-end space-x-2",children:[v(Ce,{variant:"outline",size:"sm",onClick:()=>d.previousPage(),disabled:!d.getCanPreviousPage(),children:"Previous"}),P("span",{className:"text-sm text-muted-foreground",children:["Page ",d.getState().pagination.pageIndex+1," of"," ",d.getPageCount()]}),v(Ce,{variant:"outline",size:"sm",onClick:()=>d.nextPage(),disabled:!d.getCanNextPage(),children:"Next"})]})]})]})},ME="year",NE="month",DE="day",RE="hour",$E="minute",IE="second",YU="millisecond",we={parse_duration(t){const e=/([0-9]+)(y|m|d|h|min|s|ms)/gm.exec(t);if(e!==null){if(e[2]==="y")return{duration:parseInt(e[1]),scale:"year"};if(e[2]==="m")return{duration:parseInt(e[1]),scale:"month"};if(e[2]==="d")return{duration:parseInt(e[1]),scale:"day"};if(e[2]==="h")return{duration:parseInt(e[1]),scale:"hour"};if(e[2]==="min")return{duration:parseInt(e[1]),scale:"minute"};if(e[2]==="s")return{duration:parseInt(e[1]),scale:"second"};if(e[2]==="ms")return{duration:parseInt(e[1]),scale:"millisecond"}}},parse(t,e="-",n=/[.:]/){if(t instanceof Date)return t;if(typeof t=="string"){let r,i;const o=t.split(" ");r=o[0].split(e).map(a=>parseInt(a,10)),i=o[1]&&o[1].split(n),r[1]=r[1]?r[1]-1:0;let s=r;return i&&i.length&&(i.length===4&&(i[3]="0."+i[3],i[3]=parseFloat(i[3])*1e3),s=s.concat(i)),new Date(...s)}},to_string(t,e=!1){if(!(t instanceof Date))throw new TypeError("Invalid argument type");const n=this.get_date_values(t).map((o,s)=>(s===1&&(o=o+1),s===6?aw(o+"",3,"0"):aw(o+"",2,"0"))),r=`${n[0]}-${n[1]}-${n[2]}`,i=`${n[3]}:${n[4]}:${n[5]}.${n[6]}`;return r+(e?" "+i:"")},format(t,e="YYYY-MM-DD HH:mm:ss.SSS",n="en"){const r=new Intl.DateTimeFormat(n,{month:"long"}),i=new Intl.DateTimeFormat(n,{month:"short"}),o=r.format(t),s=o.charAt(0).toUpperCase()+o.slice(1),a=this.get_date_values(t).map(d=>aw(d,2,0)),l={YYYY:a[0],MM:aw(+a[1]+1,2,0),DD:a[2],HH:a[3],mm:a[4],ss:a[5],SSS:a[6],D:a[2],MMMM:s,MMM:i.format(t)};let c=e;const u=[];return Object.keys(l).sort((d,f)=>f.length-d.length).forEach(d=>{c.includes(d)&&(c=c.replaceAll(d,`$${u.length}`),u.push(l[d]))}),u.forEach((d,f)=>{c=c.replaceAll(`$${f}`,d)}),c},diff(t,e,n="day"){let r,i,o,s,a,l,c;r=t-e+(e.getTimezoneOffset()-t.getTimezoneOffset())*6e4,i=r/1e3,s=i/60,o=s/60,a=o/24;let u=t.getFullYear()-e.getFullYear(),d=t.getMonth()-e.getMonth();return d+=a%30/30,l=u*12+d,t.getDate()<e.getDate()&&l--,c=l/12,n.endsWith("s")||(n+="s"),Math.round({milliseconds:r,seconds:i,minutes:s,hours:o,days:a,months:l,years:c}[n]*100)/100},today(){const t=this.get_date_values(new Date).slice(0,3);return new Date(...t)},now(){return new Date},add(t,e,n){e=parseInt(e,10);const r=[t.getFullYear()+(n===ME?e:0),t.getMonth()+(n===NE?e:0),t.getDate()+(n===DE?e:0),t.getHours()+(n===RE?e:0),t.getMinutes()+(n===$E?e:0),t.getSeconds()+(n===IE?e:0),t.getMilliseconds()+(n===YU?e:0)];return new Date(...r)},start_of(t,e){const n={[ME]:6,[NE]:5,[DE]:4,[RE]:3,[$E]:2,[IE]:1,[YU]:0};function r(o){const s=n[e];return n[o]<=s}const i=[t.getFullYear(),r(ME)?0:t.getMonth(),r(NE)?1:t.getDate(),r(DE)?0:t.getHours(),r(RE)?0:t.getMinutes(),r($E)?0:t.getSeconds(),r(IE)?0:t.getMilliseconds()];return new Date(...i)},clone(t){return new Date(...this.get_date_values(t))},get_date_values(t){return[t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()]},convert_scales(t,e){const n={millisecond:11574074074074074e-24,second:11574074074074073e-21,minute:.0006944444444444445,hour:.041666666666666664,day:1,month:30,year:365},{duration:r,scale:i}=this.parse_duration(t);return r*n[i]/n[e]},get_days_in_month(t){const e=[31,28,31,30,31,30,31,31,30,31,30,31],n=t.getMonth();if(n!==1)return e[n];const r=t.getFullYear();return r%4===0&&r%100!=0||r%400===0?29:28},get_days_in_year(t){return t.getFullYear()%4?365:366}};function aw(t,e,n){return t=t+"",e=e>>0,n=String(typeof n<"u"?n:" "),t.length>e?String(t):(e=e-t.length,e>n.length&&(n+=n.repeat(e/n.length)),n.slice(0,e)+String(t))}function vt(t,e){return typeof t=="string"?(e||document).querySelector(t):t||null}function Ft(t,e){const n=document.createElementNS("http://www.w3.org/2000/svg",t);for(let r in e)r==="append_to"?e.append_to.appendChild(n):r==="innerHTML"?n.innerHTML=e.innerHTML:r==="clipPath"?n.setAttribute("clip-path","url(#"+e[r]+")"):n.setAttribute(r,e[r]);return n}function jE(t,e,n,r){const i=nit(t,e,n,r);if(i===t){const o=document.createEvent("HTMLEvents");o.initEvent("click",!0,!0),o.eventName="click",i.dispatchEvent(o)}}function nit(t,e,n,r,i="0.4s",o="0.1s"){const s=t.querySelector("animate");if(s)return vt.attr(s,{attributeName:e,from:n,to:r,dur:i,begin:"click + "+o}),t;const a=Ft("animate",{attributeName:e,from:n,to:r,dur:i,begin:o,calcMode:"spline",values:n+";"+r,keyTimes:"0; 1",keySplines:rit("ease-out")});return t.appendChild(a),t}function rit(t){return{ease:".25 .1 .25 1",linear:"0 0 1 1","ease-in":".42 0 1 1","ease-out":"0 0 .58 1","ease-in-out":".42 0 .58 1"}[t]}vt.on=(t,e,n,r)=>{r?vt.delegate(t,e,n,r):(r=n,vt.bind(t,e,r))};vt.off=(t,e,n)=>{t.removeEventListener(e,n)};vt.bind=(t,e,n)=>{e.split(/\s+/).forEach(function(r){t.addEventListener(r,n)})};vt.delegate=(t,e,n,r)=>{t.addEventListener(e,function(i){const o=i.target.closest(n);o&&(i.delegatedTarget=o,r.call(this,i,o))})};vt.closest=(t,e)=>e?e.matches(t)?e:vt.closest(t,e.parentNode):null;vt.attr=(t,e,n)=>{if(!n&&typeof e=="string")return t.getAttribute(e);if(typeof e=="object"){for(let r in e)vt.attr(t,r,e[r]);return}t.setAttribute(e,n)};class iit{constructor(e,n,r){this.gantt=e,this.from_task=n,this.to_task=r,this.calculate_path(),this.draw()}calculate_path(){let e=this.from_task.$bar.getX()+this.from_task.$bar.getWidth()/2;const n=()=>this.to_task.$bar.getX()<e+this.gantt.options.padding&&e>this.from_task.$bar.getX()+this.gantt.options.padding;for(;n();)e-=10;e-=10;let r=this.gantt.config.header_height+this.gantt.options.bar_height+(this.gantt.options.padding+this.gantt.options.bar_height)*this.from_task.task._index+this.gantt.options.padding/2,i=this.to_task.$bar.getX()-13,o=this.gantt.config.header_height+this.gantt.options.bar_height/2+(this.gantt.options.padding+this.gantt.options.bar_height)*this.to_task.task._index+this.gantt.options.padding/2;const s=this.from_task.task._index>this.to_task.task._index;let a=this.gantt.options.arrow_curve;const l=s?1:0;let c=s?-a:a;if(this.to_task.$bar.getX()<=this.from_task.$bar.getX()+this.gantt.options.padding){let u=this.gantt.options.padding/2-a;u<0&&(u=0,a=this.gantt.options.padding/2,c=s?-a:a);const d=this.to_task.$bar.getY()+this.to_task.$bar.getHeight()/2-c,f=this.to_task.$bar.getX()-this.gantt.options.padding;this.path=`
                M ${e} ${r}
                v ${u}
                a ${a} ${a} 0 0 1 ${-a} ${a}
                H ${f}
                a ${a} ${a} 0 0 ${l} ${-a} ${c}
                V ${d}
                a ${a} ${a} 0 0 ${l} ${a} ${c}
                L ${i} ${o}
                m -5 -5
                l 5 5
                l -5 5`}else{i<e+a&&(a=i-e);let u=s?o+a:o-a;this.path=`
              M ${e} ${r}
              V ${u}
              a ${a} ${a} 0 0 ${l} ${a} ${a}
              L ${i} ${o}
              m -5 -5
              l 5 5
              l -5 5`}}draw(){this.element=Ft("path",{d:this.path,"data-from":this.from_task.task.id,"data-to":this.to_task.task.id})}update(){this.calculate_path(),this.element.setAttribute("d",this.path)}}class oit{constructor(e,n){this.set_defaults(e,n),this.prepare_wrappers(),this.prepare_helpers(),this.refresh()}refresh(){this.bar_group.innerHTML="",this.handle_group.innerHTML="",this.task.custom_class?this.group.classList.add(this.task.custom_class):this.group.classList=["bar-wrapper"],this.prepare_values(),this.draw(),this.bind()}set_defaults(e,n){this.action_completed=!1,this.gantt=e,this.task=n,this.name=this.name||""}prepare_wrappers(){this.group=Ft("g",{class:"bar-wrapper"+(this.task.custom_class?" "+this.task.custom_class:""),"data-id":this.task.id}),this.bar_group=Ft("g",{class:"bar-group",append_to:this.group}),this.handle_group=Ft("g",{class:"handle-group",append_to:this.group})}prepare_values(){this.invalid=this.task.invalid,this.height=this.gantt.options.bar_height,this.image_size=this.height-5,this.task._start=new Date(this.task.start),this.task._end=new Date(this.task.end),this.compute_x(),this.compute_y(),this.compute_duration(),this.corner_radius=this.gantt.options.bar_corner_radius,this.width=this.gantt.config.column_width*this.duration,(!this.task.progress||this.task.progress<0)&&(this.task.progress=0),this.task.progress>100&&(this.task.progress=100)}prepare_helpers(){SVGElement.prototype.getX=function(){return+this.getAttribute("x")},SVGElement.prototype.getY=function(){return+this.getAttribute("y")},SVGElement.prototype.getWidth=function(){return+this.getAttribute("width")},SVGElement.prototype.getHeight=function(){return+this.getAttribute("height")},SVGElement.prototype.getEndX=function(){return this.getX()+this.getWidth()}}prepare_expected_progress_values(){this.compute_expected_progress(),this.expected_progress_width=this.gantt.options.column_width*this.duration*(this.expected_progress/100)||0}draw(){this.draw_bar(),this.draw_progress_bar(),this.gantt.options.show_expected_progress&&(this.prepare_expected_progress_values(),this.draw_expected_progress_bar()),this.draw_label(),this.draw_resize_handles(),this.task.thumbnail&&this.draw_thumbnail()}draw_bar(){this.$bar=Ft("rect",{x:this.x,y:this.y,width:this.width,height:this.height,rx:this.corner_radius,ry:this.corner_radius,class:"bar",append_to:this.bar_group}),this.task.color&&(this.$bar.style.fill=this.task.color),jE(this.$bar,"width",0,this.width),this.invalid&&this.$bar.classList.add("bar-invalid")}draw_expected_progress_bar(){this.invalid||(this.$expected_bar_progress=Ft("rect",{x:this.x,y:this.y,width:this.expected_progress_width,height:this.height,rx:this.corner_radius,ry:this.corner_radius,class:"bar-expected-progress",append_to:this.bar_group}),jE(this.$expected_bar_progress,"width",0,this.expected_progress_width))}draw_progress_bar(){if(this.invalid)return;this.progress_width=this.calculate_progress_width();let e=this.corner_radius;/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(e=this.corner_radius+2),this.$bar_progress=Ft("rect",{x:this.x,y:this.y,width:this.progress_width,height:this.height,rx:e,ry:e,class:"bar-progress",append_to:this.bar_group}),this.task.color_progress&&(this.$bar_progress.style.fill=this.task.color);const n=we.diff(this.task._start,this.gantt.gantt_start,this.gantt.config.unit)/this.gantt.config.step*this.gantt.config.column_width;let r=this.gantt.create_el({classes:`date-range-highlight hide highlight-${this.task.id}`,width:this.width,left:n});this.$date_highlight=r,this.gantt.$lower_header.prepend(this.$date_highlight),jE(this.$bar_progress,"width",0,this.progress_width)}calculate_progress_width(){const e=this.$bar.getWidth(),n=this.x+e,r=this.gantt.config.ignored_positions.reduce((l,c)=>l+(c>=this.x&&c<n),0)*this.gantt.config.column_width;let i=(e-r)*this.task.progress/100;const o=this.x+i,s=this.gantt.config.ignored_positions.reduce((l,c)=>l+(c>=this.x&&c<o),0)*this.gantt.config.column_width;i+=s;let a=this.gantt.get_ignored_region(this.x+i);for(;a.length;)i+=this.gantt.config.column_width,a=this.gantt.get_ignored_region(this.x+i);return this.progress_width=i,i}draw_label(){let e=this.x+this.$bar.getWidth()/2;this.task.thumbnail&&(e=this.x+this.image_size+5),Ft("text",{x:e,y:this.y+this.height/2,innerHTML:this.task.name,class:"bar-label",append_to:this.bar_group}),requestAnimationFrame(()=>this.update_label_position())}draw_thumbnail(){let e=10,n=2,r,i;r=Ft("defs",{append_to:this.bar_group}),Ft("rect",{id:"rect_"+this.task.id,x:this.x+e,y:this.y+n,width:this.image_size,height:this.image_size,rx:"15",class:"img_mask",append_to:r}),i=Ft("clipPath",{id:"clip_"+this.task.id,append_to:r}),Ft("use",{href:"#rect_"+this.task.id,append_to:i}),Ft("image",{x:this.x+e,y:this.y+n,width:this.image_size,height:this.image_size,class:"bar-img",href:this.task.thumbnail,clipPath:"clip_"+this.task.id,append_to:this.bar_group})}draw_resize_handles(){if(this.invalid||this.gantt.options.readonly)return;const e=this.$bar,n=3;if(this.handles=[],this.gantt.options.readonly_dates||(this.handles.push(Ft("rect",{x:e.getEndX()-n/2,y:e.getY()+this.height/4,width:n,height:this.height/2,rx:2,ry:2,class:"handle right",append_to:this.handle_group})),this.handles.push(Ft("rect",{x:e.getX()-n/2,y:e.getY()+this.height/4,width:n,height:this.height/2,rx:2,ry:2,class:"handle left",append_to:this.handle_group}))),!this.gantt.options.readonly_progress){const r=this.$bar_progress;this.$handle_progress=Ft("circle",{cx:r.getEndX(),cy:r.getY()+r.getHeight()/2,r:4.5,class:"handle progress",append_to:this.handle_group}),this.handles.push(this.$handle_progress)}for(let r of this.handles)vt.on(r,"mouseenter",()=>r.classList.add("active")),vt.on(r,"mouseleave",()=>r.classList.remove("active"))}bind(){this.invalid||this.setup_click_event()}setup_click_event(){let e=this.task.id;vt.on(this.group,"mouseover",r=>{this.gantt.trigger_event("hover",[this.task,r.screenX,r.screenY,r])}),this.gantt.options.popup_on==="click"&&vt.on(this.group,"mouseup",r=>{const i=r.offsetX||r.layerX;if(this.$handle_progress){const o=+this.$handle_progress.getAttribute("cx");if(o>i-1&&o<i+1||this.gantt.bar_being_dragged)return}this.gantt.show_popup({x:r.offsetX||r.layerX,y:r.offsetY||r.layerY,task:this.task,target:this.$bar})});let n;vt.on(this.group,"mouseenter",r=>{n=setTimeout(()=>{this.gantt.options.popup_on==="hover"&&this.gantt.show_popup({x:r.offsetX||r.layerX,y:r.offsetY||r.layerY,task:this.task,target:this.$bar}),this.gantt.$container.querySelector(`.highlight-${e}`).classList.remove("hide")},200)}),vt.on(this.group,"mouseleave",()=>{var r,i;clearTimeout(n),this.gantt.options.popup_on==="hover"&&((i=(r=this.gantt.popup)==null?void 0:r.hide)==null||i.call(r)),this.gantt.$container.querySelector(`.highlight-${e}`).classList.add("hide")}),vt.on(this.group,"click",()=>{this.gantt.trigger_event("click",[this.task])}),vt.on(this.group,"dblclick",r=>{this.action_completed||(this.group.classList.remove("active"),this.gantt.popup&&this.gantt.popup.parent.classList.remove("hide"),this.gantt.trigger_event("double_click",[this.task]))})}update_bar_position({x:e=null,width:n=null}){const r=this.$bar;if(e){if(!this.task.dependencies.map(i=>this.gantt.get_bar(i).$bar.getX()).reduce((i,o)=>e>=o,e))return;this.update_attr(r,"x",e),this.x=e,this.$date_highlight.style.left=e+"px"}n>0&&(this.update_attr(r,"width",n),this.$date_highlight.style.width=n+"px"),this.update_label_position(),this.update_handle_position(),this.date_changed(),this.compute_duration(),this.gantt.options.show_expected_progress&&this.update_expected_progressbar_position(),this.update_progressbar_position(),this.update_arrow_position()}update_label_position_on_horizontal_scroll({x:e,sx:n}){const r=this.gantt.$container.querySelector(".gantt-container"),i=this.group.querySelector(".bar-label"),o=this.group.querySelector(".bar-img")||"",s=this.bar_group.querySelector(".img_mask")||"";let a=this.$bar.getX()+this.$bar.getWidth(),l=i.getX()+e,c=o&&o.getX()+e||0,u=o&&o.getBBox().width+7||7,d=l+i.getBBox().width+7,f=n+r.clientWidth/2;i.classList.contains("big")||(d<a&&e>0&&d<f||l-u>this.$bar.getX()&&e<0&&d>f)&&(i.setAttribute("x",l),o&&(o.setAttribute("x",c),s.setAttribute("x",c)))}date_changed(){let e=!1;const{new_start_date:n,new_end_date:r}=this.compute_start_end_date();Number(this.task._start)!==Number(n)&&(e=!0,this.task._start=n),Number(this.task._end)!==Number(r)&&(e=!0,this.task._end=r),e&&this.gantt.trigger_event("date_change",[this.task,n,we.add(r,-1,"second")])}progress_changed(){this.task.progress=this.compute_progress(),this.gantt.trigger_event("progress_change",[this.task,this.task.progress])}set_action_completed(){this.action_completed=!0,setTimeout(()=>this.action_completed=!1,1e3)}compute_start_end_date(){const e=this.$bar,n=e.getX()/this.gantt.config.column_width;let r=we.add(this.gantt.gantt_start,n*this.gantt.config.step,this.gantt.config.unit);const i=e.getWidth()/this.gantt.config.column_width,o=we.add(r,i*this.gantt.config.step,this.gantt.config.unit);return{new_start_date:r,new_end_date:o}}compute_progress(){this.progress_width=this.$bar_progress.getWidth(),this.x=this.$bar_progress.getBBox().x;const e=this.x+this.progress_width,n=this.progress_width-this.gantt.config.ignored_positions.reduce((i,o)=>i+(o>=this.x&&o<=e),0)*this.gantt.config.column_width;if(n<0)return 0;const r=this.$bar.getWidth()-this.ignored_duration_raw*this.gantt.config.column_width;return parseInt(n/r*100,10)}compute_expected_progress(){this.expected_progress=we.diff(we.today(),this.task._start,"hour")/this.gantt.config.step,this.expected_progress=(this.expected_progress<this.duration?this.expected_progress:this.duration)*100/this.duration}compute_x(){const{column_width:e}=this.gantt.config,n=this.task._start,r=this.gantt.gantt_start;let i=we.diff(n,r,this.gantt.config.unit)/this.gantt.config.step*e;this.x=i}compute_y(){this.y=this.gantt.config.header_height+this.gantt.options.padding/2+this.task._index*(this.height+this.gantt.options.padding)}compute_duration(){let e=0,n=0;for(let r=new Date(this.task._start);r<this.task._end;r.setDate(r.getDate()+1))n++,!this.gantt.config.ignored_dates.find(i=>i.getTime()===r.getTime())&&(!this.gantt.config.ignored_function||!this.gantt.config.ignored_function(r))&&e++;this.task.actual_duration=e,this.task.ignored_duration=n-e,this.duration=we.convert_scales(n+"d",this.gantt.config.unit)/this.gantt.config.step,this.actual_duration_raw=we.convert_scales(e+"d",this.gantt.config.unit)/this.gantt.config.step,this.ignored_duration_raw=this.duration-this.actual_duration_raw}update_attr(e,n,r){return r=+r,isNaN(r)||e.setAttribute(n,r),e}update_expected_progressbar_position(){this.invalid||(this.$expected_bar_progress.setAttribute("x",this.$bar.getX()),this.compute_expected_progress(),this.$expected_bar_progress.setAttribute("width",this.gantt.config.column_width*this.actual_duration_raw*(this.expected_progress/100)||0))}update_progressbar_position(){this.invalid||this.gantt.options.readonly||(this.$bar_progress.setAttribute("x",this.$bar.getX()),this.$bar_progress.setAttribute("width",this.calculate_progress_width()))}update_label_position(){const e=this.bar_group.querySelector(".img_mask")||"",n=this.$bar,r=this.group.querySelector(".bar-label"),i=this.group.querySelector(".bar-img");let o=5,s=this.image_size+10;const a=r.getBBox().width,l=n.getWidth();a>l?(r.classList.add("big"),i?(i.setAttribute("x",n.getEndX()+o),e.setAttribute("x",n.getEndX()+o),r.setAttribute("x",n.getEndX()+s)):r.setAttribute("x",n.getEndX()+o)):(r.classList.remove("big"),i?(i.setAttribute("x",n.getX()+o),e.setAttribute("x",n.getX()+o),r.setAttribute("x",n.getX()+l/2+s)):r.setAttribute("x",n.getX()+l/2-a/2))}update_handle_position(){if(this.invalid||this.gantt.options.readonly)return;const e=this.$bar;this.handle_group.querySelector(".handle.left").setAttribute("x",e.getX()),this.handle_group.querySelector(".handle.right").setAttribute("x",e.getEndX());const n=this.group.querySelector(".handle.progress");n&&n.setAttribute("cx",this.$bar_progress.getEndX())}update_arrow_position(){this.arrows=this.arrows||[];for(let e of this.arrows)e.update()}}class sit{constructor(e,n,r){this.parent=e,this.popup_func=n,this.gantt=r,this.make()}make(){this.parent.innerHTML=`
            <div class="title"></div>
            <div class="subtitle"></div>
            <div class="details"></div>
            <div class="actions"></div>
        `,this.hide(),this.title=this.parent.querySelector(".title"),this.subtitle=this.parent.querySelector(".subtitle"),this.details=this.parent.querySelector(".details"),this.actions=this.parent.querySelector(".actions")}show({x:e,y:n,task:r,target:i}){this.actions.innerHTML="";let o=this.popup_func({task:r,chart:this.gantt,get_title:()=>this.title,set_title:s=>this.title.innerHTML=s,get_subtitle:()=>this.subtitle,set_subtitle:s=>this.subtitle.innerHTML=s,get_details:()=>this.details,set_details:s=>this.details.innerHTML=s,add_action:(s,a)=>{let l=this.gantt.create_el({classes:"action-btn",type:"button",append_to:this.actions});typeof s=="function"&&(s=s(r)),l.innerHTML=s,l.onclick=c=>a(r,this.gantt,c)}});o!==!1&&(o&&(this.parent.innerHTML=o),this.actions.innerHTML===""?this.actions.remove():this.parent.appendChild(this.actions),this.parent.style.left=e+10+"px",this.parent.style.top=n-10+"px",this.parent.classList.remove("hide"))}hide(){this.parent.classList.add("hide")}}function LE(t){const e=t.getFullYear();return e-e%10+""}function ait(t,e,n){let r=we.add(t,6,"day"),i=r.getMonth()!==t.getMonth()?"D MMM":"D",o=!e||t.getMonth()!==e.getMonth()?"D MMM":"D";return`${we.format(t,o,n)} - ${we.format(r,i,n)}`}const Bl=[{name:"Hour",padding:"7d",step:"1h",date_format:"YYYY-MM-DD HH:",lower_text:"HH",upper_text:(t,e,n)=>!e||t.getDate()!==e.getDate()?we.format(t,"D MMMM",n):"",upper_text_frequency:24},{name:"Quarter Day",padding:"7d",step:"6h",date_format:"YYYY-MM-DD HH:",lower_text:"HH",upper_text:(t,e,n)=>!e||t.getDate()!==e.getDate()?we.format(t,"D MMM",n):"",upper_text_frequency:4},{name:"Half Day",padding:"14d",step:"12h",date_format:"YYYY-MM-DD HH:",lower_text:"HH",upper_text:(t,e,n)=>!e||t.getDate()!==e.getDate()?t.getMonth()!==t.getMonth()?we.format(t,"D MMM",n):we.format(t,"D",n):"",upper_text_frequency:2},{name:"Day",padding:"7d",date_format:"YYYY-MM-DD",step:"1d",lower_text:(t,e,n)=>!e||t.getDate()!==e.getDate()?we.format(t,"D",n):"",upper_text:(t,e,n)=>!e||t.getMonth()!==e.getMonth()?we.format(t,"MMMM",n):"",thick_line:t=>t.getDay()===1},{name:"Week",padding:"1m",step:"7d",date_format:"YYYY-MM-DD",column_width:140,lower_text:ait,upper_text:(t,e,n)=>!e||t.getMonth()!==e.getMonth()?we.format(t,"MMMM",n):"",thick_line:t=>t.getDate()>=1&&t.getDate()<=7,upper_text_frequency:4},{name:"Month",padding:"2m",step:"1m",column_width:120,date_format:"YYYY-MM",lower_text:"MMMM",upper_text:(t,e,n)=>!e||t.getFullYear()!==e.getFullYear()?we.format(t,"YYYY",n):"",thick_line:t=>t.getMonth()%3===0,snap_at:"7d"},{name:"Year",padding:"2y",step:"1y",column_width:120,date_format:"YYYY",upper_text:(t,e,n)=>!e||LE(t)!==LE(e)?LE(t):"",lower_text:"YYYY",snap_at:"30d"}],lit={arrow_curve:5,auto_move_label:!1,bar_corner_radius:3,bar_height:30,container_height:"auto",column_width:null,date_format:"YYYY-MM-DD HH:mm",upper_header_height:45,lower_header_height:30,snap_at:null,infinite_padding:!0,holidays:{"var(--g-weekend-highlight-color)":"weekend"},ignore:[],language:"en",lines:"both",move_dependencies:!0,padding:18,popup:t=>{t.set_title(t.task.name),t.task.description?t.set_subtitle(t.task.description):t.set_subtitle("");const e=we.format(t.task._start,"MMM D",t.chart.options.language),n=we.format(we.add(t.task._end,-1,"second"),"MMM D",t.chart.options.language);t.set_details(`${e} - ${n} (${t.task.actual_duration} days${t.task.ignored_duration?" + "+t.task.ignored_duration+" excluded":""})<br/>Progress: ${Math.floor(t.task.progress*100)/100}%`)},popup_on:"click",readonly_progress:!1,readonly_dates:!1,readonly:!1,scroll_to:"today",show_expected_progress:!1,today_button:!0,view_mode:"Day",view_mode_select:!1,view_modes:Bl};let yre=class{constructor(e,n,r){this.setup_wrapper(e),this.setup_options(r),this.setup_tasks(n),this.change_view_mode(),this.bind_events()}setup_wrapper(e){let n,r;if(typeof e=="string"){let i=document.querySelector(e);if(!i)throw new ReferenceError(`CSS selector "${e}" could not be found in DOM`);e=i}if(e instanceof HTMLElement)r=e,n=e.querySelector("svg");else if(e instanceof SVGElement)n=e;else throw new TypeError("Frappe Gantt only supports usage of a string CSS selector, HTML DOM element or SVG DOM element for the 'element' parameter");n?(this.$svg=n,this.$svg.classList.add("gantt")):this.$svg=Ft("svg",{append_to:r,class:"gantt"}),this.$container=this.create_el({classes:"gantt-container",append_to:this.$svg.parentElement}),this.$container.appendChild(this.$svg),this.$popup_wrapper=this.create_el({classes:"popup-wrapper",append_to:this.$container})}setup_options(e){this.original_options=e,this.options={...lit,...e};const n={"grid-height":"container_height","bar-height":"bar_height","lower-header-height":"lower_header_height","upper-header-height":"upper_header_height"};for(let r in n){let i=this.options[n[r]];i!=="auto"&&this.$container.style.setProperty("--gv-"+r,i+"px")}if(this.config={ignored_dates:[],ignored_positions:[],extend_by_units:10},typeof this.options.ignore!="function"){typeof this.options.ignore=="string"&&(this.options.ignore=[this.options.ignord]);for(let r of this.options.ignore){if(typeof r=="function"){this.config.ignored_function=r;continue}typeof r=="string"&&(r==="weekend"?this.config.ignored_function=i=>i.getDay()==6||i.getDay()==0:this.config.ignored_dates.push(new Date(r+" ")))}}else this.config.ignored_function=this.options.ignore}update_options(e){this.setup_options({...this.original_options,...e}),this.change_view_mode(void 0,!0)}setup_tasks(e){this.tasks=e.map((n,r)=>{if(!n.start)return console.error(`task "${n.id}" doesn't have a start date`),!1;if(n._start=we.parse(n.start),n.end===void 0&&n.duration!==void 0&&(n.end=n._start,n.duration.split(" ").forEach(i=>{let{duration:o,scale:s}=we.parse_duration(i);n.end=we.add(n.end,o,s)})),!n.end)return console.error(`task "${n.id}" doesn't have an end date`),!1;if(n._end=we.parse(n.end),we.diff(n._end,n._start,"year")<0)return console.error(`start of task can't be after end of task: in task "${n.id}"`),!1;if(we.diff(n._end,n._start,"year")>10)return console.error(`the duration of task "${n.id}" is too long (above ten years)`),!1;if(n._index=r,we.get_date_values(n._end).slice(3).every(i=>i===0)&&(n._end=we.add(n._end,24,"hour")),typeof n.dependencies=="string"||!n.dependencies){let i=[];n.dependencies&&(i=n.dependencies.split(",").map(o=>o.trim().replaceAll(" ","_")).filter(o=>o)),n.dependencies=i}return n.id?typeof n.id=="string"?n.id=n.id.replaceAll(" ","_"):n.id=`${n.id}`:n.id=cit(n),n}).filter(n=>n),this.setup_dependencies()}setup_dependencies(){this.dependency_map={};for(let e of this.tasks)for(let n of e.dependencies)this.dependency_map[n]=this.dependency_map[n]||[],this.dependency_map[n].push(e.id)}refresh(e){this.setup_tasks(e),this.change_view_mode()}update_task(e,n){let r=this.tasks.find(o=>o.id===e),i=this.bars[r._index];Object.assign(r,n),i.refresh()}change_view_mode(e=this.options.view_mode,n=!1){typeof e=="string"&&(e=this.options.view_modes.find(o=>o.name===e));let r,i;n&&(r=this.$container.scrollLeft,i=this.options.scroll_to,this.options.scroll_to=null),this.options.view_mode=e.name,this.config.view_mode=e,this.update_view_scale(e),this.setup_dates(n),this.render(),n&&(this.$container.scrollLeft=r,this.options.scroll_to=i),this.trigger_event("view_change",[e])}update_view_scale(e){let{duration:n,scale:r}=we.parse_duration(e.step);this.config.step=n,this.config.unit=r,this.config.column_width=this.options.column_width||e.column_width||45,this.$container.style.setProperty("--gv-column-width",this.config.column_width+"px"),this.config.header_height=this.options.lower_header_height+this.options.upper_header_height+10}setup_dates(e=!1){this.setup_gantt_dates(e),this.setup_date_values()}setup_gantt_dates(e){let n,r;this.tasks.length||(n=new Date,r=new Date);for(let i of this.tasks)(!n||i._start<n)&&(n=i._start),(!r||i._end>r)&&(r=i._end);if(n=we.start_of(n,this.config.unit),r=we.start_of(r,this.config.unit),!e)if(this.options.infinite_padding)this.gantt_start=we.add(n,-this.config.extend_by_units*3,this.config.unit),this.gantt_end=we.add(r,this.config.extend_by_units*3,this.config.unit);else{typeof this.config.view_mode.padding=="string"&&(this.config.view_mode.padding=[this.config.view_mode.padding,this.config.view_mode.padding]);let[i,o]=this.config.view_mode.padding.map(we.parse_duration);this.gantt_start=we.add(n,-i.duration,i.scale),this.gantt_end=we.add(r,o.duration,o.scale)}this.config.date_format=this.config.view_mode.date_format||this.options.date_format,this.gantt_start.setHours(0,0,0,0)}setup_date_values(){let e=this.gantt_start;for(this.dates=[e];e<this.gantt_end;)e=we.add(e,this.config.step,this.config.unit),this.dates.push(e)}bind_events(){this.bind_grid_click(),this.bind_holiday_labels(),this.bind_bar_events()}render(){this.clear(),this.setup_layers(),this.make_grid(),this.make_dates(),this.make_grid_extras(),this.make_bars(),this.make_arrows(),this.map_arrows_on_bars(),this.set_dimensions(),this.set_scroll_position(this.options.scroll_to)}setup_layers(){this.layers={};const e=["grid","arrow","progress","bar"];for(let n of e)this.layers[n]=Ft("g",{class:n,append_to:this.$svg});this.$extras=this.create_el({classes:"extras",append_to:this.$container}),this.$adjust=this.create_el({classes:"adjust hide",append_to:this.$extras,type:"button"}),this.$adjust.innerHTML="&larr;"}make_grid(){this.make_grid_background(),this.make_grid_rows(),this.make_grid_header(),this.make_side_header()}make_grid_extras(){this.make_grid_highlights(),this.make_grid_ticks()}make_grid_background(){const e=this.dates.length*this.config.column_width,n=Math.max(this.config.header_height+this.options.padding+(this.options.bar_height+this.options.padding)*this.tasks.length-10,this.options.container_height!=="auto"?this.options.container_height:0);Ft("rect",{x:0,y:0,width:e,height:n,class:"grid-background",append_to:this.$svg}),vt.attr(this.$svg,{height:n,width:"100%"}),this.grid_height=n,this.options.container_height==="auto"&&(this.$container.style.height=n+"px")}make_grid_rows(){const e=Ft("g",{append_to:this.layers.grid}),n=this.dates.length*this.config.column_width,r=this.options.bar_height+this.options.padding;this.config.header_height;for(let i=this.config.header_height;i<this.grid_height;i+=r)Ft("rect",{x:0,y:i,width:n,height:r,class:"grid-row",append_to:e})}make_grid_header(){this.$header=this.create_el({width:this.dates.length*this.config.column_width,classes:"grid-header",append_to:this.$container}),this.$upper_header=this.create_el({classes:"upper-header",append_to:this.$header}),this.$lower_header=this.create_el({classes:"lower-header",append_to:this.$header})}make_side_header(){if(this.$side_header=this.create_el({classes:"side-header"}),this.$upper_header.prepend(this.$side_header),this.options.view_mode_select){const e=document.createElement("select");e.classList.add("viewmode-select");const n=document.createElement("option");n.selected=!0,n.disabled=!0,n.textContent="Mode",e.appendChild(n);for(const r of this.options.view_modes){const i=document.createElement("option");i.value=r.name,i.textContent=r.name,r.name===this.config.view_mode.name&&(i.selected=!0),e.appendChild(i)}e.addEventListener("change",(function(){this.change_view_mode(e.value,!0)}).bind(this)),this.$side_header.appendChild(e)}if(this.options.today_button){let e=document.createElement("button");e.classList.add("today-button"),e.textContent="Today",e.onclick=this.scroll_current.bind(this),this.$side_header.prepend(e),this.$today_button=e}}make_grid_ticks(){if(this.options.lines==="none")return;let e=0,n=this.config.header_height,r=this.grid_height-this.config.header_height,i=Ft("g",{class:"lines_layer",append_to:this.layers.grid}),o=this.config.header_height;const s=this.dates.length*this.config.column_width,a=this.options.bar_height+this.options.padding;if(this.options.lines!=="vertical")for(let l=this.config.header_height;l<this.grid_height;l+=a)Ft("line",{x1:0,y1:o+a,x2:s,y2:o+a,class:"row-line",append_to:i}),o+=a;if(this.options.lines!=="horizontal")for(let l of this.dates){let c="tick";this.config.view_mode.thick_line&&this.config.view_mode.thick_line(l)&&(c+=" thick"),Ft("path",{d:`M ${e} ${n} v ${r}`,class:c,append_to:this.layers.grid}),this.view_is("month")?e+=we.get_days_in_month(l)*this.config.column_width/30:this.view_is("year")?e+=we.get_days_in_year(l)*this.config.column_width/365:e+=this.config.column_width}}highlight_holidays(){let e={};if(this.options.holidays)for(let n in this.options.holidays){let r=this.options.holidays[n];r==="weekend"&&(r=o=>o.getDay()===0||o.getDay()===6);let i;if(typeof r=="object"){let o=r.find(s=>typeof s=="function");if(o&&(i=o),this.options.holidays.name){let s=new Date(r.date+" ");r=a=>s.getTime()===a.getTime(),e[s]=r.name}else r=s=>this.options.holidays[n].filter(a=>typeof a!="function").map(a=>{if(a.name){let l=new Date(a.date+" ");return e[l]=a.name,l.getTime()}return new Date(a+" ").getTime()}).includes(s.getTime())}for(let o=new Date(this.gantt_start);o<=this.gantt_end;o.setDate(o.getDate()+1))if(!(this.config.ignored_dates.find(s=>s.getTime()==o.getTime())||this.config.ignored_function&&this.config.ignored_function(o))&&(r(o)||i&&i(o))){const s=we.diff(o,this.gantt_start,this.config.unit)/this.config.step*this.config.column_width,a=this.grid_height-this.config.header_height,l=we.format(o,"YYYY-MM-DD",this.options.language).replace(" ","_");if(e[o]){let c=this.create_el({classes:"holiday-label label_"+l,append_to:this.$extras});c.textContent=e[o]}Ft("rect",{x:Math.round(s),y:this.config.header_height,width:this.config.column_width/we.convert_scales(this.config.view_mode.step,"day"),height:a,class:"holiday-highlight "+l,style:`fill: ${n};`,append_to:this.layers.grid})}}}highlight_current(){const e=this.get_closest_date();if(!e)return;const[n,r]=e;r.classList.add("current-date-highlight");const i=we.diff(new Date,this.gantt_start,this.config.unit)/this.config.step*this.config.column_width;this.$current_highlight=this.create_el({top:this.config.header_height,left:i,height:this.grid_height-this.config.header_height,classes:"current-highlight",append_to:this.$container}),this.$current_ball_highlight=this.create_el({top:this.config.header_height-6,left:i-2.5,width:6,height:6,classes:"current-ball-highlight",append_to:this.$header})}make_grid_highlights(){this.highlight_holidays(),this.config.ignored_positions=[];const e=(this.options.bar_height+this.options.padding)*this.tasks.length;this.layers.grid.innerHTML+=`<pattern id="diagonalHatch" patternUnits="userSpaceOnUse" width="4" height="4">
          <path d="M-1,1 l2,-2
                   M0,4 l4,-4
                   M3,5 l2,-2"
                style="stroke:grey; stroke-width:0.3" />
        </pattern>`;for(let n=new Date(this.gantt_start);n<=this.gantt_end;n.setDate(n.getDate()+1)){if(!this.config.ignored_dates.find(i=>i.getTime()==n.getTime())&&(!this.config.ignored_function||!this.config.ignored_function(n)))continue;let r=we.convert_scales(we.diff(n,this.gantt_start)+"d",this.config.unit)/this.config.step;this.config.ignored_positions.push(r*this.config.column_width),Ft("rect",{x:r*this.config.column_width,y:this.config.header_height,width:this.config.column_width,height:e,class:"ignored-bar",style:"fill: url(#diagonalHatch);",append_to:this.$svg})}this.highlight_current(this.config.view_mode)}create_el({left:e,top:n,width:r,height:i,id:o,classes:s,append_to:a,type:l}){let c=document.createElement(l||"div");for(let u of s.split(" "))c.classList.add(u);return c.style.top=n+"px",c.style.left=e+"px",o&&(c.id=o),r&&(c.style.width=r+"px"),i&&(c.style.height=i+"px"),a&&a.appendChild(c),c}make_dates(){this.get_dates_to_draw().forEach((e,n)=>{if(e.lower_text){let r=this.create_el({left:e.x,top:e.lower_y,classes:"lower-text date_"+lw(e.formatted_date),append_to:this.$lower_header});r.innerText=e.lower_text}if(e.upper_text){let r=this.create_el({left:e.x,top:e.upper_y,classes:"upper-text",append_to:this.$upper_header});r.innerText=e.upper_text}}),this.upperTexts=Array.from(this.$container.querySelectorAll(".upper-text"))}get_dates_to_draw(){let e=null;return this.dates.map((n,r)=>{const i=this.get_date_info(n,e,r);return e=i,i})}get_date_info(e,n){let r=n?n.date:null;this.config.column_width;const i=n?n.x+n.column_width:0;let o=this.config.view_mode.upper_text,s=this.config.view_mode.lower_text;return o?typeof o=="string"&&(this.config.view_mode.upper_text=a=>we.format(a,o,this.options.language)):this.config.view_mode.upper_text=()=>"",s?typeof s=="string"&&(this.config.view_mode.lower_text=a=>we.format(a,s,this.options.language)):this.config.view_mode.lower_text=()=>"",{date:e,formatted_date:lw(we.format(e,this.config.date_format,this.options.language)),column_width:this.config.column_width,x:i,upper_text:this.config.view_mode.upper_text(e,r,this.options.language),lower_text:this.config.view_mode.lower_text(e,r,this.options.language),upper_y:17,lower_y:this.options.upper_header_height+5}}make_bars(){this.bars=this.tasks.map(e=>{const n=new oit(this,e);return this.layers.bar.appendChild(n.group),n})}make_arrows(){this.arrows=[];for(let e of this.tasks){let n=[];n=e.dependencies.map(r=>{const i=this.get_task(r);if(!i)return;const o=new iit(this,this.bars[i._index],this.bars[e._index]);return this.layers.arrow.appendChild(o.element),o}).filter(Boolean),this.arrows=this.arrows.concat(n)}}map_arrows_on_bars(){for(let e of this.bars)e.arrows=this.arrows.filter(n=>n.from_task.task.id===e.task.id||n.to_task.task.id===e.task.id)}set_dimensions(){const{width:e}=this.$svg.getBoundingClientRect(),n=this.$svg.querySelector(".grid .grid-row")?this.$svg.querySelector(".grid .grid-row").getAttribute("width"):0;e<n&&this.$svg.setAttribute("width",n)}set_scroll_position(e){if(this.options.infinite_padding&&(!e||e==="start")){let[o,...s]=this.get_start_end_positions();this.$container.scrollLeft=o;return}if(!e||e==="start")e=this.gantt_start;else if(e==="end")e=this.gantt_end;else{if(e==="today")return this.scroll_current();typeof e=="string"&&(e=we.parse(e))}const n=we.diff(e,this.gantt_start,this.config.unit)/this.config.step*this.config.column_width;this.$container.scrollTo({left:n-this.config.column_width/6,behavior:"smooth"}),this.$current&&this.$current.classList.remove("current-upper"),this.current_date=we.add(this.gantt_start,this.$container.scrollLeft/this.config.column_width,this.config.unit);let r=this.config.view_mode.upper_text(this.current_date,null,this.options.language),i=this.upperTexts.find(o=>o.textContent===r);this.current_date=we.add(this.gantt_start,(this.$container.scrollLeft+i.clientWidth)/this.config.column_width,this.config.unit),r=this.config.view_mode.upper_text(this.current_date,null,this.options.language),i=this.upperTexts.find(o=>o.textContent===r),i.classList.add("current-upper"),this.$current=i}scroll_current(){let e=this.get_closest_date();e&&this.set_scroll_position(e[0])}get_closest_date(){let e=new Date;if(e<this.gantt_start||e>this.gantt_end)return null;let n=new Date,r=this.$container.querySelector(".date_"+lw(we.format(n,this.config.date_format,this.options.language))),i=0;for(;!r&&i<this.config.step;)n=we.add(n,-1,this.config.unit),r=this.$container.querySelector(".date_"+lw(we.format(n,this.config.date_format,this.options.language))),i++;return[new Date(we.format(n,this.config.date_format,this.options.language)+" "),r]}bind_grid_click(){vt.on(this.$container,"click",".grid-row, .grid-header, .ignored-bar, .holiday-highlight",()=>{this.unselect_all(),this.hide_popup()})}bind_holiday_labels(){const e=this.$container.querySelectorAll(".holiday-highlight");for(let n of e){const r=this.$container.querySelector(".label_"+n.classList[1]);if(!r)continue;let i;n.onmouseenter=o=>{i=setTimeout(()=>{r.classList.add("show"),r.style.left=(o.offsetX||o.layerX)+"px",r.style.top=(o.offsetY||o.layerY)+"px"},300)},n.onmouseleave=o=>{clearTimeout(i),r.classList.remove("show")}}}get_start_end_positions(){if(!this.bars.length)return[0,0,0];let{x:e,width:n}=this.bars[0].group.getBBox(),r=e,i=e,o=e+n;return Array.prototype.forEach.call(this.bars,function({group:s},a){let{x:l,width:c}=s.getBBox();l<r&&(r=l),l>i&&(i=l),l+c>o&&(o=l+c)}),[r,i,o]}bind_bar_events(){let e=!1,n=0,r=0,i=!1,o=!1,s=null,a=[];this.bar_being_dragged=null;const l=()=>e||i||o;this.$svg.onclick=u=>{u.target.classList.contains("grid-row")&&this.unselect_all()};let c=0;if(vt.on(this.$svg,"mousemove",".bar-wrapper, .handle",u=>{this.bar_being_dragged===!1&&Math.abs((u.offsetX||u.layerX)-c)>10&&(this.bar_being_dragged=!0)}),vt.on(this.$svg,"mousedown",".bar-wrapper, .handle",(u,d)=>{const f=vt.closest(".bar-wrapper",d);d.classList.contains("left")?(i=!0,d.classList.add("visible")):d.classList.contains("right")?(o=!0,d.classList.add("visible")):d.classList.contains("bar-wrapper")&&(e=!0),this.popup&&this.popup.hide(),n=u.offsetX||u.layerX,u.offsetY||u.layerY,s=f.getAttribute("data-id");let h;this.options.move_dependencies?h=[s,...this.get_all_dependent_tasks(s)]:h=[s],a=h.map(m=>this.get_bar(m)),this.bar_being_dragged=!1,c=n,a.forEach(m=>{const p=m.$bar;p.ox=p.getX(),p.oy=p.getY(),p.owidth=p.getWidth(),p.finaldx=0})}),this.options.infinite_padding){let u=!1;vt.on(this.$container,"mousewheel",d=>{let f=this.$container.scrollWidth/2;if(!u&&d.currentTarget.scrollLeft<=f){let h=d.currentTarget.scrollLeft;u=!0,this.gantt_start=we.add(this.gantt_start,-this.config.extend_by_units,this.config.unit),this.setup_date_values(),this.render(),d.currentTarget.scrollLeft=h+this.config.column_width*this.config.extend_by_units,setTimeout(()=>u=!1,300)}if(!u&&d.currentTarget.scrollWidth-(d.currentTarget.scrollLeft+d.currentTarget.clientWidth)<=f){let h=d.currentTarget.scrollLeft;u=!0,this.gantt_end=we.add(this.gantt_end,this.config.extend_by_units,this.config.unit),this.setup_date_values(),this.render(),d.currentTarget.scrollLeft=h,setTimeout(()=>u=!1,300)}})}vt.on(this.$container,"scroll",u=>{let d=[];const f=this.bars.map(({group:w})=>w.getAttribute("data-id"));let h;r&&(h=u.currentTarget.scrollLeft-r),this.current_date=we.add(this.gantt_start,u.currentTarget.scrollLeft/this.config.column_width*this.config.step,this.config.unit);let m=this.config.view_mode.upper_text(this.current_date,null,this.options.language),p=this.upperTexts.find(w=>w.textContent===m);this.current_date=we.add(this.gantt_start,(u.currentTarget.scrollLeft+p.clientWidth)/this.config.column_width*this.config.step,this.config.unit),m=this.config.view_mode.upper_text(this.current_date,null,this.options.language),p=this.upperTexts.find(w=>w.textContent===m),p!==this.$current&&(this.$current&&this.$current.classList.remove("current-upper"),p.classList.add("current-upper"),this.$current=p),r=u.currentTarget.scrollLeft;let[g,b,y]=this.get_start_end_positions();r>y+100?(this.$adjust.innerHTML="&larr;",this.$adjust.classList.remove("hide"),this.$adjust.onclick=()=>{this.$container.scrollTo({left:b,behavior:"smooth"})}):r+u.currentTarget.offsetWidth<g-100?(this.$adjust.innerHTML="&rarr;",this.$adjust.classList.remove("hide"),this.$adjust.onclick=()=>{this.$container.scrollTo({left:g,behavior:"smooth"})}):this.$adjust.classList.add("hide"),h&&(d=f.map(w=>this.get_bar(w)),this.options.auto_move_label&&d.forEach(w=>{w.update_label_position_on_horizontal_scroll({x:h,sx:u.currentTarget.scrollLeft})}))}),vt.on(this.$svg,"mousemove",u=>{if(!l())return;const d=(u.offsetX||u.layerX)-n;a.forEach(f=>{const h=f.$bar;h.finaldx=this.get_snap_position(d,h.ox),this.hide_popup(),i?s===f.task.id?f.update_bar_position({x:h.ox+h.finaldx,width:h.owidth-h.finaldx}):f.update_bar_position({x:h.ox+h.finaldx}):o?s===f.task.id&&f.update_bar_position({width:h.owidth+h.finaldx}):e&&!this.options.readonly&&!this.options.readonly_dates&&f.update_bar_position({x:h.ox+h.finaldx})})}),document.addEventListener("mouseup",()=>{var u,d,f;e=!1,i=!1,o=!1,(f=(d=(u=this.$container.querySelector(".visible"))==null?void 0:u.classList)==null?void 0:d.remove)==null||f.call(d,"visible")}),vt.on(this.$svg,"mouseup",u=>{this.bar_being_dragged=null,a.forEach(d=>{d.$bar.finaldx&&(d.date_changed(),d.compute_progress(),d.set_action_completed())})}),this.bind_bar_progress()}bind_bar_progress(){let e=0,n=null,r=null,i=null,o=null;vt.on(this.$svg,"mousedown",".handle.progress",(a,l)=>{n=!0,e=a.offsetX||a.layerX,y_on_start=a.offsetY||a.layerY;const c=vt.closest(".bar-wrapper",l).getAttribute("data-id");r=this.get_bar(c),i=r.$bar_progress,o=r.$bar,i.finaldx=0,i.owidth=i.getWidth(),i.min_dx=-i.owidth,i.max_dx=o.getWidth()-i.getWidth()});const s=this.config.ignored_positions.map(a=>[a,a+this.config.column_width]);vt.on(this.$svg,"mousemove",a=>{if(!n)return;let l=a.offsetX||a.layerX;if(l>e){let u=s.find(([d,f])=>l>=d&&l<f);for(;u;)l=u[1],u=s.find(([d,f])=>l>=d&&l<f)}else{let u=s.find(([d,f])=>l>d&&l<=f);for(;u;)l=u[0],u=s.find(([d,f])=>l>d&&l<=f)}let c=l-e;c>i.max_dx&&(c=i.max_dx),c<i.min_dx&&(c=i.min_dx),i.setAttribute("width",i.owidth+c),vt.attr(r.$handle_progress,"cx",i.getEndX()),i.finaldx=c}),vt.on(this.$svg,"mouseup",()=>{n=!1,i&&i.finaldx&&(i.finaldx=0,r.progress_changed(),r.set_action_completed(),r=null,i=null,o=null)})}get_all_dependent_tasks(e){let n=[],r=[e];for(;r.length;){const i=r.reduce((o,s)=>(o=o.concat(this.dependency_map[s]),o),[]);n=n.concat(i),r=i.filter(o=>!r.includes(o))}return n.filter(Boolean)}get_snap_position(e,n){let r=1;const i=this.options.snap_at||this.config.view_mode.snap_at||"1d";if(i!=="unit"){const{duration:u,scale:d}=we.parse_duration(i);r=we.convert_scales(this.config.view_mode.step,d)/u}const o=e%(this.config.column_width/r);let s=e-o+(o<this.config.column_width/r*2?0:this.config.column_width/r),a=n+s;const l=s>0?1:-1;let c=this.get_ignored_region(a,l);for(;c.length;)a+=this.config.column_width*l,c=this.get_ignored_region(a,l),c.length||(a-=this.config.column_width*l);return a-n}get_ignored_region(e,n=1){return n===1?this.config.ignored_positions.filter(r=>e>r&&e<=r+this.config.column_width):this.config.ignored_positions.filter(r=>e>=r&&e<r+this.config.column_width)}unselect_all(){this.popup&&this.popup.parent.classList.add("hide"),this.$container.querySelectorAll(".date-range-highlight").forEach(e=>e.classList.add("hide"))}view_is(e){return typeof e=="string"?this.config.view_mode.name===e:Array.isArray(e)?e.some(view_is):this.config.view_mode.name===e.name}get_task(e){return this.tasks.find(n=>n.id===e)}get_bar(e){return this.bars.find(n=>n.task.id===e)}show_popup(e){this.options.popup!==!1&&(this.popup||(this.popup=new sit(this.$popup_wrapper,this.options.popup,this)),this.popup.show(e))}hide_popup(){this.popup&&this.popup.hide()}trigger_event(e,n){this.options["on_"+e]&&this.options["on_"+e].apply(this,n)}get_oldest_starting_date(){return this.tasks.length?this.tasks.map(e=>e._start).reduce((e,n)=>n<=e?n:e):new Date}clear(){var e,n,r,i,o,s,a,l,c,u;this.$svg.innerHTML="",(n=(e=this.$header)==null?void 0:e.remove)==null||n.call(e),(i=(r=this.$side_header)==null?void 0:r.remove)==null||i.call(r),(s=(o=this.$current_highlight)==null?void 0:o.remove)==null||s.call(o),(l=(a=this.$extras)==null?void 0:a.remove)==null||l.call(a),(u=(c=this.popup)==null?void 0:c.hide)==null||u.call(c)}};yre.VIEW_MODE={HOUR:Bl[0],QUARTER_DAY:Bl[1],HALF_DAY:Bl[2],DAY:Bl[3],WEEK:Bl[4],MONTH:Bl[5],YEAR:Bl[6]};function cit(t){return t.name+"_"+Math.random().toString(36).slice(2,12)}function lw(t){return t.replaceAll(" ","_").replaceAll(":","_").replaceAll(".","_")}var uit="Toggle",Mj=x.forwardRef((t,e)=>{const{pressed:n,defaultPressed:r=!1,onPressedChange:i,...o}=t,[s=!1,a]=_i({prop:n,onChange:i,defaultProp:r});return O.jsx(pe.button,{type:"button","aria-pressed":s,"data-state":s?"on":"off","data-disabled":t.disabled?"":void 0,...o,ref:e,onClick:se(t.onClick,()=>{t.disabled||a(!s)})})});Mj.displayName=uit;var bre=Mj,Tm="ToggleGroup",[wre,tst]=nr(Tm,[Om]),xre=Om(),Nj=A.forwardRef((t,e)=>{const{type:n,...r}=t;if(n==="single"){const i=r;return O.jsx(dit,{...i,ref:e})}if(n==="multiple"){const i=r;return O.jsx(fit,{...i,ref:e})}throw new Error(`Missing prop \`type\` expected on \`${Tm}\``)});Nj.displayName=Tm;var[Sre,_re]=wre(Tm),dit=A.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...o}=t,[s,a]=_i({prop:n,defaultProp:r,onChange:i});return O.jsx(Sre,{scope:t.__scopeToggleGroup,type:"single",value:s?[s]:[],onItemActivate:a,onItemDeactivate:A.useCallback(()=>a(""),[a]),children:O.jsx(Cre,{...o,ref:e})})}),fit=A.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...o}=t,[s=[],a]=_i({prop:n,defaultProp:r,onChange:i}),l=A.useCallback(u=>a((d=[])=>[...d,u]),[a]),c=A.useCallback(u=>a((d=[])=>d.filter(f=>f!==u)),[a]);return O.jsx(Sre,{scope:t.__scopeToggleGroup,type:"multiple",value:s,onItemActivate:l,onItemDeactivate:c,children:O.jsx(Cre,{...o,ref:e})})});Nj.displayName=Tm;var[hit,pit]=wre(Tm),Cre=A.forwardRef((t,e)=>{const{__scopeToggleGroup:n,disabled:r=!1,rovingFocus:i=!0,orientation:o,dir:s,loop:a=!0,...l}=t,c=xre(n),u=um(s),d={role:"group",dir:u,...l};return O.jsx(hit,{scope:n,rovingFocus:i,disabled:r,children:i?O.jsx(wj,{asChild:!0,...c,orientation:o,dir:u,loop:a,children:O.jsx(pe.div,{...d,ref:e})}):O.jsx(pe.div,{...d,ref:e})})}),vS="ToggleGroupItem",kre=A.forwardRef((t,e)=>{const n=_re(vS,t.__scopeToggleGroup),r=pit(vS,t.__scopeToggleGroup),i=xre(t.__scopeToggleGroup),o=n.value.includes(t.value),s=r.disabled||t.disabled,a={...t,pressed:o,disabled:s},l=A.useRef(null);return r.rovingFocus?O.jsx(xj,{asChild:!0,...i,focusable:!s,active:o,ref:l,children:O.jsx(XU,{...a,ref:e})}):O.jsx(XU,{...a,ref:e})});kre.displayName=vS;var XU=A.forwardRef((t,e)=>{const{__scopeToggleGroup:n,value:r,...i}=t,o=_re(vS,n),s={role:"radio","aria-checked":t.pressed,"aria-pressed":void 0},a=o.type==="single"?s:void 0;return O.jsx(Mj,{...a,...i,ref:e,onPressedChange:l=>{l?o.onItemActivate(r):o.onItemDeactivate(r)}})}),Pre=Nj,Ere=kre;const Ore=em("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3",sm:"h-9 px-2.5",lg:"h-11 px-5"}},defaultVariants:{variant:"default",size:"default"}}),mit=x.forwardRef(({className:t,variant:e,size:n,...r},i)=>v(bre,{ref:i,className:q(Ore({variant:e,size:n,className:t})),...r}));mit.displayName=bre.displayName;const Tre=x.createContext({size:"default",variant:"default"}),Are=x.forwardRef(({className:t,variant:e,size:n,children:r,...i},o)=>v(Pre,{ref:o,className:q("flex items-center justify-center gap-1",t),...i,children:v(Tre.Provider,{value:{variant:e,size:n},children:r})}));Are.displayName=Pre.displayName;const aN=x.forwardRef(({className:t,children:e,variant:n,size:r,...i},o)=>{const s=x.useContext(Tre);return v(Ere,{ref:o,className:q(Ore({variant:s.variant||n,size:s.size||r}),t),...i,children:e})});aN.displayName=Ere.displayName;const git=({milestones:t=[],deliverables:e=[]})=>{const n=x.useRef(null),r=x.useRef(null),[i,o]=x.useState("Month");x.useEffect(()=>{if(n.current){try{const a=[];if(t.forEach(l=>{if(l&&l.dueDate&&_h(co(l.dueDate))){const c=Ot(co(l.dueDate),"yyyy-MM-dd");a.push({id:`m-${l.id||Math.random().toString()}`,name:(l==null?void 0:l.name)||"Untitled Milestone",start:c,end:c,progress:l.status==="completed"?100:0,custom_class:`milestone status-${l.status}`})}}),Array.isArray(e)&&e.forEach(l=>{if(!l)return;const c=l.fromDate&&_h(co(l.fromDate))?co(l.fromDate):null,u=l.toDate&&_h(co(l.toDate))?co(l.toDate):null;c&&u?a.push({id:`d-${l.id||Math.random().toString()}`,name:(l==null?void 0:l.description)||"Untitled Deliverable",start:Ot(c,"yyyy-MM-dd"),end:Ot(u,"yyyy-MM-dd"),progress:0,custom_class:"deliverable"}):u&&a.push({id:`d-${l.id||Math.random().toString()}`,name:(l==null?void 0:l.description)||"Untitled Deliverable",start:Ot(u,"yyyy-MM-dd"),end:Ot(u,"yyyy-MM-dd"),progress:0,custom_class:"deliverable milestone"})}),a.length>0){r.current&&r.current.destroy(),console.log("TASK DATA",a);const l=a.filter(c=>c&&c.name);r.current=new yre(n.current,l,{header_height:50,column_width:30,step:24,view_modes:["Day","Week","Month"],bar_height:20,bar_corner_radius:3,arrow_curve:5,padding:18,date_format:"YYYY-MM-DD",language:"en",custom_popup_html:c=>{var m;if(!c)return"";const u=Ot(co(c.start),"MMM d"),d=Ot(co(c.end),"MMM d"),f=(m=c.custom_class)==null?void 0:m.includes("milestone"),h=f?`Date: ${u}`:`Duration: ${u} - ${d}`;return`
              <div class="frappe-gantt-popup p-2 rounded shadow-lg bg-popover border text-popover-foreground text-xs max-w-xs">
                <div class="font-semibold mb-1 break-words">${(c==null?void 0:c.name)||"Task"}</div>
                <div class="text-muted-foreground">${h}</div>
                ${typeof c.progress<"u"&&!f?`<div class="text-muted-foreground">Progress: ${c.progress}%</div>`:""}
              </div>
            `}})}else n.current&&(n.current.innerHTML='<text x="50%" y="50%" text-anchor="middle" class="text-muted-foreground fill-current">No timeline data available</text>')}catch(a){console.error("Error initializing Gantt chart:",a),n.current&&(n.current.innerHTML='<text x="50%" y="50%" text-anchor="middle" class="text-destructive fill-current">Error loading timeline</text>')}return()=>{r.current&&(r.current.destroy(),r.current=null)}}},[t,e,i]);const s=a=>{o(a)};return P(Ve,{children:[v(Xe,{children:P(wt,{className:"text-lg flex justify-between items-center",children:[v("span",{children:"Project Timeline"}),P(Are,{type:"single",defaultValue:"Month",value:i,onValueChange:a=>{a&&s(a)},"aria-label":"Timeline Zoom Level",size:"sm",children:[v(aN,{value:"Week","aria-label":"Weekly view",children:"Week"}),v(aN,{value:"Month","aria-label":"Monthly view",children:"Month"})]})]})}),v(Ze,{children:P("div",{className:"gantt-container overflow-x-auto py-2",children:[v("svg",{ref:n,style:{width:"100%",minHeight:"150px"}})," "]})})]})},vit={light:"",dark:".dark"},Mre=x.createContext(null);function Nre(){const t=x.useContext(Mre);if(!t)throw new Error("useChart must be used within a <ChartContainer />");return t}const Dre=x.forwardRef(({id:t,className:e,children:n,config:r,...i},o)=>{const s=x.useId(),a=`chart-${t||s.replace(/:/g,"")}`;return v(Mre.Provider,{value:{config:r},children:P("div",{"data-chart":a,ref:o,className:q("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",e),...i,children:[v(yit,{id:a,config:r}),v(uo,{children:n})]})})});Dre.displayName="Chart";const yit=({id:t,config:e})=>{const n=Object.entries(e).filter(([r,i])=>i.theme||i.color);return n.length?v("style",{dangerouslySetInnerHTML:{__html:Object.entries(vit).map(([r,i])=>`
${i} [data-chart=${t}] {
${n.map(([o,s])=>{var l;const a=((l=s.theme)==null?void 0:l[r])||s.color;return a?`  --color-${o}: ${a};`:null}).join(`
`)}
}
`).join(`
`)}}):null},bit=Tn,wit=x.forwardRef(({active:t,payload:e,className:n,indicator:r="dot",hideLabel:i=!1,hideIndicator:o=!1,label:s,labelFormatter:a,labelClassName:l,formatter:c,color:u,nameKey:d,labelKey:f},h)=>{const{config:m}=Nre(),p=x.useMemo(()=>{var S;if(i||!(e!=null&&e.length))return null;const[b]=e,y=`${f||b.dataKey||b.name||"value"}`,w=lN(m,b,y),_=!f&&typeof s=="string"?((S=m[s])==null?void 0:S.label)||s:w==null?void 0:w.label;return a?v("div",{className:q("font-medium",l),children:a(_,e)}):_?v("div",{className:q("font-medium",l),children:_}):null},[s,a,e,i,l,m,f]);if(!t||!(e!=null&&e.length))return null;const g=e.length===1&&r!=="dot";return P("div",{ref:h,className:q("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",n),children:[g?null:p,v("div",{className:"grid gap-1.5",children:e.map((b,y)=>{const w=`${d||b.name||b.dataKey||"value"}`,_=lN(m,b,w),S=u||b.payload.fill||b.color;return v("div",{className:q("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",r==="dot"&&"items-center"),children:c&&(b==null?void 0:b.value)!==void 0&&b.name?c(b.value,b.name,b,y,b.payload):P(ts,{children:[_!=null&&_.icon?v(_.icon,{}):!o&&v("div",{className:q("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":r==="dot","w-1":r==="line","w-0 border-[1.5px] border-dashed bg-transparent":r==="dashed","my-0.5":g&&r==="dashed"}),style:{"--color-bg":S,"--color-border":S}}),P("div",{className:q("flex flex-1 justify-between leading-none",g?"items-end":"items-center"),children:[P("div",{className:"grid gap-1.5",children:[g?p:null,v("span",{className:"text-muted-foreground",children:(_==null?void 0:_.label)||b.name})]}),b.value&&v("span",{className:"font-mono font-medium tabular-nums text-foreground",children:b.value.toLocaleString()})]})]})},b.dataKey)})})]})});wit.displayName="ChartTooltip";const xit=x.forwardRef(({className:t,hideIcon:e=!1,payload:n,verticalAlign:r="bottom",nameKey:i},o)=>{const{config:s}=Nre();return n!=null&&n.length?v("div",{ref:o,className:q("flex items-center justify-center gap-4",r==="top"?"pb-3":"pt-3",t),children:n.map(a=>{const l=`${i||a.dataKey||"value"}`,c=lN(s,a,l);return P("div",{className:q("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[c!=null&&c.icon&&!e?v(c.icon,{}):v("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:a.color}}),c==null?void 0:c.label]},a.value)})}):null});xit.displayName="ChartLegend";function lN(t,e,n){if(typeof e!="object"||e===null)return;const r="payload"in e&&typeof e.payload=="object"&&e.payload!==null?e.payload:void 0;let i=n;return n in e&&typeof e[n]=="string"?i=e[n]:r&&n in r&&typeof r[n]=="string"&&(i=r[n]),i in t?t[i]:t[n]}const Sit=({totalBudget:t,actualSpend:e,forecastedSpend:n,contingencyBudget:r})=>{const i=(e+n-t)/t*100,o=t-(e+n),s=(e+n)/t*100,a=[{name:"Actual Spend",value:e,fill:"hsl(var(--primary))"},{name:"Forecasted Spend",value:n,fill:"hsl(var(--secondary))"},{name:"Remaining Budget",value:o,fill:"hsl(var(--muted))"},{name:"Contingency",value:r,fill:"hsl(var(--accent))"}],c=i<-10?{icon:v(lce,{className:"text-risk-low"}),text:"Under Budget",color:"text-risk-low"}:i>10?{icon:v(QS,{className:"text-risk-high"}),text:"Over Budget",color:"text-risk-high"}:{icon:v(_D,{className:"text-primary"}),text:"On Track",color:"text-primary"};return P(Ve,{children:[v(Xe,{children:P(wt,{className:"flex items-center justify-between",children:[P("div",{className:"flex items-center gap-2",children:[v(m8,{className:"h-5 w-5"}),"Budget Insights"]}),P("div",{className:`flex items-center gap-2 ${c.color}`,children:[c.icon,c.text]})]})}),P(Ze,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[P("div",{children:[P("div",{className:"flex justify-between text-sm mb-2",children:[v("span",{children:"Budget Utilization"}),P("span",{children:[s.toFixed(2),"%"]})]}),v(Wd,{value:s}),P("div",{className:"grid grid-cols-2 gap-2 mt-4 text-sm",children:[P("div",{children:[v("p",{className:"text-muted-foreground",children:"Total Budget"}),P("p",{className:"font-semibold",children:["$",t.toLocaleString()]})]}),P("div",{children:[v("p",{className:"text-muted-foreground",children:"Remaining"}),P("p",{className:"font-semibold",children:["$",o.toLocaleString()]})]})]})]}),v("div",{children:v(Dre,{config:{"Actual Spend":{label:"Actual Spend"},"Forecasted Spend":{label:"Forecasted Spend"},"Remaining Budget":{label:"Remaining Budget"},Contingency:{label:"Contingency"}},className:"",children:v(uo,{children:P(nv,{children:[v(bit,{}),v(Yi,{data:a,dataKey:"value",nameKey:"name",innerRadius:60,outerRadius:80})]})})})})]})]})},_it=t=>{switch(t){case"low":return"bg-muted text-muted-foreground";case"medium":return"bg-amber-100 text-amber-800";case"high":return"bg-green-100 text-green-800"}},Cit=({projectObjectives:t,projectName:e})=>{const n=t.length,r=t.filter(o=>o.priority==="high").length,i=r/n*100;return P(Ve,{children:[v(Xe,{children:P(wt,{className:"flex items-center justify-between",children:[P("div",{className:"flex items-center gap-2",children:[v(ace,{className:"h-5 w-5"}),"Strategic Alignment"]}),P("div",{className:"flex items-center gap-2",children:[v(Zle,{className:"h-4 w-4 text-primary"}),P("span",{children:[i.toFixed(0),"% Aligned"]})]})]})}),P(Ze,{className:"space-y-4",children:[P("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[P("div",{children:[v("p",{className:"text-sm text-muted-foreground mb-2",children:"Project Context"}),P("div",{className:"flex items-center gap-2",children:[v(rce,{className:"h-4 w-4 text-muted-foreground"}),v("span",{className:"font-medium",children:e})]})]}),P("div",{children:[v("p",{className:"text-sm text-muted-foreground mb-2",children:"Alignment Metrics"}),P("div",{className:"flex justify-between",children:[v("span",{children:"Total Objectives"}),v("span",{className:"font-semibold",children:n})]}),P("div",{className:"flex justify-between",children:[v("span",{children:"High Priority"}),v("span",{className:"font-semibold",children:r})]})]})]}),P("div",{children:[v("p",{className:"text-sm text-muted-foreground mb-2",children:"Strategic Objectives"}),v("div",{className:"space-y-2",children:t.map(o=>P("div",{className:"border rounded-lg p-3 hover:bg-muted/50 transition-colors",children:[P("div",{className:"flex justify-between items-center mb-2",children:[v("h4",{className:"font-medium",children:o.name}),P(Ue,{className:`${_it(o.priority)} text-xs`,children:[o.priority.charAt(0).toUpperCase()+o.priority.slice(1)," Priority"]})]}),v("p",{className:"text-sm text-muted-foreground mb-2",children:o.description}),v("div",{className:"flex flex-wrap gap-1.5",children:o.tags.map(s=>v(Ue,{variant:"outline",className:"text-xs",children:s},s))})]},o.id))})]})]})]})},kit=({stageGates:t})=>{const e=r=>{switch(r){case"completed":return v(Wle,{className:"h-5 w-5 text-risk-low"});case"in_progress":return v(Kle,{className:"h-5 w-5 text-amber-500"});case"blocked":return v(p8,{className:"h-5 w-5 text-risk-high"});case"not_started":default:return v(qle,{className:"h-5 w-5 text-muted-foreground"})}},n=r=>{switch(r){case"completed":return"bg-risk-low/10 border-risk-low/30";case"in_progress":return"bg-amber-500/10 border-amber-500/30";case"blocked":return"bg-risk-high/10 border-risk-high/30";case"not_started":default:return"bg-muted/20 border-muted/30"}};return P(Ve,{children:[v(Xe,{children:v(wt,{className:"text-lg",children:"Stage Gate Progress"})}),v(Ze,{children:P("div",{className:"relative",children:[v("div",{className:"absolute top-0 bottom-0 left-6 w-0.5 bg-muted-foreground/10 ml-px"}),v("div",{className:"space-y-6",children:t.map((r,i)=>P("div",{className:"relative flex items-start gap-4",children:[v("div",{className:q("flex-shrink-0 h-12 w-12 rounded-full border-2 flex items-center justify-center",n(r.status)),children:e(r.status)}),v("div",{className:"flex-1 pt-1",children:P("div",{className:"flex justify-between items-start",children:[P("div",{children:[P("h4",{className:"font-medium",children:[r.stage,": ",r.stage==="G0"?"Project Initiation":r.stage==="G1"?"Concept Development":r.stage==="G2"?"Detailed Planning":r.stage==="G3"?"Implementation":"Project Closure"]}),r.notes&&v("p",{className:"text-sm text-muted-foreground mt-1",children:r.notes})]}),r.status!=="not_started"&&r.updatedAt&&v("span",{className:"text-xs text-muted-foreground",children:Ot(new Date(r.updatedAt),"MMM d, yyyy")})]})})]},r.stage))})]})})]})};var Dj="Tabs",[Pit,nst]=nr(Dj,[Om]),Rre=Om(),[Eit,Rj]=Pit(Dj),$re=x.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:o,orientation:s="horizontal",dir:a,activationMode:l="automatic",...c}=t,u=um(a),[d,f]=_i({prop:r,onChange:i,defaultProp:o});return O.jsx(Eit,{scope:n,baseId:Zn(),value:d,onValueChange:f,orientation:s,dir:u,activationMode:l,children:O.jsx(pe.div,{dir:u,"data-orientation":s,...c,ref:e})})});$re.displayName=Dj;var Ire="TabsList",jre=x.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,o=Rj(Ire,n),s=Rre(n);return O.jsx(wj,{asChild:!0,...s,orientation:o.orientation,dir:o.dir,loop:r,children:O.jsx(pe.div,{role:"tablist","aria-orientation":o.orientation,...i,ref:e})})});jre.displayName=Ire;var Lre="TabsTrigger",Fre=x.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...o}=t,s=Rj(Lre,n),a=Rre(n),l=zre(s.baseId,r),c=Ure(s.baseId,r),u=r===s.value;return O.jsx(xj,{asChild:!0,...a,focusable:!i,active:u,children:O.jsx(pe.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...o,ref:e,onMouseDown:se(t.onMouseDown,d=>{!i&&d.button===0&&d.ctrlKey===!1?s.onValueChange(r):d.preventDefault()}),onKeyDown:se(t.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&s.onValueChange(r)}),onFocus:se(t.onFocus,()=>{const d=s.activationMode!=="manual";!u&&!i&&d&&s.onValueChange(r)})})})});Fre.displayName=Lre;var Bre="TabsContent",Vre=x.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:o,...s}=t,a=Rj(Bre,n),l=zre(a.baseId,r),c=Ure(a.baseId,r),u=r===a.value,d=x.useRef(u);return x.useEffect(()=>{const f=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(f)},[]),O.jsx(rr,{present:i||u,children:({present:f})=>O.jsx(pe.div,{"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!f,id:c,tabIndex:0,...s,ref:e,style:{...t.style,animationDuration:d.current?"0s":void 0},children:f&&o})})});Vre.displayName=Bre;function zre(t,e){return`${t}-trigger-${e}`}function Ure(t,e){return`${t}-content-${e}`}var Oit=$re,Hre=jre,Wre=Fre,qre=Vre;const JC=Oit,G0=x.forwardRef(({className:t,...e},n)=>v(Hre,{ref:n,className:q("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground dark:bg-dark-muted dark:text-dark-muted-foreground",t),...e}));G0.displayName=Hre.displayName;const Wr=x.forwardRef(({className:t,...e},n)=>v(Wre,{ref:n,className:q("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Wr.displayName=Wre.displayName;const qr=x.forwardRef(({className:t,...e},n)=>v(qre,{ref:n,className:q("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));qr.displayName=qre.displayName;const $j=x.forwardRef(({className:t,...e},n)=>v("textarea",{className:q("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));$j.displayName="Textarea";const Gre=x.forwardRef(({...t},e)=>v("nav",{ref:e,"aria-label":"breadcrumb",...t}));Gre.displayName="Breadcrumb";const Kre=x.forwardRef(({className:t,...e},n)=>v("ol",{ref:n,className:q("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",t),...e}));Kre.displayName="BreadcrumbList";const Vw=x.forwardRef(({className:t,...e},n)=>v("li",{ref:n,className:q("inline-flex items-center gap-1.5",t),...e}));Vw.displayName="BreadcrumbItem";const cN=x.forwardRef(({asChild:t,className:e,...n},r)=>v(t?pD:"a",{ref:r,className:q("transition-colors hover:text-foreground",e),...n}));cN.displayName="BreadcrumbLink";const Yre=x.forwardRef(({className:t,...e},n)=>v("span",{ref:n,role:"link","aria-disabled":"true","aria-current":"page",className:q("font-normal text-foreground",t),...e}));Yre.displayName="BreadcrumbPage";const uN=({children:t,className:e,...n})=>v("li",{role:"presentation","aria-hidden":"true",className:q("[&>svg]:size-3.5",e),...n,children:t??v(Jd,{})});uN.displayName="BreadcrumbSeparator";const Tit=()=>{var o,s;const{id:t}=HD(),e=x.useCallback(a=>({selectedProject:a.selectedProject,isLoading:a.isLoading}),[]),{selectedProject:n,isLoading:r}=x.useMemo(()=>La.getState(),[]),i=x.useMemo(()=>({fetchProjectById:La.getState().fetchProjectById,fetchDocuments:La.getState().fetchDocuments,fetchPortfolios:hm.getState().fetchPortfolios}),[]);return x.useEffect(()=>{if(!t)return;(async()=>{try{await i.fetchProjectById(t),await i.fetchDocuments(t),await i.fetchPortfolios()}catch(l){console.error("Error loading project data:",l)}})()},[t,i]),x.useEffect(()=>{let a;const l=La.subscribe(c=>{var d;const{selectedProject:u}=c;(u==null?void 0:u.id)!==((d=a==null?void 0:a.selectedProject)==null?void 0:d.id)&&FW({title:`Project changed: ${(u==null?void 0:u.name)||"Unknown project"}`}),a=c});return()=>l()},[e]),r?v(qa,{children:v(Nr,{title:"Project Details",children:P("div",{className:"grid grid-cols-12 gap-6",children:[v("div",{className:"col-span-12 lg:col-span-8",children:P(Ve,{children:[P(Xe,{children:[v(ct,{className:"h-8 w-3/4 mb-2"}),v(ct,{className:"h-4 w-1/2"})]}),P(Ze,{className:"grid gap-4",children:[P("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v(ct,{className:"h-10 w-full"}),v(ct,{className:"h-10 w-full"})]}),v(ct,{className:"h-24 w-full"}),v(Id,{}),v(ct,{className:"h-10 w-1/3"}),v(ct,{className:"h-40 w-full"})]})]})}),P("div",{className:"col-span-12 lg:col-span-4",children:[P(Ve,{children:[P(Xe,{children:[v(ct,{className:"h-6 w-1/2 mb-2"}),v(ct,{className:"h-4 w-1/3"})]}),v(Ze,{children:v(ct,{className:"h-20 w-full"})})]}),P(Ve,{className:"mt-6",children:[P(Xe,{children:[v(ct,{className:"h-6 w-1/2 mb-2"}),v(ct,{className:"h-4 w-1/3"})]}),v(Ze,{children:v(ct,{className:"h-20 w-full"})})]})]})]})})}):n?v(qa,{children:P(Nr,{title:n.name,children:[P("div",{className:"mb-6 p-4 border rounded-lg shadow-sm bg-card sticky top-0 z-10 backdrop-blur-sm",children:[v(Gre,{className:"mb-2",children:P(Kre,{children:[v(Vw,{children:v(cN,{asChild:!0,children:v(rn,{to:"/projects",children:"Projects"})})}),v(uN,{}),v(Vw,{children:v(cN,{href:"#",children:n.portfolioId||"Portfolio"})}),v(uN,{}),v(Vw,{children:v(Yre,{children:n.name})})]})}),P("div",{className:"flex items-center gap-4",children:[P(UR,{children:[v(HR,{src:"/placeholder.svg",alt:n.name}),v(WR,{children:(o=n.name)==null?void 0:o.charAt(0).toUpperCase()})]}),v("h1",{className:"text-2xl font-semibold",children:n.name}),P(Ue,{variant:"outline",children:["ID: ",n.initiativeCode||n.id]})]})]}),P("div",{className:"grid grid-cols-12 gap-6",children:[v("div",{className:"col-span-12 lg:col-span-8",children:P(Ve,{children:[P(Xe,{children:[v("p",{className:"text-sm text-muted-foreground",children:"Details and Information"})," "]}),P(Ze,{className:"grid gap-4",children:[P("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v(Ve,{children:P(Xe,{className:"p-4",children:[v(Zs,{className:"text-xs text-muted-foreground mb-1",children:"Project Phase"}),v(Ue,{variant:"secondary",className:"text-sm font-medium",children:n.phase})]})}),v(Ve,{children:P(Xe,{className:"p-4",children:[v(Zs,{className:"text-xs text-muted-foreground mb-1",children:"Project Status"}),v(Ue,{variant:n.status==="completed"?"default":n.status==="on_hold"?"outline":n.status==="not_started"?"secondary":n.status==="in_progress"?"destructive":n.status==="cancelled"?"outline":n.status==="on_track"?"default":n.status==="delayed"||n.status==="at_risk"?"destructive":"secondary",className:"text-sm font-medium",children:n.status})]})})]}),P(Ve,{children:[v(Xe,{className:"p-4",children:v(Zs,{className:"text-xs text-muted-foreground mb-1",children:"Description"})}),v(Ze,{className:"p-4 pt-0",children:v($j,{value:n.description||"No description provided.",readOnly:!0,className:"resize-none h-24 border-none p-0 focus-visible:ring-0 focus-visible:ring-offset-0"})})]}),v(Id,{}),P(JC,{defaultValue:"gantt",className:"w-full",children:[P(G0,{children:[P(Wr,{value:"gantt",children:[v(sce,{className:"mr-2 h-4 w-4"})," Gantt Chart"]}),P(Wr,{value:"milestones",children:[v(ice,{className:"mr-2 h-4 w-4"})," Milestones"]}),P(Wr,{value:"risks",children:[v(oce,{className:"mr-2 h-4 w-4"})," Risks"]}),P(Wr,{value:"budget",children:[v(_D,{className:"mr-2 h-4 w-4"})," Budget Insights"]})]}),v(qr,{value:"gantt",className:"mt-4",children:v(Ve,{children:P(Ze,{className:"p-4",children:[" ",P(ts,{children:[" ",console.log("ProjectDetail props:",{milestones:n==null?void 0:n.milestones,deliverables:n==null?void 0:n.deliverables})," "]}),v(git,{milestones:n.milestones||[],deliverables:n.deliverables||[]})]})})}),v(qr,{value:"milestones",className:"mt-4",children:v(_tt,{milestones:n.milestones})}),v(qr,{value:"risks",className:"mt-4",children:v(tit,{risks:n.risks})}),v(qr,{value:"budget",className:"mt-4",children:v(Ve,{children:v(Ze,{children:v(Sit,{totalBudget:n.budget,actualSpend:n.actualCost,forecastedSpend:n.forecastedSpend||0,contingencyBudget:n.budget*.1})})})})]})]}),v(x0,{className:"flex justify-between",children:v(Ce,{variant:"outline",asChild:!0,children:v(rn,{to:"/projects",children:"Back to Projects"})})})]})}),P("div",{className:"col-span-12 lg:col-span-4",children:[P(Ve,{className:"bg-gradient-to-r from-blue-50 via-white to-blue-50 dark:from-blue-900/10 dark:via-background dark:to-blue-900/10",children:[P(Xe,{children:[v(wt,{children:"Strategic Alignment"}),v(ap,{children:"Alignment with Corporate Objectives"})]}),P(Ze,{className:"flex items-start justify-between gap-4",children:[v("div",{className:"flex-grow",children:v(Cit,{projectName:n.name,projectObjectives:((s=n.corporateKPIs)==null?void 0:s.map((a,l)=>({id:l.toString(),name:a,description:"Corporate KPI",priority:"high",tags:[n.strategicObjective||"unspecified"]})))||[]})}),P("div",{className:"flex flex-col items-center gap-1 pt-1",children:[v(Wd,{value:100,className:"w-16 h-2"})," ",v("span",{className:"text-xs text-muted-foreground",children:"100%"}),v("span",{className:"text-xs text-muted-foreground",children:"Aligned"})]})]})]}),P(Ve,{className:"mt-6",children:[P(Xe,{children:[v(wt,{children:"Stage Gate Progress"}),v(ap,{children:"Project Lifecycle Stages"})]}),v(Ze,{children:v(kit,{stageGates:n.stageGates})})]})]})]})]})}):v(qa,{children:v(Nr,{title:"Project Not Found",children:P("div",{className:"text-center py-12",children:[v("p",{className:"text-muted-foreground mb-4",children:"Project not found or you don't have access"}),v(Ce,{variant:"outline",asChild:!0,children:v(rn,{to:"/projects",children:"Back to Projects"})})]})})})},Df=x.forwardRef(({label:t,labelClassName:e,wrapperClassName:n,id:r,...i},o)=>{const s=r||x.useId();return P("div",{className:q("relative",n),children:[v(un,{id:s,className:q("peer h-10 pt-4 placeholder-transparent focus:placeholder-gray-400",i.className),placeholder:t,ref:o,...i}),v(Zs,{htmlFor:s,className:q("absolute left-3 top-2 text-muted-foreground transition-all duration-200 ease-in-out","peer-placeholder-shown:top-2 peer-placeholder-shown:text-base","peer-focus:top-1 peer-focus:text-xs","peer-[:not(:placeholder-shown)]:top-1 peer-[:not(:placeholder-shown)]:text-xs",e),children:t})]})});Df.displayName="InputFloatLabel";const Ait=({label:t,onChange:e,className:n,wrapperClassName:r,id:i,existingFileUrl:o})=>{const[s,a]=x.useState(null),[l,c]=x.useState(o||null),u=h=>{var p;const m=((p=h.target.files)==null?void 0:p[0])||null;if(a(m),e(m),m){const g=new FileReader;g.onloadend=()=>{c(g.result)},g.readAsDataURL(m)}else c(null)},d=()=>{a(null),e(null),c(null)},f=i||A.useId();return P("div",{className:q("space-y-2",r),children:[v(Zs,{htmlFor:f,className:"text-sm font-medium text-muted-foreground",children:t}),P("div",{className:"flex items-center space-x-2",children:[v(Ce,{variant:"outline",asChild:!0,children:P("label",{htmlFor:f,className:"flex items-center gap-2 px-3 py-2 rounded-md border text-sm text-muted-foreground hover:bg-muted cursor-pointer",children:[v(Yle,{className:"h-4 w-4"}),"Upload"]})}),v("input",{type:"file",id:f,className:"hidden",onChange:u}),s&&P(Ce,{type:"button",variant:"ghost",size:"icon",onClick:d,"aria-label":"Clear file",children:[v(kD,{className:"h-4 w-4"}),v("span",{className:"sr-only",children:"Clear file"})]})]}),l&&v("div",{className:"mt-2",children:s&&s.type.startsWith("image/")?v("img",{src:l,alt:"Preview",className:"max-h-40 rounded-md border"}):P("p",{className:"text-sm text-muted-foreground",children:["File: ",s.name]})})]})};var ZU=1,Mit=.9,Nit=.8,Dit=.17,FE=.1,BE=.999,Rit=.9999,$it=.99,Iit=/[\\\/_+.#"@\[\(\{&]/,jit=/[\\\/_+.#"@\[\(\{&]/g,Lit=/[\s-]/,Xre=/[\s-]/g;function dN(t,e,n,r,i,o,s){if(o===e.length)return i===t.length?ZU:$it;var a=`${i},${o}`;if(s[a]!==void 0)return s[a];for(var l=r.charAt(o),c=n.indexOf(l,i),u=0,d,f,h,m;c>=0;)d=dN(t,e,n,r,c+1,o+1,s),d>u&&(c===i?d*=ZU:Iit.test(t.charAt(c-1))?(d*=Nit,h=t.slice(i,c-1).match(jit),h&&i>0&&(d*=Math.pow(BE,h.length))):Lit.test(t.charAt(c-1))?(d*=Mit,m=t.slice(i,c-1).match(Xre),m&&i>0&&(d*=Math.pow(BE,m.length))):(d*=Dit,i>0&&(d*=Math.pow(BE,c-i))),t.charAt(c)!==e.charAt(o)&&(d*=Rit)),(d<FE&&n.charAt(c-1)===r.charAt(o+1)||r.charAt(o+1)===r.charAt(o)&&n.charAt(c-1)!==r.charAt(o))&&(f=dN(t,e,n,r,c+1,o+2,s),f*FE>d&&(d=f*FE)),d>u&&(u=d),c=n.indexOf(l,c+1);return s[a]=u,u}function JU(t){return t.toLowerCase().replace(Xre," ")}function Fit(t,e,n){return t=n&&n.length>0?`${t+" "+n.join(" ")}`:t,dN(t,e,JU(t),JU(e),0,0,{})}var sg='[cmdk-group=""]',VE='[cmdk-group-items=""]',Bit='[cmdk-group-heading=""]',Zre='[cmdk-item=""]',QU=`${Zre}:not([aria-disabled="true"])`,fN="cmdk-item-select",Rf="data-value",Vit=(t,e,n)=>Fit(t,e,n),Jre=x.createContext(void 0),K0=()=>x.useContext(Jre),Qre=x.createContext(void 0),Ij=()=>x.useContext(Qre),eie=x.createContext(void 0),tie=x.forwardRef((t,e)=>{let n=$f(()=>{var F,G;return{search:"",value:(G=(F=t.value)!=null?F:t.defaultValue)!=null?G:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=$f(()=>new Set),i=$f(()=>new Map),o=$f(()=>new Map),s=$f(()=>new Set),a=nie(t),{label:l,children:c,value:u,onValueChange:d,filter:f,shouldFilter:h,loop:m,disablePointerSelection:p=!1,vimBindings:g=!0,...b}=t,y=Zn(),w=Zn(),_=Zn(),S=x.useRef(null),C=Jit();Gd(()=>{if(u!==void 0){let F=u.trim();n.current.value=F,k.emit()}},[u]),Gd(()=>{C(6,L)},[]);let k=x.useMemo(()=>({subscribe:F=>(s.current.add(F),()=>s.current.delete(F)),snapshot:()=>n.current,setState:(F,G,ee)=>{var te,me,Q,ke;if(!Object.is(n.current[F],G)){if(n.current[F]=G,F==="search")N(),M(),C(1,D);else if(F==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let Z=document.getElementById(_);Z?Z.focus():(te=document.getElementById(y))==null||te.focus()}if(C(7,()=>{var Z;n.current.selectedItemId=(Z=I())==null?void 0:Z.id,k.emit()}),ee||C(5,L),((me=a.current)==null?void 0:me.value)!==void 0){let Z=G??"";(ke=(Q=a.current).onValueChange)==null||ke.call(Q,Z);return}}k.emit()}},emit:()=>{s.current.forEach(F=>F())}}),[]),E=x.useMemo(()=>({value:(F,G,ee)=>{var te;G!==((te=o.current.get(F))==null?void 0:te.value)&&(o.current.set(F,{value:G,keywords:ee}),n.current.filtered.items.set(F,T(G,ee)),C(2,()=>{M(),k.emit()}))},item:(F,G)=>(r.current.add(F),G&&(i.current.has(G)?i.current.get(G).add(F):i.current.set(G,new Set([F]))),C(3,()=>{N(),M(),n.current.value||D(),k.emit()}),()=>{o.current.delete(F),r.current.delete(F),n.current.filtered.items.delete(F);let ee=I();C(4,()=>{N(),(ee==null?void 0:ee.getAttribute("id"))===F&&D(),k.emit()})}),group:F=>(i.current.has(F)||i.current.set(F,new Set),()=>{o.current.delete(F),i.current.delete(F)}),filter:()=>a.current.shouldFilter,label:l||t["aria-label"],getDisablePointerSelection:()=>a.current.disablePointerSelection,listId:y,inputId:_,labelId:w,listInnerRef:S}),[]);function T(F,G){var ee,te;let me=(te=(ee=a.current)==null?void 0:ee.filter)!=null?te:Vit;return F?me(F,n.current.search,G):0}function M(){if(!n.current.search||a.current.shouldFilter===!1)return;let F=n.current.filtered.items,G=[];n.current.filtered.groups.forEach(te=>{let me=i.current.get(te),Q=0;me.forEach(ke=>{let Z=F.get(ke);Q=Math.max(Z,Q)}),G.push([te,Q])});let ee=S.current;z().sort((te,me)=>{var Q,ke;let Z=te.getAttribute("id"),le=me.getAttribute("id");return((Q=F.get(le))!=null?Q:0)-((ke=F.get(Z))!=null?ke:0)}).forEach(te=>{let me=te.closest(VE);me?me.appendChild(te.parentElement===me?te:te.closest(`${VE} > *`)):ee.appendChild(te.parentElement===ee?te:te.closest(`${VE} > *`))}),G.sort((te,me)=>me[1]-te[1]).forEach(te=>{var me;let Q=(me=S.current)==null?void 0:me.querySelector(`${sg}[${Rf}="${encodeURIComponent(te[0])}"]`);Q==null||Q.parentElement.appendChild(Q)})}function D(){let F=z().find(ee=>ee.getAttribute("aria-disabled")!=="true"),G=F==null?void 0:F.getAttribute(Rf);k.setState("value",G||void 0)}function N(){var F,G,ee,te;if(!n.current.search||a.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let me=0;for(let Q of r.current){let ke=(G=(F=o.current.get(Q))==null?void 0:F.value)!=null?G:"",Z=(te=(ee=o.current.get(Q))==null?void 0:ee.keywords)!=null?te:[],le=T(ke,Z);n.current.filtered.items.set(Q,le),le>0&&me++}for(let[Q,ke]of i.current)for(let Z of ke)if(n.current.filtered.items.get(Z)>0){n.current.filtered.groups.add(Q);break}n.current.filtered.count=me}function L(){var F,G,ee;let te=I();te&&(((F=te.parentElement)==null?void 0:F.firstChild)===te&&((ee=(G=te.closest(sg))==null?void 0:G.querySelector(Bit))==null||ee.scrollIntoView({block:"nearest"})),te.scrollIntoView({block:"nearest"}))}function I(){var F;return(F=S.current)==null?void 0:F.querySelector(`${Zre}[aria-selected="true"]`)}function z(){var F;return Array.from(((F=S.current)==null?void 0:F.querySelectorAll(QU))||[])}function V(F){let G=z()[F];G&&k.setState("value",G.getAttribute(Rf))}function j(F){var G;let ee=I(),te=z(),me=te.findIndex(ke=>ke===ee),Q=te[me+F];(G=a.current)!=null&&G.loop&&(Q=me+F<0?te[te.length-1]:me+F===te.length?te[0]:te[me+F]),Q&&k.setState("value",Q.getAttribute(Rf))}function R(F){let G=I(),ee=G==null?void 0:G.closest(sg),te;for(;ee&&!te;)ee=F>0?Xit(ee,sg):Zit(ee,sg),te=ee==null?void 0:ee.querySelector(QU);te?k.setState("value",te.getAttribute(Rf)):j(F)}let $=()=>V(z().length-1),H=F=>{F.preventDefault(),F.metaKey?$():F.altKey?R(1):j(1)},Y=F=>{F.preventDefault(),F.metaKey?V(0):F.altKey?R(-1):j(-1)};return x.createElement(pe.div,{ref:e,tabIndex:-1,...b,"cmdk-root":"",onKeyDown:F=>{var G;(G=b.onKeyDown)==null||G.call(b,F);let ee=F.nativeEvent.isComposing||F.keyCode===229;if(!(F.defaultPrevented||ee))switch(F.key){case"n":case"j":{g&&F.ctrlKey&&H(F);break}case"ArrowDown":{H(F);break}case"p":case"k":{g&&F.ctrlKey&&Y(F);break}case"ArrowUp":{Y(F);break}case"Home":{F.preventDefault(),V(0);break}case"End":{F.preventDefault(),$();break}case"Enter":{F.preventDefault();let te=I();if(te){let me=new Event(fN);te.dispatchEvent(me)}}}}},x.createElement("label",{"cmdk-label":"",htmlFor:E.inputId,id:E.labelId,style:eot},l),QC(t,F=>x.createElement(Qre.Provider,{value:k},x.createElement(Jre.Provider,{value:E},F))))}),zit=x.forwardRef((t,e)=>{var n,r;let i=Zn(),o=x.useRef(null),s=x.useContext(eie),a=K0(),l=nie(t),c=(r=(n=l.current)==null?void 0:n.forceMount)!=null?r:s==null?void 0:s.forceMount;Gd(()=>{if(!c)return a.item(i,s==null?void 0:s.id)},[c]);let u=rie(i,o,[t.value,t.children,o],t.keywords),d=Ij(),f=Jc(C=>C.value&&C.value===u.current),h=Jc(C=>c||a.filter()===!1?!0:C.search?C.filtered.items.get(i)>0:!0);x.useEffect(()=>{let C=o.current;if(!(!C||t.disabled))return C.addEventListener(fN,m),()=>C.removeEventListener(fN,m)},[h,t.onSelect,t.disabled]);function m(){var C,k;p(),(k=(C=l.current).onSelect)==null||k.call(C,u.current)}function p(){d.setState("value",u.current,!0)}if(!h)return null;let{disabled:g,value:b,onSelect:y,forceMount:w,keywords:_,...S}=t;return x.createElement(pe.div,{ref:rl(o,e),...S,id:i,"cmdk-item":"",role:"option","aria-disabled":!!g,"aria-selected":!!f,"data-disabled":!!g,"data-selected":!!f,onPointerMove:g||a.getDisablePointerSelection()?void 0:p,onClick:g?void 0:m},t.children)}),Uit=x.forwardRef((t,e)=>{let{heading:n,children:r,forceMount:i,...o}=t,s=Zn(),a=x.useRef(null),l=x.useRef(null),c=Zn(),u=K0(),d=Jc(h=>i||u.filter()===!1?!0:h.search?h.filtered.groups.has(s):!0);Gd(()=>u.group(s),[]),rie(s,a,[t.value,t.heading,l]);let f=x.useMemo(()=>({id:s,forceMount:i}),[i]);return x.createElement(pe.div,{ref:rl(a,e),...o,"cmdk-group":"",role:"presentation",hidden:d?void 0:!0},n&&x.createElement("div",{ref:l,"cmdk-group-heading":"","aria-hidden":!0,id:c},n),QC(t,h=>x.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?c:void 0},x.createElement(eie.Provider,{value:f},h))))}),Hit=x.forwardRef((t,e)=>{let{alwaysRender:n,...r}=t,i=x.useRef(null),o=Jc(s=>!s.search);return!n&&!o?null:x.createElement(pe.div,{ref:rl(i,e),...r,"cmdk-separator":"",role:"separator"})}),Wit=x.forwardRef((t,e)=>{let{onValueChange:n,...r}=t,i=t.value!=null,o=Ij(),s=Jc(c=>c.search),a=Jc(c=>c.selectedItemId),l=K0();return x.useEffect(()=>{t.value!=null&&o.setState("search",t.value)},[t.value]),x.createElement(pe.input,{ref:e,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":l.listId,"aria-labelledby":l.labelId,"aria-activedescendant":a,id:l.inputId,type:"text",value:i?t.value:s,onChange:c=>{i||o.setState("search",c.target.value),n==null||n(c.target.value)}})}),qit=x.forwardRef((t,e)=>{let{children:n,label:r="Suggestions",...i}=t,o=x.useRef(null),s=x.useRef(null),a=Jc(c=>c.selectedItemId),l=K0();return x.useEffect(()=>{if(s.current&&o.current){let c=s.current,u=o.current,d,f=new ResizeObserver(()=>{d=requestAnimationFrame(()=>{let h=c.offsetHeight;u.style.setProperty("--cmdk-list-height",h.toFixed(1)+"px")})});return f.observe(c),()=>{cancelAnimationFrame(d),f.unobserve(c)}}},[]),x.createElement(pe.div,{ref:rl(o,e),...i,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":a,"aria-label":r,id:l.listId},QC(t,c=>x.createElement("div",{ref:rl(s,l.listInnerRef),"cmdk-list-sizer":""},c)))}),Git=x.forwardRef((t,e)=>{let{open:n,onOpenChange:r,overlayClassName:i,contentClassName:o,container:s,...a}=t;return x.createElement(Ste,{open:n,onOpenChange:r},x.createElement(lj,{container:s},x.createElement(qC,{"cmdk-overlay":"",className:i}),x.createElement(GC,{"aria-label":t.label,"cmdk-dialog":"",className:o},x.createElement(tie,{ref:e,...a}))))}),Kit=x.forwardRef((t,e)=>Jc(n=>n.filtered.count===0)?x.createElement(pe.div,{ref:e,...t,"cmdk-empty":"",role:"presentation"}):null),Yit=x.forwardRef((t,e)=>{let{progress:n,children:r,label:i="Loading...",...o}=t;return x.createElement(pe.div,{ref:e,...o,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},QC(t,s=>x.createElement("div",{"aria-hidden":!0},s)))}),Pi=Object.assign(tie,{List:qit,Item:zit,Input:Wit,Group:Uit,Separator:Hit,Dialog:Git,Empty:Kit,Loading:Yit});function Xit(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return n;n=n.nextElementSibling}}function Zit(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return n;n=n.previousElementSibling}}function nie(t){let e=x.useRef(t);return Gd(()=>{e.current=t}),e}var Gd=typeof window>"u"?x.useEffect:x.useLayoutEffect;function $f(t){let e=x.useRef();return e.current===void 0&&(e.current=t()),e}function Jc(t){let e=Ij(),n=()=>t(e.snapshot());return x.useSyncExternalStore(e.subscribe,n,n)}function rie(t,e,n,r=[]){let i=x.useRef(),o=K0();return Gd(()=>{var s;let a=(()=>{var c;for(let u of n){if(typeof u=="string")return u.trim();if(typeof u=="object"&&"current"in u)return u.current?(c=u.current.textContent)==null?void 0:c.trim():i.current}})(),l=r.map(c=>c.trim());o.value(t,a,l),(s=e.current)==null||s.setAttribute(Rf,a),i.current=a}),i}var Jit=()=>{let[t,e]=x.useState(),n=$f(()=>new Map);return Gd(()=>{n.current.forEach(r=>r()),n.current=new Map},[t]),(r,i)=>{n.current.set(r,i),e({})}};function Qit(t){let e=t.type;return typeof e=="function"?e(t.props):"render"in e?e.render(t.props):t}function QC({asChild:t,children:e},n){return t&&x.isValidElement(e)?x.cloneElement(Qit(e),{ref:e.ref},n(e.props.children)):n(e)}var eot={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const tot=lj,iie=x.forwardRef(({className:t,...e},n)=>v(qC,{ref:n,className:q("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));iie.displayName=qC.displayName;const not=x.forwardRef(({className:t,children:e,...n},r)=>P(tot,{children:[v(iie,{}),P(GC,{ref:r,className:q("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,P(dj,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[v(kD,{className:"h-4 w-4"}),v("span",{className:"sr-only",children:"Close"})]})]})]}));not.displayName=GC.displayName;const rot=x.forwardRef(({className:t,...e},n)=>v(cj,{ref:n,className:q("text-lg font-semibold leading-none tracking-tight",t),...e}));rot.displayName=cj.displayName;const iot=x.forwardRef(({className:t,...e},n)=>v(uj,{ref:n,className:q("text-sm text-muted-foreground",t),...e}));iot.displayName=uj.displayName;const oie=x.forwardRef(({className:t,...e},n)=>v(Pi,{ref:n,className:q("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...e}));oie.displayName=Pi.displayName;const sie=x.forwardRef(({className:t,...e},n)=>P("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[v(SD,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),v(Pi.Input,{ref:n,className:q("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...e})]}));sie.displayName=Pi.Input.displayName;const aie=x.forwardRef(({className:t,...e},n)=>v(Pi.List,{ref:n,className:q("max-h-[300px] overflow-y-auto overflow-x-hidden",t),...e}));aie.displayName=Pi.List.displayName;const lie=x.forwardRef((t,e)=>v(Pi.Empty,{ref:e,className:"py-6 text-center text-sm",...t}));lie.displayName=Pi.Empty.displayName;const cie=x.forwardRef(({className:t,...e},n)=>v(Pi.Group,{ref:n,className:q("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...e}));cie.displayName=Pi.Group.displayName;const oot=x.forwardRef(({className:t,...e},n)=>v(Pi.Separator,{ref:n,className:q("-mx-1 h-px bg-border",t),...e}));oot.displayName=Pi.Separator.displayName;const uie=x.forwardRef(({className:t,...e},n)=>v(Pi.Item,{ref:n,className:q("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",t),...e}));uie.displayName=Pi.Item.displayName;function e6({options:t,value:e,onChange:n,placeholder:r="Select option...",searchPlaceholder:i="Search option...",emptyPlaceholder:o="No option found.",className:s,disabled:a=!1}){var d;const[l,c]=x.useState(!1),u=(d=t.find(f=>f.value===e))==null?void 0:d.label;return P(Fa,{open:l,onOpenChange:c,children:[v(Ba,{asChild:!0,children:P(Ce,{variant:"outline",role:"combobox","aria-expanded":l,className:q("w-full justify-between",!e&&"text-muted-foreground",s),disabled:a,children:[e?u:r,v(Hle,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),v(Fs,{className:"w-[--radix-popover-trigger-width] p-0",children:P(oie,{children:[v(sie,{placeholder:i}),P(aie,{children:[v(lie,{children:o}),v(cie,{children:t.map(f=>P(uie,{value:f.value,onSelect:h=>{n(h===e?"":h),c(!1)},children:[v(ZS,{className:q("mr-2 h-4 w-4",e===f.value?"opacity-100":"opacity-0")}),f.label]},f.value))})]})]})})]})}var sot={};const aot=g0({id:qt(),description:qt().min(1,{message:"Description is required."}),fromDate:ll().nullable(),toDate:ll().nullable()}).refine(t=>!t.fromDate||!t.toDate||t.toDate>=t.fromDate,{message:"To Date cannot be earlier than From Date.",path:["toDate"]}),lot=g0({name:qt().min(3,{message:"Project name must be at least 3 characters."}),projectCode:qt().optional(),initiativeCode:qt().optional(),phase:ud(["pre_initiation","initiation","planning","execution","closure"],{required_error:"Phase is required."}),description:qt().optional(),portfolioId:qt().uuid({message:"Invalid Portfolio ID format."}).nullable().optional(),managerId:qt().uuid({message:"Invalid Manager ID format."}).nullable().optional(),owningDepartment:qt().optional(),projectSponsor:qt().min(1,{message:"Project Sponsor is required."}),projectOwner:qt().min(1,{message:"Project Owner is required."}),strategicObjective:ud(["digital_transformation","operational_excellence","customer_experience","innovation","sustainability"],{required_error:"Strategic Objective is required."}),corporateKPIs:iR(qt()).max(5,{message:"Maximum 5 KPIs allowed"}),startDate:ll({required_error:"Start date is required."}),endDate:ll({required_error:"End date is required."}),status:ud(["not_started","in_progress","on_hold","completed","cancelled","on_track","delayed","at_risk"],{required_error:"Status is required."}),budget:Ec({invalid_type_error:"Budget must be a number."}).nonnegative({message:"Budget cannot be negative."}).default(0),actualCost:Ec({invalid_type_error:"Actual cost must be a number."}).nonnegative({message:"Actual cost cannot be negative."}).default(0),forecastedSpend:Ec().optional(),projectFile:xq().optional()}).refine(t=>t.endDate>=t.startDate,{message:"End date cannot be earlier than start date.",path:["endDate"]}),cot=()=>{const t=vl(),{addProject:e}=La(),{portfolios:n,fetchPortfolios:r}=hm(),[i,o]=x.useState([]),[s,a]=x.useState(!1),[l,c]=x.useState([{id:ja(),description:"",fromDate:null,toDate:null}]),u=nR({resolver:fq(lot),defaultValues:{name:"",projectCode:"",initiativeCode:"",phase:"planning",description:"",portfolioId:"",managerId:"",owningDepartment:"",projectSponsor:"",projectOwner:"",strategicObjective:"digital_transformation",corporateKPIs:[],startDate:new Date,endDate:new Date(new Date().setMonth(new Date().getMonth()+3)),status:"not_started",budget:0,actualCost:0,forecastedSpend:0}});x.useEffect(()=>{r(),(async()=>{xe.info("Fetching managers from Supabase...");try{const{data:g,error:b}=await Te.from("users").select("id, display_name").eq("role","pm");if(b)throw b;o(g?g.filter(y=>y.id&&y.display_name).map(y=>({id:y.id,full_name:y.display_name})):[])}catch(g){console.error("Error fetching managers:",g),xe.error("Failed to load project managers."),o([])}})()},[r]);const d=()=>{c([...l,{id:ja(),description:"",fromDate:null,toDate:null}])},f=p=>{c(l.filter(g=>g.id!==p))},h=(p,g,b)=>{c(l.map(y=>y.id===p?{...y,[g]:b}:y))},m=async p=>{a(!0);try{let g=null;if(p.projectFile&&p.projectFile[0]){const S=p.projectFile[0],C=S.name.split(".").pop(),E=`project_files/${`${ja()}.${C}`}`,{data:T,error:M}=await Te.storage.from("project_files").upload(E,S);if(M){console.error("Error uploading file:",M),xe.error("Failed to upload project file."),a(!1);return}T&&(g=`${sot.NEXT_PUBLIC_SUPABASE_URL}/storage/v1/object/public/project_files/${E}`)}const b=[{stage:"G0",status:"not_started",notes:"",updatedAt:new Date().toISOString()},{stage:"G1",status:"not_started",notes:"",updatedAt:new Date().toISOString()},{stage:"G2",status:"not_started",notes:"",updatedAt:new Date().toISOString()},{stage:"G3",status:"not_started",notes:"",updatedAt:new Date().toISOString()},{stage:"G4",status:"not_started",notes:"",updatedAt:new Date().toISOString()}],y=l.map(S=>aot.safeParse(S)).filter(S=>{if(!S.success){const C=S.error.errors[0];return xe.error(`Deliverable Error: ${C.path.join(".")} - ${C.message}`),!1}return!0}).map(S=>S.data);if(y.length!==l.length){xe.error("Please fix the errors in the deliverables section."),a(!1);return}if(y.length===0){xe.error("At least one deliverable is required."),a(!1);return}const w=y.map(S=>({description:S.description,fromDate:S.fromDate?S.fromDate.toISOString().split("T")[0]:null,toDate:S.toDate?S.toDate.toISOString().split("T")[0]:null})),_={name:p.name,projectCode:p.projectCode||"",initiativeCode:p.initiativeCode||"",phase:p.phase,description:p.description??"",portfolioId:p.portfolioId==="none"||!p.portfolioId?null:p.portfolioId,managerId:p.managerId==="none"||!p.managerId?null:p.managerId,owningDepartment:p.owningDepartment||"",projectSponsor:p.projectSponsor||"",isDeleted:!1,projectOwner:p.projectOwner||"",strategicObjective:p.strategicObjective,corporateKPIs:p.corporateKPIs,deliverables:w,startDate:p.startDate.toISOString().split("T")[0],endDate:p.endDate.toISOString().split("T")[0],status:p.status,budget:p.budget,actualCost:p.actualCost,forecastedSpend:p.forecastedSpend,stageGates:b,milestones:[],risks:[],resources:[],documents:[],created_at:new Date().toISOString()};await e(_),xe.success("Project created successfully"),t("/projects")}catch(g){console.error("Error creating project:",g),xe.error("Failed to create project")}finally{a(!1)}};return v(qa,{children:v(Nr,{title:"Create New Project",children:v("div",{className:"max-w-4xl mx-auto",children:P(Ve,{children:[v(Xe,{children:v(wt,{children:"Project Details"})}),v(Ze,{children:v(iX,{...u,children:P("form",{onSubmit:u.handleSubmit(m),className:"space-y-6",children:[P("div",{className:"space-y-4",children:[v("h3",{className:"text-lg font-semibold",children:"Basic Information"}),P("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v(ft,{control:u.control,name:"name",render:({field:p})=>P(Ke,{children:[v(He,{children:"Project Name*"}),v(Ye,{children:v(Df,{label:"Project Name*",placeholder:"Enter project name",...p})}),v(lt,{})]})}),v(ft,{control:u.control,name:"projectCode",render:({field:p})=>P(Ke,{children:[v(He,{children:"Project Code"}),v(Ye,{children:v(Df,{label:"Project Code",placeholder:"e.g., PRJ-2025-003",...p})}),v(lt,{})]})}),v(ft,{control:u.control,name:"portfolioId",render:({field:p})=>P(Ke,{children:[v(He,{children:"Portfolio"}),v(Ye,{children:v(e6,{options:[{value:"none",label:"-- None --"},...n.map(g=>({value:g.id,label:g.name}))],value:p.value??"none",onChange:g=>p.onChange(g==="none"?null:g),placeholder:"Select portfolio...",searchPlaceholder:"Search portfolios...",emptyPlaceholder:"No portfolio found."})}),v(lt,{})]})}),v(ft,{control:u.control,name:"initiativeCode",render:({field:p})=>P(Ke,{children:[v(He,{children:"Initiative Code"}),v(Ye,{children:v(Df,{label:"Initiative Code",placeholder:"e.g., 3.2",...p})}),v(lt,{})]})}),v(ft,{control:u.control,name:"phase",render:({field:p})=>P(Ke,{children:[v(He,{children:"Phase*"}),P(go,{onValueChange:p.onChange,value:p.value,children:[v(Ye,{children:v(ji,{children:v(vo,{placeholder:"Select phase"})})}),P(Li,{children:[v(Oe,{value:"pre_initiation",children:"Pre-Initiation"}),v(Oe,{value:"initiation",children:"Initiation"}),v(Oe,{value:"planning",children:"Planning"}),v(Oe,{value:"execution",children:"Execution"}),v(Oe,{value:"closure",children:"Closure"})]})]}),v(lt,{})]})})]})]}),P("div",{className:"space-y-4 pt-6",children:[v("h3",{className:"text-lg font-semibold",children:"Strategic Alignment"}),P("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v(ft,{control:u.control,name:"strategicObjective",render:({field:p})=>P(Ke,{children:[v(He,{children:"Strategic Objective*"}),P(go,{onValueChange:p.onChange,value:p.value,children:[v(Ye,{children:v(ji,{children:v(vo,{placeholder:"Select strategic objective"})})}),P(Li,{children:[v(Oe,{value:"digital_transformation",children:"Digital Transformation"}),v(Oe,{value:"operational_excellence",children:"Operational Excellence"}),v(Oe,{value:"customer_experience",children:"Customer Experience"}),v(Oe,{value:"innovation",children:"Innovation"}),v(Oe,{value:"sustainability",children:"Sustainability"})]})]}),v(lt,{})]})}),v(ft,{control:u.control,name:"corporateKPIs",render:({field:p})=>P(Ke,{children:[v(He,{children:"Corporate KPIs"}),v(Ye,{children:v(un,{placeholder:"Enter KPIs (max 5)",value:p.value.join(", "),onChange:g=>{const b=g.target.value.split(",").map(y=>y.trim()).filter(y=>y);p.onChange(b.slice(0,5))}})}),v(lt,{})]})}),v(ft,{control:u.control,name:"owningDepartment",render:({field:p})=>P(Ke,{children:[v(He,{children:"Owning Department"}),v(Ye,{children:v(un,{placeholder:"e.g., CSR, Strategy, IT",...p})}),v(lt,{})]})}),v(ft,{control:u.control,name:"projectSponsor",render:({field:p})=>P(Ke,{children:[v(He,{children:"Project Sponsor*"}),v(Ye,{children:v(Df,{label:"Project Sponsor*",placeholder:"e.g., Tarik Khalifah",...p})}),v(lt,{})]})}),v(ft,{control:u.control,name:"projectOwner",render:({field:p})=>P(Ke,{children:[v(He,{children:"Project Owner*"}),v(Ye,{children:v(Df,{label:"Project Owner*",placeholder:"e.g., Reem Almeshari",...p})}),v(lt,{})]})}),v(ft,{control:u.control,name:"managerId",render:({field:p})=>P(Ke,{children:[v(He,{children:"Project Manager"}),v(Ye,{children:v(e6,{options:[{value:"none",label:"-- None --"},...i.map(g=>({value:g.id,label:g.full_name}))],value:p.value??"none",onChange:g=>p.onChange(g==="none"?null:g),placeholder:"Select project manager...",searchPlaceholder:"Search managers...",emptyPlaceholder:i.length===0?"Loading managers...":"No manager found.",disabled:i.length===0})}),v(lt,{})]})})]})]}),P("div",{className:"space-y-4 pt-6",children:[v(ft,{control:u.control,name:"projectFile",render:({field:p})=>P(Ke,{children:[v(He,{children:"Upload Project File"}),v(Ye,{children:v(Ait,{label:"Choose file",onChange:g=>{p.onChange(g)},existingFileUrl:""})}),v(lt,{})]})}),v("h3",{className:"text-lg font-semibold",children:"Project Description"}),P("div",{className:"grid grid-cols-1 gap-6",children:[v(ft,{control:u.control,name:"description",render:({field:p})=>P(Ke,{children:[v(He,{children:"Brief Description"}),v(Ye,{children:v($j,{placeholder:"Summarize scope, outcome, and relevance",rows:4,...p,value:p.value??""})}),v(lt,{})]})}),P("div",{className:"col-span-1 md:col-span-2 space-y-4",children:[" ",v(He,{children:"Deliverables*"}),l.map((p,g)=>v(Ve,{className:"p-4 relative",children:P("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[P(Ke,{className:"md:col-span-3",children:[v(He,{children:"Description"}),v(Ye,{children:v(un,{placeholder:"Deliverable description",value:p.description,onChange:b=>h(p.id,"description",b.target.value)})}),p.description===""&&v("p",{className:"text-sm text-destructive mt-1",children:"Description is required."})]}),P(Ke,{className:"flex flex-col",children:[v(He,{children:"From Date"}),P(Fa,{children:[v(Ba,{asChild:!0,children:v(Ye,{children:P(Ce,{variant:"outline",className:q("w-full pl-3 text-left font-normal",!p.fromDate&&"text-muted-foreground"),children:[p.fromDate?Ot(p.fromDate,"PPP"):v("span",{children:"Pick a date"}),v(Is,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),v(Fs,{className:"w-auto p-0",align:"start",children:v(Va,{mode:"single",selected:p.fromDate??void 0,onSelect:b=>h(p.id,"fromDate",b??null),initialFocus:!0})})]})]}),P(Ke,{className:"flex flex-col",children:[v(He,{children:"To Date"}),P(Fa,{children:[v(Ba,{asChild:!0,children:v(Ye,{children:P(Ce,{variant:"outline",className:q("w-full pl-3 text-left font-normal",!p.toDate&&"text-muted-foreground"),children:[p.toDate?Ot(p.toDate,"PPP"):v("span",{children:"Pick a date"}),v(Is,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),v(Fs,{className:"w-auto p-0",align:"start",children:v(Va,{mode:"single",selected:p.toDate??void 0,onSelect:b=>h(p.id,"toDate",b??null),disabled:b=>p.fromDate?b<p.fromDate:!1,initialFocus:!0})})]}),p.fromDate&&p.toDate&&p.toDate<p.fromDate&&v("p",{className:"text-sm text-destructive mt-1",children:"To Date cannot be before From Date."})]}),v("div",{className:"flex items-end justify-end",children:l.length>1&&P(Ce,{type:"button",variant:"destructive",size:"icon",onClick:()=>f(p.id),className:"h-9 w-9",children:[v(JS,{className:"h-4 w-4"}),v("span",{className:"sr-only",children:"Remove Deliverable"})]})})]})},p.id)),v(Ce,{type:"button",variant:"outline",onClick:d,className:"mt-2",children:"Add Deliverable"})]})]})]}),P("div",{className:"space-y-4 pt-6",children:[v("h3",{className:"text-lg font-semibold",children:"Timeline"}),P("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v(ft,{control:u.control,name:"startDate",render:({field:p})=>P(Ke,{className:"flex flex-col",children:[v(He,{children:"Start Date*"}),P(Fa,{children:[v(Ba,{asChild:!0,children:v(Ye,{children:P(Ce,{variant:"outline",className:q("w-full pl-3 text-left font-normal",!p.value&&"text-muted-foreground"),children:[p.value?Ot(p.value,"PPP"):v("span",{children:"Pick a date"}),v(Is,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),v(Fs,{className:"w-auto p-0",align:"start",children:v(Va,{mode:"single",selected:p.value,onSelect:p.onChange,initialFocus:!0})})]}),v(lt,{})]})}),v(ft,{control:u.control,name:"endDate",render:({field:p})=>P(Ke,{className:"flex flex-col",children:[v(He,{children:"End Date*"}),P(Fa,{children:[v(Ba,{asChild:!0,children:v(Ye,{children:P(Ce,{variant:"outline",className:q("w-full pl-3 text-left font-normal",!p.value&&"text-muted-foreground"),children:[p.value?Ot(p.value,"PPP"):v("span",{children:"Pick a date"}),v(Is,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),v(Fs,{className:"w-auto p-0",align:"start",children:v(Va,{mode:"single",selected:p.value,onSelect:p.onChange,initialFocus:!0})})]}),v(lt,{})]})})]})]}),P("div",{className:"space-y-4 pt-6",children:[v("h3",{className:"text-lg font-semibold",children:"Status & Financials"}),P("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[v(ft,{control:u.control,name:"status",render:({field:p})=>P(Ke,{children:[v(He,{children:"Project Status"}),P(go,{onValueChange:p.onChange,value:p.value,defaultValue:"not_started",children:[v(Ye,{children:v(ji,{children:v(vo,{placeholder:"Select status"})})}),P(Li,{children:[v(Oe,{value:"not_started",children:"Not Started"}),v(Oe,{value:"in_progress",children:"In Progress"}),v(Oe,{value:"on_track",children:"On Track"}),v(Oe,{value:"delayed",children:"Delayed"}),v(Oe,{value:"at_risk",children:"At Risk"}),v(Oe,{value:"on_hold",children:"On Hold"}),v(Oe,{value:"completed",children:"Completed"}),v(Oe,{value:"cancelled",children:"Cancelled"})]})]}),v(lt,{})]})}),v(ft,{control:u.control,name:"budget",render:({field:p})=>P(Ke,{children:[v(He,{children:"Approved Budget (SAR)"}),v(Ye,{children:v(un,{type:"number",placeholder:"0.00",...p,value:p.value??0,onChange:g=>p.onChange(parseFloat(g.target.value)||0)})}),v(lt,{})]})}),v(ft,{control:u.control,name:"actualCost",render:({field:p})=>P(Ke,{children:[v(He,{children:"Actual Cost (SAR)"}),v(Ye,{children:v(un,{type:"number",placeholder:"0.00",...p,value:p.value??0,onChange:g=>p.onChange(parseFloat(g.target.value)||0)})}),v(lt,{})]})})]})]}),v(Id,{}),P("div",{className:"flex justify-end gap-4",children:[v(Ce,{variant:"outline",type:"button",onClick:()=>t("/projects"),disabled:u.formState.isSubmitting||s,children:"Cancel"}),v(Ce,{type:"submit",disabled:u.formState.isSubmitting||s,children:u.formState.isSubmitting||s?P(ts,{children:[v("span",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-primary-foreground border-t-transparent"}),"Creating..."]}):"Create Project"})]})]})})})]})})})})},uot=()=>{const{portfolios:t,fetchPortfolios:e}=hm(),[n,r]=x.useState(""),[i,o]=x.useState("all");x.useEffect(()=>{e()},[e]);const s=t.filter(a=>{const l=a.name.toLowerCase().includes(n.toLowerCase())||a.description.toLowerCase().includes(n.toLowerCase()),c=i==="all"||a.type===i;return l&&c});return v(qa,{children:v(Nr,{title:"Portfolios",children:P("div",{className:"grid gap-6",children:[P("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[P("div",{className:"relative w-full sm:w-96",children:[v(SD,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground pointer-events-none"}),v(un,{type:"search",placeholder:"Search portfolios...",value:n,onChange:a=>r(a.target.value),className:"pl-9 w-full"})]}),v("div",{className:"flex w-full sm:w-auto",children:v(Ce,{asChild:!0,className:"w-full sm:w-auto",children:P(rn,{to:"/portfolios/new",children:[v(kc,{className:"h-4 w-4 mr-2"}),v("span",{children:"Add Portfolio"})]})})})]}),v("div",{className:"flex flex-wrap gap-2",children:v("div",{className:"w-full sm:w-52",children:P(go,{value:i,onValueChange:o,children:[v(ji,{children:v(vo,{placeholder:"Filter by Type"})}),P(Li,{children:[v(Oe,{value:"all",children:"All Types"}),v(Oe,{value:"sports",children:"Sports"}),v(Oe,{value:"assets",children:"Assets"}),v(Oe,{value:"corporate",children:"Corporate"})]})]})})}),P(JC,{defaultValue:"grid",children:[P("div",{className:"flex justify-between items-center",children:[P(G0,{children:[v(Wr,{value:"grid",children:"Grid View"}),v(Wr,{value:"list",children:"List View"})]}),P("p",{className:"text-sm text-muted-foreground",children:["Showing ",s.length," of ",t.length," portfolios"]})]}),v(qr,{value:"grid",children:s.length>0?v("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(a=>v(Qee,{portfolio:a},a.id))}):P("div",{className:"text-center py-12 border rounded-lg bg-white",children:[v("p",{className:"text-muted-foreground mb-4",children:"No portfolios match your search criteria"}),v(Ce,{asChild:!0,children:P(rn,{to:"/portfolios/new",children:[v(kc,{className:"h-4 w-4 mr-2"}),v("span",{children:"Create Portfolio"})]})})]})}),v(qr,{value:"list",children:s.length>0?v("div",{className:"border rounded-md overflow-hidden",children:P("table",{className:"w-full bg-white",children:[v("thead",{className:"bg-muted/30",children:P("tr",{className:"border-b",children:[v("th",{className:"text-left py-3 px-4 font-medium",children:"Name"}),v("th",{className:"text-left py-3 px-4 font-medium",children:"Type"}),v("th",{className:"text-left py-3 px-4 font-medium",children:"Projects"}),v("th",{className:"text-left py-3 px-4 font-medium",children:"Last Updated"}),v("th",{className:"py-3 px-4"})]})}),v("tbody",{children:s.map(a=>P("tr",{className:"border-b last:border-0 hover:bg-muted/10",children:[v("td",{className:"py-3 px-4 font-medium",children:a.name}),v("td",{className:"py-3 px-4 capitalize",children:a.type}),v("td",{className:"py-3 px-4",children:a.projectCount}),v("td",{className:"py-3 px-4",children:new Date(a.updatedAt).toLocaleDateString()}),v("td",{className:"py-3 px-4 text-right",children:v(Ce,{asChild:!0,variant:"ghost",size:"sm",children:v(rn,{to:`/portfolios/${a.id}`,children:"View"})})})]},a.id))})]})}):P("div",{className:"text-center py-12 border rounded-lg bg-white",children:[v("p",{className:"text-muted-foreground mb-4",children:"No portfolios match your search criteria"}),v(Ce,{asChild:!0,children:P(rn,{to:"/portfolios/new",children:[v(kc,{className:"h-4 w-4 mr-2"}),v("span",{children:"Create Portfolio"})]})})]})})]})]})})})};var die={exports:{}};(function(t,e){(function(n,r){r()})(Pn,function(){function n(c,u){return typeof u>"u"?u={autoBom:!1}:typeof u!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),u={autoBom:!u}),u.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function r(c,u,d){var f=new XMLHttpRequest;f.open("GET",c),f.responseType="blob",f.onload=function(){l(f.response,u,d)},f.onerror=function(){console.error("could not download file")},f.send()}function i(c){var u=new XMLHttpRequest;u.open("HEAD",c,!1);try{u.send()}catch{}return 200<=u.status&&299>=u.status}function o(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(u)}}var s=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Pn=="object"&&Pn.global===Pn?Pn:void 0,a=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=s.saveAs||(typeof window!="object"||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(c,u,d){var f=s.URL||s.webkitURL,h=document.createElement("a");u=u||c.name||"download",h.download=u,h.rel="noopener",typeof c=="string"?(h.href=c,h.origin===location.origin?o(h):i(h.href)?r(c,u,d):o(h,h.target="_blank")):(h.href=f.createObjectURL(c),setTimeout(function(){f.revokeObjectURL(h.href)},4e4),setTimeout(function(){o(h)},0))}:"msSaveOrOpenBlob"in navigator?function(c,u,d){if(u=u||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(n(c,d),u);else if(i(c))r(c,u,d);else{var f=document.createElement("a");f.href=c,f.target="_blank",setTimeout(function(){o(f)})}}:function(c,u,d,f){if(f=f||open("","_blank"),f&&(f.document.title=f.document.body.innerText="downloading..."),typeof c=="string")return r(c,u,d);var h=c.type==="application/octet-stream",m=/constructor/i.test(s.HTMLElement)||s.safari,p=/CriOS\/[\d]+/.test(navigator.userAgent);if((p||h&&m||a)&&typeof FileReader<"u"){var g=new FileReader;g.onloadend=function(){var w=g.result;w=p?w:w.replace(/^data:[^;]*;/,"data:attachment/file;"),f?f.location.href=w:location=w,f=null},g.readAsDataURL(c)}else{var b=s.URL||s.webkitURL,y=b.createObjectURL(c);f?f.location=y:location.href=y,f=null,setTimeout(function(){b.revokeObjectURL(y)},4e4)}});s.saveAs=l.saveAs=l,t.exports=l})})(die);var dot=die.exports;const fot=({events:t})=>v("div",{children:t.map((e,n)=>P("div",{children:[v("strong",{children:e.date}),": ",e.description]},n))}),hot=({data:t})=>v("div",{children:t.map((e,n)=>P("div",{children:[v("strong",{children:e.name}),": ",e.risks.length," risks"]},n))}),pot=A.lazy(()=>sl(()=>import("./ProjectsTab-B4T3l53X.js"),[])),mot=A.lazy(()=>sl(()=>import("./TeamTab-Nqq0xNj1.js"),[])),got=A.lazy(()=>sl(()=>import("./ReportsTab-DQc_1KLU.js"),[])),vot=()=>{const{id:t}=HD(),{data:e=[],isLoading:n,error:r}=fZ(),{data:i=[],isLoading:o,error:s}=dZ();if(r||s)return v(Nr,{title:"Error Loading Portfolio",children:P("div",{className:"flex flex-col items-center justify-center h-64 space-y-4",children:[v("h2",{className:"text-2xl font-bold",children:"Error Loading Data"}),v("p",{className:"text-muted-foreground",children:(r==null?void 0:r.message)||(s==null?void 0:s.message)||"An unexpected error occurred."}),v(Ce,{asChild:!0,children:v(rn,{to:"/portfolios",children:"Back to Portfolios"})})]})});const a=e.find(w=>w.id===t),l=i.filter(w=>w.portfolioId===t),c=w=>{const _=w.reduce((M,D)=>M+D.budget,0),S=w.reduce((M,D)=>M+D.actualCost,0),C=_>0?Math.round(S/_*100):0,k=w.filter(M=>M.status==="in_progress").length,E=w.filter(M=>M.status==="completed").length,T=w.filter(M=>M.risks.some(D=>D.impact==="high"&&D.status==="open")).length;return{totalBudget:_,totalSpent:S,budgetUtilization:C,activeProjects:k,completedProjects:E,highRiskProjects:T}},{totalBudget:u,totalSpent:d,budgetUtilization:f,activeProjects:h,completedProjects:m,highRiskProjects:p}=c(l);if(n||o)return v(Nr,{title:"Loading Portfolio...",children:P("div",{className:"grid grid-cols-12 gap-6",children:[v("div",{className:"col-span-12 lg:col-span-8",children:P(Ve,{children:[P(Xe,{children:[v(ct,{className:"h-8 w-3/4 mb-2"}),v(ct,{className:"h-4 w-1/2"})]}),P(Ze,{className:"grid gap-4",children:[P("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v(ct,{className:"h-10 w-full"}),v(ct,{className:"h-10 w-full"})]}),v(ct,{className:"h-24 w-full"}),v(Id,{}),v(ct,{className:"h-10 w-1/3"}),v(ct,{className:"h-40 w-full"})]})]})}),v("div",{className:"col-span-12 lg:col-span-4",children:P(Ve,{children:[P(Xe,{children:[v(ct,{className:"h-6 w-1/2 mb-2"}),v(ct,{className:"h-4 w-1/3"})]}),v(Ze,{children:v(ct,{className:"h-20 w-full"})})]})})]})});if(!a)return v(Nr,{title:"Portfolio Not Found",children:P("div",{className:"flex flex-col items-center justify-center h-64 space-y-4",children:[v("h2",{className:"text-2xl font-bold",children:"Portfolio Not Found"}),v("p",{className:"text-muted-foreground",children:"The portfolio you're looking for doesn't exist or you don't have access to it."}),v(Ce,{asChild:!0,children:v(rn,{to:"/portfolios",children:"Back to Portfolios"})})]})});const b=w=>{switch(w){case"sports":return v(Ue,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:"Sports"});case"assets":return v(Ue,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:"Assets"});case"corporate":return v(Ue,{variant:"outline",className:"bg-purple-50 text-purple-700 border-purple-200",children:"Corporate"});default:return v(Ue,{variant:"outline",children:"Other"})}},y=(w,_)=>{const C=[{key:"Portfolio Name",value:w.name},{key:"Description",value:w.description},{key:"Total Budget",value:`$${(_.reduce((E,T)=>E+T.budget,0)/1e3).toFixed(0)}k`},{key:"Total Spent",value:`$${(_.reduce((E,T)=>E+T.actualCost,0)/1e3).toFixed(0)}k`},{key:"High Risk Projects",value:_.filter(E=>E.risks.some(T=>T.impact==="high")).length}].map(E=>`${E.key},${E.value}`).join(`
`),k=new Blob([C],{type:"text/csv;charset=utf-8;"});dot.saveAs(k,`${w.name}_details.csv`)};return v(Nr,{title:a.name,children:P("div",{className:"space-y-6",children:[P("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[P("div",{className:"space-y-2",children:[P("div",{className:"flex items-center gap-3",children:[v("div",{className:"bg-primary/10 p-3 rounded-full",children:v(bD,{className:"h-6 w-6 text-primary"})}),v("h1",{className:"text-3xl font-bold",children:a.name}),b(a.type)]}),v("p",{className:"text-muted-foreground text-sm",children:a.description})]}),P("div",{className:"flex items-center gap-3",children:[v(Ce,{asChild:!0,"aria-label":"Add a new project",children:P(rn,{to:"/projects/new",children:[v(kc,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),v("span",{children:"Add Project"})]})}),v(Ce,{onClick:()=>y(a,l),"aria-label":"Export Portfolio Data",children:"Export Data"})]})]}),P("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[v(vg,{title:"Projects",content:P(ts,{children:[v("div",{className:"text-2xl font-bold",children:l.length}),P("p",{className:"text-xs text-muted-foreground mt-1",children:[h," active, ",m," completed"]})]})}),v(vg,{title:"Budget",content:P(ts,{children:[P("div",{className:"text-2xl font-bold",children:["$",(u/1e3).toFixed(0),"k"]}),P("p",{className:"text-xs text-muted-foreground mt-1",children:["$",(d/1e3).toFixed(0),"k spent (",f,"%)"]})]})}),v(vg,{title:"Last Updated",content:P(ts,{children:[v("div",{className:"text-2xl font-bold",children:Ot(new Date(a.updatedAt),"MMM d")}),v("p",{className:"text-xs text-muted-foreground mt-1",children:Ot(new Date(a.updatedAt),"yyyy")})]})}),v(vg,{title:"High Risk Projects",content:P(ts,{children:[v("div",{className:"text-2xl font-bold",children:p}),v("p",{className:"text-xs text-muted-foreground mt-1",children:p>0?"Needs attention":"No high risks"})]})})]}),P(JC,{defaultValue:"projects",className:"space-y-4",children:[P(G0,{children:[P(Wr,{value:"projects",children:[v(g8,{className:"h-4 w-4 mr-2"}),v("span",{children:"Projects"})]}),P(Wr,{value:"team",children:[v(CD,{className:"h-4 w-4 mr-2"}),v("span",{children:"Team"})]}),P(Wr,{value:"reports",children:[v(Vle,{className:"h-4 w-4 mr-2"}),v("span",{children:"Reports"})]})]}),v(qr,{value:"projects",className:"space-y-4",children:v(x.Suspense,{fallback:v(ct,{className:"h-40 w-full"}),children:v(pot,{portfolioProjects:l})})}),v(qr,{value:"team",className:"space-y-4",children:v(x.Suspense,{fallback:v(ct,{className:"h-40 w-full"}),children:v(mot,{})})}),v(qr,{value:"reports",className:"space-y-4",children:v(x.Suspense,{fallback:v(ct,{className:"h-40 w-full"}),children:v(got,{})})})]}),v(fot,{events:a.events}),v(hot,{data:l.map(w=>({name:w.name,risks:w.risks}))})]})})},yot=()=>v("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background p-4",children:P("div",{className:"max-w-md w-full text-center",children:[v("div",{className:"bg-amber-100 rounded-full h-20 w-20 flex items-center justify-center mx-auto mb-6",children:v(QS,{className:"h-10 w-10 text-amber-600"})}),v("h1",{className:"text-3xl font-bold mb-3",children:"Access Denied"}),v("p",{className:"text-muted-foreground mb-6",children:"You don't have permission to access this page. Please contact your administrator for access."}),v(Ce,{asChild:!0,children:v(rn,{to:"/",children:"Go to Dashboard"})})]})}),bot=()=>{const{projects:t,fetchProjects:e}=La(),{portfolios:n,fetchPortfolios:r}=hm();x.useEffect(()=>{e(),r()},[e,r]);const i=t.length,o=t.reduce((_,S)=>_+S.budget,0),s=t.reduce((_,S)=>_+S.actualCost,0),a=o>0?s/o*100:0,l=t.reduce((_,S)=>(_[S.status]=(_[S.status]||0)+1,_),{}),c=Object.entries(l).map(([_,S])=>({name:_.replace("_"," "),count:S})),u=n.map(_=>({name:_.name,projectCount:t.filter(S=>S.portfolioId===_.id).length,budget:t.filter(S=>S.portfolioId===_.id).reduce((S,C)=>S+C.budget,0),spent:t.filter(S=>S.portfolioId===_.id).reduce((S,C)=>S+C.actualCost,0)})),d=t.flatMap(_=>_.risks).reduce((_,S)=>(_[S.impact]=(_[S.impact]||0)+1,_),{}),f=t.flatMap(_=>_.risks).reduce((_,S)=>(_[S.status]=(_[S.status]||0)+1,_),{}),h=[{name:"High",value:d.high||0,color:"#ef4444"},{name:"Medium",value:d.medium||0,color:"#f59e0b"},{name:"Low",value:d.low||0,color:"#10b981"}],m=[{name:"Open",value:f.open||0,color:"#ef4444"},{name:"Mitigated",value:f.mitigated||0,color:"#f59e0b"},{name:"Closed",value:f.closed||0,color:"#10b981"}],p=[{month:"Jan",planned:2e5,actual:21e4},{month:"Feb",planned:4e5,actual:39e4},{month:"Mar",planned:6e5,actual:62e4},{month:"Apr",planned:8e5,actual:85e4},{month:"May",planned:1e6,actual:11e5},{month:"Jun",planned:12e5,actual:135e4}],g=t.reduce((_,S)=>(S.strategicObjective&&(_[S.strategicObjective]=(_[S.strategicObjective]||0)+1),_),{}),b=Object.entries(g).map(([_,S])=>({name:_.split("_").map(C=>C.charAt(0).toUpperCase()+C.slice(1)).join(" "),count:S,color:_==="digital_transformation"?"#3b82f6":_==="operational_excellence"?"#10b981":_==="customer_experience"?"#f59e0b":_==="innovation"?"#6366f1":"#ef4444"})),y=t.reduce((_,S)=>{var C;return(C=S.corporateKPIs)==null||C.forEach(k=>{_[k]=(_[k]||0)+1}),_},{}),w=Object.entries(y).map(([_,S])=>({name:_,count:S})).sort((_,S)=>S.count-_.count).slice(0,5);return v(qa,{children:v(Nr,{title:"Executive Report",children:P("div",{className:"space-y-6",children:[P("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[P(Ve,{children:[v(Xe,{className:"pb-2",children:v(wt,{className:"text-sm font-medium",children:"Total Projects"})}),P(Ze,{children:[v("div",{className:"text-2xl font-bold",children:i}),v("div",{className:"flex mt-2",children:c.map((_,S)=>v("div",{className:"h-1.5 first:rounded-l-full last:rounded-r-full",style:{width:`${_.count/i*100}%`,backgroundColor:_.name==="completed"?"#10b981":_.name==="in progress"?"#3b82f6":_.name==="on hold"?"#f59e0b":_.name==="not started"?"#6b7280":"#ef4444"}},S))})]})]}),P(Ve,{children:[v(Xe,{className:"pb-2",children:v(wt,{className:"text-sm font-medium",children:"Total Budget"})}),P(Ze,{children:[P("div",{className:"text-2xl font-bold",children:["$",(o/1e6).toFixed(2),"M"]}),v("div",{className:"text-xs text-muted-foreground mt-1",children:"Across all active projects"})]})]}),P(Ve,{children:[v(Xe,{className:"pb-2",children:v(wt,{className:"text-sm font-medium",children:"Actual Spend"})}),P(Ze,{children:[P("div",{className:"text-2xl font-bold",children:["$",(s/1e6).toFixed(2),"M"]}),P("div",{className:"text-xs text-muted-foreground mt-1",children:[a.toFixed(1),"% of total budget"]})]})]}),P(Ve,{children:[v(Xe,{className:"pb-2",children:v(wt,{className:"text-sm font-medium",children:"Open Risks"})}),P(Ze,{children:[v("div",{className:"text-2xl font-bold",children:t.flatMap(_=>_.risks).filter(_=>_.status==="open").length}),P("div",{className:"flex mt-1",children:[P(Ue,{className:"mr-1 bg-risk-high",children:[t.flatMap(_=>_.risks).filter(_=>_.status==="open"&&_.impact==="high").length," High"]}),P(Ue,{className:"mr-1 bg-risk-medium",children:[t.flatMap(_=>_.risks).filter(_=>_.status==="open"&&_.impact==="medium").length," Medium"]})]})]})]})]}),P(JC,{defaultValue:"overview",children:[P(G0,{children:[v(Wr,{value:"overview",children:"Overview"}),v(Wr,{value:"budgets",children:"Budgets"}),v(Wr,{value:"risks",children:"Risks"}),v(Wr,{value:"portfolios",children:"Portfolios"}),v(Wr,{value:"strategic",children:"Strategic Alignment"})]}),v(qr,{value:"overview",className:"space-y-4",children:P("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[P(Ve,{children:[v(Xe,{children:v(wt,{children:"Project Status Distribution"})}),v(Ze,{children:v("div",{className:"h-80",children:v(uo,{width:"100%",height:"100%",children:P(Cg,{data:c,children:[v(ju,{strokeDasharray:"3 3"}),v(Ds,{dataKey:"name"}),v(Rs,{}),v(Tn,{}),v(Er,{}),v(fi,{dataKey:"count",name:"Projects",fill:"#3b82f6"})]})})})})]}),P(Ve,{children:[v(Xe,{children:v(wt,{children:"Budget vs. Actual by Portfolio"})}),v(Ze,{children:v("div",{className:"h-80",children:v(uo,{width:"100%",height:"100%",children:P(Cg,{data:u,children:[v(ju,{strokeDasharray:"3 3"}),v(Ds,{dataKey:"name"}),v(Rs,{}),v(Tn,{formatter:_=>`$${(_/1e6).toFixed(2)}M`}),v(Er,{}),v(fi,{dataKey:"budget",name:"Budget",fill:"#3b82f6"}),v(fi,{dataKey:"spent",name:"Actual Spend",fill:"#f59e0b"})]})})})})]}),P(Ve,{className:"lg:col-span-2",children:[v(Xe,{children:v(wt,{children:"Budget Trend over Time"})}),v(Ze,{children:v("div",{className:"h-80",children:v(uo,{width:"100%",height:"100%",children:P(Aet,{data:p,children:[v(ju,{strokeDasharray:"3 3"}),v(Ds,{dataKey:"month"}),v(Rs,{}),v(Tn,{formatter:_=>`$${(_/1e3).toFixed(0)}k`}),v(Er,{}),v(Hp,{type:"monotone",dataKey:"planned",name:"Planned Spend",stroke:"#3b82f6",activeDot:{r:8}}),v(Hp,{type:"monotone",dataKey:"actual",name:"Actual Spend",stroke:"#ef4444"})]})})})})]})]})}),v(qr,{value:"budgets",className:"space-y-4",children:P("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[P(Ve,{children:[v(Xe,{children:v(wt,{children:"Overall Budget Utilization"})}),v(Ze,{children:P("div",{className:"space-y-6",children:[P("div",{className:"space-y-2",children:[P("div",{className:"flex justify-between text-sm",children:[v("span",{children:"Total Budget Utilization"}),P("span",{className:q("font-medium",a>90?"text-risk-high":a>75?"text-amber-500":""),children:[a.toFixed(1),"%"]})]}),v(Wd,{value:a,className:q("h-2",a>90?"text-risk-high":a>75?"text-amber-500":"")})]}),P("div",{className:"pt-4 border-t",children:[v("div",{className:"text-sm font-medium mb-4",children:"Budget Details"}),P("div",{className:"grid grid-cols-2 gap-4",children:[P("div",{children:[v("div",{className:"text-xs text-muted-foreground",children:"Total Budget"}),P("div",{className:"text-lg font-bold",children:["$",(o/1e6).toFixed(2),"M"]})]}),P("div",{children:[v("div",{className:"text-xs text-muted-foreground",children:"Total Spent"}),P("div",{className:"text-lg font-bold",children:["$",(s/1e6).toFixed(2),"M"]})]}),P("div",{children:[v("div",{className:"text-xs text-muted-foreground",children:"Remaining"}),P("div",{className:"text-lg font-bold",children:["$",((o-s)/1e6).toFixed(2),"M"]})]}),P("div",{children:[v("div",{className:"text-xs text-muted-foreground",children:"Forecast Variance"}),v("div",{className:"text-lg font-bold text-amber-500",children:"+2.1%"})]})]})]})]})})]}),P(Ve,{children:[v(Xe,{children:v(wt,{children:"Budget by Project Status"})}),v(Ze,{children:v("div",{className:"h-80",children:v(uo,{width:"100%",height:"100%",children:P(nv,{children:[v(Yi,{data:t.reduce((_,S)=>{const C=_.findIndex(k=>k.name===S.status);return C>=0?_[C].value+=S.budget:_.push({name:S.status,value:S.budget,color:S.status==="completed"?"#10b981":S.status==="in_progress"?"#3b82f6":S.status==="on_hold"?"#f59e0b":S.status==="not_started"?"#6b7280":"#ef4444"}),_},[]),cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",label:({name:_,percent:S})=>`${_}: ${(S*100).toFixed(0)}%`,labelLine:!0,children:t.reduce((_,S)=>(_.findIndex(k=>k.name===S.status)===-1&&_.push({name:S.status,value:S.budget,color:S.status==="completed"?"#10b981":S.status==="in_progress"?"#3b82f6":S.status==="on_hold"?"#f59e0b":S.status==="not_started"?"#6b7280":"#ef4444"}),_),[]).map((_,S)=>v(hc,{fill:_.color},`cell-${S}`))}),v(Tn,{formatter:_=>`$${(_/1e6).toFixed(2)}M`}),v(Er,{})]})})})})]}),P(Ve,{className:"md:col-span-2",children:[v(Xe,{children:v(wt,{children:"Top Projects by Budget"})}),v(Ze,{children:v("div",{className:"overflow-x-auto",children:P("table",{className:"w-full",children:[v("thead",{children:P("tr",{className:"border-b",children:[v("th",{className:"text-left py-3 font-medium",children:"Project"}),v("th",{className:"text-left py-3 font-medium",children:"Portfolio"}),v("th",{className:"text-right py-3 font-medium",children:"Budget"}),v("th",{className:"text-right py-3 font-medium",children:"Spent"}),v("th",{className:"text-right py-3 font-medium",children:"% Used"}),v("th",{className:"text-right py-3 font-medium",children:"Status"})]})}),v("tbody",{children:t.sort((_,S)=>S.budget-_.budget).slice(0,5).map(_=>{const S=n.find(k=>k.id===_.portfolioId),C=_.actualCost/_.budget*100;return P("tr",{className:"border-b hover:bg-muted/30",children:[v("td",{className:"py-3 font-medium",children:_.name}),v("td",{className:"py-3",children:(S==null?void 0:S.name)||"Unknown"}),P("td",{className:"py-3 text-right",children:["$",(_.budget/1e6).toFixed(2),"M"]}),P("td",{className:"py-3 text-right",children:["$",(_.actualCost/1e6).toFixed(2),"M"]}),v("td",{className:"py-3 text-right",children:P("span",{className:q(C>90?"text-risk-high":C>75?"text-amber-500":""),children:[C.toFixed(1),"%"]})}),v("td",{className:"py-3 text-right",children:v(Ue,{className:q(_.status==="completed"?"bg-risk-low":_.status==="in_progress"?"bg-blue-500":_.status==="on_hold"?"bg-amber-500":_.status==="cancelled"?"bg-risk-high":"bg-muted"),children:_.status.replace("_"," ")})})]},_.id)})})]})})})]})]})}),v(qr,{value:"risks",className:"space-y-4",children:P("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[P(Ve,{children:[v(Xe,{children:v(wt,{children:"Risk Impact Distribution"})}),v(Ze,{children:v("div",{className:"h-80",children:v(uo,{width:"100%",height:"100%",children:P(nv,{children:[v(Yi,{data:h,cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",label:({name:_,percent:S})=>`${_}: ${(S*100).toFixed(0)}%`,labelLine:!0,children:h.map((_,S)=>v(hc,{fill:_.color},`cell-${S}`))}),v(Tn,{}),v(Er,{})]})})})})]}),P(Ve,{children:[v(Xe,{children:v(wt,{children:"Risk Status Distribution"})}),v(Ze,{children:v("div",{className:"h-80",children:v(uo,{width:"100%",height:"100%",children:P(nv,{children:[v(Yi,{data:m,cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",label:({name:_,percent:S})=>`${_}: ${(S*100).toFixed(0)}%`,labelLine:!0,children:m.map((_,S)=>v(hc,{fill:_.color},`cell-${S}`))}),v(Tn,{}),v(Er,{})]})})})})]}),P(Ve,{className:"md:col-span-2",children:[v(Xe,{children:v(wt,{children:"High Impact Risks"})}),v(Ze,{children:v("div",{className:"overflow-x-auto",children:P("table",{className:"w-full",children:[v("thead",{children:P("tr",{className:"border-b",children:[v("th",{className:"text-left py-3 font-medium",children:"Project"}),v("th",{className:"text-left py-3 font-medium",children:"Risk Description"}),v("th",{className:"text-left py-3 font-medium",children:"Impact"}),v("th",{className:"text-left py-3 font-medium",children:"Status"}),v("th",{className:"text-left py-3 font-medium",children:"Mitigation"})]})}),v("tbody",{children:t.flatMap(_=>_.risks.filter(S=>S.impact==="high").map(S=>({projectName:_.name,projectId:_.id,...S}))).map(_=>P("tr",{className:"border-b hover:bg-muted/30",children:[v("td",{className:"py-3 font-medium",children:_.projectName}),v("td",{className:"py-3",children:_.description}),v("td",{className:"py-3",children:v(Ue,{className:"bg-risk-high",children:"High"})}),v("td",{className:"py-3",children:v(Ue,{variant:"outline",className:q(_.status==="open"?"border-risk-high bg-risk-high/10 text-risk-high":_.status==="mitigated"?"border-amber-500 bg-amber-500/10 text-amber-500":"border-risk-low bg-risk-low/10 text-risk-low"),children:_.status})}),v("td",{className:"py-3",children:_.mitigation||"No mitigation plan"})]},_.id))})]})})})]})]})}),v(qr,{value:"portfolios",className:"space-y-4",children:v("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(_=>{const S=t.filter(M=>M.portfolioId===_.id),C=S.reduce((M,D)=>M+D.budget,0),k=S.reduce((M,D)=>M+D.actualCost,0),E=C>0?k/C*100:0,T=S.reduce((M,D)=>(M[D.status]=(M[D.status]||0)+1,M),{});return P(Ve,{children:[v(Xe,{className:"pb-2",children:P("div",{className:"flex justify-between items-start",children:[v(wt,{className:"text-lg",children:_.name}),v(Ue,{className:"capitalize",children:_.type})]})}),v(Ze,{children:P("div",{className:"space-y-4",children:[P("div",{children:[P("div",{className:"flex justify-between text-sm mb-1",children:[v("span",{children:"Projects"}),v("span",{children:S.length})]}),v("div",{className:"flex h-1.5",children:Object.entries(T).map(([M,D],N)=>v("div",{className:"first:rounded-l-full last:rounded-r-full",style:{width:S.length>0?`${D/S.length*100}%`:"0%",backgroundColor:M==="completed"?"#10b981":M==="in_progress"?"#3b82f6":M==="on_hold"?"#f59e0b":M==="not_started"?"#6b7280":"#ef4444"}},N))})]}),P("div",{children:[P("div",{className:"flex justify-between text-sm mb-1",children:[v("span",{children:"Budget Utilization"}),P("span",{className:q("font-medium",E>90?"text-risk-high":E>75?"text-amber-500":""),children:[E.toFixed(1),"%"]})]}),v(Wd,{value:E,className:q("h-1.5",E>90?"text-risk-high":E>75?"text-amber-500":"")})]}),P("div",{className:"grid grid-cols-2 gap-2 pt-2 border-t",children:[P("div",{children:[v("div",{className:"text-xs text-muted-foreground",children:"Total Budget"}),P("div",{className:"font-medium",children:["$",(C/1e6).toFixed(2),"M"]})]}),P("div",{children:[v("div",{className:"text-xs text-muted-foreground",children:"Spent"}),P("div",{className:"font-medium",children:["$",(k/1e6).toFixed(2),"M"]})]}),P("div",{children:[v("div",{className:"text-xs text-muted-foreground",children:"Open Risks"}),v("div",{className:"font-medium",children:S.flatMap(M=>M.risks).filter(M=>M.status==="open").length})]}),P("div",{children:[v("div",{className:"text-xs text-muted-foreground",children:"High Impact"}),v("div",{className:"font-medium",children:S.flatMap(M=>M.risks).filter(M=>M.status==="open"&&M.impact==="high").length})]})]})]})})]},_.id)})})}),v(qr,{value:"strategic",className:"space-y-4",children:P("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[P(Ve,{children:[v(Xe,{children:v(wt,{children:"Strategic Objectives Distribution"})}),v(Ze,{children:v("div",{className:"h-80",children:v(uo,{width:"100%",height:"100%",children:P(Cg,{data:b,children:[v(ju,{strokeDasharray:"3 3"}),v(Ds,{dataKey:"name"}),v(Rs,{}),v(Tn,{}),v(Er,{}),v(fi,{dataKey:"count",name:"Projects",fill:"#3b82f6",children:b.map((_,S)=>v(hc,{fill:_.color},`cell-${S}`))})]})})})})]}),P(Ve,{children:[v(Xe,{children:v(wt,{children:"Top Corporate KPIs"})}),v(Ze,{children:v("div",{className:"h-80",children:v(uo,{width:"100%",height:"100%",children:P(Cg,{data:w,children:[v(ju,{strokeDasharray:"3 3"}),v(Ds,{dataKey:"name"}),v(Rs,{}),v(Tn,{}),v(Er,{}),v(fi,{dataKey:"count",name:"Projects",fill:"#10b981"})]})})})})]}),P(Ve,{className:"md:col-span-2",children:[v(Xe,{children:v(wt,{children:"Strategic Alignment Details"})}),v(Ze,{children:v("div",{className:"overflow-x-auto",children:P("table",{className:"w-full",children:[v("thead",{children:P("tr",{className:"border-b",children:[v("th",{className:"text-left py-3 font-medium",children:"Project"}),v("th",{className:"text-left py-3 font-medium",children:"Strategic Objective"}),v("th",{className:"text-left py-3 font-medium",children:"Corporate KPIs"}),v("th",{className:"text-left py-3 font-medium",children:"Portfolio"})]})}),v("tbody",{children:t.filter(_=>_.strategicObjective).map(_=>{var C;const S=n.find(k=>k.id===_.portfolioId);return P("tr",{className:"border-b hover:bg-muted/30",children:[v("td",{className:"py-3 font-medium",children:_.name}),v("td",{className:"py-3",children:v(Ue,{variant:"outline",children:_.strategicObjective.split("_").map(k=>k.charAt(0).toUpperCase()+k.slice(1)).join(" ")})}),v("td",{className:"py-3",children:(C=_.corporateKPIs)==null?void 0:C.map((k,E)=>v(Ue,{variant:"secondary",className:"mr-1",children:k},E))}),v("td",{className:"py-3",children:(S==null?void 0:S.name)||"Unassigned"})]},_.id)})})]})})})]})]})})]})]})})})};function wot(){const[t,e]=x.useState(!1);return x.useEffect(()=>{localStorage.getItem("theme")==="dark"?(document.documentElement.classList.add("dark"),e(!0)):(document.documentElement.classList.remove("dark"),e(!1))},[]),{isDark:t,toggleDarkMode:()=>{document.documentElement.classList.contains("dark")?(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"),e(!1)):(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark"),e(!0))}}}class xot extends x.Component{constructor(){super(...arguments);Bj(this,"state",{hasError:!1})}static getDerivedStateFromError(n){return{hasError:!0}}componentDidCatch(n,r){console.error("Uncaught error:",n,r)}render(){return this.state.hasError?v("div",{className:"flex items-center justify-center h-screen bg-background text-destructive",children:P("div",{className:"text-center p-8 border rounded-lg shadow-md",children:[v("h1",{className:"text-2xl font-bold mb-4",children:"Something went wrong."}),v("p",{className:"text-muted-foreground",children:"An unexpected error occurred. Please try refreshing the page or contact support if the problem persists."})]})}):this.props.children}}const Sot=new u9,_ot=()=>{const{isDark:t,toggleDarkMode:e}=wot();return v(h9,{client:Sot,children:P(t9,{children:[v(Hce,{}),v(Sue,{}),P("div",{className:"flex justify-between items-center p-4 bg-gray-100 dark:bg-gray-800",children:[v("h1",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"Harmony Suite"}),v(Ce,{onClick:e,variant:"outline",className:"px-4 py-2",children:t?"Light Mode":"Dark Mode"})]}),v(_he,{children:P(xot,{children:[" ",P(mhe,{children:[v(Ei,{path:"/",element:v(Xme,{})}),v(Ei,{path:"/login",element:v($Me,{})}),v(Ei,{path:"/dashboard",element:v(ptt,{})}),v(Ei,{path:"/projects",element:v(wtt,{})}),v(Ei,{path:"/projects/new",element:v(cot,{})}),v(Ei,{path:"/projects/:id",element:v(Tit,{})}),v(Ei,{path:"/portfolios",element:v(uot,{})}),v(Ei,{path:"/portfolios/:id",element:v(vot,{})}),v(Ei,{path:"/unauthorized",element:v(yot,{})}),v(Ei,{path:"/executive-report",element:v(bot,{})}),v(Ei,{path:"/projects/:id/edit",element:v(AMe,{})})," ",v(Ei,{path:"*",element:v(MMe,{})})]})]})})]})})},fie=document.getElementById("root");if(!fie)throw new Error('Failed to find the root element. Make sure you have a root element with id="root" in your index.html.');const Cot=LW(fie),kot=new u9;Cot.render(v(A.StrictMode,{children:v(h9,{client:kot,children:v(_ot,{})})}));export{At as g,v as j};
